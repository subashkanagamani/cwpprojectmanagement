var KQ=Object.defineProperty;var YQ=(e,t,r)=>t in e?KQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kr=(e,t,r)=>YQ(e,typeof t!="symbol"?t+"":t,r);function XQ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var EBe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kF={exports:{}},i2={},EF={exports:{}},yr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv=Symbol.for("react.element"),JQ=Symbol.for("react.portal"),ZQ=Symbol.for("react.fragment"),QQ=Symbol.for("react.strict_mode"),eee=Symbol.for("react.profiler"),tee=Symbol.for("react.provider"),ree=Symbol.for("react.context"),nee=Symbol.for("react.forward_ref"),iee=Symbol.for("react.suspense"),aee=Symbol.for("react.memo"),see=Symbol.for("react.lazy"),RT=Symbol.iterator;function oee(e){return e===null||typeof e!="object"?null:(e=RT&&e[RT]||e["@@iterator"],typeof e=="function"?e:null)}var CF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AF=Object.assign,PF={};function jp(e,t,r){this.props=e,this.context=t,this.refs=PF,this.updater=r||CF}jp.prototype.isReactComponent={};jp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function TF(){}TF.prototype=jp.prototype;function dE(e,t,r){this.props=e,this.context=t,this.refs=PF,this.updater=r||CF}var fE=dE.prototype=new TF;fE.constructor=dE;AF(fE,jp.prototype);fE.isPureReactComponent=!0;var IT=Array.isArray,OF=Object.prototype.hasOwnProperty,hE={current:null},RF={key:!0,ref:!0,__self:!0,__source:!0};function IF(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)OF.call(t,n)&&!RF.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Rv,type:e,key:a,ref:o,props:i,_owner:hE.current}}function lee(e,t){return{$$typeof:Rv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mE(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rv}function cee(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var DT=/\/+/g;function eS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cee(""+e.key):t.toString(36)}function y1(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Rv:case JQ:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+eS(o,0):n,IT(i)?(r="",e!=null&&(r=e.replace(DT,"$&/")+"/"),y1(i,t,r,"",function(u){return u})):i!=null&&(mE(i)&&(i=lee(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(DT,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",IT(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+eS(a,l);o+=y1(a,t,r,c,i)}else if(c=oee(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+eS(a,l++),o+=y1(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ay(e,t,r){if(e==null)return e;var n=[],i=0;return y1(e,n,"","",function(a){return t.call(r,a,i++)}),n}function uee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qa={current:null},w1={transition:null},dee={ReactCurrentDispatcher:Qa,ReactCurrentBatchConfig:w1,ReactCurrentOwner:hE};function DF(){throw Error("act(...) is not supported in production builds of React.")}yr.Children={map:ay,forEach:function(e,t,r){ay(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ay(e,function(){t++}),t},toArray:function(e){return ay(e,function(t){return t})||[]},only:function(e){if(!mE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yr.Component=jp;yr.Fragment=ZQ;yr.Profiler=eee;yr.PureComponent=dE;yr.StrictMode=QQ;yr.Suspense=iee;yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dee;yr.act=DF;yr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=AF({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=hE.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)OF.call(t,c)&&!RF.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Rv,type:e.type,key:i,ref:a,props:n,_owner:o}};yr.createContext=function(e){return e={$$typeof:ree,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tee,_context:e},e.Consumer=e};yr.createElement=IF;yr.createFactory=function(e){var t=IF.bind(null,e);return t.type=e,t};yr.createRef=function(){return{current:null}};yr.forwardRef=function(e){return{$$typeof:nee,render:e}};yr.isValidElement=mE;yr.lazy=function(e){return{$$typeof:see,_payload:{_status:-1,_result:e},_init:uee}};yr.memo=function(e,t){return{$$typeof:aee,type:e,compare:t===void 0?null:t}};yr.startTransition=function(e){var t=w1.transition;w1.transition={};try{e()}finally{w1.transition=t}};yr.unstable_act=DF;yr.useCallback=function(e,t){return Qa.current.useCallback(e,t)};yr.useContext=function(e){return Qa.current.useContext(e)};yr.useDebugValue=function(){};yr.useDeferredValue=function(e){return Qa.current.useDeferredValue(e)};yr.useEffect=function(e,t){return Qa.current.useEffect(e,t)};yr.useId=function(){return Qa.current.useId()};yr.useImperativeHandle=function(e,t,r){return Qa.current.useImperativeHandle(e,t,r)};yr.useInsertionEffect=function(e,t){return Qa.current.useInsertionEffect(e,t)};yr.useLayoutEffect=function(e,t){return Qa.current.useLayoutEffect(e,t)};yr.useMemo=function(e,t){return Qa.current.useMemo(e,t)};yr.useReducer=function(e,t,r){return Qa.current.useReducer(e,t,r)};yr.useRef=function(e){return Qa.current.useRef(e)};yr.useState=function(e){return Qa.current.useState(e)};yr.useSyncExternalStore=function(e,t,r){return Qa.current.useSyncExternalStore(e,t,r)};yr.useTransition=function(){return Qa.current.useTransition()};yr.version="18.3.1";EF.exports=yr;var p=EF.exports;const Vu=lc(p),Iv=XQ({__proto__:null,default:Vu},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fee=p,hee=Symbol.for("react.element"),mee=Symbol.for("react.fragment"),pee=Object.prototype.hasOwnProperty,gee=fee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vee={key:!0,ref:!0,__self:!0,__source:!0};function LF(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)pee.call(t,n)&&!vee.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:hee,type:e,key:a,ref:o,props:i,_owner:gee.current}}i2.Fragment=mee;i2.jsx=LF;i2.jsxs=LF;kF.exports=i2;var s=kF.exports,MF={exports:{}},Qs={},FF={exports:{}},$F={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,X){var pe=H.length;H.push(X);e:for(;0<pe;){var xe=pe-1>>>1,D=H[xe];if(0<i(D,X))H[xe]=X,H[pe]=D,pe=xe;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var X=H[0],pe=H.pop();if(pe!==X){H[0]=pe;e:for(var xe=0,D=H.length,M=D>>>1;xe<M;){var T=2*(xe+1)-1,V=H[T],F=T+1,W=H[F];if(0>i(V,pe))F<D&&0>i(W,V)?(H[xe]=W,H[F]=pe,xe=F):(H[xe]=V,H[T]=pe,xe=T);else if(F<D&&0>i(W,pe))H[xe]=W,H[F]=pe,xe=F;else break e}}return X}function i(H,X){var pe=H.sortIndex-X.sortIndex;return pe!==0?pe:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=H)n(u),X.sortIndex=X.expirationTime,t(c,X);else break;X=r(u)}}function b(H){if(g=!1,_(H),!v)if(r(c)!==null)v=!0,ie(N);else{var X=r(u);X!==null&&z(b,X.startTime-H)}}function N(H,X){v=!1,g&&(g=!1,y(A),A=-1),h=!0;var pe=m;try{for(_(X),f=r(c);f!==null&&(!(f.expirationTime>X)||H&&!O());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,m=f.priorityLevel;var D=xe(f.expirationTime<=X);X=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),_(X)}else n(c);f=r(c)}if(f!==null)var M=!0;else{var T=r(u);T!==null&&z(b,T.startTime-X),M=!1}return M}finally{f=null,m=pe,h=!1}}var C=!1,S=null,A=-1,k=5,R=-1;function O(){return!(e.unstable_now()-R<k)}function L(){if(S!==null){var H=e.unstable_now();R=H;var X=!0;try{X=S(!0,H)}finally{X?U():(C=!1,S=null)}}else C=!1}var U;if(typeof w=="function")U=function(){w(L)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=L,U=function(){Q.postMessage(null)}}else U=function(){x(L,0)};function ie(H){S=H,C||(C=!0,U())}function z(H,X){A=x(function(){H(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,ie(N))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var pe=m;m=X;try{return H()}finally{m=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var pe=m;m=H;try{return X()}finally{m=pe}},e.unstable_scheduleCallback=function(H,X,pe){var xe=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?xe+pe:xe):pe=xe,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,H={id:d++,callback:X,priorityLevel:H,startTime:pe,expirationTime:D,sortIndex:-1},pe>xe?(H.sortIndex=pe,t(u,H),r(c)===null&&H===r(u)&&(g?(y(A),A=-1):g=!0,z(b,pe-xe))):(H.sortIndex=D,t(c,H),v||h||(v=!0,ie(N))),H},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(H){var X=m;return function(){var pe=m;m=X;try{return H.apply(this,arguments)}finally{m=pe}}}})($F);FF.exports=$F;var xee=FF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yee=p,Ks=xee;function st(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BF=new Set,Tg={};function fh(e,t){tp(e,t),tp(e+"Capture",t)}function tp(e,t){for(Tg[e]=t,e=0;e<t.length;e++)BF.add(t[e])}var Xc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cN=Object.prototype.hasOwnProperty,wee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LT={},MT={};function bee(e){return cN.call(MT,e)?!0:cN.call(LT,e)?!1:wee.test(e)?MT[e]=!0:(LT[e]=!0,!1)}function _ee(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jee(e,t,r,n){if(t===null||typeof t>"u"||_ee(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function es(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ba={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ba[e]=new es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ba[t]=new es(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ba[e]=new es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ba[e]=new es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ba[e]=new es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ba[e]=new es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ba[e]=new es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ba[e]=new es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ba[e]=new es(e,5,!1,e.toLowerCase(),null,!1,!1)});var pE=/[\-:]([a-z])/g;function gE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pE,gE);ba[t]=new es(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pE,gE);ba[t]=new es(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pE,gE);ba[t]=new es(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ba[e]=new es(e,1,!1,e.toLowerCase(),null,!1,!1)});ba.xlinkHref=new es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ba[e]=new es(e,1,!1,e.toLowerCase(),null,!0,!0)});function vE(e,t,r,n){var i=ba.hasOwnProperty(t)?ba[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jee(t,r,i,n)&&(r=null),n||i===null?bee(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fu=yee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sy=Symbol.for("react.element"),vm=Symbol.for("react.portal"),xm=Symbol.for("react.fragment"),xE=Symbol.for("react.strict_mode"),uN=Symbol.for("react.profiler"),UF=Symbol.for("react.provider"),zF=Symbol.for("react.context"),yE=Symbol.for("react.forward_ref"),dN=Symbol.for("react.suspense"),fN=Symbol.for("react.suspense_list"),wE=Symbol.for("react.memo"),Ku=Symbol.for("react.lazy"),WF=Symbol.for("react.offscreen"),FT=Symbol.iterator;function E0(e){return e===null||typeof e!="object"?null:(e=FT&&e[FT]||e["@@iterator"],typeof e=="function"?e:null)}var Dn=Object.assign,tS;function Z0(e){if(tS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tS=t&&t[1]||""}return`
`+tS+e}var rS=!1;function nS(e,t){if(!e||rS)return"";rS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{rS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Z0(e):""}function See(e){switch(e.tag){case 5:return Z0(e.type);case 16:return Z0("Lazy");case 13:return Z0("Suspense");case 19:return Z0("SuspenseList");case 0:case 2:case 15:return e=nS(e.type,!1),e;case 11:return e=nS(e.type.render,!1),e;case 1:return e=nS(e.type,!0),e;default:return""}}function hN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xm:return"Fragment";case vm:return"Portal";case uN:return"Profiler";case xE:return"StrictMode";case dN:return"Suspense";case fN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zF:return(e.displayName||"Context")+".Consumer";case UF:return(e._context.displayName||"Context")+".Provider";case yE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wE:return t=e.displayName||null,t!==null?t:hN(e.type)||"Memo";case Ku:t=e._payload,e=e._init;try{return hN(e(t))}catch{}}return null}function Nee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hN(t);case 8:return t===xE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _d(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kee(e){var t=HF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oy(e){e._valueTracker||(e._valueTracker=kee(e))}function qF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=HF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Y1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mN(e,t){var r=t.checked;return Dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $T(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_d(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VF(e,t){t=t.checked,t!=null&&vE(e,"checked",t,!1)}function pN(e,t){VF(e,t);var r=_d(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gN(e,t.type,r):t.hasOwnProperty("defaultValue")&&gN(e,t.type,_d(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function BT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gN(e,t,r){(t!=="number"||Y1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Q0=Array.isArray;function Dm(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_d(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(st(91));return Dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function UT(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(st(92));if(Q0(r)){if(1<r.length)throw Error(st(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_d(r)}}function GF(e,t){var r=_d(t.value),n=_d(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function KF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?KF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ly,YF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ly=ly||document.createElement("div"),ly.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ly.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Og(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eee=["Webkit","ms","Moz","O"];Object.keys(cg).forEach(function(e){Eee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cg[t]=cg[e]})});function XF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cg.hasOwnProperty(e)&&cg[e]?(""+t).trim():t+"px"}function JF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=XF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Cee=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yN(e,t){if(t){if(Cee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(st(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(st(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(st(61))}if(t.style!=null&&typeof t.style!="object")throw Error(st(62))}}function wN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bN=null;function bE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _N=null,Lm=null,Mm=null;function WT(e){if(e=Mv(e)){if(typeof _N!="function")throw Error(st(280));var t=e.stateNode;t&&(t=c2(t),_N(e.stateNode,e.type,t))}}function ZF(e){Lm?Mm?Mm.push(e):Mm=[e]:Lm=e}function QF(){if(Lm){var e=Lm,t=Mm;if(Mm=Lm=null,WT(e),t)for(e=0;e<t.length;e++)WT(t[e])}}function e7(e,t){return e(t)}function t7(){}var iS=!1;function r7(e,t,r){if(iS)return e(t,r);iS=!0;try{return e7(e,t,r)}finally{iS=!1,(Lm!==null||Mm!==null)&&(t7(),QF())}}function Rg(e,t){var r=e.stateNode;if(r===null)return null;var n=c2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(st(231,t,typeof r));return r}var jN=!1;if(Xc)try{var C0={};Object.defineProperty(C0,"passive",{get:function(){jN=!0}}),window.addEventListener("test",C0,C0),window.removeEventListener("test",C0,C0)}catch{jN=!1}function Aee(e,t,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ug=!1,X1=null,J1=!1,SN=null,Pee={onError:function(e){ug=!0,X1=e}};function Tee(e,t,r,n,i,a,o,l,c){ug=!1,X1=null,Aee.apply(Pee,arguments)}function Oee(e,t,r,n,i,a,o,l,c){if(Tee.apply(this,arguments),ug){if(ug){var u=X1;ug=!1,X1=null}else throw Error(st(198));J1||(J1=!0,SN=u)}}function hh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function n7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function HT(e){if(hh(e)!==e)throw Error(st(188))}function Ree(e){var t=e.alternate;if(!t){if(t=hh(e),t===null)throw Error(st(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return HT(i),e;if(a===n)return HT(i),t;a=a.sibling}throw Error(st(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(st(189))}}if(r.alternate!==n)throw Error(st(190))}if(r.tag!==3)throw Error(st(188));return r.stateNode.current===r?e:t}function i7(e){return e=Ree(e),e!==null?a7(e):null}function a7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=a7(e);if(t!==null)return t;e=e.sibling}return null}var s7=Ks.unstable_scheduleCallback,qT=Ks.unstable_cancelCallback,Iee=Ks.unstable_shouldYield,Dee=Ks.unstable_requestPaint,ai=Ks.unstable_now,Lee=Ks.unstable_getCurrentPriorityLevel,_E=Ks.unstable_ImmediatePriority,o7=Ks.unstable_UserBlockingPriority,Z1=Ks.unstable_NormalPriority,Mee=Ks.unstable_LowPriority,l7=Ks.unstable_IdlePriority,a2=null,Zl=null;function Fee(e){if(Zl&&typeof Zl.onCommitFiberRoot=="function")try{Zl.onCommitFiberRoot(a2,e,void 0,(e.current.flags&128)===128)}catch{}}var fl=Math.clz32?Math.clz32:Uee,$ee=Math.log,Bee=Math.LN2;function Uee(e){return e>>>=0,e===0?32:31-($ee(e)/Bee|0)|0}var cy=64,uy=4194304;function eg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Q1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=eg(l):(a&=o,a!==0&&(n=eg(a)))}else o=r&~i,o!==0?n=eg(o):a!==0&&(n=eg(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fl(t),i=1<<r,n|=e[r],t&=~i;return n}function zee(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wee(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-fl(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=zee(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function NN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function c7(){var e=cy;return cy<<=1,!(cy&4194240)&&(cy=64),e}function aS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fl(t),e[t]=r}function Hee(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-fl(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function jE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fl(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Jr=0;function u7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var d7,SE,f7,h7,m7,kN=!1,dy=[],ud=null,dd=null,fd=null,Ig=new Map,Dg=new Map,Qu=[],qee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VT(e,t){switch(e){case"focusin":case"focusout":ud=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":Ig.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dg.delete(t.pointerId)}}function A0(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Mv(t),t!==null&&SE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Vee(e,t,r,n,i){switch(t){case"focusin":return ud=A0(ud,e,t,r,n,i),!0;case"dragenter":return dd=A0(dd,e,t,r,n,i),!0;case"mouseover":return fd=A0(fd,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ig.set(a,A0(Ig.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Dg.set(a,A0(Dg.get(a)||null,e,t,r,n,i)),!0}return!1}function p7(e){var t=Sf(e.target);if(t!==null){var r=hh(t);if(r!==null){if(t=r.tag,t===13){if(t=n7(r),t!==null){e.blockedOn=t,m7(e.priority,function(){f7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function b1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=EN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bN=n,r.target.dispatchEvent(n),bN=null}else return t=Mv(r),t!==null&&SE(t),e.blockedOn=r,!1;t.shift()}return!0}function GT(e,t,r){b1(e)&&r.delete(t)}function Gee(){kN=!1,ud!==null&&b1(ud)&&(ud=null),dd!==null&&b1(dd)&&(dd=null),fd!==null&&b1(fd)&&(fd=null),Ig.forEach(GT),Dg.forEach(GT)}function P0(e,t){e.blockedOn===t&&(e.blockedOn=null,kN||(kN=!0,Ks.unstable_scheduleCallback(Ks.unstable_NormalPriority,Gee)))}function Lg(e){function t(i){return P0(i,e)}if(0<dy.length){P0(dy[0],e);for(var r=1;r<dy.length;r++){var n=dy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ud!==null&&P0(ud,e),dd!==null&&P0(dd,e),fd!==null&&P0(fd,e),Ig.forEach(t),Dg.forEach(t),r=0;r<Qu.length;r++)n=Qu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qu.length&&(r=Qu[0],r.blockedOn===null);)p7(r),r.blockedOn===null&&Qu.shift()}var Fm=fu.ReactCurrentBatchConfig,ew=!0;function Kee(e,t,r,n){var i=Jr,a=Fm.transition;Fm.transition=null;try{Jr=1,NE(e,t,r,n)}finally{Jr=i,Fm.transition=a}}function Yee(e,t,r,n){var i=Jr,a=Fm.transition;Fm.transition=null;try{Jr=4,NE(e,t,r,n)}finally{Jr=i,Fm.transition=a}}function NE(e,t,r,n){if(ew){var i=EN(e,t,r,n);if(i===null)pS(e,t,n,tw,r),VT(e,n);else if(Vee(i,e,t,r,n))n.stopPropagation();else if(VT(e,n),t&4&&-1<qee.indexOf(e)){for(;i!==null;){var a=Mv(i);if(a!==null&&d7(a),a=EN(e,t,r,n),a===null&&pS(e,t,n,tw,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else pS(e,t,n,null,r)}}var tw=null;function EN(e,t,r,n){if(tw=null,e=bE(n),e=Sf(e),e!==null)if(t=hh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=n7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tw=e,null}function g7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lee()){case _E:return 1;case o7:return 4;case Z1:case Mee:return 16;case l7:return 536870912;default:return 16}default:return 16}}var nd=null,kE=null,_1=null;function v7(){if(_1)return _1;var e,t=kE,r=t.length,n,i="value"in nd?nd.value:nd.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return _1=i.slice(e,1<n?1-n:void 0)}function j1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fy(){return!0}function KT(){return!1}function eo(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fy:KT,this.isPropagationStopped=KT,this}return Dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fy)},persist:function(){},isPersistent:fy}),t}var Sp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EE=eo(Sp),Lv=Dn({},Sp,{view:0,detail:0}),Xee=eo(Lv),sS,oS,T0,s2=Dn({},Lv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:CE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==T0&&(T0&&e.type==="mousemove"?(sS=e.screenX-T0.screenX,oS=e.screenY-T0.screenY):oS=sS=0,T0=e),sS)},movementY:function(e){return"movementY"in e?e.movementY:oS}}),YT=eo(s2),Jee=Dn({},s2,{dataTransfer:0}),Zee=eo(Jee),Qee=Dn({},Lv,{relatedTarget:0}),lS=eo(Qee),ete=Dn({},Sp,{animationName:0,elapsedTime:0,pseudoElement:0}),tte=eo(ete),rte=Dn({},Sp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nte=eo(rte),ite=Dn({},Sp,{data:0}),XT=eo(ite),ate={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ste={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ote={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lte(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ote[e])?!!t[e]:!1}function CE(){return lte}var cte=Dn({},Lv,{key:function(e){if(e.key){var t=ate[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=j1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ste[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:CE,charCode:function(e){return e.type==="keypress"?j1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?j1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ute=eo(cte),dte=Dn({},s2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JT=eo(dte),fte=Dn({},Lv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:CE}),hte=eo(fte),mte=Dn({},Sp,{propertyName:0,elapsedTime:0,pseudoElement:0}),pte=eo(mte),gte=Dn({},s2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vte=eo(gte),xte=[9,13,27,32],AE=Xc&&"CompositionEvent"in window,dg=null;Xc&&"documentMode"in document&&(dg=document.documentMode);var yte=Xc&&"TextEvent"in window&&!dg,x7=Xc&&(!AE||dg&&8<dg&&11>=dg),ZT=" ",QT=!1;function y7(e,t){switch(e){case"keyup":return xte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ym=!1;function wte(e,t){switch(e){case"compositionend":return w7(t);case"keypress":return t.which!==32?null:(QT=!0,ZT);case"textInput":return e=t.data,e===ZT&&QT?null:e;default:return null}}function bte(e,t){if(ym)return e==="compositionend"||!AE&&y7(e,t)?(e=v7(),_1=kE=nd=null,ym=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x7&&t.locale!=="ko"?null:t.data;default:return null}}var _te={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_te[e.type]:t==="textarea"}function b7(e,t,r,n){ZF(n),t=rw(t,"onChange"),0<t.length&&(r=new EE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fg=null,Mg=null;function jte(e){O7(e,0)}function o2(e){var t=_m(e);if(qF(t))return e}function Ste(e,t){if(e==="change")return t}var _7=!1;if(Xc){var cS;if(Xc){var uS="oninput"in document;if(!uS){var tO=document.createElement("div");tO.setAttribute("oninput","return;"),uS=typeof tO.oninput=="function"}cS=uS}else cS=!1;_7=cS&&(!document.documentMode||9<document.documentMode)}function rO(){fg&&(fg.detachEvent("onpropertychange",j7),Mg=fg=null)}function j7(e){if(e.propertyName==="value"&&o2(Mg)){var t=[];b7(t,Mg,e,bE(e)),r7(jte,t)}}function Nte(e,t,r){e==="focusin"?(rO(),fg=t,Mg=r,fg.attachEvent("onpropertychange",j7)):e==="focusout"&&rO()}function kte(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return o2(Mg)}function Ete(e,t){if(e==="click")return o2(t)}function Cte(e,t){if(e==="input"||e==="change")return o2(t)}function Ate(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gl=typeof Object.is=="function"?Object.is:Ate;function Fg(e,t){if(gl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!cN.call(t,i)||!gl(e[i],t[i]))return!1}return!0}function nO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iO(e,t){var r=nO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nO(r)}}function S7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function N7(){for(var e=window,t=Y1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Y1(e.document)}return t}function PE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pte(e){var t=N7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&S7(r.ownerDocument.documentElement,r)){if(n!==null&&PE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=iO(r,a);var o=iO(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tte=Xc&&"documentMode"in document&&11>=document.documentMode,wm=null,CN=null,hg=null,AN=!1;function aO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;AN||wm==null||wm!==Y1(n)||(n=wm,"selectionStart"in n&&PE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hg&&Fg(hg,n)||(hg=n,n=rw(CN,"onSelect"),0<n.length&&(t=new EE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wm)))}function hy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bm={animationend:hy("Animation","AnimationEnd"),animationiteration:hy("Animation","AnimationIteration"),animationstart:hy("Animation","AnimationStart"),transitionend:hy("Transition","TransitionEnd")},dS={},k7={};Xc&&(k7=document.createElement("div").style,"AnimationEvent"in window||(delete bm.animationend.animation,delete bm.animationiteration.animation,delete bm.animationstart.animation),"TransitionEvent"in window||delete bm.transitionend.transition);function l2(e){if(dS[e])return dS[e];if(!bm[e])return e;var t=bm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in k7)return dS[e]=t[r];return e}var E7=l2("animationend"),C7=l2("animationiteration"),A7=l2("animationstart"),P7=l2("transitionend"),T7=new Map,sO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ld(e,t){T7.set(e,t),fh(t,[e])}for(var fS=0;fS<sO.length;fS++){var hS=sO[fS],Ote=hS.toLowerCase(),Rte=hS[0].toUpperCase()+hS.slice(1);Ld(Ote,"on"+Rte)}Ld(E7,"onAnimationEnd");Ld(C7,"onAnimationIteration");Ld(A7,"onAnimationStart");Ld("dblclick","onDoubleClick");Ld("focusin","onFocus");Ld("focusout","onBlur");Ld(P7,"onTransitionEnd");tp("onMouseEnter",["mouseout","mouseover"]);tp("onMouseLeave",["mouseout","mouseover"]);tp("onPointerEnter",["pointerout","pointerover"]);tp("onPointerLeave",["pointerout","pointerover"]);fh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fh("onBeforeInput",["compositionend","keypress","textInput","paste"]);fh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ite=new Set("cancel close invalid load scroll toggle".split(" ").concat(tg));function oO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Oee(n,t,void 0,e),e.currentTarget=null}function O7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;oO(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;oO(i,l,u),a=c}}}if(J1)throw e=SN,J1=!1,SN=null,e}function wn(e,t){var r=t[IN];r===void 0&&(r=t[IN]=new Set);var n=e+"__bubble";r.has(n)||(R7(t,e,2,!1),r.add(n))}function mS(e,t,r){var n=0;t&&(n|=4),R7(r,e,n,t)}var my="_reactListening"+Math.random().toString(36).slice(2);function $g(e){if(!e[my]){e[my]=!0,BF.forEach(function(r){r!=="selectionchange"&&(Ite.has(r)||mS(r,!1,e),mS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[my]||(t[my]=!0,mS("selectionchange",!1,t))}}function R7(e,t,r,n){switch(g7(t)){case 1:var i=Kee;break;case 4:i=Yee;break;default:i=NE}r=i.bind(null,t,r,e),i=void 0,!jN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function pS(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Sf(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}r7(function(){var u=a,d=bE(r),f=[];e:{var m=T7.get(e);if(m!==void 0){var h=EE,v=e;switch(e){case"keypress":if(j1(r)===0)break e;case"keydown":case"keyup":h=ute;break;case"focusin":v="focus",h=lS;break;case"focusout":v="blur",h=lS;break;case"beforeblur":case"afterblur":h=lS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=YT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Zee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=hte;break;case E7:case C7:case A7:h=tte;break;case P7:h=pte;break;case"scroll":h=Xee;break;case"wheel":h=vte;break;case"copy":case"cut":case"paste":h=nte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=JT}var g=(t&4)!==0,x=!g&&e==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var w=u,_;w!==null;){_=w;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,y!==null&&(b=Rg(w,y),b!=null&&g.push(Bg(w,b,_)))),x)break;w=w.return}0<g.length&&(m=new h(m,v,null,r,d),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==bN&&(v=r.relatedTarget||r.fromElement)&&(Sf(v)||v[Jc]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=u,v=v?Sf(v):null,v!==null&&(x=hh(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(g=YT,b="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=JT,b="onPointerLeave",y="onPointerEnter",w="pointer"),x=h==null?m:_m(h),_=v==null?m:_m(v),m=new g(b,w+"leave",h,r,d),m.target=x,m.relatedTarget=_,b=null,Sf(d)===u&&(g=new g(y,w+"enter",v,r,d),g.target=_,g.relatedTarget=x,b=g),x=b,h&&v)t:{for(g=h,y=v,w=0,_=g;_;_=Bh(_))w++;for(_=0,b=y;b;b=Bh(b))_++;for(;0<w-_;)g=Bh(g),w--;for(;0<_-w;)y=Bh(y),_--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=Bh(g),y=Bh(y)}g=null}else g=null;h!==null&&lO(f,m,h,g,!1),v!==null&&x!==null&&lO(f,x,v,g,!0)}}e:{if(m=u?_m(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=Ste;else if(eO(m))if(_7)N=Cte;else{N=kte;var C=Nte}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=Ete);if(N&&(N=N(e,u))){b7(f,N,r,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&gN(m,"number",m.value)}switch(C=u?_m(u):window,e){case"focusin":(eO(C)||C.contentEditable==="true")&&(wm=C,CN=u,hg=null);break;case"focusout":hg=CN=wm=null;break;case"mousedown":AN=!0;break;case"contextmenu":case"mouseup":case"dragend":AN=!1,aO(f,r,d);break;case"selectionchange":if(Tte)break;case"keydown":case"keyup":aO(f,r,d)}var S;if(AE)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ym?y7(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(x7&&r.locale!=="ko"&&(ym||A!=="onCompositionStart"?A==="onCompositionEnd"&&ym&&(S=v7()):(nd=d,kE="value"in nd?nd.value:nd.textContent,ym=!0)),C=rw(u,A),0<C.length&&(A=new XT(A,e,null,r,d),f.push({event:A,listeners:C}),S?A.data=S:(S=w7(r),S!==null&&(A.data=S)))),(S=yte?wte(e,r):bte(e,r))&&(u=rw(u,"onBeforeInput"),0<u.length&&(d=new XT("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}O7(f,t)})}function Bg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rw(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Rg(e,r),a!=null&&n.unshift(Bg(e,a,i)),a=Rg(e,t),a!=null&&n.push(Bg(e,a,i))),e=e.return}return n}function Bh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lO(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Rg(r,a),c!=null&&o.unshift(Bg(r,c,l))):i||(c=Rg(r,a),c!=null&&o.push(Bg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Dte=/\r\n?/g,Lte=/\u0000|\uFFFD/g;function cO(e){return(typeof e=="string"?e:""+e).replace(Dte,`
`).replace(Lte,"")}function py(e,t,r){if(t=cO(t),cO(e)!==t&&r)throw Error(st(425))}function nw(){}var PN=null,TN=null;function ON(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var RN=typeof setTimeout=="function"?setTimeout:void 0,Mte=typeof clearTimeout=="function"?clearTimeout:void 0,uO=typeof Promise=="function"?Promise:void 0,Fte=typeof queueMicrotask=="function"?queueMicrotask:typeof uO<"u"?function(e){return uO.resolve(null).then(e).catch($te)}:RN;function $te(e){setTimeout(function(){throw e})}function gS(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Lg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Lg(t)}function hd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Np=Math.random().toString(36).slice(2),Vl="__reactFiber$"+Np,Ug="__reactProps$"+Np,Jc="__reactContainer$"+Np,IN="__reactEvents$"+Np,Bte="__reactListeners$"+Np,Ute="__reactHandles$"+Np;function Sf(e){var t=e[Vl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Jc]||r[Vl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=dO(e);e!==null;){if(r=e[Vl])return r;e=dO(e)}return t}e=r,r=e.parentNode}return null}function Mv(e){return e=e[Vl]||e[Jc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _m(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(st(33))}function c2(e){return e[Ug]||null}var DN=[],jm=-1;function Md(e){return{current:e}}function jn(e){0>jm||(e.current=DN[jm],DN[jm]=null,jm--)}function vn(e,t){jm++,DN[jm]=e.current,e.current=t}var jd={},Ma=Md(jd),cs=Md(!1),Uf=jd;function rp(e,t){var r=e.type.contextTypes;if(!r)return jd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function us(e){return e=e.childContextTypes,e!=null}function iw(){jn(cs),jn(Ma)}function fO(e,t,r){if(Ma.current!==jd)throw Error(st(168));vn(Ma,t),vn(cs,r)}function I7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(st(108,Nee(e)||"Unknown",i));return Dn({},r,n)}function aw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jd,Uf=Ma.current,vn(Ma,e),vn(cs,cs.current),!0}function hO(e,t,r){var n=e.stateNode;if(!n)throw Error(st(169));r?(e=I7(e,t,Uf),n.__reactInternalMemoizedMergedChildContext=e,jn(cs),jn(Ma),vn(Ma,e)):jn(cs),vn(cs,r)}var Ic=null,u2=!1,vS=!1;function D7(e){Ic===null?Ic=[e]:Ic.push(e)}function zte(e){u2=!0,D7(e)}function Fd(){if(!vS&&Ic!==null){vS=!0;var e=0,t=Jr;try{var r=Ic;for(Jr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ic=null,u2=!1}catch(i){throw Ic!==null&&(Ic=Ic.slice(e+1)),s7(_E,Fd),i}finally{Jr=t,vS=!1}}return null}var Sm=[],Nm=0,sw=null,ow=0,vo=[],xo=0,zf=null,Fc=1,$c="";function ff(e,t){Sm[Nm++]=ow,Sm[Nm++]=sw,sw=e,ow=t}function L7(e,t,r){vo[xo++]=Fc,vo[xo++]=$c,vo[xo++]=zf,zf=e;var n=Fc;e=$c;var i=32-fl(n)-1;n&=~(1<<i),r+=1;var a=32-fl(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Fc=1<<32-fl(t)+i|r<<i|n,$c=a+e}else Fc=1<<a|r<<i|n,$c=e}function TE(e){e.return!==null&&(ff(e,1),L7(e,1,0))}function OE(e){for(;e===sw;)sw=Sm[--Nm],Sm[Nm]=null,ow=Sm[--Nm],Sm[Nm]=null;for(;e===zf;)zf=vo[--xo],vo[xo]=null,$c=vo[--xo],vo[xo]=null,Fc=vo[--xo],vo[xo]=null}var qs=null,Bs=null,Pn=!1,al=null;function M7(e,t){var r=yo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qs=e,Bs=hd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qs=e,Bs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zf!==null?{id:Fc,overflow:$c}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qs=e,Bs=null,!0):!1;default:return!1}}function LN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function MN(e){if(Pn){var t=Bs;if(t){var r=t;if(!mO(e,t)){if(LN(e))throw Error(st(418));t=hd(r.nextSibling);var n=qs;t&&mO(e,t)?M7(n,r):(e.flags=e.flags&-4097|2,Pn=!1,qs=e)}}else{if(LN(e))throw Error(st(418));e.flags=e.flags&-4097|2,Pn=!1,qs=e}}}function pO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qs=e}function gy(e){if(e!==qs)return!1;if(!Pn)return pO(e),Pn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ON(e.type,e.memoizedProps)),t&&(t=Bs)){if(LN(e))throw F7(),Error(st(418));for(;t;)M7(e,t),t=hd(t.nextSibling)}if(pO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(st(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Bs=hd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Bs=null}}else Bs=qs?hd(e.stateNode.nextSibling):null;return!0}function F7(){for(var e=Bs;e;)e=hd(e.nextSibling)}function np(){Bs=qs=null,Pn=!1}function RE(e){al===null?al=[e]:al.push(e)}var Wte=fu.ReactCurrentBatchConfig;function O0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(st(309));var n=r.stateNode}if(!n)throw Error(st(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(st(284));if(!r._owner)throw Error(st(290,e))}return e}function vy(e,t){throw e=Object.prototype.toString.call(t),Error(st(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gO(e){var t=e._init;return t(e._payload)}function $7(e){function t(y,w){if(e){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=vd(y,w),y.index=0,y.sibling=null,y}function a(y,w,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,_,b){return w===null||w.tag!==6?(w=SS(_,y.mode,b),w.return=y,w):(w=i(w,_),w.return=y,w)}function c(y,w,_,b){var N=_.type;return N===xm?d(y,w,_.props.children,b,_.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ku&&gO(N)===w.type)?(b=i(w,_.props),b.ref=O0(y,w,_),b.return=y,b):(b=P1(_.type,_.key,_.props,null,y.mode,b),b.ref=O0(y,w,_),b.return=y,b)}function u(y,w,_,b){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=NS(_,y.mode,b),w.return=y,w):(w=i(w,_.children||[]),w.return=y,w)}function d(y,w,_,b,N){return w===null||w.tag!==7?(w=If(_,y.mode,b,N),w.return=y,w):(w=i(w,_),w.return=y,w)}function f(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=SS(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sy:return _=P1(w.type,w.key,w.props,null,y.mode,_),_.ref=O0(y,null,w),_.return=y,_;case vm:return w=NS(w,y.mode,_),w.return=y,w;case Ku:var b=w._init;return f(y,b(w._payload),_)}if(Q0(w)||E0(w))return w=If(w,y.mode,_,null),w.return=y,w;vy(y,w)}return null}function m(y,w,_,b){var N=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:l(y,w,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sy:return _.key===N?c(y,w,_,b):null;case vm:return _.key===N?u(y,w,_,b):null;case Ku:return N=_._init,m(y,w,N(_._payload),b)}if(Q0(_)||E0(_))return N!==null?null:d(y,w,_,b,null);vy(y,_)}return null}function h(y,w,_,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(_)||null,l(w,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case sy:return y=y.get(b.key===null?_:b.key)||null,c(w,y,b,N);case vm:return y=y.get(b.key===null?_:b.key)||null,u(w,y,b,N);case Ku:var C=b._init;return h(y,w,_,C(b._payload),N)}if(Q0(b)||E0(b))return y=y.get(_)||null,d(w,y,b,N,null);vy(w,b)}return null}function v(y,w,_,b){for(var N=null,C=null,S=w,A=w=0,k=null;S!==null&&A<_.length;A++){S.index>A?(k=S,S=null):k=S.sibling;var R=m(y,S,_[A],b);if(R===null){S===null&&(S=k);break}e&&S&&R.alternate===null&&t(y,S),w=a(R,w,A),C===null?N=R:C.sibling=R,C=R,S=k}if(A===_.length)return r(y,S),Pn&&ff(y,A),N;if(S===null){for(;A<_.length;A++)S=f(y,_[A],b),S!==null&&(w=a(S,w,A),C===null?N=S:C.sibling=S,C=S);return Pn&&ff(y,A),N}for(S=n(y,S);A<_.length;A++)k=h(S,y,A,_[A],b),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?A:k.key),w=a(k,w,A),C===null?N=k:C.sibling=k,C=k);return e&&S.forEach(function(O){return t(y,O)}),Pn&&ff(y,A),N}function g(y,w,_,b){var N=E0(_);if(typeof N!="function")throw Error(st(150));if(_=N.call(_),_==null)throw Error(st(151));for(var C=N=null,S=w,A=w=0,k=null,R=_.next();S!==null&&!R.done;A++,R=_.next()){S.index>A?(k=S,S=null):k=S.sibling;var O=m(y,S,R.value,b);if(O===null){S===null&&(S=k);break}e&&S&&O.alternate===null&&t(y,S),w=a(O,w,A),C===null?N=O:C.sibling=O,C=O,S=k}if(R.done)return r(y,S),Pn&&ff(y,A),N;if(S===null){for(;!R.done;A++,R=_.next())R=f(y,R.value,b),R!==null&&(w=a(R,w,A),C===null?N=R:C.sibling=R,C=R);return Pn&&ff(y,A),N}for(S=n(y,S);!R.done;A++,R=_.next())R=h(S,y,A,R.value,b),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?A:R.key),w=a(R,w,A),C===null?N=R:C.sibling=R,C=R);return e&&S.forEach(function(L){return t(y,L)}),Pn&&ff(y,A),N}function x(y,w,_,b){if(typeof _=="object"&&_!==null&&_.type===xm&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case sy:e:{for(var N=_.key,C=w;C!==null;){if(C.key===N){if(N=_.type,N===xm){if(C.tag===7){r(y,C.sibling),w=i(C,_.props.children),w.return=y,y=w;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ku&&gO(N)===C.type){r(y,C.sibling),w=i(C,_.props),w.ref=O0(y,C,_),w.return=y,y=w;break e}r(y,C);break}else t(y,C);C=C.sibling}_.type===xm?(w=If(_.props.children,y.mode,b,_.key),w.return=y,y=w):(b=P1(_.type,_.key,_.props,null,y.mode,b),b.ref=O0(y,w,_),b.return=y,y=b)}return o(y);case vm:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(y,w.sibling),w=i(w,_.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=NS(_,y.mode,b),w.return=y,y=w}return o(y);case Ku:return C=_._init,x(y,w,C(_._payload),b)}if(Q0(_))return v(y,w,_,b);if(E0(_))return g(y,w,_,b);vy(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,_),w.return=y,y=w):(r(y,w),w=SS(_,y.mode,b),w.return=y,y=w),o(y)):r(y,w)}return x}var ip=$7(!0),B7=$7(!1),lw=Md(null),cw=null,km=null,IE=null;function DE(){IE=km=cw=null}function LE(e){var t=lw.current;jn(lw),e._currentValue=t}function FN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $m(e,t){cw=e,IE=km=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ss=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(IE!==e)if(e={context:e,memoizedValue:t,next:null},km===null){if(cw===null)throw Error(st(308));km=e,cw.dependencies={lanes:0,firstContext:e}}else km=km.next=e;return t}var Nf=null;function ME(e){Nf===null?Nf=[e]:Nf.push(e)}function U7(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,ME(t)):(r.next=i.next,i.next=r),t.interleaved=r,Zc(e,n)}function Zc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yu=!1;function FE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function md(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Or&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Zc(e,r)}return i=n.interleaved,i===null?(t.next=t,ME(n)):(t.next=i.next,i.next=t),n.interleaved=t,Zc(e,r)}function S1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jE(e,r)}}function vO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uw(e,t,r,n){var i=e.updateQueue;Yu=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(m=t,h=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(h,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,m=typeof v=="function"?v.call(h,f,m):v,m==null)break e;f=Dn({},f,m);break e;case 2:Yu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Hf|=o,e.lanes=o,e.memoizedState=f}}function xO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(st(191,i));i.call(n)}}}var Fv={},Ql=Md(Fv),zg=Md(Fv),Wg=Md(Fv);function kf(e){if(e===Fv)throw Error(st(174));return e}function $E(e,t){switch(vn(Wg,t),vn(zg,e),vn(Ql,Fv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xN(t,e)}jn(Ql),vn(Ql,t)}function ap(){jn(Ql),jn(zg),jn(Wg)}function W7(e){kf(Wg.current);var t=kf(Ql.current),r=xN(t,e.type);t!==r&&(vn(zg,e),vn(Ql,r))}function BE(e){zg.current===e&&(jn(Ql),jn(zg))}var Rn=Md(0);function dw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xS=[];function UE(){for(var e=0;e<xS.length;e++)xS[e]._workInProgressVersionPrimary=null;xS.length=0}var N1=fu.ReactCurrentDispatcher,yS=fu.ReactCurrentBatchConfig,Wf=0,In=null,Ii=null,Vi=null,fw=!1,mg=!1,Hg=0,Hte=0;function Na(){throw Error(st(321))}function zE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gl(e[r],t[r]))return!1;return!0}function WE(e,t,r,n,i,a){if(Wf=a,In=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N1.current=e===null||e.memoizedState===null?Kte:Yte,e=r(n,i),mg){a=0;do{if(mg=!1,Hg=0,25<=a)throw Error(st(301));a+=1,Vi=Ii=null,t.updateQueue=null,N1.current=Xte,e=r(n,i)}while(mg)}if(N1.current=hw,t=Ii!==null&&Ii.next!==null,Wf=0,Vi=Ii=In=null,fw=!1,t)throw Error(st(300));return e}function HE(){var e=Hg!==0;return Hg=0,e}function zl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vi===null?In.memoizedState=Vi=e:Vi=Vi.next=e,Vi}function ko(){if(Ii===null){var e=In.alternate;e=e!==null?e.memoizedState:null}else e=Ii.next;var t=Vi===null?In.memoizedState:Vi.next;if(t!==null)Vi=t,Ii=e;else{if(e===null)throw Error(st(310));Ii=e,e={memoizedState:Ii.memoizedState,baseState:Ii.baseState,baseQueue:Ii.baseQueue,queue:Ii.queue,next:null},Vi===null?In.memoizedState=Vi=e:Vi=Vi.next=e}return Vi}function qg(e,t){return typeof t=="function"?t(e):t}function wS(e){var t=ko(),r=t.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=e;var n=Ii,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Wf&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,In.lanes|=d,Hf|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,gl(n,t.memoizedState)||(ss=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,In.lanes|=a,Hf|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bS(e){var t=ko(),r=t.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);gl(a,t.memoizedState)||(ss=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function H7(){}function q7(e,t){var r=In,n=ko(),i=t(),a=!gl(n.memoizedState,i);if(a&&(n.memoizedState=i,ss=!0),n=n.queue,qE(K7.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Vi!==null&&Vi.memoizedState.tag&1){if(r.flags|=2048,Vg(9,G7.bind(null,r,n,i,t),void 0,null),Zi===null)throw Error(st(349));Wf&30||V7(r,t,i)}return i}function V7(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function G7(e,t,r,n){t.value=r,t.getSnapshot=n,Y7(t)&&X7(e)}function K7(e,t,r){return r(function(){Y7(t)&&X7(e)})}function Y7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gl(e,r)}catch{return!0}}function X7(e){var t=Zc(e,1);t!==null&&hl(t,e,1,-1)}function yO(e){var t=zl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:e},t.queue=e,e=e.dispatch=Gte.bind(null,In,e),[t.memoizedState,e]}function Vg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function J7(){return ko().memoizedState}function k1(e,t,r,n){var i=zl();In.flags|=e,i.memoizedState=Vg(1|t,r,void 0,n===void 0?null:n)}function d2(e,t,r,n){var i=ko();n=n===void 0?null:n;var a=void 0;if(Ii!==null){var o=Ii.memoizedState;if(a=o.destroy,n!==null&&zE(n,o.deps)){i.memoizedState=Vg(t,r,a,n);return}}In.flags|=e,i.memoizedState=Vg(1|t,r,a,n)}function wO(e,t){return k1(8390656,8,e,t)}function qE(e,t){return d2(2048,8,e,t)}function Z7(e,t){return d2(4,2,e,t)}function Q7(e,t){return d2(4,4,e,t)}function e$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t$(e,t,r){return r=r!=null?r.concat([e]):null,d2(4,4,e$.bind(null,t,e),r)}function VE(){}function r$(e,t){var r=ko();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function n$(e,t){var r=ko();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function i$(e,t,r){return Wf&21?(gl(r,t)||(r=c7(),In.lanes|=r,Hf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ss=!0),e.memoizedState=r)}function qte(e,t){var r=Jr;Jr=r!==0&&4>r?r:4,e(!0);var n=yS.transition;yS.transition={};try{e(!1),t()}finally{Jr=r,yS.transition=n}}function a$(){return ko().memoizedState}function Vte(e,t,r){var n=gd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s$(e))o$(t,r);else if(r=U7(e,t,r,n),r!==null){var i=Ka();hl(r,e,n,i),l$(r,t,n)}}function Gte(e,t,r){var n=gd(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s$(e))o$(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,gl(l,o)){var c=t.interleaved;c===null?(i.next=i,ME(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=U7(e,t,i,n),r!==null&&(i=Ka(),hl(r,e,n,i),l$(r,t,n))}}function s$(e){var t=e.alternate;return e===In||t!==null&&t===In}function o$(e,t){mg=fw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function l$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jE(e,r)}}var hw={readContext:No,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useInsertionEffect:Na,useLayoutEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useDeferredValue:Na,useTransition:Na,useMutableSource:Na,useSyncExternalStore:Na,useId:Na,unstable_isNewReconciler:!1},Kte={readContext:No,useCallback:function(e,t){return zl().memoizedState=[e,t===void 0?null:t],e},useContext:No,useEffect:wO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,k1(4194308,4,e$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return k1(4194308,4,e,t)},useInsertionEffect:function(e,t){return k1(4,2,e,t)},useMemo:function(e,t){var r=zl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Vte.bind(null,In,e),[n.memoizedState,e]},useRef:function(e){var t=zl();return e={current:e},t.memoizedState=e},useState:yO,useDebugValue:VE,useDeferredValue:function(e){return zl().memoizedState=e},useTransition:function(){var e=yO(!1),t=e[0];return e=qte.bind(null,e[1]),zl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=In,i=zl();if(Pn){if(r===void 0)throw Error(st(407));r=r()}else{if(r=t(),Zi===null)throw Error(st(349));Wf&30||V7(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,wO(K7.bind(null,n,a,e),[e]),n.flags|=2048,Vg(9,G7.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=zl(),t=Zi.identifierPrefix;if(Pn){var r=$c,n=Fc;r=(n&~(1<<32-fl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Hte++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yte={readContext:No,useCallback:r$,useContext:No,useEffect:qE,useImperativeHandle:t$,useInsertionEffect:Z7,useLayoutEffect:Q7,useMemo:n$,useReducer:wS,useRef:J7,useState:function(){return wS(qg)},useDebugValue:VE,useDeferredValue:function(e){var t=ko();return i$(t,Ii.memoizedState,e)},useTransition:function(){var e=wS(qg)[0],t=ko().memoizedState;return[e,t]},useMutableSource:H7,useSyncExternalStore:q7,useId:a$,unstable_isNewReconciler:!1},Xte={readContext:No,useCallback:r$,useContext:No,useEffect:qE,useImperativeHandle:t$,useInsertionEffect:Z7,useLayoutEffect:Q7,useMemo:n$,useReducer:bS,useRef:J7,useState:function(){return bS(qg)},useDebugValue:VE,useDeferredValue:function(e){var t=ko();return Ii===null?t.memoizedState=e:i$(t,Ii.memoizedState,e)},useTransition:function(){var e=bS(qg)[0],t=ko().memoizedState;return[e,t]},useMutableSource:H7,useSyncExternalStore:q7,useId:a$,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){t=Dn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $N(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Dn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var f2={isMounted:function(e){return(e=e._reactInternals)?hh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ka(),i=gd(e),a=Wc(n,i);a.payload=t,r!=null&&(a.callback=r),t=md(e,a,i),t!==null&&(hl(t,e,i,n),S1(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ka(),i=gd(e),a=Wc(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=md(e,a,i),t!==null&&(hl(t,e,i,n),S1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ka(),n=gd(e),i=Wc(r,n);i.tag=2,t!=null&&(i.callback=t),t=md(e,i,n),t!==null&&(hl(t,e,n,r),S1(t,e,n))}};function bO(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Fg(r,n)||!Fg(i,a):!0}function c$(e,t,r){var n=!1,i=jd,a=t.contextType;return typeof a=="object"&&a!==null?a=No(a):(i=us(t)?Uf:Ma.current,n=t.contextTypes,a=(n=n!=null)?rp(e,i):jd),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=f2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function _O(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&f2.enqueueReplaceState(t,t.state,null)}function BN(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},FE(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=No(a):(a=us(t)?Uf:Ma.current,i.context=rp(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($N(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&f2.enqueueReplaceState(i,i.state,null),uw(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function sp(e,t){try{var r="",n=t;do r+=See(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function _S(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function UN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Jte=typeof WeakMap=="function"?WeakMap:Map;function u$(e,t,r){r=Wc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pw||(pw=!0,JN=n),UN(e,t)},r}function d$(e,t,r){r=Wc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){UN(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){UN(e,t),typeof n!="function"&&(pd===null?pd=new Set([this]):pd.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function jO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Jte;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=dre.bind(null,e,t,r),t.then(e,e))}function SO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NO(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wc(-1,1),t.tag=2,md(r,t,1))),r.lanes|=1),e)}var Zte=fu.ReactCurrentOwner,ss=!1;function Wa(e,t,r,n){t.child=e===null?B7(t,null,r,n):ip(t,e.child,r,n)}function kO(e,t,r,n,i){r=r.render;var a=t.ref;return $m(t,i),n=WE(e,t,r,n,a,i),r=HE(),e!==null&&!ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qc(e,t,i)):(Pn&&r&&TE(t),t.flags|=1,Wa(e,t,n,i),t.child)}function EO(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!eC(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,f$(e,t,a,n,i)):(e=P1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Fg,r(o,n)&&e.ref===t.ref)return Qc(e,t,i)}return t.flags|=1,e=vd(a,n),e.ref=t.ref,e.return=t,t.child=e}function f$(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Fg(a,n)&&e.ref===t.ref)if(ss=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ss=!0);else return t.lanes=e.lanes,Qc(e,t,i)}return zN(e,t,r,n,i)}function h$(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(Cm,Rs),Rs|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vn(Cm,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,vn(Cm,Rs),Rs|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,vn(Cm,Rs),Rs|=n;return Wa(e,t,i,r),t.child}function m$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zN(e,t,r,n,i){var a=us(r)?Uf:Ma.current;return a=rp(t,a),$m(t,i),r=WE(e,t,r,n,a,i),n=HE(),e!==null&&!ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qc(e,t,i)):(Pn&&n&&TE(t),t.flags|=1,Wa(e,t,r,i),t.child)}function CO(e,t,r,n,i){if(us(r)){var a=!0;aw(t)}else a=!1;if($m(t,i),t.stateNode===null)E1(e,t),c$(t,r,n),BN(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=No(u):(u=us(r)?Uf:Ma.current,u=rp(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&_O(t,o,n,u),Yu=!1;var m=t.memoizedState;o.state=m,uw(t,n,o,i),c=t.memoizedState,l!==n||m!==c||cs.current||Yu?(typeof d=="function"&&($N(t,r,d,n),c=t.memoizedState),(l=Yu||bO(t,r,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,z7(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tl(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=No(c):(c=us(r)?Uf:Ma.current,c=rp(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&_O(t,o,n,c),Yu=!1,m=t.memoizedState,o.state=m,uw(t,n,o,i);var v=t.memoizedState;l!==f||m!==v||cs.current||Yu?(typeof h=="function"&&($N(t,r,h,n),v=t.memoizedState),(u=Yu||bO(t,r,u,n,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return WN(e,t,r,n,a,i)}function WN(e,t,r,n,i,a){m$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&hO(t,r,!1),Qc(e,t,a);n=t.stateNode,Zte.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ip(t,e.child,null,a),t.child=ip(t,null,l,a)):Wa(e,t,l,a),t.memoizedState=n.state,i&&hO(t,r,!0),t.child}function p$(e){var t=e.stateNode;t.pendingContext?fO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fO(e,t.context,!1),$E(e,t.containerInfo)}function AO(e,t,r,n,i){return np(),RE(i),t.flags|=256,Wa(e,t,r,n),t.child}var HN={dehydrated:null,treeContext:null,retryLane:0};function qN(e){return{baseLanes:e,cachePool:null,transitions:null}}function g$(e,t,r){var n=t.pendingProps,i=Rn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),vn(Rn,i&1),e===null)return MN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=p2(o,n,0,null),e=If(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=qN(r),t.memoizedState=HN,e):GE(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Qte(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=vd(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=vd(l,a):(a=If(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?qN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=HN,n}return a=e.child,e=a.sibling,n=vd(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function GE(e,t){return t=p2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xy(e,t,r,n){return n!==null&&RE(n),ip(t,e.child,null,r),e=GE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qte(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=_S(Error(st(422))),xy(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=p2({mode:"visible",children:n.children},i,0,null),a=If(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ip(t,e.child,null,o),t.child.memoizedState=qN(o),t.memoizedState=HN,a);if(!(t.mode&1))return xy(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(st(419)),n=_S(a,n,void 0),xy(e,t,o,n)}if(l=(o&e.childLanes)!==0,ss||l){if(n=Zi,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Zc(e,i),hl(n,e,i,-1))}return QE(),n=_S(Error(st(421))),xy(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=fre.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Bs=hd(i.nextSibling),qs=t,Pn=!0,al=null,e!==null&&(vo[xo++]=Fc,vo[xo++]=$c,vo[xo++]=zf,Fc=e.id,$c=e.overflow,zf=t),t=GE(t,n.children),t.flags|=4096,t)}function PO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),FN(e.return,t,r)}function jS(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function v$(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Wa(e,t,n.children,r),n=Rn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&PO(e,r,t);else if(e.tag===19)PO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(vn(Rn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&dw(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),jS(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&dw(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}jS(t,!0,r,null,a);break;case"together":jS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function E1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(st(153));if(t.child!==null){for(e=t.child,r=vd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ere(e,t,r){switch(t.tag){case 3:p$(t),np();break;case 5:W7(t);break;case 1:us(t.type)&&aw(t);break;case 4:$E(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;vn(lw,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(vn(Rn,Rn.current&1),t.flags|=128,null):r&t.child.childLanes?g$(e,t,r):(vn(Rn,Rn.current&1),e=Qc(e,t,r),e!==null?e.sibling:null);vn(Rn,Rn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return v$(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vn(Rn,Rn.current),n)break;return null;case 22:case 23:return t.lanes=0,h$(e,t,r)}return Qc(e,t,r)}var x$,VN,y$,w$;x$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};VN=function(){};y$=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,kf(Ql.current);var a=null;switch(r){case"input":i=mN(e,i),n=mN(e,n),a=[];break;case"select":i=Dn({},i,{value:void 0}),n=Dn({},n,{value:void 0}),a=[];break;case"textarea":i=vN(e,i),n=vN(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nw)}yN(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tg.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&wn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};w$=function(e,t,r,n){r!==n&&(t.flags|=4)};function R0(e,t){if(!Pn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ka(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tre(e,t,r){var n=t.pendingProps;switch(OE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ka(t),null;case 1:return us(t.type)&&iw(),ka(t),null;case 3:return n=t.stateNode,ap(),jn(cs),jn(Ma),UE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,al!==null&&(ek(al),al=null))),VN(e,t),ka(t),null;case 5:BE(t);var i=kf(Wg.current);if(r=t.type,e!==null&&t.stateNode!=null)y$(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(st(166));return ka(t),null}if(e=kf(Ql.current),gy(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Vl]=t,n[Ug]=a,e=(t.mode&1)!==0,r){case"dialog":wn("cancel",n),wn("close",n);break;case"iframe":case"object":case"embed":wn("load",n);break;case"video":case"audio":for(i=0;i<tg.length;i++)wn(tg[i],n);break;case"source":wn("error",n);break;case"img":case"image":case"link":wn("error",n),wn("load",n);break;case"details":wn("toggle",n);break;case"input":$T(n,a),wn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},wn("invalid",n);break;case"textarea":UT(n,a),wn("invalid",n)}yN(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&py(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&py(n.textContent,l,e),i=["children",""+l]):Tg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&wn("scroll",n)}switch(r){case"input":oy(n),BT(n,a,!0);break;case"textarea":oy(n),zT(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=nw)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=KF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Vl]=t,e[Ug]=n,x$(e,t,!1,!1),t.stateNode=e;e:{switch(o=wN(r,n),r){case"dialog":wn("cancel",e),wn("close",e),i=n;break;case"iframe":case"object":case"embed":wn("load",e),i=n;break;case"video":case"audio":for(i=0;i<tg.length;i++)wn(tg[i],e);i=n;break;case"source":wn("error",e),i=n;break;case"img":case"image":case"link":wn("error",e),wn("load",e),i=n;break;case"details":wn("toggle",e),i=n;break;case"input":$T(e,n),i=mN(e,n),wn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Dn({},n,{value:void 0}),wn("invalid",e);break;case"textarea":UT(e,n),i=vN(e,n),wn("invalid",e);break;default:i=n}yN(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?JF(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&YF(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Og(e,c):typeof c=="number"&&Og(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Tg.hasOwnProperty(a)?c!=null&&a==="onScroll"&&wn("scroll",e):c!=null&&vE(e,a,c,o))}switch(r){case"input":oy(e),BT(e,n,!1);break;case"textarea":oy(e),zT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_d(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Dm(e,!!n.multiple,a,!1):n.defaultValue!=null&&Dm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=nw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ka(t),null;case 6:if(e&&t.stateNode!=null)w$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(st(166));if(r=kf(Wg.current),kf(Ql.current),gy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vl]=t,(a=n.nodeValue!==r)&&(e=qs,e!==null))switch(e.tag){case 3:py(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&py(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vl]=t,t.stateNode=n}return ka(t),null;case 13:if(jn(Rn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pn&&Bs!==null&&t.mode&1&&!(t.flags&128))F7(),np(),t.flags|=98560,a=!1;else if(a=gy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(st(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(st(317));a[Vl]=t}else np(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ka(t),a=!1}else al!==null&&(ek(al),al=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Rn.current&1?Li===0&&(Li=3):QE())),t.updateQueue!==null&&(t.flags|=4),ka(t),null);case 4:return ap(),VN(e,t),e===null&&$g(t.stateNode.containerInfo),ka(t),null;case 10:return LE(t.type._context),ka(t),null;case 17:return us(t.type)&&iw(),ka(t),null;case 19:if(jn(Rn),a=t.memoizedState,a===null)return ka(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)R0(a,!1);else{if(Li!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=dw(e),o!==null){for(t.flags|=128,R0(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return vn(Rn,Rn.current&1|2),t.child}e=e.sibling}a.tail!==null&&ai()>op&&(t.flags|=128,n=!0,R0(a,!1),t.lanes=4194304)}else{if(!n)if(e=dw(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),R0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Pn)return ka(t),null}else 2*ai()-a.renderingStartTime>op&&r!==1073741824&&(t.flags|=128,n=!0,R0(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ai(),t.sibling=null,r=Rn.current,vn(Rn,n?r&1|2:r&1),t):(ka(t),null);case 22:case 23:return ZE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rs&1073741824&&(ka(t),t.subtreeFlags&6&&(t.flags|=8192)):ka(t),null;case 24:return null;case 25:return null}throw Error(st(156,t.tag))}function rre(e,t){switch(OE(t),t.tag){case 1:return us(t.type)&&iw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ap(),jn(cs),jn(Ma),UE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return BE(t),null;case 13:if(jn(Rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(st(340));np()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jn(Rn),null;case 4:return ap(),null;case 10:return LE(t.type._context),null;case 22:case 23:return ZE(),null;case 24:return null;default:return null}}var yy=!1,Oa=!1,nre=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function Em(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vn(e,t,n)}else r.current=null}function GN(e,t,r){try{r()}catch(n){Vn(e,t,n)}}var TO=!1;function ire(e,t){if(PN=ew,e=N7(),PE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++u===i&&(l=o),m===a&&++d===n&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(TN={focusedElem:e,selectionRange:r},ew=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){t=Nt;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:tl(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(b){Vn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}return v=TO,TO=!1,v}function pg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&GN(t,r,a)}i=i.next}while(i!==n)}}function h2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function KN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function b$(e){var t=e.alternate;t!==null&&(e.alternate=null,b$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vl],delete t[Ug],delete t[IN],delete t[Bte],delete t[Ute])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _$(e){return e.tag===5||e.tag===3||e.tag===4}function OO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function YN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nw));else if(n!==4&&(e=e.child,e!==null))for(YN(e,t,r),e=e.sibling;e!==null;)YN(e,t,r),e=e.sibling}function XN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(XN(e,t,r),e=e.sibling;e!==null;)XN(e,t,r),e=e.sibling}var ma=null,nl=!1;function Bu(e,t,r){for(r=r.child;r!==null;)j$(e,t,r),r=r.sibling}function j$(e,t,r){if(Zl&&typeof Zl.onCommitFiberUnmount=="function")try{Zl.onCommitFiberUnmount(a2,r)}catch{}switch(r.tag){case 5:Oa||Em(r,t);case 6:var n=ma,i=nl;ma=null,Bu(e,t,r),ma=n,nl=i,ma!==null&&(nl?(e=ma,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ma.removeChild(r.stateNode));break;case 18:ma!==null&&(nl?(e=ma,r=r.stateNode,e.nodeType===8?gS(e.parentNode,r):e.nodeType===1&&gS(e,r),Lg(e)):gS(ma,r.stateNode));break;case 4:n=ma,i=nl,ma=r.stateNode.containerInfo,nl=!0,Bu(e,t,r),ma=n,nl=i;break;case 0:case 11:case 14:case 15:if(!Oa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&GN(r,t,o),i=i.next}while(i!==n)}Bu(e,t,r);break;case 1:if(!Oa&&(Em(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Vn(r,t,l)}Bu(e,t,r);break;case 21:Bu(e,t,r);break;case 22:r.mode&1?(Oa=(n=Oa)||r.memoizedState!==null,Bu(e,t,r),Oa=n):Bu(e,t,r);break;default:Bu(e,t,r)}}function RO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nre),t.forEach(function(n){var i=hre.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ko(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ma=l.stateNode,nl=!1;break e;case 3:ma=l.stateNode.containerInfo,nl=!0;break e;case 4:ma=l.stateNode.containerInfo,nl=!0;break e}l=l.return}if(ma===null)throw Error(st(160));j$(a,o,i),ma=null,nl=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Vn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S$(t,e),t=t.sibling}function S$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ko(t,e),Il(e),n&4){try{pg(3,e,e.return),h2(3,e)}catch(g){Vn(e,e.return,g)}try{pg(5,e,e.return)}catch(g){Vn(e,e.return,g)}}break;case 1:Ko(t,e),Il(e),n&512&&r!==null&&Em(r,r.return);break;case 5:if(Ko(t,e),Il(e),n&512&&r!==null&&Em(r,r.return),e.flags&32){var i=e.stateNode;try{Og(i,"")}catch(g){Vn(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&VF(i,a),wN(l,o);var u=wN(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?JF(i,f):d==="dangerouslySetInnerHTML"?YF(i,f):d==="children"?Og(i,f):vE(i,d,f,u)}switch(l){case"input":pN(i,a);break;case"textarea":GF(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Dm(i,!!a.multiple,h,!1):m!==!!a.multiple&&(a.defaultValue!=null?Dm(i,!!a.multiple,a.defaultValue,!0):Dm(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ug]=a}catch(g){Vn(e,e.return,g)}}break;case 6:if(Ko(t,e),Il(e),n&4){if(e.stateNode===null)throw Error(st(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Vn(e,e.return,g)}}break;case 3:if(Ko(t,e),Il(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Lg(t.containerInfo)}catch(g){Vn(e,e.return,g)}break;case 4:Ko(t,e),Il(e);break;case 13:Ko(t,e),Il(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(XE=ai())),n&4&&RO(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Oa=(u=Oa)||d,Ko(t,e),Oa=u):Ko(t,e),Il(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Nt=e,d=e.child;d!==null;){for(f=Nt=d;Nt!==null;){switch(m=Nt,h=m.child,m.tag){case 0:case 11:case 14:case 15:pg(4,m,m.return);break;case 1:Em(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Vn(n,r,g)}}break;case 5:Em(m,m.return);break;case 22:if(m.memoizedState!==null){DO(f);continue}}h!==null?(h.return=m,Nt=h):DO(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=XF("display",o))}catch(g){Vn(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Vn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ko(t,e),Il(e),n&4&&RO(e);break;case 21:break;default:Ko(t,e),Il(e)}}function Il(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_$(r)){var n=r;break e}r=r.return}throw Error(st(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Og(i,""),n.flags&=-33);var a=OO(e);XN(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=OO(e);YN(e,l,o);break;default:throw Error(st(161))}}catch(c){Vn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function are(e,t,r){Nt=e,N$(e)}function N$(e,t,r){for(var n=(e.mode&1)!==0;Nt!==null;){var i=Nt,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||yy;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Oa;l=yy;var u=Oa;if(yy=o,(Oa=c)&&!u)for(Nt=i;Nt!==null;)o=Nt,c=o.child,o.tag===22&&o.memoizedState!==null?LO(i):c!==null?(c.return=o,Nt=c):LO(i);for(;a!==null;)Nt=a,N$(a),a=a.sibling;Nt=i,yy=l,Oa=u}IO(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Nt=a):IO(e)}}function IO(e){for(;Nt!==null;){var t=Nt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oa||h2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Oa)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:tl(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&xO(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xO(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Lg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(st(163))}Oa||t.flags&512&&KN(t)}catch(m){Vn(t,t.return,m)}}if(t===e){Nt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Nt=r;break}Nt=t.return}}function DO(e){for(;Nt!==null;){var t=Nt;if(t===e){Nt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Nt=r;break}Nt=t.return}}function LO(e){for(;Nt!==null;){var t=Nt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{h2(4,t)}catch(c){Vn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Vn(t,i,c)}}var a=t.return;try{KN(t)}catch(c){Vn(t,a,c)}break;case 5:var o=t.return;try{KN(t)}catch(c){Vn(t,o,c)}}}catch(c){Vn(t,t.return,c)}if(t===e){Nt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Nt=l;break}Nt=t.return}}var sre=Math.ceil,mw=fu.ReactCurrentDispatcher,KE=fu.ReactCurrentOwner,bo=fu.ReactCurrentBatchConfig,Or=0,Zi=null,vi=null,ya=0,Rs=0,Cm=Md(0),Li=0,Gg=null,Hf=0,m2=0,YE=0,gg=null,as=null,XE=0,op=1/0,Oc=null,pw=!1,JN=null,pd=null,wy=!1,id=null,gw=0,vg=0,ZN=null,C1=-1,A1=0;function Ka(){return Or&6?ai():C1!==-1?C1:C1=ai()}function gd(e){return e.mode&1?Or&2&&ya!==0?ya&-ya:Wte.transition!==null?(A1===0&&(A1=c7()),A1):(e=Jr,e!==0||(e=window.event,e=e===void 0?16:g7(e.type)),e):1}function hl(e,t,r,n){if(50<vg)throw vg=0,ZN=null,Error(st(185));Dv(e,r,n),(!(Or&2)||e!==Zi)&&(e===Zi&&(!(Or&2)&&(m2|=r),Li===4&&ed(e,ya)),ds(e,n),r===1&&Or===0&&!(t.mode&1)&&(op=ai()+500,u2&&Fd()))}function ds(e,t){var r=e.callbackNode;Wee(e,t);var n=Q1(e,e===Zi?ya:0);if(n===0)r!==null&&qT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qT(r),t===1)e.tag===0?zte(MO.bind(null,e)):D7(MO.bind(null,e)),Fte(function(){!(Or&6)&&Fd()}),r=null;else{switch(u7(n)){case 1:r=_E;break;case 4:r=o7;break;case 16:r=Z1;break;case 536870912:r=l7;break;default:r=Z1}r=R$(r,k$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function k$(e,t){if(C1=-1,A1=0,Or&6)throw Error(st(327));var r=e.callbackNode;if(Bm()&&e.callbackNode!==r)return null;var n=Q1(e,e===Zi?ya:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=vw(e,n);else{t=n;var i=Or;Or|=2;var a=C$();(Zi!==e||ya!==t)&&(Oc=null,op=ai()+500,Rf(e,t));do try{cre();break}catch(l){E$(e,l)}while(!0);DE(),mw.current=a,Or=i,vi!==null?t=0:(Zi=null,ya=0,t=Li)}if(t!==0){if(t===2&&(i=NN(e),i!==0&&(n=i,t=QN(e,i))),t===1)throw r=Gg,Rf(e,0),ed(e,n),ds(e,ai()),r;if(t===6)ed(e,n);else{if(i=e.current.alternate,!(n&30)&&!ore(i)&&(t=vw(e,n),t===2&&(a=NN(e),a!==0&&(n=a,t=QN(e,a))),t===1))throw r=Gg,Rf(e,0),ed(e,n),ds(e,ai()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(st(345));case 2:hf(e,as,Oc);break;case 3:if(ed(e,n),(n&130023424)===n&&(t=XE+500-ai(),10<t)){if(Q1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ka(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=RN(hf.bind(null,e,as,Oc),t);break}hf(e,as,Oc);break;case 4:if(ed(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-fl(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=ai()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sre(n/1960))-n,10<n){e.timeoutHandle=RN(hf.bind(null,e,as,Oc),n);break}hf(e,as,Oc);break;case 5:hf(e,as,Oc);break;default:throw Error(st(329))}}}return ds(e,ai()),e.callbackNode===r?k$.bind(null,e):null}function QN(e,t){var r=gg;return e.current.memoizedState.isDehydrated&&(Rf(e,t).flags|=256),e=vw(e,t),e!==2&&(t=as,as=r,t!==null&&ek(t)),e}function ek(e){as===null?as=e:as.push.apply(as,e)}function ore(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!gl(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ed(e,t){for(t&=~YE,t&=~m2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fl(t),n=1<<r;e[r]=-1,t&=~n}}function MO(e){if(Or&6)throw Error(st(327));Bm();var t=Q1(e,0);if(!(t&1))return ds(e,ai()),null;var r=vw(e,t);if(e.tag!==0&&r===2){var n=NN(e);n!==0&&(t=n,r=QN(e,n))}if(r===1)throw r=Gg,Rf(e,0),ed(e,t),ds(e,ai()),r;if(r===6)throw Error(st(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hf(e,as,Oc),ds(e,ai()),null}function JE(e,t){var r=Or;Or|=1;try{return e(t)}finally{Or=r,Or===0&&(op=ai()+500,u2&&Fd())}}function qf(e){id!==null&&id.tag===0&&!(Or&6)&&Bm();var t=Or;Or|=1;var r=bo.transition,n=Jr;try{if(bo.transition=null,Jr=1,e)return e()}finally{Jr=n,bo.transition=r,Or=t,!(Or&6)&&Fd()}}function ZE(){Rs=Cm.current,jn(Cm)}function Rf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Mte(r)),vi!==null)for(r=vi.return;r!==null;){var n=r;switch(OE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&iw();break;case 3:ap(),jn(cs),jn(Ma),UE();break;case 5:BE(n);break;case 4:ap();break;case 13:jn(Rn);break;case 19:jn(Rn);break;case 10:LE(n.type._context);break;case 22:case 23:ZE()}r=r.return}if(Zi=e,vi=e=vd(e.current,null),ya=Rs=t,Li=0,Gg=null,YE=m2=Hf=0,as=gg=null,Nf!==null){for(t=0;t<Nf.length;t++)if(r=Nf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Nf=null}return e}function E$(e,t){do{var r=vi;try{if(DE(),N1.current=hw,fw){for(var n=In.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fw=!1}if(Wf=0,Vi=Ii=In=null,mg=!1,Hg=0,KE.current=null,r===null||r.return===null){Li=1,Gg=t,vi=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=ya,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=SO(o);if(h!==null){h.flags&=-257,NO(h,o,l,a,t),h.mode&1&&jO(a,u,t),t=h,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){jO(a,u,t),QE();break e}c=Error(st(426))}}else if(Pn&&l.mode&1){var x=SO(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),NO(x,o,l,a,t),RE(sp(c,l));break e}}a=c=sp(c,l),Li!==4&&(Li=2),gg===null?gg=[a]:gg.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=u$(a,c,t);vO(a,y);break e;case 1:l=c;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(pd===null||!pd.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=d$(a,l,t);vO(a,b);break e}}a=a.return}while(a!==null)}P$(r)}catch(N){t=N,vi===r&&r!==null&&(vi=r=r.return);continue}break}while(!0)}function C$(){var e=mw.current;return mw.current=hw,e===null?hw:e}function QE(){(Li===0||Li===3||Li===2)&&(Li=4),Zi===null||!(Hf&268435455)&&!(m2&268435455)||ed(Zi,ya)}function vw(e,t){var r=Or;Or|=2;var n=C$();(Zi!==e||ya!==t)&&(Oc=null,Rf(e,t));do try{lre();break}catch(i){E$(e,i)}while(!0);if(DE(),Or=r,mw.current=n,vi!==null)throw Error(st(261));return Zi=null,ya=0,Li}function lre(){for(;vi!==null;)A$(vi)}function cre(){for(;vi!==null&&!Iee();)A$(vi)}function A$(e){var t=O$(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,t===null?P$(e):vi=t,KE.current=null}function P$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rre(r,t),r!==null){r.flags&=32767,vi=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Li=6,vi=null;return}}else if(r=tre(r,t,Rs),r!==null){vi=r;return}if(t=t.sibling,t!==null){vi=t;return}vi=t=e}while(t!==null);Li===0&&(Li=5)}function hf(e,t,r){var n=Jr,i=bo.transition;try{bo.transition=null,Jr=1,ure(e,t,r,n)}finally{bo.transition=i,Jr=n}return null}function ure(e,t,r,n){do Bm();while(id!==null);if(Or&6)throw Error(st(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(st(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Hee(e,a),e===Zi&&(vi=Zi=null,ya=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wy||(wy=!0,R$(Z1,function(){return Bm(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=bo.transition,bo.transition=null;var o=Jr;Jr=1;var l=Or;Or|=4,KE.current=null,ire(e,r),S$(r,e),Pte(TN),ew=!!PN,TN=PN=null,e.current=r,are(r),Dee(),Or=l,Jr=o,bo.transition=a}else e.current=r;if(wy&&(wy=!1,id=e,gw=i),a=e.pendingLanes,a===0&&(pd=null),Fee(r.stateNode),ds(e,ai()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pw)throw pw=!1,e=JN,JN=null,e;return gw&1&&e.tag!==0&&Bm(),a=e.pendingLanes,a&1?e===ZN?vg++:(vg=0,ZN=e):vg=0,Fd(),null}function Bm(){if(id!==null){var e=u7(gw),t=bo.transition,r=Jr;try{if(bo.transition=null,Jr=16>e?16:e,id===null)var n=!1;else{if(e=id,id=null,gw=0,Or&6)throw Error(st(331));var i=Or;for(Or|=4,Nt=e.current;Nt!==null;){var a=Nt,o=a.child;if(Nt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Nt=u;Nt!==null;){var d=Nt;switch(d.tag){case 0:case 11:case 15:pg(8,d,a)}var f=d.child;if(f!==null)f.return=d,Nt=f;else for(;Nt!==null;){d=Nt;var m=d.sibling,h=d.return;if(b$(d),d===u){Nt=null;break}if(m!==null){m.return=h,Nt=m;break}Nt=h}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Nt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Nt=o;else e:for(;Nt!==null;){if(a=Nt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:pg(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Nt=y;break e}Nt=a.return}}var w=e.current;for(Nt=w;Nt!==null;){o=Nt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Nt=_;else e:for(o=w;Nt!==null;){if(l=Nt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:h2(9,l)}}catch(N){Vn(l,l.return,N)}if(l===o){Nt=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Nt=b;break e}Nt=l.return}}if(Or=i,Fd(),Zl&&typeof Zl.onPostCommitFiberRoot=="function")try{Zl.onPostCommitFiberRoot(a2,e)}catch{}n=!0}return n}finally{Jr=r,bo.transition=t}}return!1}function FO(e,t,r){t=sp(r,t),t=u$(e,t,1),e=md(e,t,1),t=Ka(),e!==null&&(Dv(e,1,t),ds(e,t))}function Vn(e,t,r){if(e.tag===3)FO(e,e,r);else for(;t!==null;){if(t.tag===3){FO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pd===null||!pd.has(n))){e=sp(r,e),e=d$(t,e,1),t=md(t,e,1),e=Ka(),t!==null&&(Dv(t,1,e),ds(t,e));break}}t=t.return}}function dre(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ka(),e.pingedLanes|=e.suspendedLanes&r,Zi===e&&(ya&r)===r&&(Li===4||Li===3&&(ya&130023424)===ya&&500>ai()-XE?Rf(e,0):YE|=r),ds(e,t)}function T$(e,t){t===0&&(e.mode&1?(t=uy,uy<<=1,!(uy&130023424)&&(uy=4194304)):t=1);var r=Ka();e=Zc(e,t),e!==null&&(Dv(e,t,r),ds(e,r))}function fre(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),T$(e,r)}function hre(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(st(314))}n!==null&&n.delete(t),T$(e,r)}var O$;O$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cs.current)ss=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ss=!1,ere(e,t,r);ss=!!(e.flags&131072)}else ss=!1,Pn&&t.flags&1048576&&L7(t,ow,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;E1(e,t),e=t.pendingProps;var i=rp(t,Ma.current);$m(t,r),i=WE(null,t,n,e,i,r);var a=HE();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,us(n)?(a=!0,aw(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,FE(t),i.updater=f2,t.stateNode=i,i._reactInternals=t,BN(t,n,e,r),t=WN(null,t,n,!0,a,r)):(t.tag=0,Pn&&a&&TE(t),Wa(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(E1(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=pre(n),e=tl(n,e),i){case 0:t=zN(null,t,n,e,r);break e;case 1:t=CO(null,t,n,e,r);break e;case 11:t=kO(null,t,n,e,r);break e;case 14:t=EO(null,t,n,tl(n.type,e),r);break e}throw Error(st(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tl(n,i),zN(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tl(n,i),CO(e,t,n,i,r);case 3:e:{if(p$(t),e===null)throw Error(st(387));n=t.pendingProps,a=t.memoizedState,i=a.element,z7(e,t),uw(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=sp(Error(st(423)),t),t=AO(e,t,n,r,i);break e}else if(n!==i){i=sp(Error(st(424)),t),t=AO(e,t,n,r,i);break e}else for(Bs=hd(t.stateNode.containerInfo.firstChild),qs=t,Pn=!0,al=null,r=B7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(np(),n===i){t=Qc(e,t,r);break e}Wa(e,t,n,r)}t=t.child}return t;case 5:return W7(t),e===null&&MN(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,ON(n,i)?o=null:a!==null&&ON(n,a)&&(t.flags|=32),m$(e,t),Wa(e,t,o,r),t.child;case 6:return e===null&&MN(t),null;case 13:return g$(e,t,r);case 4:return $E(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ip(t,null,n,r):Wa(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tl(n,i),kO(e,t,n,i,r);case 7:return Wa(e,t,t.pendingProps,r),t.child;case 8:return Wa(e,t,t.pendingProps.children,r),t.child;case 12:return Wa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,vn(lw,n._currentValue),n._currentValue=o,a!==null)if(gl(a.value,o)){if(a.children===i.children&&!cs.current){t=Qc(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Wc(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),FN(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(st(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),FN(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Wa(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,$m(t,r),i=No(i),n=n(i),t.flags|=1,Wa(e,t,n,r),t.child;case 14:return n=t.type,i=tl(n,t.pendingProps),i=tl(n.type,i),EO(e,t,n,i,r);case 15:return f$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tl(n,i),E1(e,t),t.tag=1,us(n)?(e=!0,aw(t)):e=!1,$m(t,r),c$(t,n,i),BN(t,n,i,r),WN(null,t,n,!0,e,r);case 19:return v$(e,t,r);case 22:return h$(e,t,r)}throw Error(st(156,t.tag))};function R$(e,t){return s7(e,t)}function mre(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(e,t,r,n){return new mre(e,t,r,n)}function eC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pre(e){if(typeof e=="function")return eC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yE)return 11;if(e===wE)return 14}return 2}function vd(e,t){var r=e.alternate;return r===null?(r=yo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function P1(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")eC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xm:return If(r.children,i,a,t);case xE:o=8,i|=8;break;case uN:return e=yo(12,r,t,i|2),e.elementType=uN,e.lanes=a,e;case dN:return e=yo(13,r,t,i),e.elementType=dN,e.lanes=a,e;case fN:return e=yo(19,r,t,i),e.elementType=fN,e.lanes=a,e;case WF:return p2(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UF:o=10;break e;case zF:o=9;break e;case yE:o=11;break e;case wE:o=14;break e;case Ku:o=16,n=null;break e}throw Error(st(130,e==null?e:typeof e,""))}return t=yo(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function If(e,t,r,n){return e=yo(7,e,n,t),e.lanes=r,e}function p2(e,t,r,n){return e=yo(22,e,n,t),e.elementType=WF,e.lanes=r,e.stateNode={isHidden:!1},e}function SS(e,t,r){return e=yo(6,e,null,t),e.lanes=r,e}function NS(e,t,r){return t=yo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gre(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aS(0),this.expirationTimes=aS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aS(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tC(e,t,r,n,i,a,o,l,c){return e=new gre(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=yo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},FE(a),e}function vre(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vm,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function I$(e){if(!e)return jd;e=e._reactInternals;e:{if(hh(e)!==e||e.tag!==1)throw Error(st(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(us(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(st(171))}if(e.tag===1){var r=e.type;if(us(r))return I7(e,r,t)}return t}function D$(e,t,r,n,i,a,o,l,c){return e=tC(r,n,!0,e,i,a,o,l,c),e.context=I$(null),r=e.current,n=Ka(),i=gd(r),a=Wc(n,i),a.callback=t??null,md(r,a,i),e.current.lanes=i,Dv(e,i,n),ds(e,n),e}function g2(e,t,r,n){var i=t.current,a=Ka(),o=gd(i);return r=I$(r),t.context===null?t.context=r:t.pendingContext=r,t=Wc(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=md(i,t,o),e!==null&&(hl(e,i,o,a),S1(e,i,o)),o}function xw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $O(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rC(e,t){$O(e,t),(e=e.alternate)&&$O(e,t)}function xre(){return null}var L$=typeof reportError=="function"?reportError:function(e){console.error(e)};function nC(e){this._internalRoot=e}v2.prototype.render=nC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(st(409));g2(e,t,null,null)};v2.prototype.unmount=nC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qf(function(){g2(null,e,null,null)}),t[Jc]=null}};function v2(e){this._internalRoot=e}v2.prototype.unstable_scheduleHydration=function(e){if(e){var t=h7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qu.length&&t!==0&&t<Qu[r].priority;r++);Qu.splice(r,0,e),r===0&&p7(e)}};function iC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function BO(){}function yre(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=xw(o);a.call(u)}}var o=D$(t,n,e,0,null,!1,!1,"",BO);return e._reactRootContainer=o,e[Jc]=o.current,$g(e.nodeType===8?e.parentNode:e),qf(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=xw(c);l.call(u)}}var c=tC(e,0,!1,null,null,!1,!1,"",BO);return e._reactRootContainer=c,e[Jc]=c.current,$g(e.nodeType===8?e.parentNode:e),qf(function(){g2(t,c,r,n)}),c}function y2(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=xw(o);l.call(c)}}g2(t,o,e,i)}else o=yre(r,t,e,i,n);return xw(o)}d7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=eg(t.pendingLanes);r!==0&&(jE(t,r|1),ds(t,ai()),!(Or&6)&&(op=ai()+500,Fd()))}break;case 13:qf(function(){var n=Zc(e,1);if(n!==null){var i=Ka();hl(n,e,1,i)}}),rC(e,1)}};SE=function(e){if(e.tag===13){var t=Zc(e,134217728);if(t!==null){var r=Ka();hl(t,e,134217728,r)}rC(e,134217728)}};f7=function(e){if(e.tag===13){var t=gd(e),r=Zc(e,t);if(r!==null){var n=Ka();hl(r,e,t,n)}rC(e,t)}};h7=function(){return Jr};m7=function(e,t){var r=Jr;try{return Jr=e,t()}finally{Jr=r}};_N=function(e,t,r){switch(t){case"input":if(pN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=c2(n);if(!i)throw Error(st(90));qF(n),pN(n,i)}}}break;case"textarea":GF(e,r);break;case"select":t=r.value,t!=null&&Dm(e,!!r.multiple,t,!1)}};e7=JE;t7=qf;var wre={usingClientEntryPoint:!1,Events:[Mv,_m,c2,ZF,QF,JE]},I0={findFiberByHostInstance:Sf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bre={bundleType:I0.bundleType,version:I0.version,rendererPackageName:I0.rendererPackageName,rendererConfig:I0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i7(e),e===null?null:e.stateNode},findFiberByHostInstance:I0.findFiberByHostInstance||xre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var by=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!by.isDisabled&&by.supportsFiber)try{a2=by.inject(bre),Zl=by}catch{}}Qs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wre;Qs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iC(t))throw Error(st(200));return vre(e,t,null,r)};Qs.createRoot=function(e,t){if(!iC(e))throw Error(st(299));var r=!1,n="",i=L$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=tC(e,1,!1,null,null,r,!1,n,i),e[Jc]=t.current,$g(e.nodeType===8?e.parentNode:e),new nC(t)};Qs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(st(188)):(e=Object.keys(e).join(","),Error(st(268,e)));return e=i7(t),e=e===null?null:e.stateNode,e};Qs.flushSync=function(e){return qf(e)};Qs.hydrate=function(e,t,r){if(!x2(t))throw Error(st(200));return y2(null,e,t,!0,r)};Qs.hydrateRoot=function(e,t,r){if(!iC(e))throw Error(st(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=L$;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=D$(t,null,e,1,r??null,i,!1,a,o),e[Jc]=t.current,$g(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new v2(t)};Qs.render=function(e,t,r){if(!x2(t))throw Error(st(200));return y2(null,e,t,!1,r)};Qs.unmountComponentAtNode=function(e){if(!x2(e))throw Error(st(40));return e._reactRootContainer?(qf(function(){y2(null,null,e,!1,function(){e._reactRootContainer=null,e[Jc]=null})}),!0):!1};Qs.unstable_batchedUpdates=JE;Qs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!x2(r))throw Error(st(200));if(e==null||e._reactInternals===void 0)throw Error(st(38));return y2(e,t,r,!1,n)};Qs.version="18.3.1-next-f1338f8080-20240426";function M$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M$)}catch(e){console.error(e)}}M$(),MF.exports=Qs;var Ro=MF.exports;const _re=lc(Ro);var F$,UO=Ro;F$=UO.createRoot,UO.hydrateRoot;function jre(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(o.push(r),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~n?n:~a?a:i.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var $$={exports:{}},B$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=p;function Sre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nre=typeof Object.is=="function"?Object.is:Sre,kre=lp.useState,Ere=lp.useEffect,Cre=lp.useLayoutEffect,Are=lp.useDebugValue;function Pre(e,t){var r=t(),n=kre({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Cre(function(){i.value=r,i.getSnapshot=t,kS(i)&&a({inst:i})},[e,r,t]),Ere(function(){return kS(i)&&a({inst:i}),e(function(){kS(i)&&a({inst:i})})},[e]),Are(r),r}function kS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nre(e,r)}catch{return!0}}function Tre(e,t){return t()}var Ore=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tre:Pre;B$.useSyncExternalStore=lp.useSyncExternalStore!==void 0?lp.useSyncExternalStore:Ore;$$.exports=B$;var aC=$$.exports;const Rre=Iv.useInsertionEffect,Ire=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U$=Ire?p.useLayoutEffect:p.useEffect,Dre=Rre||U$,sC=e=>{const t=p.useRef([e,(...r)=>t[0](...r)]).current;return Dre(()=>{t[0]=e}),t[1]},Lre="popstate",oC="pushState",lC="replaceState",Mre="hashchange",zO=[Lre,oC,lC,Mre],Fre=e=>{for(const t of zO)addEventListener(t,e);return()=>{for(const t of zO)removeEventListener(t,e)}},z$=(e,t)=>aC.useSyncExternalStore(Fre,e,t),WO=()=>location.search,$re=({ssrSearch:e}={})=>z$(WO,e!=null?()=>e:WO),HO=()=>location.pathname,Bre=({ssrPath:e}={})=>z$(HO,e!=null?()=>e:HO),Ure=(e,{replace:t=!1,state:r=null}={})=>history[t?lC:oC](r,"",e),zre=(e={})=>[Bre(e),Ure],qO=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[qO]>"u"){for(const e of[oC,lC]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,qO,{value:!0})}const Wre=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",W$=(e="")=>e==="/"?"":e,Hre=(e,t)=>e[0]==="~"?e.slice(1):W$(t)+e,qre=(e="",t)=>Wre(VO(W$(e)),VO(t)),VO=e=>{try{return decodeURI(e)}catch{return e}},H$={hook:zre,searchHook:$re,parser:jre,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},q$=p.createContext(H$),kp=()=>p.useContext(q$),V$={},G$=p.createContext(V$),Vre=()=>p.useContext(G$),$v=e=>{const[t,r]=e.hook(e);return[qre(e.base,t),sC((n,i)=>e.aroundNav(r,Hre(n,e.base),i))]},cc=()=>$v(kp()),K$=(e,t,r,n)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=i.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,m)=>[f,c[m]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},Gre=({children:e,...t})=>{var d,f,m;const r=kp(),n=t.hook?H$:r;let i=n;const[a,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];a&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((m=t.hook)==null?void 0:m.searchHook);let l=p.useRef({}),c=l.current,u=c;for(let h in n){const v=h==="base"?n[h]+(t[h]??""):t[h]??n[h];c===u&&v!==u[h]&&(l.current=u={...u}),u[h]=v,(v!==n[h]||v!==i[h])&&(i=u)}return p.createElement(q$.Provider,{value:i,children:e})},GO=({children:e,component:t},r)=>t?p.createElement(t,{params:r}):typeof e=="function"?e(r):e,Kre=e=>{let t=p.useRef(V$);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,i])=>i!==r[n])?e:r},xr=({path:e,nest:t,match:r,...n})=>{const i=kp(),[a]=$v(i),[o,l,c]=r??K$(i.parser,e,a,t),u=Kre({...Vre(),...l});if(!o)return null;const d=c?p.createElement(Gre,{base:c},GO(n,u)):GO(n,u);return p.createElement(G$.Provider,{value:u,children:d})};p.forwardRef((e,t)=>{const r=kp(),[n,i]=$v(r),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:d,replace:f,state:m,transition:h,...v}=e,g=sC(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),i(o,e)))}),x=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&p.isValidElement(u)?p.cloneElement(u,{onClick:g,href:x}):p.createElement("a",{...v,onClick:g,href:x,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})});const Y$=e=>Array.isArray(e)?e.flatMap(t=>Y$(t&&t.type===p.Fragment?t.props.children:t)):[e],X$=({children:e,location:t})=>{const r=kp(),[n]=$v(r);for(const i of Y$(e)){let a=0;if(p.isValidElement(i)&&(a=K$(r.parser,i.props.path,t||n,i.props.nest))[0])return p.cloneElement(i,{match:a})}return null},J$=e=>{const{to:t,href:r=t}=e,n=kp(),[,i]=$v(n),a=sC(()=>i(t||r,e)),{ssrContext:o}=n;return U$(()=>{a()},[]),o&&(o.redirectTo=t),null};var Gl=function(){return Gl=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Gl.apply(this,arguments)};function Ep(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Yre(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Xre(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const Jre=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class cC extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Zre extends cC{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class KO extends cC{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class YO extends cC{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tk;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tk||(tk={}));class Qre{constructor(t,{headers:r={},customFetch:n,region:i=tk.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Jre(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Yre(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let m={},{region:h}=n;h||(h=this.region);const v=new URL(`${this.url}/${r}`);h&&h!=="any"&&(m["x-region"]=h,v.searchParams.set("forceFunctionRegion",h));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(m["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(m["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let x=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const y=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:g,signal:x}).catch(N=>{throw new Zre(N)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new KO(y);if(!y.ok)throw new YO(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield y.json():_==="application/octet-stream"||_==="application/pdf"?b=yield y.blob():_==="text/event-stream"?b=y:_==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof YO||l instanceof KO?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var ene=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},tne=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,m;if(r.method!=="HEAD"){var h;const y=await a.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(m=a.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");g&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const g=await a.text();try{o=JSON.parse(g),Array.isArray(o)&&a.status===404&&(l=[],o=null,u=200,d="OK")}catch{a.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new ene(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let l="",c="",u="";const d=a==null?void 0:a.cause;if(d){var f,m,h,v;const y=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",w=(m=d==null?void 0:d.code)!==null&&m!==void 0?m:"";l=`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(v=d==null?void 0:d.name)!==null&&v!==void 0?v:"Error"}: ${y}`,w&&(l+=` (${w})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var g;l=(g=a==null?void 0:a.stack)!==null&&g!==void 0?g:""}const x=this.url.toString().length;return(a==null?void 0:a.name)==="AbortError"||(a==null?void 0:a.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(c+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},rne=class extends tne{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const XO=new RegExp("[,()]");var um=class extends rne{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&XO.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&XO.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},nne=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new um({method:i,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new um({method:i,url:a,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new um({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new um({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new um({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function ine(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ane(e){var t=ine(e,"string");return Kg(t)=="symbol"?t:t+""}function sne(e,t,r){return(t=ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var one=class Z${constructor(t,{headers:r={},schema:n,fetch:i,timeout:a,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const l=i??globalThis.fetch;a!==void 0&&a>0?this.fetch=(c,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),a),m=u==null?void 0:u.signal;if(m){if(m.aborted)return clearTimeout(f),l(c,u);const h=()=>{clearTimeout(f),d.abort()};return m.addEventListener("abort",h,{once:!0}),l(c,_y(_y({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),m.removeEventListener("abort",h)})}return l(c,_y(_y({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new nne(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Z$(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,v])=>v!==void 0).map(([h,v])=>[h,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([h,v])=>{c.searchParams.append(h,v)})):(l="POST",u=r);const m=new Headers(this.headers);return f?m.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&m.set("Prefer",`count=${a}`),new um({method:l,url:c,headers:m,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class lne{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const cne="2.95.3",une=`realtime-js/${cne}`,dne="1.0.0",Q$="2.0.0",ZO=Q$,rk=1e4,fne=1e3,hne=100;var Xu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xu||(Xu={}));var Oi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oi||(Oi={}));var il;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(il||(il={}));var nk;(function(e){e.websocket="websocket"})(nk||(nk={}));var wf;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wf||(wf={}));class mne{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,h=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(h),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,l.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,f.length),v.setUint8(g++,r),Array.from(c,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(l,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(f,y=>v.setUint8(g++,y.charCodeAt(0)));var x=new Uint8Array(h.byteLength+n.byteLength);return x.set(new Uint8Array(h),0),x.set(new Uint8Array(n),h.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,l,c]=n;return r({join_ref:i,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+o));c=c+o;const m=t.slice(c,t.byteLength),h=l===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,v={type:this.BROADCAST_EVENT,event:d,payload:h};return o>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class e9{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pn||(pn={}));const QO=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=pne(o,e,t,i),a),{}):{}},pne=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?t9(a,o):ik(o)},t9=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yne(t,r)}switch(e){case pn.bool:return gne(t);case pn.float4:case pn.float8:case pn.int2:case pn.int4:case pn.int8:case pn.numeric:case pn.oid:return vne(t);case pn.json:case pn.jsonb:return xne(t);case pn.timestamp:return wne(t);case pn.abstime:case pn.date:case pn.daterange:case pn.int4range:case pn.int8range:case pn.money:case pn.reltime:case pn.text:case pn.time:case pn.timestamptz:case pn.timetz:case pn.tsrange:case pn.tstzrange:return ik(t);default:return ik(t)}},ik=e=>e,gne=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vne=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xne=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},yne=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>t9(t,l))}return e},wne=e=>typeof e=="string"?e.replace(" ","T"):e,r9=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ES{constructor(t,r,n={},i=rk){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var e6;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(e6||(e6={}));class xg{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xg.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=xg.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=xg.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(x=>x.presence_ref),h=f.map(x=>x.presence_ref),v=d.filter(x=>h.indexOf(x.presence_ref)<0),g=f.filter(x=>m.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(h=>h.presence_ref),m=d.filter(h=>f.indexOf(h.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var t6;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(t6||(t6={}));var yg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yg||(yg={}));var Rc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rc||(Rc={}));class Am{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Oi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ES(this,il.join,this.params,this.timeout),this.rejoinTimer=new e9(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oi.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(il.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new xg(this),this.broadcastEndpointURL=r9(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Oi.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[yg.PRESENCE]&&this.bindings[yg.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Rc.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Rc.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(Rc.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,y=[];for(let w=0;w<x;w++){const _=g[w],{filter:{event:b,schema:N,table:C,filter:S}}=_,A=h&&h[w];if(A&&A.event===b&&Am.isFilterValueEqual(A.schema,N)&&Am.isFilterValueEqual(A.table,C)&&Am.isFilterValueEqual(A.filter,S))y.push(Object.assign(Object.assign({},_),{id:A.id}));else{this.unsubscribe(),this.state=Oi.errored,t==null||t(Rc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Rc.SUBSCRIBED);return}}).receive("error",h=>{this.state=Oi.errored,t==null||t(Rc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Oi.joined&&t===yg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(il.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ES(this,il.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oi.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ES(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>hne){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=il;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var v,g,x;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=h.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(h=>h.callback(m,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var v,g,x,y,w,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const b=h.id,N=(v=h.filter)===null||v===void 0?void 0:v.event;return b&&((g=r.ids)===null||g===void 0?void 0:g.includes(b))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(w=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return b==="*"||b===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:g,table:x,commit_timestamp:y,type:w,errors:_}=v;m=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}h.callback(m,n)})}_isClosed(){return this.state===Oi.closed}_isJoined(){return this.state===Oi.joined}_isJoining(){return this.state===Oi.joining}_isLeaving(){return this.state===Oi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Am.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(il.close,{},t)}_onError(t){this._on(il.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=QO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=QO(t.columns,t.old_record)),r}}const CS=()=>{},jy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bne=[1e3,2e3,5e3,1e4],_ne=1e4,jne=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sne{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rk,this.transport=null,this.heartbeatIntervalMs=jy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=CS,this.ref=0,this.reconnectTimer=null,this.vsn=ZO,this.logger=CS,this.conn=null,this.sendBuffer=[],this.serializer=new mne,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${nk.websocket}`,this.httpEndpoint=r9(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lne.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xu.connecting:return wf.Connecting;case Xu.open:return wf.Open;case Xu.closing:return wf.Closing;default:return wf.Closed}}isConnected(){return this.connectionState()===wf.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Am(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(fne,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},jy.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Xu.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xu.open||this.conn.readyState===Xu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(il.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([jne],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:une};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(il.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new e9(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,l,c,u,d,f,m,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:rk,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:jy.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:CS,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:ZO,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>bne[v-1]||_ne,this.vsn){case dne:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,g)=>g(JSON.parse(v));break;case Q$:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Yg=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Nne(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function kne(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Ene(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const l=Nne(e.baseUrl,n,i),c=await kne(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),m=f&&d?JSON.parse(d):d;if(!u.ok){const h=f?m:void 0,v=h==null?void 0:h.error;throw new Yg((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:h})}return{status:u.status,headers:u.headers,data:m}}}}function Sy(e){return e.join("")}var Cne=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Sy(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sy(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sy(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sy(e.namespace)}`}),!0}catch(t){if(t instanceof Yg&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Yg&&r.status===409)return;throw r}}};function Uh(e){return e.join("")}var Ane=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uh(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Uh(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Uh(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uh(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uh(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uh(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Yg&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Yg&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Pne=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Ene({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Cne(this.client,t),this.tableOps=new Ane(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},w2=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function b2(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ny=class extends w2{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},n9=class extends w2{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Tne=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),One=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ak=e=>{if(Array.isArray(e))return e.map(r=>ak(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=ak(n)}),t},Rne=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function Ine(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dne(e){var t=Ine(e,"string");return Xg(t)=="symbol"?t:t+""}function Lne(e,t,r){return(t=Dne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(r),!0).forEach(function(n){Lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const n6=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Mne=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Ny(n6(o),a,l,n))}).catch(()=>{if(n==="vectors"){const o=a+"";t(new Ny(i.statusText||`HTTP ${a} error`,a,o,n))}else{const o=a+"";t(new Ny(i.statusText||`HTTP ${a} error`,a,o,n))}});else{const o=a+"";t(new Ny(i.statusText||`HTTP ${a} error`,a,o,n))}}else t(new n9(n6(e),e,n))},Fne=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?tr(tr({},i),r):(One(n)?(i.headers=tr({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),tr(tr({},i),r))};async function D0(e,t,r,n,i,a,o){return new Promise((l,c)=>{e(r,Fne(t,n,i,a)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>Mne(u,c,n,o))})}function i9(e="storage"){return{get:async(t,r,n,i)=>D0(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,a)=>D0(t,"POST",r,i,a,n,e),put:async(t,r,n,i,a)=>D0(t,"PUT",r,i,a,n,e),head:async(t,r,n,i)=>D0(t,"HEAD",r,tr(tr({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,a)=>D0(t,"DELETE",r,i,a,n,e)}}const $ne=i9("storage"),{get:Jg,post:rl,put:sk,head:Bne,remove:uC}=$ne,Fs=i9("vectors");var Cp=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Tne(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(b2(r))return{data:null,error:r};throw r}}},Une=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(b2(t))return{data:null,error:t};throw t}}};let a9;a9=Symbol.toStringTag;var zne=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[a9]="BlobDownloadBuilder",this.promise=null}asStream(){return new Une(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(b2(t))return{data:null,error:t};throw t}}};const Wne={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},i6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Hne=class extends Cp{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let a;const o=tr(tr({},i6),n);let l=tr(tr({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=tr(tr({},l),n.headers));const u=i._removeEmptyFolders(t),d=i._getFinalPath(u),f=await(e=="PUT"?sk:rl)(i.fetch,`${i.url}/object/${d}`,a,tr({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),i.handleOperation(async()=>{let c;const u=tr({upsert:i6.upsert},n),d=tr(tr({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:a,fullPath:(await sk(i.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=tr({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await rl(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+a.url),l=o.searchParams.get("token");if(!l)throw new w2("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await rl(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await rl(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),a=await rl(n.fetch,`${n.url}/object/sign/${i}`,tr({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await rl(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(o=>tr(tr({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"",o=this._getFinalPath(e),l=()=>Jg(this.fetch,`${this.url}/${n}/${o}${a}`,{headers:this.headers,noResolveJson:!0},r);return new zne(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>ak(await Jg(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Bne(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(b2(n)&&n instanceof n9){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await uC(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=tr(tr(tr({},Wne),t),{},{prefix:e||""});return await rl(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=tr({},e);return await rl(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const qne="2.95.3",Bv={"X-Client-Info":`storage-js/${qne}`};var Vne=class extends Cp{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),o=tr(tr({},Bv),t);super(a,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Jg(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Jg(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await rl(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await sk(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await rl(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await uC(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Gne=class extends Cp{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=tr(tr({},Bv),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await rl(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Jg(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await uC(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Rne(e))throw new w2("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Pne({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},Kne=class extends Cp{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=tr(tr({},Bv),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Fs.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Fs.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},Yne=class extends Cp{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=tr(tr({},Bv),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Xne=class extends Cp{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=tr(tr({},Bv),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Fs.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Jne=class extends Xne{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Zne(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Zne=class extends Kne{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,tr(tr({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,tr(tr({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Qne(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Qne=class extends Yne{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,tr(tr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,tr(tr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,tr(tr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,tr(tr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,tr(tr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},eie=class extends Vne{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Hne(this.url,this.headers,e,this.fetch)}get vectors(){return new Jne(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Gne(this.url+"/iceberg",this.headers,this.fetch)}};const s9="2.95.3",dm=30*1e3,ok=3,AS=ok*dm,tie="http://localhost:9999",rie="supabase.auth.token",nie={"X-Client-Info":`gotrue-js/${s9}`},lk="X-Supabase-Api-Version",o9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aie=10*60*1e3;class Zg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function zt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sie extends Zg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function oie(e){return zt(e)&&e.name==="AuthApiError"}class bf extends Zg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hu extends Zg{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ts extends hu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PS(e){return zt(e)&&e.name==="AuthSessionMissingError"}class zh extends hu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ky extends hu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ey extends hu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lie(e){return zt(e)&&e.name==="AuthImplicitGrantRedirectError"}class a6 extends hu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cie extends hu{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ck extends hu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function TS(e){return zt(e)&&e.name==="AuthRetryableFetchError"}class s6 extends hu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class uk extends hu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),o6=` 	
\r=`.split(""),uie=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<o6.length;t+=1)e[o6[t].charCodeAt(0)]=-2;for(let t=0;t<yw.length;t+=1)e[yw[t].charCodeAt(0)]=t;return e})();function l6(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yw[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yw[n]),t.queuedBits-=6}}function l9(e,t,r){const n=uie[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function c6(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{hie(o,n,r)};for(let o=0;o<e.length;o+=1)l9(e.charCodeAt(o),i,a);return t.join("")}function die(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function fie(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}die(n,t)}}function hie(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Um(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)l9(e.charCodeAt(i),r,n);return new Uint8Array(t)}function mie(e){const t=[];return fie(e,r=>t.push(r)),new Uint8Array(t)}function Ef(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>l6(i,r,n)),l6(null,r,n),t.join("")}function pie(e){return Math.round(Date.now()/1e3)+e}function gie(){return Symbol("auth-callback")}const da=()=>typeof window<"u"&&typeof document<"u",lf={tested:!1,writable:!1},c9=()=>{if(!da())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lf.tested)return lf.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lf.tested=!0,lf.writable=!0}catch{lf.tested=!0,lf.writable=!1}return lf.writable};function vie(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const u9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xie=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fm=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},cf=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ua=async(e,t)=>{await e.removeItem(t)};class _2{constructor(){this.promise=new _2.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}_2.promiseConstructor=Promise;function Cy(e){const t=e.split(".");if(t.length!==3)throw new uk("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!iie.test(t[n]))throw new uk("JWT not in base64url format");return{header:JSON.parse(c6(t[0])),payload:JSON.parse(c6(t[1])),signature:Um(t[2]),raw:{header:t[0],payload:t[1]}}}async function yie(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wie(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function bie(e){return("0"+e.toString(16)).substr(-2)}function _ie(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,bie).join("")}async function jie(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Sie(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jie(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wh(e,t,r=!1){const n=_ie();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await fm(e,`${t}-code-verifier`,i);const a=await Sie(n);return[a,n===a?"plain":"s256"]}const Nie=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kie(e){const t=e.headers.get(lk);if(!t||!t.match(Nie))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Eie(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Cie(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Aie=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hh(e){if(!Aie.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function OS(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pie(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function u6(e){return JSON.parse(JSON.stringify(e))}const mf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tie=[502,503,504];async function d6(e){var t;if(!xie(e))throw new ck(mf(e),0);if(Tie.includes(e.status))throw new ck(mf(e),e.status);let r;try{r=await e.json()}catch(a){throw new bf(mf(a),a)}let n;const i=kie(e);if(i&&i.getTime()>=o9["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new s6(mf(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ts}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new s6(mf(r),e.status,r.weak_password.reasons);throw new sie(mf(r),e.status||500,n)}const Oie=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Jt(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[lk]||(a[lk]=o9["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Rie(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Rie(e,t,r,n,i,a){const o=Oie(t,n,i,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new ck(mf(c),0)}if(l.ok||await d6(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await d6(c)}}function Qo(e){var t;let r=null;Lie(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=pie(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function f6(e){const t=Qo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function td(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Iie(e){return{data:e,error:null}}function Die(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=Ep(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function h6(e){return e}function Lie(e){return e.access_token&&e.refresh_token&&e.expires_in}const RS=["global","local","others"];class Mie{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=u9(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=RS[0]){if(RS.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${RS.join(", ")}`);try{return await Jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:td})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ep(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Die,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(zt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Jt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:td})}catch(r){if(zt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:h6});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(zt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Hh(t);try{return await Jt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:td})}catch(r){if(zt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hh(t);try{return await Jt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:td})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Hh(t);try{return await Jt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:td})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Hh(t.userId);try{const{data:r,error:n}=await Jt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(zt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hh(t.userId),Hh(t.id);try{return{data:await Jt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Jt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:h6});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(zt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Jt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(zt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Jt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(zt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Jt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(zt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Jt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Jt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(zt(r))return{data:null,error:r};throw r}}}function m6(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const qh={debug:!!(globalThis&&c9()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class d9 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Fie extends d9{}async function $ie(e,t,r){qh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){qh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{qh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw qh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Fie(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qh.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Bie(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function f9(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Uie(e){return parseInt(e,16)}function zie(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Wie(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=f9(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${h}

${g}`;let y=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}y+=w}return`${x}
${y}`}class gi extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class ww extends gi{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Hie({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new gi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new gi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new gi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new gi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new gi({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new gi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new gi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(h9(o)){if(a.rp.id!==o)return new gi({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new gi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new gi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function qie({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new gi({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(h9(n)){if(r.rpId!==n)return new gi({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new gi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Vie{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Gie=new Vie;function Kie(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Ep(e,["challenge","user","excludeCredentials"]),a=Um(t).buffer,o=Object.assign(Object.assign({},r),{id:Um(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Um(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Yie(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ep(e,["challenge","allowCredentials"]),i=Um(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Um(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Xie(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ef(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ef(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Jie(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ef(new Uint8Array(i.authenticatorData)),clientDataJSON:Ef(new Uint8Array(i.clientDataJSON)),signature:Ef(new Uint8Array(i.signature)),userHandle:i.userHandle?Ef(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function h9(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function p6(){var e,t;return!!(da()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Zie(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ww("Browser returned unexpected credential type",t)}:{data:null,error:new ww("Empty credential response",t)}}catch(t){return{data:null,error:Hie({error:t,options:e})}}}async function Qie(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ww("Browser returned unexpected credential type",t)}:{data:null,error:new ww("Empty credential response",t)}}catch(t){return{data:null,error:qie({error:t,options:e})}}}const eae={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},tae={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bw(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=bw(l,o):n[a]=bw(o)}else n[a]=o}return n}function rae(e,t){return bw(eae,e,t||{})}function nae(e,t){return bw(tae,e,t||{})}class iae{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=i??Gie.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const h=(await this.client.getUser()).data.user,v=((o=h==null?void 0:h.user_metadata)===null||o===void 0?void 0:o.name)||(h==null?void 0:h.email)||(h==null?void 0:h.id)||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=rae(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:f,error:m}=await Zie({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const d=nae(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:f,error:m}=await Qie(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(l){return zt(l)?{data:null,error:l}:{data:null,error:new bf("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Zg("rpId is required for WebAuthn authentication")};try{if(!p6())return{data:null,error:new bf("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return zt(o)?{data:null,error:o}:{data:null,error:new bf("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Zg("rpId is required for WebAuthn registration")};try{if(!p6())return{data:null,error:new bf("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return zt(o)?{data:null,error:o}:{data:null,error:new bf("Unexpected error in register",o)}}}}Bie();const aae={url:tie,storageKey:rie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function g6(e,t,r){return await r()}const Vh={};class Qg{get jwks(){var t,r;return(r=(t=Vh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vh[this.storageKey]=Object.assign(Object.assign({},Vh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vh[this.storageKey]=Object.assign(Object.assign({},Vh[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},aae),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Qg.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&da()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Mie({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=u9(a.fetch),this.lock=a.lock||g6,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&da()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$ie:this.lock=g6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iae(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:c9()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=m6(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=m6(this.memoryStorage)),da()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${s9}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(da()&&(r=vie(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),da()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),lie(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return zt(r)?this._returnResult({error:r}):this._returnResult({error:new bf("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qo}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(zt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Wh(this.storage,this.storageKey)),a=await Jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:v},xform:Qo})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await Jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Qo})}else throw new ky("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await ua(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await ua(this.storage,`${this.storageKey}-code-verifier`),zt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:f6})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:f6})}else throw new ky("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new zh;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,l,c,u,d,f,m;let h,v;if("message"in t)h=t.message,v=t.signature;else{const{chain:g,wallet:x,statement:y,options:w}=t;let _;if(da())if(typeof x=="object")_=x;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const b=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),N=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=f9(N[0]);let S=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const k=await _.request({method:"eth_chainId"});S=Uie(k)}const A={domain:b.host,address:C,statement:y,uri:b.href,version:"1",chainId:S,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=Wie(A),v=await _.request({method:"personal_sign",params:[zie(h),C]})}try{const{data:g,error:x}=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Qo});if(x)throw x;if(!g||!g.session||!g.user){const y=new zh;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(zt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,i,a,o,l,c,u,d,f,m,h;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:x,wallet:y,statement:w,options:_}=t;let b;if(da())if(typeof y=="object")b=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))b=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const N=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const C=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),w?{statement:w}:null));let S;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")S=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)S=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const C=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:x,error:y}=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ef(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qo});if(y)throw y;if(!x||!x.session||!x.user){const w=new zh;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(zt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await cf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new cie;const{data:a,error:o}=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qo});if(await ua(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new zh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await ua(this.storage,`${this.storageKey}-code-verifier`),zt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,l=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qo}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new zh;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wh(this.storage,this.storageKey));const{error:f}=await Jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ky("You must provide either an email or phone number.")}catch(l){if(await ua(this.storage,`${this.storageKey}-code-verifier`),zt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Qo});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Wh(this.storage,this.storageKey));const u=await Jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Iie});return!((a=u.data)===null||a===void 0)&&a.url&&da()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await ua(this.storage,`${this.storageKey}-code-verifier`),zt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ts;const{error:i}=await Jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(zt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await Jt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:l}=await Jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new ky("You must provide either an email or phone number and a type")}catch(r){if(zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await cf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<AS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await cf(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=OS()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Pie(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:td}):await this._useSession(async r=>{var n,i,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ts}:await Jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:td})})}catch(r){if(zt(r))return PS(r)&&(await this._removeSession(),await ua(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ts;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Wh(this.storage,this.storageKey));const{data:u,error:d}=await Jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:td});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ua(this.storage,`${this.storageKey}-code-verifier`),zt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ts;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Cy(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(zt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ts;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!da())throw new Ey("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ey(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new a6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ey("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new a6("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Ey("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const h=m-d;h*1e3<=dm&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=m-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:g,error:x}=await this._getUser(a);if(x)throw x;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(zt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await cf(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!PS(a))return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(oie(l)&&(l.status===404||l.status===401||l.status===403)||PS(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await ua(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=gie(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Wh(this.storage,this.storageKey,!0));try{return await Jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await ua(this.storage,`${this.storageKey}-code-verifier`),zt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(zt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Jt(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return da()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(zt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qo}),{data:m,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new zh}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:h}))}catch(i){if(await ua(this.storage,`${this.storageKey}-code-verifier`),zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Jt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(zt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await wie(async i=>(i>0&&await yie(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qo})),(i,a)=>{const o=200*Math.pow(2,i);return a&&TS(a)&&Date.now()+o-n<dm})}catch(n){if(this._debug(r,"error",n),zt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),da()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await cf(this.storage,this.storageKey);if(i&&this.userStorage){let o=await cf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await fm(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:OS()}else if(i&&!i.user&&!i.user){const o=await cf(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await ua(this.storage,this.storageKey+"-user"),await fm(this.storage,this.storageKey,i)):i.user=OS()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<AS;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${AS}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),TS(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ts;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _2;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Ts;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),zt(a)){const o={data:null,error:a};return TS(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ua(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fm(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=u6(i);await fm(this.storage,this.storageKey,a)}else{const i=u6(r);await fm(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ua(this.storage,this.storageKey),await ua(this.storage,this.storageKey+"-code-verifier"),await ua(this.storage,this.storageKey+"-user"),this.userStorage&&await ua(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&da()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dm);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/dm);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dm}ms, refresh threshold is ${ok} ticks`),i<=ok&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof d9)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!da()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Wh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Jt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(zt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Jt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(zt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Xie(t.webauthn.credential_response):Jie(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(zt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await Jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Kie(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Yie(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(zt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,a;if(t)try{const{payload:h}=Cy(t);let v=null;h.aal&&(v=h.aal);let g=v;const{data:{user:x},error:y}=await this.getUser(t);if(y)return this._returnResult({data:null,error:y});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const _=h.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:_},error:null}}catch(h){if(zt(h))return this._returnResult({data:null,error:h});throw h}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Cy(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((a=(i=o.user.factors)===null||i===void 0?void 0:i.filter(h=>h.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Jt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ts})})}catch(r){if(zt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ts});const o=await Jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&da()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(zt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ts});const o=await Jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&da()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(zt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Jt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ts})})}catch(t){if(zt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Jt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ts})})}catch(r){if(zt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+aie>i)return n;const{data:a,error:o}=await Jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return this._returnResult({data:null,error:v});n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=Cy(n);r!=null&&r.allowExpired||Eie(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const d=Cie(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,mie(`${l}.${c}`)))throw new uk("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(zt(n))return this._returnResult({data:null,error:n});throw n}}}Qg.nextInstanceID={};const sae=Qg,oae="2.95.3";let rg="";typeof Deno<"u"?rg="deno":typeof document<"u"?rg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rg="react-native":rg="node";const lae={"X-Client-Info":`supabase-js-${rg}/${oae}`},cae={headers:lae},uae={schema:"public"},dae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fae={};function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function hae(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mae(e){var t=hae(e,"string");return ev(t)=="symbol"?t:t+""}function pae(e,t,r){return(t=mae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(r),!0).forEach(function(n){pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const gae=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vae=()=>Headers,xae=(e,t,r)=>{const n=gae(r),i=vae();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Wn(Wn({},o),{},{headers:u}))}};function yae(e){return e.endsWith("/")?e:e+"/"}function wae(e,t){var r,n;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Wn(Wn({},c),i),auth:Wn(Wn({},u),a),realtime:Wn(Wn({},d),o),storage:{},global:Wn(Wn(Wn({},f),l),{},{headers:Wn(Wn({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function bae(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yae(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _ae=class extends sae{constructor(e){super(e)}},jae=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=bae(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:uae,realtime:fae,auth:Wn(Wn({},dae),{},{storageKey:o}),global:cae},c=wae(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=xae(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Wn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new one(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new eie(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Qre(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _ae({url:this.authUrl.href,headers:Wn(Wn({},m),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Sne(this.realtimeUrl.href,Wn(Wn({},e),{},{params:Wn(Wn({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Sae=(e,t,r)=>new jae(e,t,r);function Nae(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Nae()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kae="https://hhprkpnudprpwmaiizxr.supabase.co",Eae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhocHJrcG51ZHBycHdtYWlpenhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4NDcxOTAsImV4cCI6MjA4NTQyMzE5MH0.f6fhGdGFWBkvwvpa3B2Zx6f6RarvF5-X2PpJMjv61g8",ge=Sae(kae,Eae,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{fetch:(e,t={})=>{const r=new AbortController,n=setTimeout(()=>r.abort(),1e4);return fetch(e,{...t,signal:r.signal}).finally(()=>clearTimeout(n))}}}),m9=p.createContext(void 0),Yo=e=>{var i;if(!e)return!1;const t=["invalid claim","expired","invalid signature","invalid token","jwt","unauthorized","session"],r=((i=e==null?void 0:e.message)==null?void 0:i.toLowerCase())||"",n=e==null?void 0:e.status;return n===401||n===403||t.some(a=>r.includes(a))};function Cae({children:e}){const[t,r]=p.useState(null),[n,i]=p.useState(null),[a,o]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState(typeof navigator<"u"?navigator.onLine:!0),[f,m]=p.useState(!1);p.useEffect(()=>{const N=()=>{d(!0),m(!1)},C=()=>{d(!1)};return window.addEventListener("online",N),window.addEventListener("offline",C),()=>{window.removeEventListener("online",N),window.removeEventListener("offline",C)}},[]),p.useEffect(()=>{let N=!0;const{data:{subscription:C}}=ge.auth.onAuthStateChange(async(A,k)=>{if(N)try{A==="INITIAL_SESSION"?k!=null&&k.user&&(k!=null&&k.access_token)?(r(k.user),await h(k.access_token)):(r(null),o(!1)):A==="SIGNED_IN"?(r((k==null?void 0:k.user)??null),k!=null&&k.user&&(k!=null&&k.access_token)&&await h(k.access_token),m(!1)):A==="SIGNED_OUT"?(r(null),i(null),c(!1),m(!1),o(!1)):A==="TOKEN_REFRESHED"?(r((k==null?void 0:k.user)??null),m(!1)):A==="USER_UPDATED"&&(r((k==null?void 0:k.user)??null),k!=null&&k.user&&(k!=null&&k.access_token)&&await h(k.access_token))}catch(R){console.error("Error handling auth state change:",R),N&&o(!1)}}),S=setTimeout(()=>{N&&o(A=>(A&&console.warn("Auth initialization timed out - showing login"),!1))},4e3);return()=>{N=!1,clearTimeout(S),C.unsubscribe()}},[]);const h=async N=>{try{const C=await fetch("/api/profile",{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}});if(C.status===401){m(!0),await ge.auth.signOut();return}if(!C.ok)throw new Error(`Profile load failed: ${C.status}`);const S=await C.json();S._portalUser?(c(!0),i(null)):(i(S),c(!1))}catch(C){if(console.error("Error loading profile:",(C==null?void 0:C.message)||C),Yo(C)){m(!0),i(null),c(!1);try{await ge.auth.signOut()}catch{}}}finally{o(!1)}},b={user:t,profile:n,loading:a,isPortalUser:l,isOnline:u,sessionExpired:f,signIn:async(N,C)=>{try{o(!0);const{error:S}=await ge.auth.signInWithPassword({email:N,password:C});return S?(o(!1),Yo(S)&&m(!0),{error:S}):(m(!1),{error:null})}catch(S){o(!1);const A=S;return Yo(A)&&m(!0),{error:A}}},signUp:async(N,C)=>{try{const{error:S}=await ge.auth.signUp({email:N,password:C});return S&&Yo(S)?(m(!0),{error:S}):(m(!1),{error:S})}catch(S){const A=S;return Yo(A)&&m(!0),{error:A}}},signOut:async()=>{try{await ge.auth.signOut(),i(null),r(null),c(!1),m(!1)}catch(N){console.error("Error signing out:",N),i(null),r(null),c(!1),m(!1)}},resetPassword:async N=>{try{const{error:C}=await ge.auth.resetPasswordForEmail(N,{redirectTo:`${window.location.origin}/reset-password`});return C&&Yo(C)?(m(!0),{error:C}):{error:C}}catch(C){const S=C;return Yo(S)&&m(!0),{error:S}}},updatePassword:async N=>{try{const{error:C}=await ge.auth.updateUser({password:N});return C&&Yo(C)?(m(!0),{error:C}):(m(!1),{error:C})}catch(C){const S=C;return Yo(S)&&m(!0),{error:S}}},refreshSession:async()=>{var N;try{const{data:C,error:S}=await ge.auth.refreshSession();return S?(Yo(S)&&(m(!0),await ge.auth.signOut()),{error:S}):((N=C.session)!=null&&N.user&&(r(C.session.user),m(!1)),{error:null})}catch(C){const S=C;return Yo(S)&&(m(!0),await ge.auth.signOut()),{error:S}}}};return s.jsx(m9.Provider,{value:b,children:e})}function Fi(){const e=p.useContext(m9);return e===void 0?{user:null,profile:null,loading:!0,isPortalUser:!1,isOnline:!0,sessionExpired:!1,signIn:async()=>({error:new Error("Auth not ready")}),signUp:async()=>({error:new Error("Auth not ready")}),signOut:async()=>{},resetPassword:async()=>({error:new Error("Auth not ready")}),updatePassword:async()=>({error:new Error("Auth not ready")}),refreshSession:async()=>({error:new Error("Auth not ready")})}:e}const p9=p.createContext(void 0);function Aae({children:e}){const[t,r]=p.useState(()=>localStorage.getItem("theme")||"light"),[n,i]=p.useState("light");p.useEffect(()=>{const o=document.documentElement;let l="light";if(t==="auto"){const c=window.matchMedia("(prefers-color-scheme: dark)");l=c.matches?"dark":"light";const u=d=>{const f=d.matches?"dark":"light";i(f),o.classList.toggle("dark",f==="dark")};return c.addEventListener("change",u),i(l),o.classList.toggle("dark",l==="dark"),()=>c.removeEventListener("change",u)}else l=t,i(l),o.classList.toggle("dark",l==="dark")},[t]);const a=o=>{r(o),localStorage.setItem("theme",o)};return s.jsx(p9.Provider,{value:{theme:t,effectiveTheme:n,setTheme:a},children:e})}function Pae(){const e=p.useContext(p9);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),mt=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>p.createElement("svg",{ref:d,...Tae,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Oae(e)}`,l].join(" "),...u},[...t.map(([f,m])=>p.createElement(f,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=mt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=mt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=mt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=mt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=mt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=mt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=mt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=mt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=mt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=mt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=mt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=mt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=mt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=mt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=mt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=mt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=mt("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=mt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=mt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=mt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=mt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=mt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=mt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=mt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=mt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=mt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=mt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=mt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=mt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=mt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=mt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=mt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=mt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=mt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=mt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=mt("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=mt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=mt("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=mt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=mt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=mt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=mt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=mt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=mt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=mt("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=mt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=mt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=mt("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=mt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=mt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=mt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=mt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=mt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=mt("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=mt("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=mt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=mt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=mt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=mt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=mt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=mt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),S9=p.createContext(void 0);function ese({children:e}){const[t,r]=p.useState([]),n=p.useCallback(f=>{r(m=>m.filter(h=>h.id!==f))},[]),i=p.useCallback((f,m,h=5e3)=>{const v=Math.random().toString(36).substr(2,9),g={id:v,type:f,message:m,duration:h};r(x=>[...x,g]),h>0&&setTimeout(()=>n(v),h)},[n]),a=p.useCallback((f,m)=>{i("success",f,m)},[i]),o=p.useCallback((f,m)=>{i("error",f,m)},[i]),l=p.useCallback((f,m)=>{i("warning",f,m)},[i]),c=p.useCallback((f,m)=>{i("info",f,m)},[i]),u=f=>{switch(f){case"success":return s.jsx(Sn,{className:"h-5 w-5 text-green-600"});case"error":return s.jsx(Sw,{className:"h-5 w-5 text-red-600"});case"warning":return s.jsx(Xn,{className:"h-5 w-5 text-yellow-600"});case"info":return s.jsx(Fae,{className:"h-5 w-5 text-blue-600"})}},d=f=>{switch(f){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200"}};return s.jsxs(S9.Provider,{value:{showToast:i,success:a,error:o,warning:l,info:c},children:[e,s.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 max-w-md",children:t.map(f=>s.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border shadow-lg animate-slide-in ${d(f.type)}`,role:"alert","aria-live":"assertive",children:[s.jsx("div",{className:"flex-shrink-0",children:u(f.type)}),s.jsx("p",{className:"text-sm text-gray-800 flex-1",children:f.message}),s.jsx("button",{onClick:()=>n(f.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition","aria-label":"Close notification",children:s.jsx(to,{className:"h-4 w-4"})})]},f.id))})]})}function Cr(){const e=p.useContext(S9);if(!e)throw new Error("useToast must be used within ToastProvider");return e}class tse extends p.Component{constructor(r){super(r);kr(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});kr(this,"handleReload",()=>{window.location.reload()});kr(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Error caught by boundary:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[s.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mx-auto mb-4",children:s.jsx(Us,{className:"w-8 h-8 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),this.state.error&&s.jsxs("details",{className:"mb-6 p-4 bg-gray-50 rounded border",children:[s.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 mb-2",children:"Error Details"}),s.jsxs("div",{className:"text-xs text-gray-600 font-mono overflow-auto max-h-40",children:[s.jsx("p",{className:"font-semibold mb-1",children:this.state.error.toString()}),this.state.errorInfo&&s.jsx("pre",{className:"whitespace-pre-wrap break-words",children:this.state.errorInfo.componentStack})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(zv,{className:"w-4 h-4"}),"Try Again"]}),s.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Mae,{className:"w-4 h-4"}),"Go Home"]})]}),s.jsx("button",{onClick:this.handleReload,className:"w-full mt-3 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Reload Page"})]})}):this.props.children}}function j6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Mn(...e){return t=>{let r=!1;const n=e.map(i=>{const a=j6(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():j6(e[i],null)}}}}function hr(...e){return p.useCallback(Mn(...e),e)}var rse=Symbol.for("react.lazy"),Nw=Iv[" use ".trim().toString()];function nse(e){return typeof e=="object"&&e!==null&&"then"in e}function N9(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===rse&&"_payload"in e&&nse(e._payload)}function k9(e){const t=ise(e),r=p.forwardRef((n,i)=>{let{children:a,...o}=n;N9(a)&&typeof Nw=="function"&&(a=Nw(a._payload));const l=p.Children.toArray(a),c=l.find(sse);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var Pp=k9("Slot");function ise(e){const t=p.forwardRef((r,n)=>{let{children:i,...a}=r;if(N9(i)&&typeof Nw=="function"&&(i=Nw(i._payload)),p.isValidElement(i)){const o=lse(i),l=ose(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ase=Symbol("radix.slottable");function sse(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ase}function ose(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function lse(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function E9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=E9(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Er(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=E9(e))&&(n&&(n+=" "),n+=t);return n}const S6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,N6=Er,Tp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return N6(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const m=S6(d)||S6(f);return i[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(v=>{let[g,x]=v;return Array.isArray(x)?x.includes({...a,...l}[g]):{...a,...l}[g]===x})?[...u,f,m]:u},[]);return N6(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},DS=768;function cse(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const r=window.matchMedia(`(max-width: ${DS-1}px)`),n=()=>{t(window.innerWidth<DS)};return r.addEventListener("change",n),t(window.innerWidth<DS),()=>r.removeEventListener("change",n)},[]),!!e}const use=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},dse=(e,t)=>({classGroupId:e,validator:t}),C9=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),kw="-",k6=[],fse="arbitrary..",hse=e=>{const t=pse(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return mse(o);const l=o.split(kw),c=l[0]===""&&l.length>1?1:0;return A9(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],u=r[o];return c?u?use(u,c):c:u||k6}return r[o]||k6}}},A9=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const i=e[t],a=r.nextPart.get(i);if(a){const u=A9(e,t+1,a);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(kw):e.slice(t).join(kw),c=o.length;for(let u=0;u<c;u++){const d=o[u];if(d.validator(l))return d.classGroupId}},mse=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?fse+n:void 0})(),pse=e=>{const{theme:t,classGroups:r}=e;return gse(r,t)},gse=(e,t)=>{const r=C9();for(const n in e){const i=e[n];xC(i,r,n,t)}return r},xC=(e,t,r,n)=>{const i=e.length;for(let a=0;a<i;a++){const o=e[a];vse(o,t,r,n)}},vse=(e,t,r,n)=>{if(typeof e=="string"){xse(e,t,r);return}if(typeof e=="function"){yse(e,t,r,n);return}wse(e,t,r,n)},xse=(e,t,r)=>{const n=e===""?t:P9(t,e);n.classGroupId=r},yse=(e,t,r,n)=>{if(bse(e)){xC(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(dse(r,e))},wse=(e,t,r,n)=>{const i=Object.entries(e),a=i.length;for(let o=0;o<a;o++){const[l,c]=i[o];xC(c,P9(t,l),r,n)}},P9=(e,t)=>{let r=e;const n=t.split(kw),i=n.length;for(let a=0;a<i;a++){const o=n[a];let l=r.nextPart.get(o);l||(l=C9(),r.nextPart.set(o,l)),r=l}return r},bse=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,_se=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const i=(a,o)=>{r[a]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(a){let o=r[a];if(o!==void 0)return o;if((o=n[a])!==void 0)return i(a,o),o},set(a,o){a in r?r[a]=o:i(a,o)}}},fk="!",E6=":",jse=[],C6=(e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),Sse=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const a=[];let o=0,l=0,c=0,u;const d=i.length;for(let g=0;g<d;g++){const x=i[g];if(o===0&&l===0){if(x===E6){a.push(i.slice(c,g)),c=g+1;continue}if(x==="/"){u=g;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const f=a.length===0?i:i.slice(c);let m=f,h=!1;f.endsWith(fk)?(m=f.slice(0,-1),h=!0):f.startsWith(fk)&&(m=f.slice(1),h=!0);const v=u&&u>c?u-c:void 0;return C6(a,h,m,v)};if(t){const i=t+E6,a=n;n=o=>o.startsWith(i)?a(o.slice(i.length)):C6(jse,!1,o,void 0,!0)}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},Nse=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let a=0;a<r.length;a++){const o=r[a],l=o[0]==="[",c=t.has(o);l||c?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},kse=e=>({cache:_se(e.cacheSize),parseClassName:Sse(e),sortModifiers:Nse(e),...hse(e)}),Ese=/\s+/,Cse=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],l=e.trim().split(Ese);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:m,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:g}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let x=!!g,y=n(x?v.substring(0,g):v);if(!y){if(!x){c=d+(c.length>0?" "+c:c);continue}if(y=n(v),!y){c=d+(c.length>0?" "+c:c);continue}x=!1}const w=m.length===0?"":m.length===1?m[0]:a(m).join(":"),_=h?w+fk:w,b=_+y;if(o.indexOf(b)>-1)continue;o.push(b);const N=i(y,x);for(let C=0;C<N.length;++C){const S=N[C];o.push(_+S)}c=d+(c.length>0?" "+c:c)}return c},Ase=(...e)=>{let t=0,r,n,i="";for(;t<e.length;)(r=e[t++])&&(n=T9(r))&&(i&&(i+=" "),i+=n);return i},T9=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=T9(e[n]))&&(r&&(r+=" "),r+=t);return r},Pse=(e,...t)=>{let r,n,i,a;const o=c=>{const u=t.reduce((d,f)=>f(d),e());return r=kse(u),n=r.cache.get,i=r.cache.set,a=l,l(c)},l=c=>{const u=n(c);if(u)return u;const d=Cse(c,r);return i(c,d),d};return a=o,(...c)=>a(Ase(...c))},Tse=[],Ti=e=>{const t=r=>r[e]||Tse;return t.isThemeGetter=!0,t},O9=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,R9=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ose=/^\d+\/\d+$/,Rse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ise=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Lse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kh=e=>Ose.test(e),vr=e=>!!e&&!Number.isNaN(Number(e)),Uu=e=>!!e&&Number.isInteger(Number(e)),LS=e=>e.endsWith("%")&&vr(e.slice(0,-1)),Ac=e=>Rse.test(e),Fse=()=>!0,$se=e=>Ise.test(e)&&!Dse.test(e),I9=()=>!1,Bse=e=>Lse.test(e),Use=e=>Mse.test(e),zse=e=>!At(e)&&!Pt(e),Wse=e=>Op(e,M9,I9),At=e=>O9.test(e),uf=e=>Op(e,F9,$se),MS=e=>Op(e,Kse,vr),A6=e=>Op(e,D9,I9),Hse=e=>Op(e,L9,Use),Py=e=>Op(e,$9,Bse),Pt=e=>R9.test(e),L0=e=>Rp(e,F9),qse=e=>Rp(e,Yse),P6=e=>Rp(e,D9),Vse=e=>Rp(e,M9),Gse=e=>Rp(e,L9),Ty=e=>Rp(e,$9,!0),Op=(e,t,r)=>{const n=O9.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Rp=(e,t,r=!1)=>{const n=R9.exec(e);return n?n[1]?t(n[1]):r:!1},D9=e=>e==="position"||e==="percentage",L9=e=>e==="image"||e==="url",M9=e=>e==="length"||e==="size"||e==="bg-size",F9=e=>e==="length",Kse=e=>e==="number",Yse=e=>e==="family-name",$9=e=>e==="shadow",Xse=()=>{const e=Ti("color"),t=Ti("font"),r=Ti("text"),n=Ti("font-weight"),i=Ti("tracking"),a=Ti("leading"),o=Ti("breakpoint"),l=Ti("container"),c=Ti("spacing"),u=Ti("radius"),d=Ti("shadow"),f=Ti("inset-shadow"),m=Ti("text-shadow"),h=Ti("drop-shadow"),v=Ti("blur"),g=Ti("perspective"),x=Ti("aspect"),y=Ti("ease"),w=Ti("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...b(),Pt,At],C=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],A=()=>[Pt,At,c],k=()=>[Kh,"full","auto",...A()],R=()=>[Uu,"none","subgrid",Pt,At],O=()=>["auto",{span:["full",Uu,Pt,At]},Uu,Pt,At],L=()=>[Uu,"auto",Pt,At],U=()=>["auto","min","max","fr",Pt,At],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],ie=()=>["auto",...A()],z=()=>[Kh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],H=()=>[e,Pt,At],X=()=>[...b(),P6,A6,{position:[Pt,At]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],xe=()=>["auto","cover","contain",Vse,Wse,{size:[Pt,At]}],D=()=>[LS,L0,uf],M=()=>["","none","full",u,Pt,At],T=()=>["",vr,L0,uf],V=()=>["solid","dashed","dotted","double"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[vr,LS,P6,A6],te=()=>["","none",v,Pt,At],Y=()=>["none",vr,Pt,At],oe=()=>["none",vr,Pt,At],we=()=>[vr,Pt,At],ve=()=>[Kh,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ac],breakpoint:[Ac],color:[Fse],container:[Ac],"drop-shadow":[Ac],ease:["in","out","in-out"],font:[zse],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ac],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ac],shadow:[Ac],spacing:["px",vr],text:[Ac],"text-shadow":[Ac],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Kh,At,Pt,x]}],container:["container"],columns:[{columns:[vr,At,Pt,l]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Uu,"auto",Pt,At]}],basis:[{basis:[Kh,"full","auto",l,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vr,Kh,"auto","initial","none",At]}],grow:[{grow:["",vr,Pt,At]}],shrink:[{shrink:["",vr,Pt,At]}],order:[{order:[Uu,"first","last","none",Pt,At]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[l,"screen",...z()]}],"min-w":[{"min-w":[l,"screen","none",...z()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",r,L0,uf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Pt,MS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",LS,At]}],"font-family":[{font:[qse,At,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Pt,At]}],"line-clamp":[{"line-clamp":[vr,"none",Pt,MS]}],leading:[{leading:[a,...A()]}],"list-image":[{"list-image":["none",Pt,At]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pt,At]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[vr,"from-font","auto",Pt,uf]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[vr,"auto",Pt,At]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt,At]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt,At]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:xe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Uu,Pt,At],radial:["",Pt,At],conic:[Uu,Pt,At]},Gse,Hse]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:T()}],"border-w-x":[{"border-x":T()}],"border-w-y":[{"border-y":T()}],"border-w-s":[{"border-s":T()}],"border-w-e":[{"border-e":T()}],"border-w-t":[{"border-t":T()}],"border-w-r":[{"border-r":T()}],"border-w-b":[{"border-b":T()}],"border-w-l":[{"border-l":T()}],"divide-x":[{"divide-x":T()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":T()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vr,Pt,At]}],"outline-w":[{outline:["",vr,L0,uf]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",d,Ty,Py]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",f,Ty,Py]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[vr,uf]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":T()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",m,Ty,Py]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[vr,Pt,At]}],"mix-blend":[{"mix-blend":[...F(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":F()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vr]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Pt,At]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[vr]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:xe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pt,At]}],filter:[{filter:["","none",Pt,At]}],blur:[{blur:te()}],brightness:[{brightness:[vr,Pt,At]}],contrast:[{contrast:[vr,Pt,At]}],"drop-shadow":[{"drop-shadow":["","none",h,Ty,Py]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",vr,Pt,At]}],"hue-rotate":[{"hue-rotate":[vr,Pt,At]}],invert:[{invert:["",vr,Pt,At]}],saturate:[{saturate:[vr,Pt,At]}],sepia:[{sepia:["",vr,Pt,At]}],"backdrop-filter":[{"backdrop-filter":["","none",Pt,At]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[vr,Pt,At]}],"backdrop-contrast":[{"backdrop-contrast":[vr,Pt,At]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vr,Pt,At]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vr,Pt,At]}],"backdrop-invert":[{"backdrop-invert":["",vr,Pt,At]}],"backdrop-opacity":[{"backdrop-opacity":[vr,Pt,At]}],"backdrop-saturate":[{"backdrop-saturate":[vr,Pt,At]}],"backdrop-sepia":[{"backdrop-sepia":["",vr,Pt,At]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pt,At]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vr,"initial",Pt,At]}],ease:[{ease:["linear","initial",y,Pt,At]}],delay:[{delay:[vr,Pt,At]}],animate:[{animate:["none",w,Pt,At]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Pt,At]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:Y()}],"rotate-x":[{"rotate-x":Y()}],"rotate-y":[{"rotate-y":Y()}],"rotate-z":[{"rotate-z":Y()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[Pt,At,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ve()}],"translate-x":[{"translate-x":ve()}],"translate-y":[{"translate-y":ve()}],"translate-z":[{"translate-z":ve()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt,At]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt,At]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[vr,L0,uf,MS]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Jse=Pse(Xse);function ot(...e){return Jse(Er(e))}const Zse=Tp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground",destructive:"bg-destructive text-destructive-foreground",outline:"border border-input bg-background",secondary:"bg-secondary text-secondary-foreground",ghost:"",link:"text-primary underline-offset-4 hover:underline no-default-hover-elevate no-default-active-elevate"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),je=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?Pp:"button";return s.jsx(o,{className:ot(Zse({variant:t,size:r,className:e})),ref:a,...i})});je.displayName="Button";const We=p.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ot("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));We.displayName="Input";var Qse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mh=Qse.reduce((e,t)=>{const r=k9(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),eoe="Separator",T6="horizontal",toe=["horizontal","vertical"],B9=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=T6,...i}=e,a=roe(n)?n:T6,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(mh.div,{"data-orientation":a,...l,...i,ref:t})});B9.displayName=eoe;function roe(e){return toe.includes(e)}var U9=B9;const ul=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>s.jsx(U9,{ref:i,decorative:r,orientation:t,className:ot("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ul.displayName=U9.displayName;function ut(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function noe(e,t){const r=p.createContext(t),n=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function ioe(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,aoe(i,...t)]}function aoe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Qn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},soe=Iv[" useId ".trim().toString()]||(()=>{}),ooe=0;function jo(e){const[t,r]=p.useState(soe());return Qn(()=>{r(n=>n??String(ooe++))},[e]),e||(t?`radix-${t}`:"")}var loe=Iv[" useInsertionEffect ".trim().toString()]||Qn;function xl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=coe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const m=uoe(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function coe({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),i=p.useRef(r),a=p.useRef(t);return loe(()=>{a.current=t},[t]),p.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function uoe(e){return typeof e=="function"}function doe(e){const t=foe(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(moe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function foe(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=goe(i),l=poe(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hoe=Symbol("radix.slottable");function moe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hoe}function poe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function goe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var voe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],z9=voe.reduce((e,t)=>{const r=doe(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function xoe(e,t){e&&Ro.flushSync(()=>e.dispatchEvent(t))}function Yn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function yoe(e,t=globalThis==null?void 0:globalThis.document){const r=Yn(e);p.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var woe="DismissableLayer",hk="dismissableLayer.update",boe="dismissableLayer.pointerDownOutside",_oe="dismissableLayer.focusOutside",O6,W9=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ip=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(W9),[d,f]=p.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=p.useState({}),v=hr(t,S=>f(S)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),w=d?g.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,b=w>=y,N=Soe(S=>{const A=S.target,k=[...u.branches].some(R=>R.contains(A));!b||k||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),C=Noe(S=>{const A=S.target;[...u.branches].some(R=>R.contains(A))||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return yoe(S=>{w===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(O6=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),R6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=O6)}},[d,m,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),R6())},[d,u]),p.useEffect(()=>{const S=()=>h({});return document.addEventListener(hk,S),()=>document.removeEventListener(hk,S)},[]),s.jsx(z9.div,{...c,ref:v,style:{pointerEvents:_?b?"auto":"none":void 0,...e.style},onFocusCapture:ut(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ut(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ut(e.onPointerDownCapture,N.onPointerDownCapture)})});Ip.displayName=woe;var joe="DismissableLayerBranch",H9=p.forwardRef((e,t)=>{const r=p.useContext(W9),n=p.useRef(null),i=hr(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(z9.div,{...e,ref:i})});H9.displayName=joe;function Soe(e,t=globalThis==null?void 0:globalThis.document){const r=Yn(e),n=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){q9(boe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Noe(e,t=globalThis==null?void 0:globalThis.document){const r=Yn(e),n=p.useRef(!1);return p.useEffect(()=>{const i=a=>{a.target&&!n.current&&q9(_oe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function R6(){const e=new CustomEvent(hk);document.dispatchEvent(e)}function q9(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?xoe(i,a):i.dispatchEvent(a)}var koe=Ip,Eoe=H9;function Coe(e){const t=Aoe(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(Toe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Aoe(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=Roe(i),l=Ooe(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Poe=Symbol("radix.slottable");function Toe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Poe}function Ooe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Roe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ioe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Doe=Ioe.reduce((e,t)=>{const r=Coe(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),FS="focusScope.autoFocusOnMount",$S="focusScope.autoFocusOnUnmount",I6={bubbles:!1,cancelable:!0},Loe="FocusScope",S2=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=p.useState(null),u=Yn(i),d=Yn(a),f=p.useRef(null),m=hr(t,g=>c(g)),h=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(_){if(h.paused||!l)return;const b=_.target;l.contains(b)?f.current=b:Gu(f.current,{select:!0})},x=function(_){if(h.paused||!l)return;const b=_.relatedTarget;b!==null&&(l.contains(b)||Gu(f.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&Gu(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const w=new MutationObserver(y);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),w.disconnect()}}},[n,l,h.paused]),p.useEffect(()=>{if(l){L6.add(h);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(FS,I6);l.addEventListener(FS,u),l.dispatchEvent(y),y.defaultPrevented||(Moe(zoe(V9(l)),{select:!0}),document.activeElement===g&&Gu(l))}return()=>{l.removeEventListener(FS,u),setTimeout(()=>{const y=new CustomEvent($S,I6);l.addEventListener($S,d),l.dispatchEvent(y),y.defaultPrevented||Gu(g??document.body,{select:!0}),l.removeEventListener($S,d),L6.remove(h)},0)}}},[l,u,d,h]);const v=p.useCallback(g=>{if(!r&&!n||h.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const w=g.currentTarget,[_,b]=Foe(w);_&&b?!g.shiftKey&&y===b?(g.preventDefault(),r&&Gu(_,{select:!0})):g.shiftKey&&y===_&&(g.preventDefault(),r&&Gu(b,{select:!0})):y===w&&g.preventDefault()}},[r,n,h.paused]);return s.jsx(Doe.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});S2.displayName=Loe;function Moe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Gu(n,{select:t}),document.activeElement!==r)return}function Foe(e){const t=V9(e),r=D6(t,e),n=D6(t.reverse(),e);return[r,n]}function V9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function D6(e,t){for(const r of e)if(!$oe(r,{upTo:t}))return r}function $oe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Boe(e){return e instanceof HTMLInputElement&&"select"in e}function Gu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Boe(e)&&t&&e.select()}}var L6=Uoe();function Uoe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=M6(e,t),e.unshift(t)},remove(t){var r;e=M6(e,t),(r=e[0])==null||r.resume()}}}function M6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function zoe(e){return e.filter(t=>t.tagName!=="A")}function Woe(e){const t=Hoe(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(Voe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Hoe(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=Koe(i),l=Goe(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qoe=Symbol("radix.slottable");function Voe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qoe}function Goe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Koe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Yoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xoe=Yoe.reduce((e,t)=>{const r=Woe(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Joe="Portal",Dp=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,a]=p.useState(!1);Qn(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?_re.createPortal(s.jsx(Xoe.div,{...n,ref:t}),o):null});Dp.displayName=Joe;function Zoe(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var ra=e=>{const{present:t,children:r}=e,n=Qoe(t),i=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=hr(n.ref,ele(i));return typeof r=="function"||n.isPresent?p.cloneElement(i,{ref:a}):null};ra.displayName="Presence";function Qoe(e){const[t,r]=p.useState(),n=p.useRef(null),i=p.useRef(e),a=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Zoe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Oy(n.current);a.current=l==="mounted"?u:"none"},[l]),Qn(()=>{const u=n.current,d=i.current;if(d!==e){const m=a.current,h=Oy(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Qn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const g=Oy(n.current).includes(CSS.escape(h.animationName));if(h.target===t&&g&&(c("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=h=>{h.target===t&&(a.current=Oy(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Oy(e){return(e==null?void 0:e.animationName)||"none"}function ele(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function G9(e){const t=tle(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(nle);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function tle(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=ale(i),l=ile(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rle=Symbol("radix.slottable");function nle(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rle}function ile(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function ale(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wv=sle.reduce((e,t)=>{const r=G9(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),BS=0;function yC(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??F6()),document.body.insertAdjacentElement("beforeend",e[1]??F6()),BS++,()=>{BS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),BS--}},[])}function F6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var O1="right-scroll-bar-position",R1="width-before-scroll-bar",ole="with-scroll-bars-hidden",lle="--removed-body-scroll-bar-size";function US(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cle(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var ule=typeof window<"u"?p.useLayoutEffect:p.useEffect,$6=new WeakMap;function dle(e,t){var r=cle(null,function(n){return e.forEach(function(i){return US(i,n)})});return ule(function(){var n=$6.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(l){a.has(l)||US(l,null)}),a.forEach(function(l){i.has(l)||US(l,o)})}$6.set(r,e)},[e]),r}function fle(e){return e}function hle(e,t){t===void 0&&(t=fle);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function mle(e){e===void 0&&(e={});var t=hle(null);return t.options=Gl({async:!0,ssr:!1},e),t}var K9=function(e){var t=e.sideCar,r=Ep(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Gl({},r))};K9.isSideCarExport=!0;function ple(e,t){return e.useMedium(t),K9}var Y9=mle(),zS=function(){},N2=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:zS,onWheelCapture:zS,onTouchMoveCapture:zS}),i=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,h=e.noRelative,v=e.noIsolation,g=e.inert,x=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,_=e.gapMode,b=Ep(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,C=dle([r,t]),S=Gl(Gl({},b),i);return p.createElement(p.Fragment,null,d&&p.createElement(N,{sideCar:Y9,removeScrollBar:u,shards:f,noRelative:h,noIsolation:v,inert:g,setCallbacks:a,allowPinchZoom:!!x,lockRef:r,gapMode:_}),o?p.cloneElement(p.Children.only(l),Gl(Gl({},S),{ref:C})):p.createElement(w,Gl({},S,{className:c,ref:C}),l))});N2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};N2.classNames={fullWidth:R1,zeroRight:O1};var gle=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vle(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gle();return t&&e.setAttribute("nonce",t),e}function xle(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yle(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wle=function(){var e=0,t=null;return{add:function(r){e==0&&(t=vle())&&(xle(t,r),yle(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ble=function(){var e=wle();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},X9=function(){var e=ble(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},_le={left:0,top:0,right:0,gap:0},WS=function(e){return parseInt(e||"",10)||0},jle=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[WS(r),WS(n),WS(i)]},Sle=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _le;var t=jle(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Nle=X9(),zm="data-scroll-locked",kle=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(ole,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(zm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(O1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(R1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(O1," .").concat(O1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(R1," .").concat(R1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zm,`] {
    `).concat(lle,": ").concat(l,`px;
  }
`)},B6=function(){var e=parseInt(document.body.getAttribute(zm)||"0",10);return isFinite(e)?e:0},Ele=function(){p.useEffect(function(){return document.body.setAttribute(zm,(B6()+1).toString()),function(){var e=B6()-1;e<=0?document.body.removeAttribute(zm):document.body.setAttribute(zm,e.toString())}},[])},Cle=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Ele();var a=p.useMemo(function(){return Sle(i)},[i]);return p.createElement(Nle,{styles:kle(a,!t,i,r?"":"!important")})},mk=!1;if(typeof window<"u")try{var Ry=Object.defineProperty({},"passive",{get:function(){return mk=!0,!0}});window.addEventListener("test",Ry,Ry),window.removeEventListener("test",Ry,Ry)}catch{mk=!1}var Yh=mk?{passive:!1}:!1,Ale=function(e){return e.tagName==="TEXTAREA"},J9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ale(e)&&r[t]==="visible")},Ple=function(e){return J9(e,"overflowY")},Tle=function(e){return J9(e,"overflowX")},U6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Z9(e,n);if(i){var a=Q9(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Ole=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Rle=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Z9=function(e,t){return e==="v"?Ple(t):Tle(t)},Q9=function(e,t){return e==="v"?Ole(t):Rle(t)},Ile=function(e,t){return e==="h"&&t==="rtl"?-1:1},Dle=function(e,t,r,n,i){var a=Ile(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var h=Q9(e,l),v=h[0],g=h[1],x=h[2],y=g-x-a*v;(v||y)&&Z9(e,l)&&(f+=y,m+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Iy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},z6=function(e){return[e.deltaX,e.deltaY]},W6=function(e){return e&&"current"in e?e.current:e},Lle=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Mle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Fle=0,Xh=[];function $le(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),i=p.useState(Fle++)[0],a=p.useState(X9)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Xre([e.lockRef.current],(e.shards||[]).map(W6),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Iy(g),w=r.current,_="deltaX"in g?g.deltaX:w[0]-y[0],b="deltaY"in g?g.deltaY:w[1]-y[1],N,C=g.target,S=Math.abs(_)>Math.abs(b)?"h":"v";if("touches"in g&&S==="h"&&C.type==="range")return!1;var A=window.getSelection(),k=A&&A.anchorNode,R=k?k===C||k.contains(C):!1;if(R)return!1;var O=U6(S,C);if(!O)return!0;if(O?N=S:(N=S==="v"?"h":"v",O=U6(S,C)),!O)return!1;if(!n.current&&"changedTouches"in g&&(_||b)&&(n.current=N),!N)return!0;var L=n.current||N;return Dle(L,x,g,L==="h"?_:b)},[]),c=p.useCallback(function(g){var x=g;if(!(!Xh.length||Xh[Xh.length-1]!==a)){var y="deltaY"in x?z6(x):Iy(x),w=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&Lle(N.delta,y)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(W6).filter(Boolean).filter(function(N){return N.contains(x.target)}),b=_.length>0?l(x,_[0]):!o.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(g,x,y,w){var _={name:g,delta:x,target:y,should:w,shadowParent:Ble(y)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(b){return b!==_})},1)},[]),d=p.useCallback(function(g){r.current=Iy(g),n.current=void 0},[]),f=p.useCallback(function(g){u(g.type,z6(g),g.target,l(g,e.lockRef.current))},[]),m=p.useCallback(function(g){u(g.type,Iy(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return Xh.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Yh),document.addEventListener("touchmove",c,Yh),document.addEventListener("touchstart",d,Yh),function(){Xh=Xh.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Yh),document.removeEventListener("touchmove",c,Yh),document.removeEventListener("touchstart",d,Yh)}},[]);var h=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(a,{styles:Mle(i)}):null,h?p.createElement(Cle,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Ble(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ule=ple(Y9,$le);var k2=p.forwardRef(function(e,t){return p.createElement(N2,Gl({},e,{ref:t,sideCar:Ule}))});k2.classNames=N2.classNames;var zle=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jh=new WeakMap,Dy=new WeakMap,Ly={},HS=0,eB=function(e){return e&&(e.host||eB(e.parentNode))},Wle=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=eB(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Hle=function(e,t,r,n){var i=Wle(t,Array.isArray(e)?e:[e]);Ly[r]||(Ly[r]=new WeakMap);var a=Ly[r],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(n),v=h!==null&&h!=="false",g=(Jh.get(m)||0)+1,x=(a.get(m)||0)+1;Jh.set(m,g),a.set(m,x),o.push(m),g===1&&v&&Dy.set(m,!0),x===1&&m.setAttribute(r,"true"),v||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return d(t),l.clear(),HS++,function(){o.forEach(function(f){var m=Jh.get(f)-1,h=a.get(f)-1;Jh.set(f,m),a.set(f,h),m||(Dy.has(f)||f.removeAttribute(n),Dy.delete(f)),h||f.removeAttribute(r)}),HS--,HS||(Jh=new WeakMap,Jh=new WeakMap,Dy=new WeakMap,Ly={})}},wC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=zle(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Hle(n,i,r,"aria-hidden")):function(){return null}},E2="Dialog",[tB]=ioe(E2),[qle,jl]=tB(E2),rB=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=xl({prop:n,defaultProp:i??!1,onChange:a,caller:E2});return s.jsx(qle,{scope:t,triggerRef:l,contentRef:c,contentId:jo(),titleId:jo(),descriptionId:jo(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};rB.displayName=E2;var nB="DialogTrigger",Vle=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jl(nB,r),a=hr(t,i.triggerRef);return s.jsx(Wv.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":jC(i.open),...n,ref:a,onClick:ut(e.onClick,i.onOpenToggle)})});Vle.displayName=nB;var bC="DialogPortal",[Gle,iB]=tB(bC,{forceMount:void 0}),aB=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=jl(bC,t);return s.jsx(Gle,{scope:t,forceMount:r,children:p.Children.map(n,o=>s.jsx(ra,{present:r||a.open,children:s.jsx(Dp,{asChild:!0,container:i,children:o})}))})};aB.displayName=bC;var Ew="DialogOverlay",sB=p.forwardRef((e,t)=>{const r=iB(Ew,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=jl(Ew,e.__scopeDialog);return a.modal?s.jsx(ra,{present:n||a.open,children:s.jsx(Yle,{...i,ref:t})}):null});sB.displayName=Ew;var Kle=G9("DialogOverlay.RemoveScroll"),Yle=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jl(Ew,r);return s.jsx(k2,{as:Kle,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Wv.div,{"data-state":jC(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Kf="DialogContent",oB=p.forwardRef((e,t)=>{const r=iB(Kf,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=jl(Kf,e.__scopeDialog);return s.jsx(ra,{present:n||a.open,children:a.modal?s.jsx(Xle,{...i,ref:t}):s.jsx(Jle,{...i,ref:t})})});oB.displayName=Kf;var Xle=p.forwardRef((e,t)=>{const r=jl(Kf,e.__scopeDialog),n=p.useRef(null),i=hr(t,r.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return wC(a)},[]),s.jsx(lB,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ut(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ut(e.onFocusOutside,a=>a.preventDefault())})}),Jle=p.forwardRef((e,t)=>{const r=jl(Kf,e.__scopeDialog),n=p.useRef(!1),i=p.useRef(!1);return s.jsx(lB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),lB=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=jl(Kf,r),c=p.useRef(null),u=hr(t,c);return yC(),s.jsxs(s.Fragment,{children:[s.jsx(S2,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Ip,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jC(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Zle,{titleId:l.titleId}),s.jsx(ece,{contentRef:c,descriptionId:l.descriptionId})]})]})}),_C="DialogTitle",cB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jl(_C,r);return s.jsx(Wv.h2,{id:i.titleId,...n,ref:t})});cB.displayName=_C;var uB="DialogDescription",dB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jl(uB,r);return s.jsx(Wv.p,{id:i.descriptionId,...n,ref:t})});dB.displayName=uB;var fB="DialogClose",hB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jl(fB,r);return s.jsx(Wv.button,{type:"button",...n,ref:t,onClick:ut(e.onClick,()=>i.onOpenChange(!1))})});hB.displayName=fB;function jC(e){return e?"open":"closed"}var mB="DialogTitleWarning",[CBe,pB]=noe(mB,{contentName:Kf,titleName:_C,docsSlug:"dialog"}),Zle=({titleId:e})=>{const t=pB(mB),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Qle="DialogDescriptionWarning",ece=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pB(Qle).contentName}}.`;return p.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},gB=rB,vB=aB,C2=sB,A2=oB,P2=cB,T2=dB,xB=hB;const tce=gB,rce=vB,yB=p.forwardRef(({className:e,...t},r)=>s.jsx(C2,{className:ot("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));yB.displayName=C2.displayName;const nce=Tp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),wB=p.forwardRef(({side:e="right",className:t,children:r,...n},i)=>s.jsxs(rce,{children:[s.jsx(yB,{}),s.jsxs(A2,{ref:i,className:ot(nce({side:e}),t),...n,children:[s.jsxs(xB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(to,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));wB.displayName=A2.displayName;const ice=p.forwardRef(({className:e,...t},r)=>s.jsx(P2,{ref:r,className:ot("text-lg font-semibold text-foreground",e),...t}));ice.displayName=P2.displayName;const ace=p.forwardRef(({className:e,...t},r)=>s.jsx(T2,{ref:r,className:ot("text-sm text-muted-foreground",e),...t}));ace.displayName=T2.displayName;function ke({className:e,...t}){return s.jsx("div",{className:ot("animate-pulse rounded-md bg-muted",e),...t})}function sce(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,oce(i,...t)]}function oce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const lce=["top","right","bottom","left"],Nd=Math.min,Ds=Math.max,Cw=Math.round,My=Math.floor,ec=e=>({x:e,y:e}),cce={left:"right",right:"left",bottom:"top",top:"bottom"},uce={start:"end",end:"start"};function pk(e,t,r){return Ds(e,Nd(t,r))}function eu(e,t){return typeof e=="function"?e(t):e}function tu(e){return e.split("-")[0]}function Lp(e){return e.split("-")[1]}function SC(e){return e==="x"?"y":"x"}function NC(e){return e==="y"?"height":"width"}const dce=new Set(["top","bottom"]);function Kl(e){return dce.has(tu(e))?"y":"x"}function kC(e){return SC(Kl(e))}function fce(e,t,r){r===void 0&&(r=!1);const n=Lp(e),i=kC(e),a=NC(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Aw(o)),[o,Aw(o)]}function hce(e){const t=Aw(e);return[gk(e),t,gk(t)]}function gk(e){return e.replace(/start|end/g,t=>uce[t])}const H6=["left","right"],q6=["right","left"],mce=["top","bottom"],pce=["bottom","top"];function gce(e,t,r){switch(e){case"top":case"bottom":return r?t?q6:H6:t?H6:q6;case"left":case"right":return t?mce:pce;default:return[]}}function vce(e,t,r,n){const i=Lp(e);let a=gce(tu(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(gk)))),a}function Aw(e){return e.replace(/left|right|bottom|top/g,t=>cce[t])}function xce(e){return{top:0,right:0,bottom:0,left:0,...e}}function bB(e){return typeof e!="number"?xce(e):{top:e,right:e,bottom:e,left:e}}function Pw(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function V6(e,t,r){let{reference:n,floating:i}=e;const a=Kl(t),o=kC(t),l=NC(o),c=tu(t),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let h;switch(c){case"top":h={x:d,y:n.y-i.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-i.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Lp(t)){case"start":h[o]-=m*(r&&u?-1:1);break;case"end":h[o]+=m*(r&&u?-1:1);break}return h}async function yce(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=eu(t,e),v=bB(h),x=l[m?f==="floating"?"reference":"floating":f],y=Pw(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),b=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},N=Pw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:_,strategy:c}):w);return{top:(y.top-N.top+v.top)/b.y,bottom:(N.bottom-y.bottom+v.bottom)/b.y,left:(y.left-N.left+v.left)/b.x,right:(N.right-y.right+v.right)/b.x}}const wce=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=V6(u,n,c),m=n,h={},v=0;for(let x=0;x<l.length;x++){var g;const{name:y,fn:w}=l[x],{x:_,y:b,data:N,reset:C}=await w({x:d,y:f,initialPlacement:n,placement:m,strategy:i,middlewareData:h,rects:u,platform:{...o,detectOverflow:(g=o.detectOverflow)!=null?g:yce},elements:{reference:e,floating:t}});d=_??d,f=b??f,h={...h,[y]:{...h[y],...N}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:d,y:f}=V6(u,m,c)),x=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:h}},bce=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=eu(e,t)||{};if(u==null)return{};const f=bB(d),m={x:r,y:n},h=kC(i),v=NC(h),g=await o.getDimensions(u),x=h==="y",y=x?"top":"left",w=x?"bottom":"right",_=x?"clientHeight":"clientWidth",b=a.reference[v]+a.reference[h]-m[h]-a.floating[v],N=m[h]-a.reference[h],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=C?C[_]:0;(!S||!await(o.isElement==null?void 0:o.isElement(C)))&&(S=l.floating[_]||a.floating[v]);const A=b/2-N/2,k=S/2-g[v]/2-1,R=Nd(f[y],k),O=Nd(f[w],k),L=R,U=S-g[v]-O,q=S/2-g[v]/2+A,Q=pk(L,q,U),ie=!c.arrow&&Lp(i)!=null&&q!==Q&&a.reference[v]/2-(q<L?R:O)-g[v]/2<0,z=ie?q<L?q-L:q-U:0;return{[h]:m[h]+z,data:{[h]:Q,centerOffset:q-Q-z,...ie&&{alignmentOffset:z}},reset:ie}}}),_ce=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=eu(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=tu(i),w=Kl(l),_=tu(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(_||!g?[Aw(l)]:hce(l)),C=v!=="none";!m&&C&&N.push(...vce(l,g,v,b));const S=[l,...N],A=await c.detectOverflow(t,x),k=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&k.push(A[y]),f){const q=fce(i,o,b);k.push(A[q[0]],A[q[1]])}if(R=[...R,{placement:i,overflows:k}],!k.every(q=>q<=0)){var O,L;const q=(((O=a.flip)==null?void 0:O.index)||0)+1,Q=S[q];if(Q&&(!(f==="alignment"?w!==Kl(Q):!1)||R.every(H=>Kl(H.placement)===w?H.overflows[0]>0:!0)))return{data:{index:q,overflows:R},reset:{placement:Q}};let ie=(L=R.filter(z=>z.overflows[0]<=0).sort((z,H)=>z.overflows[1]-H.overflows[1])[0])==null?void 0:L.placement;if(!ie)switch(h){case"bestFit":{var U;const z=(U=R.filter(H=>{if(C){const X=Kl(H.placement);return X===w||X==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(X=>X>0).reduce((X,pe)=>X+pe,0)]).sort((H,X)=>H[1]-X[1])[0])==null?void 0:U[0];z&&(ie=z);break}case"initialPlacement":ie=l;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function G6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function K6(e){return lce.some(t=>e[t]>=0)}const jce=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:i="referenceHidden",...a}=eu(e,t);switch(i){case"referenceHidden":{const o=await n.detectOverflow(t,{...a,elementContext:"reference"}),l=G6(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:K6(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...a,altBoundary:!0}),l=G6(o,r.floating);return{data:{escapedOffsets:l,escaped:K6(l)}}}default:return{}}}}},_B=new Set(["left","top"]);async function Sce(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=tu(r),l=Lp(r),c=Kl(r)==="y",u=_B.has(o)?-1:1,d=a&&c?-1:1,f=eu(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(h=l==="end"?v*-1:v),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const Nce=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await Sce(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},kce=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i,platform:a}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:y=>{let{x:w,y:_}=y;return{x:w,y:_}}},...u}=eu(e,t),d={x:r,y:n},f=await a.detectOverflow(t,u),m=Kl(tu(i)),h=SC(m);let v=d[h],g=d[m];if(o){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",_=v+f[y],b=v-f[w];v=pk(_,v,b)}if(l){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",_=g+f[y],b=g-f[w];g=pk(_,g,b)}const x=c.fn({...t,[h]:v,[m]:g});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[h]:o,[m]:l}}}}}},Ece=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=eu(e,t),d={x:r,y:n},f=Kl(i),m=SC(f);let h=d[m],v=d[f];const g=eu(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const _=m==="y"?"height":"width",b=a.reference[m]-a.floating[_]+x.mainAxis,N=a.reference[m]+a.reference[_]-x.mainAxis;h<b?h=b:h>N&&(h=N)}if(u){var y,w;const _=m==="y"?"width":"height",b=_B.has(tu(i)),N=a.reference[f]-a.floating[_]+(b&&((y=o.offset)==null?void 0:y[f])||0)+(b?0:x.crossAxis),C=a.reference[f]+a.reference[_]+(b?0:((w=o.offset)==null?void 0:w[f])||0)-(b?x.crossAxis:0);v<N?v=N:v>C&&(v=C)}return{[m]:h,[f]:v}}}},Cce=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=eu(e,t),d=await o.detectOverflow(t,u),f=tu(i),m=Lp(i),h=Kl(i)==="y",{width:v,height:g}=a.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,x=m==="end"?"top":"bottom");const w=g-d.top-d.bottom,_=v-d.left-d.right,b=Nd(g-d[x],w),N=Nd(v-d[y],_),C=!t.middlewareData.shift;let S=b,A=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=w),C&&!m){const R=Ds(d.left,0),O=Ds(d.right,0),L=Ds(d.top,0),U=Ds(d.bottom,0);h?A=v-2*(R!==0||O!==0?R+O:Ds(d.left,d.right)):S=g-2*(L!==0||U!==0?L+U:Ds(d.top,d.bottom))}await c({...t,availableWidth:A,availableHeight:S});const k=await o.getDimensions(l.floating);return v!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function O2(){return typeof window<"u"}function Mp(e){return jB(e)?(e.nodeName||"").toLowerCase():"#document"}function Vs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function uc(e){var t;return(t=(jB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jB(e){return O2()?e instanceof Node||e instanceof Vs(e).Node:!1}function yl(e){return O2()?e instanceof Element||e instanceof Vs(e).Element:!1}function rc(e){return O2()?e instanceof HTMLElement||e instanceof Vs(e).HTMLElement:!1}function Y6(e){return!O2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vs(e).ShadowRoot}const Ace=new Set(["inline","contents"]);function Hv(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=wl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Ace.has(i)}const Pce=new Set(["table","td","th"]);function Tce(e){return Pce.has(Mp(e))}const Oce=[":popover-open",":modal"];function R2(e){return Oce.some(t=>{try{return e.matches(t)}catch{return!1}})}const Rce=["transform","translate","scale","rotate","perspective"],Ice=["transform","translate","scale","rotate","perspective","filter"],Dce=["paint","layout","strict","content"];function EC(e){const t=CC(),r=yl(e)?wl(e):e;return Rce.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Ice.some(n=>(r.willChange||"").includes(n))||Dce.some(n=>(r.contain||"").includes(n))}function Lce(e){let t=kd(e);for(;rc(t)&&!dp(t);){if(EC(t))return t;if(R2(t))return null;t=kd(t)}return null}function CC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Mce=new Set(["html","body","#document"]);function dp(e){return Mce.has(Mp(e))}function wl(e){return Vs(e).getComputedStyle(e)}function I2(e){return yl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function kd(e){if(Mp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Y6(e)&&e.host||uc(e);return Y6(t)?t.host:t}function SB(e){const t=kd(e);return dp(t)?e.ownerDocument?e.ownerDocument.body:e.body:rc(t)&&Hv(t)?t:SB(t)}function iv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=SB(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Vs(i);if(a){const l=vk(o);return t.concat(o,o.visualViewport||[],Hv(i)?i:[],l&&r?iv(l):[])}return t.concat(i,iv(i,[],r))}function vk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NB(e){const t=wl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=rc(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=Cw(r)!==a||Cw(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function AC(e){return yl(e)?e:e.contextElement}function Wm(e){const t=AC(e);if(!rc(t))return ec(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=NB(t);let o=(a?Cw(r.width):r.width)/n,l=(a?Cw(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Fce=ec(0);function kB(e){const t=Vs(e);return!CC()||!t.visualViewport?Fce:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $ce(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Vs(e)?!1:t}function Yf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=AC(e);let o=ec(1);t&&(n?yl(n)&&(o=Wm(n)):o=Wm(e));const l=$ce(a,r,n)?kB(a):ec(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const m=Vs(a),h=n&&yl(n)?Vs(n):n;let v=m,g=vk(v);for(;g&&n&&h!==v;){const x=Wm(g),y=g.getBoundingClientRect(),w=wl(g),_=y.left+(g.clientLeft+parseFloat(w.paddingLeft))*x.x,b=y.top+(g.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=_,u+=b,v=Vs(g),g=vk(v)}}return Pw({width:d,height:f,x:c,y:u})}function D2(e,t){const r=I2(e).scrollLeft;return t?t.left+r:Yf(uc(e)).left+r}function EB(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-D2(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Bce(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=uc(n),l=t?R2(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=ec(1);const d=ec(0),f=rc(n);if((f||!f&&!a)&&((Mp(n)!=="body"||Hv(o))&&(c=I2(n)),rc(n))){const h=Yf(n);u=Wm(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const m=o&&!f&&!a?EB(o,c):ec(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Uce(e){return Array.from(e.getClientRects())}function zce(e){const t=uc(e),r=I2(e),n=e.ownerDocument.body,i=Ds(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Ds(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+D2(e);const l=-r.scrollTop;return wl(n).direction==="rtl"&&(o+=Ds(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const X6=25;function Wce(e,t){const r=Vs(e),n=uc(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=CC();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=D2(n);if(u<=0){const d=n.ownerDocument,f=d.body,m=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-h);v<=X6&&(a-=v)}else u<=X6&&(a+=u);return{width:a,height:o,x:l,y:c}}const Hce=new Set(["absolute","fixed"]);function qce(e,t){const r=Yf(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=rc(e)?Wm(e):ec(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function J6(e,t,r){let n;if(t==="viewport")n=Wce(e,r);else if(t==="document")n=zce(uc(e));else if(yl(t))n=qce(t,r);else{const i=kB(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Pw(n)}function CB(e,t){const r=kd(e);return r===t||!yl(r)||dp(r)?!1:wl(r).position==="fixed"||CB(r,t)}function Vce(e,t){const r=t.get(e);if(r)return r;let n=iv(e,[],!1).filter(l=>yl(l)&&Mp(l)!=="body"),i=null;const a=wl(e).position==="fixed";let o=a?kd(e):e;for(;yl(o)&&!dp(o);){const l=wl(o),c=EC(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&Hce.has(i.position)||Hv(o)&&!c&&CB(e,o))?n=n.filter(d=>d!==o):i=l,o=kd(o)}return t.set(e,n),n}function Gce(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?R2(t)?[]:Vce(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=J6(t,d,i);return u.top=Ds(f.top,u.top),u.right=Nd(f.right,u.right),u.bottom=Nd(f.bottom,u.bottom),u.left=Ds(f.left,u.left),u},J6(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Kce(e){const{width:t,height:r}=NB(e);return{width:t,height:r}}function Yce(e,t,r){const n=rc(t),i=uc(t),a=r==="fixed",o=Yf(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ec(0);function u(){c.x=D2(i)}if(n||!n&&!a)if((Mp(t)!=="body"||Hv(i))&&(l=I2(t)),n){const h=Yf(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&u();a&&!n&&i&&u();const d=i&&!n&&!a?EB(i,l):ec(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function qS(e){return wl(e).position==="static"}function Z6(e,t){if(!rc(e)||wl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return uc(e)===r&&(r=r.ownerDocument.body),r}function AB(e,t){const r=Vs(e);if(R2(e))return r;if(!rc(e)){let i=kd(e);for(;i&&!dp(i);){if(yl(i)&&!qS(i))return i;i=kd(i)}return r}let n=Z6(e,t);for(;n&&Tce(n)&&qS(n);)n=Z6(n,t);return n&&dp(n)&&qS(n)&&!EC(n)?r:n||Lce(e)||r}const Xce=async function(e){const t=this.getOffsetParent||AB,r=this.getDimensions,n=await r(e.floating);return{reference:Yce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Jce(e){return wl(e).direction==="rtl"}const Zce={convertOffsetParentRelativeRectToViewportRelativeRect:Bce,getDocumentElement:uc,getClippingRect:Gce,getOffsetParent:AB,getElementRects:Xce,getClientRects:Uce,getDimensions:Kce,getScale:Wm,isElement:yl,isRTL:Jce};function PB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Qce(e,t){let r=null,n;const i=uc(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||t(),!m||!h)return;const v=My(f),g=My(i.clientWidth-(d+m)),x=My(i.clientHeight-(f+h)),y=My(d),_={rootMargin:-v+"px "+-g+"px "+-x+"px "+-y+"px",threshold:Ds(0,Nd(1,c))||1};let b=!0;function N(C){const S=C[0].intersectionRatio;if(S!==c){if(!b)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!PB(u,e.getBoundingClientRect())&&o(),b=!1}try{r=new IntersectionObserver(N,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,_)}r.observe(e)}return o(!0),a}function eue(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=AC(e),d=i||a?[...u?iv(u):[],...iv(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const f=u&&l?Qce(u,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),r()}),u&&!c&&h.observe(u),h.observe(t));let v,g=c?Yf(e):null;c&&x();function x(){const y=Yf(e);g&&!PB(g,y)&&r(),g=y,v=requestAnimationFrame(x)}return r(),()=>{var y;d.forEach(w=>{i&&w.removeEventListener("scroll",r),a&&w.removeEventListener("resize",r)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(v)}}const tue=Nce,rue=kce,nue=_ce,iue=Cce,aue=jce,Q6=bce,sue=Ece,oue=(e,t,r)=>{const n=new Map,i={platform:Zce,...r},a={...i.platform,_c:n};return wce(e,t,{...i,platform:a})};var lue=typeof document<"u",cue=function(){},I1=lue?p.useLayoutEffect:cue;function Tw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Tw(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Tw(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function TB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eR(e,t){const r=TB(e);return Math.round(t*r)/r}function VS(e){const t=p.useRef(e);return I1(()=>{t.current=e}),t}function uue(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=p.useState(n);Tw(m,n)||h(n);const[v,g]=p.useState(null),[x,y]=p.useState(null),w=p.useCallback(H=>{H!==C.current&&(C.current=H,g(H))},[]),_=p.useCallback(H=>{H!==S.current&&(S.current=H,y(H))},[]),b=a||v,N=o||x,C=p.useRef(null),S=p.useRef(null),A=p.useRef(d),k=c!=null,R=VS(c),O=VS(i),L=VS(u),U=p.useCallback(()=>{if(!C.current||!S.current)return;const H={placement:t,strategy:r,middleware:m};O.current&&(H.platform=O.current),oue(C.current,S.current,H).then(X=>{const pe={...X,isPositioned:L.current!==!1};q.current&&!Tw(A.current,pe)&&(A.current=pe,Ro.flushSync(()=>{f(pe)}))})},[m,t,r,O,L]);I1(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[u]);const q=p.useRef(!1);I1(()=>(q.current=!0,()=>{q.current=!1}),[]),I1(()=>{if(b&&(C.current=b),N&&(S.current=N),b&&N){if(R.current)return R.current(b,N,U);U()}},[b,N,U,R,k]);const Q=p.useMemo(()=>({reference:C,floating:S,setReference:w,setFloating:_}),[w,_]),ie=p.useMemo(()=>({reference:b,floating:N}),[b,N]),z=p.useMemo(()=>{const H={position:r,left:0,top:0};if(!ie.floating)return H;const X=eR(ie.floating,d.x),pe=eR(ie.floating,d.y);return l?{...H,transform:"translate("+X+"px, "+pe+"px)",...TB(ie.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:pe}},[r,l,ie.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:U,refs:Q,elements:ie,floatingStyles:z}),[d,U,Q,ie,z])}const due=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Q6({element:n.current,padding:i}).fn(r):{}:n?Q6({element:n,padding:i}).fn(r):{}}}},fue=(e,t)=>({...tue(e),options:[e,t]}),hue=(e,t)=>({...rue(e),options:[e,t]}),mue=(e,t)=>({...sue(e),options:[e,t]}),pue=(e,t)=>({...nue(e),options:[e,t]}),gue=(e,t)=>({...iue(e),options:[e,t]}),vue=(e,t)=>({...aue(e),options:[e,t]}),xue=(e,t)=>({...due(e),options:[e,t]});function yue(e){const t=wue(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(_ue);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function wue(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=Sue(i),l=jue(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bue=Symbol("radix.slottable");function _ue(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bue}function jue(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Sue(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Nue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kue=Nue.reduce((e,t)=>{const r=yue(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Eue="Arrow",OB=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(kue.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});OB.displayName=Eue;var Cue=OB;function Aue(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Pue(i,...t)]}function Pue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Tue(e){const t=Oue(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(Iue);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Oue(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=Lue(i),l=Due(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rue=Symbol("radix.slottable");function Iue(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rue}function Due(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Lue(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Mue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],RB=Mue.reduce((e,t)=>{const r=Tue(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function PC(e){const[t,r]=p.useState(void 0);return Qn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var TC="Popper",[IB,Fp]=Aue(TC),[Fue,DB]=IB(TC),LB=e=>{const{__scopePopper:t,children:r}=e,[n,i]=p.useState(null);return s.jsx(Fue,{scope:t,anchor:n,onAnchorChange:i,children:r})};LB.displayName=TC;var MB="PopperAnchor",FB=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=DB(MB,r),o=p.useRef(null),l=hr(t,o),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(RB.div,{...i,ref:l})});FB.displayName=MB;var OC="PopperContent",[$ue,Bue]=IB(OC),$B=p.forwardRef((e,t)=>{var W,te,Y,oe,we,ve;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:v,...g}=e,x=DB(OC,r),[y,w]=p.useState(null),_=hr(t,He=>w(He)),[b,N]=p.useState(null),C=PC(b),S=(C==null?void 0:C.width)??0,A=(C==null?void 0:C.height)??0,k=n+(a!=="center"?"-"+a:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],L=O.length>0,U={padding:R,boundary:O.filter(zue),altBoundary:L},{refs:q,floatingStyles:Q,placement:ie,isPositioned:z,middlewareData:H}=uue({strategy:"fixed",placement:k,whileElementsMounted:(...He)=>eue(...He,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[fue({mainAxis:i+A,alignmentAxis:o}),c&&hue({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?mue():void 0,...U}),c&&pue({...U}),gue({...U,apply:({elements:He,rects:ze,availableWidth:ne,availableHeight:Be})=>{const{width:qe,height:rt}=ze.reference,Pe=He.floating.style;Pe.setProperty("--radix-popper-available-width",`${ne}px`),Pe.setProperty("--radix-popper-available-height",`${Be}px`),Pe.setProperty("--radix-popper-anchor-width",`${qe}px`),Pe.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),b&&xue({element:b,padding:l}),Wue({arrowWidth:S,arrowHeight:A}),m&&vue({strategy:"referenceHidden",...U})]}),[X,pe]=zB(ie),xe=Yn(v);Qn(()=>{z&&(xe==null||xe())},[z,xe]);const D=(W=H.arrow)==null?void 0:W.x,M=(te=H.arrow)==null?void 0:te.y,T=((Y=H.arrow)==null?void 0:Y.centerOffset)!==0,[V,F]=p.useState();return Qn(()=>{y&&F(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:z?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(oe=H.transformOrigin)==null?void 0:oe.x,(we=H.transformOrigin)==null?void 0:we.y].join(" "),...((ve=H.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx($ue,{scope:r,placedSide:X,onArrowChange:N,arrowX:D,arrowY:M,shouldHideArrow:T,children:s.jsx(RB.div,{"data-side":X,"data-align":pe,...g,ref:_,style:{...g.style,animation:z?void 0:"none"}})})})});$B.displayName=OC;var BB="PopperArrow",Uue={top:"bottom",right:"left",bottom:"top",left:"right"},UB=p.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=Bue(BB,n),o=Uue[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(Cue,{...i,ref:r,style:{...i.style,display:"block"}})})});UB.displayName=BB;function zue(e){return e!==null}var Wue=e=>({name:"transformOrigin",options:e,fn(t){var x,y,w;const{placement:r,rects:n,middlewareData:i}=t,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=zB(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,h=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=o?f:`${m}px`,g=`${-c}px`):u==="top"?(v=o?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=o?f:`${h}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=o?f:`${h}px`),{data:{x:v,y:g}}}});function zB(e){const[t,r="center"]=e.split("-");return[t,r]}var RC=LB,IC=FB,DC=$B,LC=UB;function Hue(e){const t=que(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(Gue);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function que(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=Yue(i),l=Kue(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WB=Symbol("radix.slottable");function Vue(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=WB,t}function Gue(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WB}function Kue(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Yue(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jue=Xue.reduce((e,t)=>{const r=Hue(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Zue(e){const t=Que(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(tde);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Que(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=nde(i),l=rde(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ede=Symbol("radix.slottable");function tde(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ede}function rde(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function nde(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ide=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ade=ide.reduce((e,t)=>{const r=Zue(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),HB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sde="VisuallyHidden",L2=p.forwardRef((e,t)=>s.jsx(ade.span,{...e,ref:t,style:{...HB,...e.style}}));L2.displayName=sde;var ode=L2,[M2]=sce("Tooltip",[Fp]),F2=Fp(),qB="TooltipProvider",lde=700,xk="tooltip.open",[cde,MC]=M2(qB),VB=e=>{const{__scopeTooltip:t,delayDuration:r=lde,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(cde,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};VB.displayName=qB;var av="Tooltip",[ude,qv]=M2(av),GB=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=MC(av,e.__scopeTooltip),u=F2(t),[d,f]=p.useState(null),m=jo(),h=p.useRef(0),v=o??c.disableHoverableContent,g=l??c.delayDuration,x=p.useRef(!1),[y,w]=xl({prop:n,defaultProp:i??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(xk))):c.onClose(),a==null||a(S)},caller:av}),_=p.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),b=p.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x.current=!1,w(!0)},[w]),N=p.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w(!1)},[w]),C=p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{x.current=!0,w(!0),h.current=0},g)},[g,w]);return p.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),s.jsx(RC,{...u,children:s.jsx(ude,{scope:t,contentId:m,open:y,stateAttribute:_,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?C():b()},[c.isOpenDelayedRef,C,b]),onTriggerLeave:p.useCallback(()=>{v?N():(window.clearTimeout(h.current),h.current=0)},[N,v]),onOpen:b,onClose:N,disableHoverableContent:v,children:r})})};GB.displayName=av;var yk="TooltipTrigger",KB=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=qv(yk,r),a=MC(yk,r),o=F2(r),l=p.useRef(null),c=hr(t,l,i.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(IC,{asChild:!0,...o,children:s.jsx(Jue.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:ut(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ut(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ut(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ut(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:ut(e.onBlur,i.onClose),onClick:ut(e.onClick,i.onClose)})})});KB.displayName=yk;var FC="TooltipPortal",[dde,fde]=M2(FC,{forceMount:void 0}),YB=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:i}=e,a=qv(FC,t);return s.jsx(dde,{scope:t,forceMount:r,children:s.jsx(ra,{present:r||a.open,children:s.jsx(Dp,{asChild:!0,container:i,children:n})})})};YB.displayName=FC;var fp="TooltipContent",XB=p.forwardRef((e,t)=>{const r=fde(fp,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=qv(fp,e.__scopeTooltip);return s.jsx(ra,{present:n||o.open,children:o.disableHoverableContent?s.jsx(JB,{side:i,...a,ref:t}):s.jsx(hde,{side:i,...a,ref:t})})}),hde=p.forwardRef((e,t)=>{const r=qv(fp,e.__scopeTooltip),n=MC(fp,e.__scopeTooltip),i=p.useRef(null),a=hr(t,i),[o,l]=p.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,m=p.useCallback(()=>{l(null),f(!1)},[f]),h=p.useCallback((v,g)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},w=xde(y,x.getBoundingClientRect()),_=yde(y,w),b=wde(g.getBoundingClientRect()),N=_de([..._,...b]);l(N),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&d){const v=x=>h(x,d),g=x=>h(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,h,m]),p.useEffect(()=>{if(o){const v=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),_=!bde(y,o);w?m():_&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,m]),s.jsx(JB,{...e,ref:a})}),[mde,pde]=M2(av,{isInside:!1}),gde=Vue("TooltipContent"),JB=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=qv(fp,r),u=F2(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(xk,d),()=>document.removeEventListener(xk,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Ip,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(DC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(gde,{children:n}),s.jsx(mde,{scope:r,isInside:!0,children:s.jsx(ode,{id:c.contentId,role:"tooltip",children:i||n})})]})})});XB.displayName=fp;var ZB="TooltipArrow",vde=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=F2(r);return pde(ZB,r).isInside?null:s.jsx(LC,{...i,...n,ref:t})});vde.displayName=ZB;function xde(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function yde(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function wde(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function bde(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(i=!i)}return i}function _de(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),jde(t)}function jde(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Sde=VB,Nde=GB,kde=KB,Ede=YB,QB=XB;const eU=Sde,Cde=Nde,Ade=kde,tU=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Ede,{children:s.jsx(QB,{ref:n,sideOffset:t,className:ot("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));tU.displayName=QB.displayName;const Pde="sidebar:state",Tde=60*60*24*7,Ode="16rem",Rde="18rem",Ide="3rem",Dde="b",rU=p.createContext(null);function $2(){const e=p.useContext(rU);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const nU=p.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:i,children:a,...o},l)=>{const c=cse(),[u,d]=p.useState(!1),[f,m]=p.useState(e),h=t??f,v=p.useCallback(w=>{const _=typeof w=="function"?w(h):w;r?r(_):m(_),document.cookie=`${Pde}=${_}; path=/; max-age=${Tde}`},[r,h]),g=p.useCallback(()=>c?d(w=>!w):v(w=>!w),[c,v,d]);p.useEffect(()=>{const w=_=>{_.key===Dde&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),g())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[g]);const x=h?"expanded":"collapsed",y=p.useMemo(()=>({state:x,open:h,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:g}),[x,h,v,c,u,d,g]);return s.jsx(rU.Provider,{value:y,children:s.jsx(eU,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":Ode,"--sidebar-width-icon":Ide,...i},className:ot("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:a})})})});nU.displayName="SidebarProvider";const iU=p.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:i,...a},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=$2();return r==="none"?s.jsx("div",{className:ot("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...a,children:i}):l?s.jsx(tce,{open:u,onOpenChange:d,...a,children:s.jsx(wB,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Rde},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:ot("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:ot("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:s.jsx("div",{"data-sidebar":"sidebar",className:ot("flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow"),children:i})})]})});iU.displayName="Sidebar";const aU=p.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:i}=$2();return s.jsxs(je,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ot("h-7 w-7",e),onClick:a=>{t==null||t(a),i()},...r,children:[s.jsx(Uae,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});aU.displayName="SidebarTrigger";const Lde=p.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=$2();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:ot("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Lde.displayName="SidebarRail";const Mde=p.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:ot("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Mde.displayName="SidebarInset";const Fde=p.forwardRef(({className:e,...t},r)=>s.jsx(We,{ref:r,"data-sidebar":"input",className:ot("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Fde.displayName="SidebarInput";const sU=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:ot("flex flex-col gap-2 p-2",e),...t}));sU.displayName="SidebarHeader";const oU=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:ot("flex flex-col gap-2 p-2",e),...t}));oU.displayName="SidebarFooter";const wk=p.forwardRef(({className:e,...t},r)=>s.jsx(ul,{ref:r,"data-sidebar":"separator",className:ot("mx-2 w-auto bg-sidebar-border",e),...t}));wk.displayName="SidebarSeparator";const lU=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:ot("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));lU.displayName="SidebarContent";const cU=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:ot("relative flex w-full min-w-0 flex-col p-2",e),...t}));cU.displayName="SidebarGroup";const uU=p.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?Pp:"div";return s.jsx(i,{ref:n,"data-sidebar":"group-label",className:ot("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});uU.displayName="SidebarGroupLabel";const $de=p.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?Pp:"button";return s.jsx(i,{ref:n,"data-sidebar":"group-action",className:ot("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});$de.displayName="SidebarGroupAction";const dU=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:ot("w-full text-sm",e),...t}));dU.displayName="SidebarGroupContent";const fU=p.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:ot("flex w-full min-w-0 flex-col gap-1",e),...t}));fU.displayName="SidebarMenu";const hU=p.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:ot("group/menu-item relative",e),...t}));hU.displayName="SidebarMenuItem";const Bde=Tp("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),mU=p.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:i,className:a,...o},l)=>{const c=e?Pp:"button",{isMobile:u,state:d}=$2(),f=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:ot(Bde({variant:r,size:n}),a),...o});return i?(typeof i=="string"&&(i={children:i}),s.jsxs(Cde,{children:[s.jsx(Ade,{asChild:!0,children:f}),s.jsx(tU,{side:"right",align:"center",hidden:d!=="collapsed"||u,...i})]})):f});mU.displayName="SidebarMenuButton";const Ude=p.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},i)=>{const a=t?Pp:"button";return s.jsx(a,{ref:i,"data-sidebar":"menu-action",className:ot("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});Ude.displayName="SidebarMenuAction";const zde=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:ot("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","group-data-[collapsible=icon]:hidden",e),...t}));zde.displayName="SidebarMenuBadge";const Wde=p.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const i=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:ot("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&s.jsx(ke,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(ke,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});Wde.displayName="SidebarMenuSkeleton";const Hde=p.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:ot("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));Hde.displayName="SidebarMenuSub";const qde=p.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));qde.displayName="SidebarMenuSubItem";const Vde=p.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...i},a)=>{const o=e?Pp:"a";return s.jsx(o,{ref:a,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:ot("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});Vde.displayName="SidebarMenuSubButton";function pU(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Gde(i,...t)]}function Gde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Kde(){return aC.useSyncExternalStore(Yde,()=>!0,()=>!1)}function Yde(){return()=>{}}var $C="Avatar",[Xde]=pU($C),[Jde,gU]=Xde($C),vU=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,a]=p.useState("idle");return s.jsx(Jde,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(mh.span,{...n,ref:t})})});vU.displayName=$C;var xU="AvatarImage",yU=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=e,o=gU(xU,r),l=Zde(n,a),c=Yn(u=>{i(u),o.onImageLoadingStatusChange(u)});return Qn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(mh.img,{...a,ref:t,src:n}):null});yU.displayName=xU;var wU="AvatarFallback",bU=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,a=gU(wU,r),[o,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(mh.span,{...i,ref:t}):null});bU.displayName=wU;function tR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Zde(e,{referrerPolicy:t,crossOrigin:r}){const n=Kde(),i=p.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=p.useState(()=>tR(a,e));return Qn(()=>{l(tR(a,e))},[a,e]),Qn(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}var _U=vU,jU=yU,SU=bU;const hs=p.forwardRef(({className:e,...t},r)=>s.jsx(_U,{ref:r,className:ot("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));hs.displayName=_U.displayName;const Qde=p.forwardRef(({className:e,...t},r)=>s.jsx(jU,{ref:r,className:ot("aspect-square h-full w-full",e),...t}));Qde.displayName=jU.displayName;const ms=p.forwardRef(({className:e,...t},r)=>s.jsx(SU,{ref:r,className:ot("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ms.displayName=SU.displayName;const efe=[{label:"Overview",items:[{id:"dashboard",label:"Dashboard",icon:$ae,path:"/dashboard"},{id:"analytics",label:"Analytics",icon:dC,path:"/analytics"}]},{label:"Clients",items:[{id:"clients",label:"Clients",icon:gs,path:"/clients"},{id:"client-health",label:"Client Health",icon:dk,path:"/client-health"},{id:"credentials",label:"Credentials",icon:jw,path:"/credentials"}]},{label:"Team",items:[{id:"employees",label:"Employees",icon:Qi,path:"/employees"},{id:"workload",label:"Workload",icon:Wae,path:"/workload"},{id:"daily-view",label:"Daily View",icon:v9,path:"/daily-view"},{id:"daily-submissions",label:"Daily Submissions",icon:nv,path:"/daily-submissions"},{id:"assignments",label:"Assignments",icon:Jae,path:"/assignments"},{id:"resources",label:"Resources",icon:Gf,path:"/resources"}]},{label:"Work",items:[{id:"reports",label:"Reports",icon:Zn,path:"/reports"},{id:"tasks",label:"Tasks",icon:tv,path:"/tasks"},{id:"calendar",label:"Calendar",icon:ea,path:"/calendar"},{id:"goals",label:"Goals",icon:j2,path:"/goals"},{id:"time-tracking",label:"Time Tracking",icon:wi,path:"/time-tracking"},{id:"approvals",label:"Approvals",icon:Sn,path:"/approvals"}]},{label:"Finance",items:[{id:"budget",label:"Budget",icon:xd,path:"/budget"},{id:"benchmarks",label:"Benchmarks",icon:vl,path:"/benchmarks"},{id:"metrics",label:"Metrics",icon:j9,path:"/metrics"}]},{label:"Tools",items:[{id:"communications",label:"Messages",icon:_o,path:"/communications"},{id:"templates",label:"Templates",icon:Vf,path:"/templates"},{id:"import",label:"Import",icon:vC,path:"/import"},{id:"bulk",label:"Bulk Ops",icon:y9,path:"/bulk"},{id:"portal",label:"Portal",icon:hC,path:"/portal"}]},{label:"System",items:[{id:"logs",label:"Activity Logs",icon:dk,path:"/logs"},{id:"settings",label:"Settings",icon:gC,path:"/settings"}]}],tfe=[{label:"My Work",items:[{id:"dashboard",label:"My Clients",icon:gs,path:"/dashboard"},{id:"reports",label:"Submit Report",icon:Zn,path:"/reports"},{id:"tasks",label:"My Tasks",icon:tv,path:"/tasks"},{id:"credentials",label:"Credentials",icon:jw,path:"/credentials"}]}];function rfe({isAdmin:e}){const[t,r]=cc(),{profile:n,signOut:i}=Fi(),a=e?efe:tfe,o=c=>!!(c==="/dashboard"&&(t==="/"||t==="/dashboard")||c!=="/dashboard"&&t.startsWith(c)),l=n!=null&&n.full_name?n.full_name.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2):"U";return s.jsxs(iU,{children:[s.jsx(sU,{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:s.jsx(fs,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-[15px] font-semibold","data-testid":"text-app-name",children:"ClientFlow"})]})}),s.jsx(wk,{}),s.jsx(lU,{className:"px-2",children:a.map(c=>s.jsxs(cU,{className:"py-1",children:[s.jsx(uU,{className:"text-[11px] uppercase tracking-wider font-medium text-muted-foreground px-2",children:c.label}),s.jsx(dU,{children:s.jsx(fU,{children:c.items.map(u=>{const d=u.icon,f=o(u.path);return s.jsx(hU,{children:s.jsxs(mU,{isActive:f,onClick:()=>r(u.path),"data-testid":`nav-${u.id}`,className:"text-[13px]",children:[s.jsx(d,{className:"h-4 w-4"}),s.jsx("span",{children:u.label})]})},u.id)})})})]},c.label))}),s.jsx(wk,{}),s.jsx(oU,{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx(hs,{className:"h-8 w-8",children:s.jsx(ms,{className:"text-xs bg-primary/10 text-primary font-medium",children:l})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[13px] font-medium truncate","data-testid":"text-sidebar-user",children:(n==null?void 0:n.full_name)||"User"}),s.jsx("p",{className:"text-[11px] text-muted-foreground capitalize",children:(n==null?void 0:n.role)||"employee"})]}),s.jsx(je,{variant:"ghost",size:"icon",onClick:i,"data-testid":"button-sidebar-logout",children:s.jsx(mC,{className:"h-3.5 w-3.5"})})]})})]})}const nfe=1,ife=1e6;let GS=0;function afe(){return GS=(GS+1)%Number.MAX_SAFE_INTEGER,GS.toString()}const KS=new Map,rR=e=>{if(KS.has(e))return;const t=setTimeout(()=>{KS.delete(e),wg({type:"REMOVE_TOAST",toastId:e})},ife);KS.set(e,t)},sfe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,nfe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?rR(r):e.toasts.forEach(n=>{rR(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},D1=[];let L1={toasts:[]};function wg(e){L1=sfe(L1,e),D1.forEach(t=>{t(L1)})}function ofe({...e}){const t=afe(),r=i=>wg({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>wg({type:"DISMISS_TOAST",toastId:t});return wg({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function lfe(){const[e,t]=p.useState(L1);return p.useEffect(()=>(D1.push(t),()=>{const r=D1.indexOf(t);r>-1&&D1.splice(r,1)}),[e]),{...e,toast:ofe,dismiss:r=>wg({type:"DISMISS_TOAST",toastId:r})}}function cfe(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,ufe(i,...t)]}function ufe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function nR(e){const t=dfe(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(hfe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function dfe(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=pfe(i),l=mfe(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ffe=Symbol("radix.slottable");function hfe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ffe}function mfe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function pfe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function B2(e){const t=e+"CollectionProvider",[r,n]=cfe(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:y}=g,w=Vu.useRef(null),_=Vu.useRef(new Map).current;return s.jsx(i,{scope:x,itemMap:_,collectionRef:w,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=nR(l),u=Vu.forwardRef((g,x)=>{const{scope:y,children:w}=g,_=a(l,y),b=hr(x,_.collectionRef);return s.jsx(c,{ref:b,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=nR(d),h=Vu.forwardRef((g,x)=>{const{scope:y,children:w,..._}=g,b=Vu.useRef(null),N=hr(x,b),C=a(d,y);return Vu.useEffect(()=>(C.itemMap.set(b,{ref:b,..._}),()=>void C.itemMap.delete(b))),s.jsx(m,{[f]:"",ref:N,children:w})});h.displayName=d;function v(g){const x=a(e+"CollectionConsumer",g);return Vu.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((C,S)=>_.indexOf(C.ref.current)-_.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},v,n]}function gfe(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,vfe(i,...t)]}function vfe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function xfe(e){const t=yfe(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(bfe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function yfe(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=jfe(i),l=_fe(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wfe=Symbol("radix.slottable");function bfe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wfe}function _fe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function jfe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Sfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$p=Sfe.reduce((e,t)=>{const r=xfe(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Nfe(e,t){e&&Ro.flushSync(()=>e.dispatchEvent(t))}var BC="ToastProvider",[UC,kfe,Efe]=B2("Toast"),[NU]=gfe("Toast",[Efe]),[Cfe,U2]=NU(BC),kU=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${BC}\`. Expected non-empty \`string\`.`),s.jsx(UC.Provider,{scope:t,children:s.jsx(Cfe,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(h=>h+1),[]),onToastRemove:p.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};kU.displayName=BC;var EU="ToastViewport",Afe=["F8"],bk="toast.viewportPause",_k="toast.viewportResume",CU=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Afe,label:i="Notifications ({hotkey})",...a}=e,o=U2(EU,r),l=kfe(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),m=hr(t,f,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;p.useEffect(()=>{const x=y=>{var _;n.length!==0&&n.every(b=>y[b]||y.code===b)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),p.useEffect(()=>{const x=c.current,y=f.current;if(v&&x&&y){const w=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(bk);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(_k);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},b=C=>{!x.contains(C.relatedTarget)&&_()},N=()=>{x.contains(document.activeElement)||_()};return x.addEventListener("focusin",w),x.addEventListener("focusout",b),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",N),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",b),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",N),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[v,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:x})=>{const w=l().map(_=>{const b=_.ref.current,N=[b,...zfe(b)];return x==="forwards"?N:N.reverse()});return(x==="forwards"?w.reverse():w).flat()},[l]);return p.useEffect(()=>{const x=f.current;if(x){const y=w=>{var N,C,S;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const A=document.activeElement,k=w.shiftKey;if(w.target===x&&k){(N=u.current)==null||N.focus();return}const L=g({tabbingDirection:k?"backwards":"forwards"}),U=L.findIndex(q=>q===A);YS(L.slice(U+1))?w.preventDefault():k?(C=u.current)==null||C.focus():(S=d.current)==null||S.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,g]),s.jsxs(Eoe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(jk,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});YS(x)}}),s.jsx(UC.Slot,{scope:r,children:s.jsx($p.ol,{tabIndex:-1,...a,ref:m})}),v&&s.jsx(jk,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});YS(x)}})]})});CU.displayName=EU;var AU="ToastFocusProxy",jk=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=U2(AU,r);return s.jsx(L2,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});jk.displayName=AU;var Vv="Toast",Pfe="toast.swipeStart",Tfe="toast.swipeMove",Ofe="toast.swipeCancel",Rfe="toast.swipeEnd",PU=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=xl({prop:n,defaultProp:i??!0,onChange:a,caller:Vv});return s.jsx(ra,{present:r||l,children:s.jsx(Lfe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Yn(e.onPause),onResume:Yn(e.onResume),onSwipeStart:ut(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ut(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ut(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ut(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});PU.displayName=Vv;var[Ife,Dfe]=NU(Vv,{onClose(){}}),Lfe=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...v}=e,g=U2(Vv,r),[x,y]=p.useState(null),w=hr(t,q=>y(q)),_=p.useRef(null),b=p.useRef(null),N=i||g.duration,C=p.useRef(0),S=p.useRef(N),A=p.useRef(0),{onToastAdd:k,onToastRemove:R}=g,O=Yn(()=>{var Q;(x==null?void 0:x.contains(document.activeElement))&&((Q=g.viewport)==null||Q.focus()),o()}),L=p.useCallback(q=>{!q||q===1/0||(window.clearTimeout(A.current),C.current=new Date().getTime(),A.current=window.setTimeout(O,q))},[O]);p.useEffect(()=>{const q=g.viewport;if(q){const Q=()=>{L(S.current),u==null||u()},ie=()=>{const z=new Date().getTime()-C.current;S.current=S.current-z,window.clearTimeout(A.current),c==null||c()};return q.addEventListener(bk,ie),q.addEventListener(_k,Q),()=>{q.removeEventListener(bk,ie),q.removeEventListener(_k,Q)}}},[g.viewport,N,c,u,L]),p.useEffect(()=>{a&&!g.isClosePausedRef.current&&L(N)},[a,N,g.isClosePausedRef,L]),p.useEffect(()=>(k(),()=>R()),[k,R]);const U=p.useMemo(()=>x?MU(x):null,[x]);return g.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx(Mfe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:U}),s.jsx(Ife,{scope:r,onClose:O,children:Ro.createPortal(s.jsx(UC.ItemSlot,{scope:r,children:s.jsx(koe,{asChild:!0,onEscapeKeyDown:ut(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx($p.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ut(e.onKeyDown,q=>{q.key==="Escape"&&(l==null||l(q.nativeEvent),q.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ut(e.onPointerDown,q=>{q.button===0&&(_.current={x:q.clientX,y:q.clientY})}),onPointerMove:ut(e.onPointerMove,q=>{if(!_.current)return;const Q=q.clientX-_.current.x,ie=q.clientY-_.current.y,z=!!b.current,H=["left","right"].includes(g.swipeDirection),X=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,pe=H?X(0,Q):0,xe=H?0:X(0,ie),D=q.pointerType==="touch"?10:2,M={x:pe,y:xe},T={originalEvent:q,delta:M};z?(b.current=M,Fy(Tfe,f,T,{discrete:!1})):iR(M,g.swipeDirection,D)?(b.current=M,Fy(Pfe,d,T,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(Q)>D||Math.abs(ie)>D)&&(_.current=null)}),onPointerUp:ut(e.onPointerUp,q=>{const Q=b.current,ie=q.target;if(ie.hasPointerCapture(q.pointerId)&&ie.releasePointerCapture(q.pointerId),b.current=null,_.current=null,Q){const z=q.currentTarget,H={originalEvent:q,delta:Q};iR(Q,g.swipeDirection,g.swipeThreshold)?Fy(Rfe,h,H,{discrete:!0}):Fy(Ofe,m,H,{discrete:!0}),z.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Mfe=e=>{const{__scopeToast:t,children:r,...n}=e,i=U2(Vv,t),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return Bfe(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Dp,{asChild:!0,children:s.jsx(L2,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},Ffe="ToastTitle",TU=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx($p.div,{...n,ref:t})});TU.displayName=Ffe;var $fe="ToastDescription",OU=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx($p.div,{...n,ref:t})});OU.displayName=$fe;var RU="ToastAction",IU=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(LU,{altText:r,asChild:!0,children:s.jsx(zC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${RU}\`. Expected non-empty \`string\`.`),null)});IU.displayName=RU;var DU="ToastClose",zC=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Dfe(DU,r);return s.jsx(LU,{asChild:!0,children:s.jsx($p.button,{type:"button",...n,ref:t,onClick:ut(e.onClick,i.onClose)})})});zC.displayName=DU;var LU=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return s.jsx($p.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function MU(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Ufe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...MU(n))}}),t}function Fy(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Nfe(i,a):i.dispatchEvent(a)}var iR=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function Bfe(e=()=>{}){const t=Yn(e);Qn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Ufe(e){return e.nodeType===e.ELEMENT_NODE}function zfe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function YS(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Wfe=kU,FU=CU,$U=PU,BU=TU,UU=OU,zU=IU,WU=zC;const Hfe=Wfe,HU=p.forwardRef(({className:e,...t},r)=>s.jsx(FU,{ref:r,className:ot("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));HU.displayName=FU.displayName;const qfe=Tp("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qU=p.forwardRef(({className:e,variant:t,...r},n)=>s.jsx($U,{ref:n,className:ot(qfe({variant:t}),e),...r}));qU.displayName=$U.displayName;const Vfe=p.forwardRef(({className:e,...t},r)=>s.jsx(zU,{ref:r,className:ot("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Vfe.displayName=zU.displayName;const VU=p.forwardRef(({className:e,...t},r)=>s.jsx(WU,{ref:r,className:ot("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(to,{className:"h-4 w-4"})}));VU.displayName=WU.displayName;const GU=p.forwardRef(({className:e,...t},r)=>s.jsx(BU,{ref:r,className:ot("text-sm font-semibold [&+div]:text-xs",e),...t}));GU.displayName=BU.displayName;const KU=p.forwardRef(({className:e,...t},r)=>s.jsx(UU,{ref:r,className:ot("text-sm opacity-90",e),...t}));KU.displayName=UU.displayName;function Gfe(){const{toasts:e}=lfe();return s.jsxs(Hfe,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return s.jsxs(qU,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(GU,{children:r}),n&&s.jsx(KU,{children:n})]}),i,s.jsx(VU,{})]},t)}),s.jsx(HU,{})]})}function Ow(e){if(!e)return"An unexpected error occurred";if(typeof e=="string")return e;if(e.code)switch(e.code){case"23505":return"This record already exists. Please check your data and try again.";case"23503":return"Cannot delete: This record is being used elsewhere in the system.";case"23502":return"Required field is missing. Please fill in all required fields.";case"42P01":return"Database table not found. Please contact support.";case"PGRST116":return"No records found matching your criteria.";case"22P02":return"Invalid data format. Please check your input.";default:if(e.code.startsWith("23"))return"Database constraint violation. Please check your input."}if(e.message){const t=e.message.toLowerCase();return t.includes("invalid login")||t.includes("invalid credentials")?"Invalid email or password. Please check your credentials and try again.":t.includes("user already registered")?"An account with this email already exists. Try logging in instead.":t.includes("email not confirmed")?"Please verify your email address before logging in.":t.includes("network")||t.includes("fetch")?"Network error. Please check your internet connection and try again.":t.includes("timeout")?"Request timed out. Please try again.":t.includes("jwt")||t.includes("token")?"Your session has expired. Please log in again.":t.includes("permission")||t.includes("unauthorized")?"You do not have permission to perform this action.":e.message}return"An unexpected error occurred. Please try again."}const Df={required:(e,t="This field")=>e==null||e===""?`${t} is required`:typeof e=="string"&&e.trim()===""?`${t} is required`:null,email:e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Please enter a valid email address":"Email is required",password:e=>e?e.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?null:"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password is required",passwordSimple:e=>e?e.length<8?"Password must be at least 8 characters long":null:"Password is required",minLength:(e,t,r="This field")=>e?e.length<t?`${r} must be at least ${t} characters`:null:`${r} is required`,maxLength:(e,t,r="This field")=>e&&e.length>t?`${r} must be no more than ${t} characters`:null,numeric:(e,t="This field")=>e===""||e===null||e===void 0?`${t} is required`:isNaN(Number(e))?`${t} must be a number`:null,positiveNumber:(e,t="This field")=>{const r=Df.numeric(e,t);return r||(Number(e)<=0?`${t} must be greater than 0`:null)},minValue:(e,t,r="This field")=>{const n=Df.numeric(e,r);return n||(Number(e)<t?`${r} must be at least ${t}`:null)},maxValue:(e,t,r="This field")=>{const n=Df.numeric(e,r);return n||(Number(e)>t?`${r} must be no more than ${t}`:null)},url:e=>{if(!e)return null;try{return new URL(e),null}catch{return"Please enter a valid URL"}},phone:e=>e?/^[\d\s\-\+\(\)]+$/.test(e)?e.replace(/\D/g,"").length<10?"Phone number must have at least 10 digits":null:"Please enter a valid phone number":null,date:(e,t="Date")=>{if(!e)return`${t} is required`;const r=new Date(e);return isNaN(r.getTime())?"Please enter a valid date":null},dateRange:(e,t)=>{if(!e||!t)return"Both dates are required";const r=new Date(e),n=new Date(t);return r>n?"End date must be after start date":null},match:(e,t,r="Field")=>e!==t?`${r} does not match`:null};function YU(e){if(!e)return{score:0,label:"None",color:"gray"};let t=0;return e.length>=8&&(t+=1),e.length>=12&&(t+=1),/[a-z]/.test(e)&&(t+=1),/[A-Z]/.test(e)&&(t+=1),/[0-9]/.test(e)&&(t+=1),/[^a-zA-Z0-9]/.test(e)&&(t+=1),t<=2?{score:t,label:"Weak",color:"red"}:t<=4?{score:t,label:"Fair",color:"yellow"}:t<=5?{score:t,label:"Good",color:"blue"}:{score:t,label:"Strong",color:"green"}}var Kfe="Label",XU=p.forwardRef((e,t)=>s.jsx(mh.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));XU.displayName=Kfe;var JU=XU;const Yfe=Tp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),be=p.forwardRef(({className:e,...t},r)=>s.jsx(JU,{ref:r,className:ot(Yfe(),e),...t}));be.displayName=JU.displayName;var WC="Progress",HC=100,[Xfe]=pU(WC),[Jfe,Zfe]=Xfe(WC),ZU=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=Qfe,...o}=e;(i||i===0)&&!aR(i)&&console.error(ehe(`${i}`,"Progress"));const l=aR(i)?i:HC;n!==null&&!sR(n,l)&&console.error(the(`${n}`,"Progress"));const c=sR(n,l)?n:null,u=Rw(c)?a(c,l):void 0;return s.jsx(Jfe,{scope:r,value:c,max:l,children:s.jsx(mh.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Rw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":tz(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});ZU.displayName=WC;var QU="ProgressIndicator",ez=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=Zfe(QU,r);return s.jsx(mh.div,{"data-state":tz(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});ez.displayName=QU;function Qfe(e,t){return`${Math.round(e/t*100)}%`}function tz(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Rw(e){return typeof e=="number"}function aR(e){return Rw(e)&&!isNaN(e)&&e>0}function sR(e,t){return Rw(e)&&!isNaN(e)&&e<=t&&e>=0}function ehe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${HC}\`.`}function the(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${HC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rz=ZU,rhe=ez;const Bd=p.forwardRef(({className:e,value:t,...r},n)=>s.jsx(rz,{ref:n,className:ot("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:s.jsx(rhe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Bd.displayName=rz.displayName;function nhe(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[i,a]=p.useState(""),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),{signIn:m,signUp:h}=Fi(),[,v]=cc(),g=c?YU(r):null,x=async _=>{_.preventDefault(),a("");const b=Df.email(e);if(b){a(b);return}if(c){const N=Df.password(r);if(N){a(N);return}}else if(r.length<1){a("Password is required");return}if(l(!0),c){const{error:N}=await h(e,r);N&&a(Ow(N))}else{const{error:N}=await m(e,r);N&&a(Ow(N))}l(!1)},y=g?g.score<=2?"text-destructive":g.score<=4?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400":"",w=g?g.score/6*100:0;return s.jsxs("div",{className:"min-h-screen bg-background flex","data-testid":"login-page",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-primary/5 items-center justify-center p-12",children:s.jsxs("div",{className:"max-w-md space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-primary text-primary-foreground",children:s.jsx(fs,{className:"h-5 w-5"})}),s.jsx("span",{className:"text-2xl font-semibold tracking-tight",children:"ClientFlow"})]}),s.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Manage your clients with confidence"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Weekly reporting, health monitoring, budget tracking, and team workload management  all in one place."}),s.jsx("div",{className:"space-y-3 pt-4",children:["Real-time client health scoring","Automated weekly report workflows","Team capacity and workload insights","Budget tracking and forecasting"].map(_=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:_})]},_))})]})}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[s.jsxs("div",{className:"lg:hidden flex items-center gap-3 justify-center mb-2",children:[s.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-md bg-primary text-primary-foreground",children:s.jsx(fs,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-xl font-semibold tracking-tight",children:"ClientFlow"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-xl font-semibold tracking-tight","data-testid":"text-auth-title",children:c?"Create an account":"Welcome back"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c?"Enter your details to get started":"Sign in to your account to continue"})]}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i&&s.jsx("div",{className:"rounded-md border border-destructive/20 bg-destructive/5 px-3 py-2.5 text-sm text-destructive","data-testid":"text-auth-error",children:i}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(be,{htmlFor:"email",children:"Email"}),s.jsx(We,{id:"email",type:"email",value:e,onChange:_=>t(_.target.value),placeholder:"you@company.com",autoComplete:"email",required:!0,"data-testid":"input-email"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx(be,{htmlFor:"password",children:"Password"}),!c&&s.jsx("button",{type:"button",onClick:()=>v("/forgot-password"),className:"text-xs text-muted-foreground hover:text-primary transition-colors","data-testid":"link-forgot-password",children:"Forgot password?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(We,{id:"password",type:d?"text":"password",value:r,onChange:_=>n(_.target.value),placeholder:c?"Create a password":"Enter your password",autoComplete:c?"new-password":"current-password",className:"pr-10",required:!0,"data-testid":"input-password"}),s.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,"data-testid":"button-toggle-password",children:d?s.jsx(up,{className:"h-4 w-4"}):s.jsx(Sd,{className:"h-4 w-4"})})]}),c&&r&&g&&s.jsxs("div",{className:"space-y-1 pt-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Strength"}),s.jsx("span",{className:`text-xs font-medium ${y}`,children:g.label})]}),s.jsx(Bd,{value:w,className:"h-1"})]})]}),s.jsx(je,{type:"submit",disabled:o,className:"w-full","data-testid":"button-submit",children:o?s.jsx(Ya,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[c?"Create account":"Sign in",s.jsx(g9,{className:"ml-2 h-4 w-4"})]})})]}),s.jsx("div",{className:"relative",children:s.jsx(ul,{})}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[c?"Already have an account?":"Don't have an account?"," ",s.jsx("button",{type:"button",onClick:()=>{u(!c),a("")},className:"font-medium text-primary hover:underline","data-testid":"link-toggle-auth",children:c?"Sign in":"Sign up"})]})]})})]})}function ihe(){const{resetPassword:e}=Fi(),[t,r]=p.useState(""),[n,i]=p.useState(!1),[a,o]=p.useState(!1),[l,c]=p.useState(""),[,u]=cc(),d=async f=>{f.preventDefault(),c("");const m=Df.email(t);if(m){c(m);return}i(!0);const{error:h}=await e(t);h?(c(Ow(h)),i(!1)):(o(!0),i(!1))};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6","data-testid":"forgot-password-success",children:s.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[s.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:s.jsx(Sn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Check your email"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a reset link to ",s.jsx("span",{className:"font-medium text-foreground",children:t})]})]}),s.jsx(je,{onClick:()=>u("/"),className:"w-full","data-testid":"button-back-login",children:"Back to sign in"})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6","data-testid":"forgot-password-page",children:s.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[s.jsxs("button",{onClick:()=>u("/"),className:"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors","data-testid":"link-back-login",children:[s.jsx(_w,{className:"h-4 w-4"}),"Back to sign in"]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Reset your password"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email and we'll send you a link to reset it."})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l&&s.jsx("div",{className:"rounded-md border border-destructive/20 bg-destructive/5 px-3 py-2.5 text-sm text-destructive","data-testid":"text-error",children:l}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(be,{htmlFor:"email",children:"Email"}),s.jsx(We,{id:"email",type:"email",value:t,onChange:f=>r(f.target.value),placeholder:"you@company.com",autoComplete:"email",required:!0,"data-testid":"input-email"})]}),s.jsx(je,{type:"submit",disabled:n,className:"w-full","data-testid":"button-submit",children:n?s.jsx(Ya,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Vf,{className:"mr-2 h-4 w-4"}),"Send reset link"]})})]})]})})}function ahe(){const{updatePassword:e}=Fi(),[t,r]=p.useState(""),[n,i]=p.useState(""),[a,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,m]=p.useState(!1),[h,v]=p.useState({}),[,g]=cc(),x=YU(t),y=x.score<=2?"text-destructive":x.score<=4?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",w=async _=>{_.preventDefault();const b={},N=Df.password(t);if(N&&(b.password=N),t!==n&&(b.confirmPassword="Passwords do not match"),Object.keys(b).length>0){v(b);return}v({}),d(!0);const{error:C}=await e(t);C?(v({password:Ow(C)}),d(!1)):(m(!0),d(!1),setTimeout(()=>g("/dashboard"),2e3))};return f?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6","data-testid":"reset-success",children:s.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[s.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:s.jsx(Sn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Password updated"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting you to the dashboard..."})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6","data-testid":"reset-password-page",children:s.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"Set a new password"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a strong password for your account."})]}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(be,{htmlFor:"password",children:"New password"}),s.jsxs("div",{className:"relative",children:[s.jsx(We,{id:"password",type:a?"text":"password",value:t,onChange:_=>r(_.target.value),placeholder:"Create a password",autoComplete:"new-password",className:"pr-10",required:!0,"data-testid":"input-password"}),s.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,children:a?s.jsx(up,{className:"h-4 w-4"}):s.jsx(Sd,{className:"h-4 w-4"})})]}),h.password&&s.jsx("p",{className:"text-xs text-destructive",children:h.password}),t&&!h.password&&s.jsxs("div",{className:"space-y-1 pt-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Strength"}),s.jsx("span",{className:`text-xs font-medium ${y}`,children:x.label})]}),s.jsx(Bd,{value:x.score/6*100,className:"h-1"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(be,{htmlFor:"confirm-password",children:"Confirm password"}),s.jsxs("div",{className:"relative",children:[s.jsx(We,{id:"confirm-password",type:l?"text":"password",value:n,onChange:_=>i(_.target.value),placeholder:"Confirm your password",autoComplete:"new-password",className:"pr-10",required:!0,"data-testid":"input-confirm-password"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,children:l?s.jsx(up,{className:"h-4 w-4"}):s.jsx(Sd,{className:"h-4 w-4"})})]}),h.confirmPassword&&s.jsx("p",{className:"text-xs text-destructive",children:h.confirmPassword})]}),s.jsxs("div",{className:"rounded-md bg-muted/50 px-3 py-2.5",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-medium mb-1.5",children:"Requirements:"}),s.jsxs("ul",{className:"space-y-0.5 text-xs text-muted-foreground",children:[s.jsx("li",{children:"At least 8 characters"}),s.jsx("li",{children:"One uppercase and one lowercase letter"}),s.jsx("li",{children:"One number"})]})]}),s.jsx(je,{type:"submit",disabled:u,className:"w-full","data-testid":"button-submit",children:u?s.jsx(Ya,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(w9,{className:"mr-2 h-4 w-4"}),"Update password"]})})]})]})})}const nz=6048e5,she=864e5,iz=6e4,az=36e5,oR=Symbol.for("constructDateFrom");function Ys(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&oR in e?e[oR](t):e instanceof Date?new e.constructor(t):new Date(t)}function ci(e,t){return Ys(t||e,e)}function sz(e,t,r){const n=ci(e,r==null?void 0:r.in);return isNaN(t)?Ys(e,NaN):(t&&n.setDate(n.getDate()+t),n)}let ohe={};function z2(){return ohe}function hp(e,t){var l,c,u,d;const r=z2(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=ci(e,t==null?void 0:t.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Iw(e,t){return hp(e,{...t,weekStartsOn:1})}function oz(e,t){const r=ci(e,t==null?void 0:t.in),n=r.getFullYear(),i=Ys(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Iw(i),o=Ys(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Iw(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function lR(e){const t=ci(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function W2(e,...t){const r=Ys.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Dw(e,t){const r=ci(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function lhe(e,t,r){const[n,i]=W2(r==null?void 0:r.in,e,t),a=Dw(n),o=Dw(i),l=+a-lR(a),c=+o-lR(o);return Math.round((l-c)/she)}function che(e,t){const r=oz(e,t),n=Ys(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Iw(n)}function cR(e,t,r){return sz(e,t*7,r)}function uhe(e){return Ys(e,Date.now())}function lz(e,t,r){const[n,i]=W2(r==null?void 0:r.in,e,t);return+Dw(n)==+Dw(i)}function dhe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function fhe(e){return!(!dhe(e)&&typeof e!="number"||isNaN(+ci(e)))}function uR(e,t){const r=ci(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function hhe(e,t){const[r,n]=W2(e,t.start,t.end);return{start:r,end:n}}function mhe(e,t){const{start:r,end:n}=hhe(t==null?void 0:t.in,e);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=a;)c.push(Ys(r,o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i?c.reverse():c}function dR(e,t){const r=ci(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function phe(e,t){const r=ci(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ghe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vhe=(e,t,r)=>{let n;const i=ghe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function XS(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const xhe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},whe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bhe={date:XS({formats:xhe,defaultWidth:"full"}),time:XS({formats:yhe,defaultWidth:"full"}),dateTime:XS({formats:whe,defaultWidth:"full"})},_he={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jhe=(e,t,r,n)=>_he[e];function M0(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const She={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nhe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},khe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ehe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Che={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ahe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Phe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},The={ordinalNumber:Phe,era:M0({values:She,defaultWidth:"wide"}),quarter:M0({values:Nhe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:M0({values:khe,defaultWidth:"wide"}),day:M0({values:Ehe,defaultWidth:"wide"}),dayPeriod:M0({values:Che,defaultWidth:"wide",formattingValues:Ahe,defaultFormattingWidth:"wide"})};function F0(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Rhe(l,f=>f.test(o)):Ohe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Ohe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Rhe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Ihe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const Dhe=/^(\d+)(th|st|nd|rd)?/i,Lhe=/\d+/i,Mhe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fhe={any:[/^b/i,/^(a|c)/i]},$he={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bhe={any:[/1/i,/2/i,/3/i,/4/i]},Uhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Whe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hhe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qhe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ghe={ordinalNumber:Ihe({matchPattern:Dhe,parsePattern:Lhe,valueCallback:e=>parseInt(e,10)}),era:F0({matchPatterns:Mhe,defaultMatchWidth:"wide",parsePatterns:Fhe,defaultParseWidth:"any"}),quarter:F0({matchPatterns:$he,defaultMatchWidth:"wide",parsePatterns:Bhe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:F0({matchPatterns:Uhe,defaultMatchWidth:"wide",parsePatterns:zhe,defaultParseWidth:"any"}),day:F0({matchPatterns:Whe,defaultMatchWidth:"wide",parsePatterns:Hhe,defaultParseWidth:"any"}),dayPeriod:F0({matchPatterns:qhe,defaultMatchWidth:"any",parsePatterns:Vhe,defaultParseWidth:"any"})},Khe={code:"en-US",formatDistance:vhe,formatLong:bhe,formatRelative:jhe,localize:The,match:Ghe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yhe(e,t){const r=ci(e,t==null?void 0:t.in);return lhe(r,phe(r))+1}function Xhe(e,t){const r=ci(e,t==null?void 0:t.in),n=+Iw(r)-+che(r);return Math.round(n/nz)+1}function cz(e,t){var d,f,m,h;const r=ci(e,t==null?void 0:t.in),n=r.getFullYear(),i=z2(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(m=i.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=Ys((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=hp(o,t),c=Ys((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=hp(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function Jhe(e,t){var l,c,u,d;const r=z2(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=cz(e,t),a=Ys((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),hp(a,t)}function Zhe(e,t){const r=ci(e,t==null?void 0:t.in),n=+hp(r,t)-+Jhe(r,t);return Math.round(n/nz)+1}function Vr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const zu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Vr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Vr(r+1,2)},d(e,t){return Vr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Vr(e.getHours()%12||12,t.length)},H(e,t){return Vr(e.getHours(),t.length)},m(e,t){return Vr(e.getMinutes(),t.length)},s(e,t){return Vr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Vr(i,t.length)}},Zh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return zu.y(e,t)},Y:function(e,t,r,n){const i=cz(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Vr(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Vr(a,t.length)},R:function(e,t){const r=oz(e);return Vr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Vr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Vr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Vr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return zu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Vr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=Zhe(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Vr(i,t.length)},I:function(e,t,r){const n=Xhe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Vr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):zu.d(e,t)},D:function(e,t,r){const n=Yhe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Vr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Vr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Vr(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Vr(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Zh.noon:n===0?i=Zh.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Zh.evening:n>=12?i=Zh.afternoon:n>=4?i=Zh.morning:i=Zh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return zu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):zu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Vr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Vr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):zu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):zu.s(e,t)},S:function(e,t){return zu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return mR(n);case"XXXX":case"XX":return pf(n);case"XXXXX":case"XXX":default:return pf(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return mR(n);case"xxxx":case"xx":return pf(n);case"xxxxx":case"xxx":default:return pf(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hR(n,":");case"OOOO":default:return"GMT"+pf(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hR(n,":");case"zzzz":default:return"GMT"+pf(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Vr(n,t.length)},T:function(e,t,r){return Vr(+e,t.length)}};function hR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Vr(a,2)}function mR(e,t){return e%60===0?(e>0?"-":"+")+Vr(Math.abs(e)/60,2):pf(e,t)}function pf(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Vr(Math.trunc(n/60),2),a=Vr(n%60,2);return r+i+t+a}const pR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Qhe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return pR(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",pR(n,t)).replace("{{time}}",uz(i,t))},eme={p:uz,P:Qhe},tme=/^D+$/,rme=/^Y+$/,nme=["D","DD","YY","YYYY"];function ime(e){return tme.test(e)}function ame(e){return rme.test(e)}function sme(e,t,r){const n=ome(e,t,r);if(console.warn(n),nme.includes(e))throw new RangeError(n)}function ome(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ume=/^'([^]*?)'?$/,dme=/''/g,fme=/[a-zA-Z]/;function cr(e,t,r){var d,f,m,h;const n=z2(),i=n.locale??Khe,a=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=ci(e,r==null?void 0:r.in);if(!fhe(l))throw new RangeError("Invalid time value");let c=t.match(cme).map(v=>{const g=v[0];if(g==="p"||g==="P"){const x=eme[g];return x(v,i.formatLong)}return v}).join("").match(lme).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:hme(v)};if(fR[g])return{isToken:!0,value:v};if(g.match(fme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(ame(g)||ime(g))&&sme(g,t,String(e));const x=fR[g[0]];return x(l,g,i.localize,u)}).join("")}function hme(e){const t=e.match(ume);return t?t[1].replace(dme,"'"):e}function mme(e,t){return+ci(e)>+ci(t)}function gR(e,t){return+ci(e)<+ci(t)}function dz(e){return+ci(e)<Date.now()}function pme(e,t,r){const[n,i]=W2(r==null?void 0:r.in,e,t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function Pm(e,t){return lz(Ys(e,e),uhe(e))}function Wl(e,t){const r=()=>Ys(t==null?void 0:t.in,NaN),i=yme(e);let a;if(i.date){const u=wme(i.date,2);a=bme(u.restDateString,u.year)}if(!a||isNaN(+a))return r();const o=+a;let l=0,c;if(i.time&&(l=_me(i.time),isNaN(l)))return r();if(i.timezone){if(c=jme(i.timezone),isNaN(c))return r()}else{const u=new Date(o+l),d=ci(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return ci(o+l+c,t==null?void 0:t.in)}const $y={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},gme=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vme=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xme=/^([+-])(\d{2})(?::?(\d{2}))?$/;function yme(e){const t={},r=e.split($y.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],$y.timeZoneDelimiter.test(t.date)&&(t.date=e.split($y.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=$y.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function wme(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function bme(e,t){if(t===null)return new Date(NaN);const r=e.match(gme);if(!r)return new Date(NaN);const n=!!r[4],i=$0(r[1]),a=$0(r[2])-1,o=$0(r[3]),l=$0(r[4]),c=$0(r[5])-1;if(n)return Cme(t,l,c)?Sme(t,l,c):new Date(NaN);{const u=new Date(0);return!kme(t,a,o)||!Eme(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,o)),u)}}function $0(e){return e?parseInt(e):1}function _me(e){const t=e.match(vme);if(!t)return NaN;const r=JS(t[1]),n=JS(t[2]),i=JS(t[3]);return Ame(r,n,i)?r*az+n*iz+i*1e3:NaN}function JS(e){return e&&parseFloat(e.replace(",","."))||0}function jme(e){if(e==="Z")return 0;const t=e.match(xme);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Pme(n,i)?r*(n*az+i*iz):NaN}function Sme(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const Nme=[31,null,31,30,31,30,31,31,30,31,30,31];function fz(e){return e%400===0||e%4===0&&e%100!==0}function kme(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Nme[t]||(fz(e)?29:28))}function Eme(e,t){return t>=1&&t<=(fz(e)?366:365)}function Cme(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Ame(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Pme(e,t){return t>=0&&t<=59}function Tme({reportId:e,isClientPortal:t,portalUserId:r}){const{showToast:n}=Cr(),[i,a]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(0),[m,h]=p.useState(0),[v,g]=p.useState(""),[x,y]=p.useState(!1);p.useEffect(()=>{w()},[e]);const w=async()=>{try{const{data:N,error:C}=await ge.from("report_feedback").select(`
          *,
          client_portal_users:portal_user_id(full_name, email)
        `).eq("report_id",e).order("created_at",{ascending:!1});if(C)throw C;a(N||[])}catch(N){console.error("Error loading feedback:",N)}finally{l(!1)}},_=async N=>{if(N.preventDefault(),!d||!r){n("Please provide a rating","error");return}y(!0);try{const{error:C}=await ge.from("report_feedback").insert({report_id:e,portal_user_id:r,rating:d,feedback:v});if(C)throw C;n("Thank you for your feedback!","success"),f(0),g(""),u(!1),w()}catch{n("Failed to submit feedback","error")}finally{y(!1)}},b=i.length>0?i.reduce((N,C)=>N+C.rating,0)/i.length:0;return o?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(_o,{className:"h-5 w-5 text-blue-600"}),"Client Feedback"]}),i.length>0&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(N=>s.jsx(IS,{className:`h-4 w-4 ${N<=Math.round(b)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},N))}),s.jsxs("span",{className:"text-sm text-gray-600",children:[b.toFixed(1)," (",i.length," review",i.length!==1?"s":"",")"]})]})]}),t&&r&&s.jsxs("button",{onClick:()=>u(!c),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Gae,{className:"h-4 w-4"}),c?"Cancel":"Leave Feedback"]})]}),c&&t&&s.jsxs("form",{onSubmit:_,className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate this report"}),s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(N=>s.jsx("button",{type:"button",onClick:()=>f(N),onMouseEnter:()=>h(N),onMouseLeave:()=>h(0),className:"focus:outline-none",children:s.jsx(IS,{className:`h-8 w-8 transition-colors ${N<=(m||d)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},N))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional comments (optional)"}),s.jsx("textarea",{id:"feedback",value:v,onChange:N=>g(N.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg resize-none",placeholder:"Share your thoughts about this report..."})]}),s.jsx("button",{type:"submit",disabled:!d||x,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Submitting...":"Submit Feedback"})]}),s.jsxs("div",{className:"space-y-4",children:[i.map(N=>{var C;return s.jsxs("div",{className:"border-l-4 border-blue-200 pl-4 py-2",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(S=>s.jsx(IS,{className:`h-4 w-4 ${S<=N.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},S))}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:((C=N.client_portal_users)==null?void 0:C.full_name)||"Client"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:cr(new Date(N.created_at),"MMM d, yyyy h:mm a")})]})}),N.feedback&&s.jsx("p",{className:"text-sm text-gray-700 mt-2",children:N.feedback})]},N.id)}),i.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(_o,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{className:"text-sm",children:"No feedback yet"})]})]})]})}function Ome(){const{user:e,signOut:t}=Fi(),[r,n]=p.useState(null),[i,a]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState(null),[d,f]=p.useState(!0),[m,h]=p.useState("recent");p.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const{data:w,error:_}=await ge.from("client_portal_users").select("*").eq("auth_user_id",e.id).single();if(_)throw _;if(!w)throw new Error("Portal user not found");n(w);const{data:b,error:N}=await ge.from("clients").select("*").eq("id",w.client_id).single();if(N)throw N;a(b);const{data:C,error:S}=await ge.from("weekly_reports").select(`
          *,
          services(name),
          profiles(full_name),
          service_metrics(metric_data)
        `).eq("client_id",w.client_id).eq("approval_status","approved").order("week_start_date",{ascending:!1});if(S)throw S;l(C||[])}catch(w){console.error("Error loading portal data:",w)}finally{f(!1)}},g=w=>({on_track:"bg-green-100 text-green-800",needs_attention:"bg-yellow-100 text-yellow-800",delayed:"bg-red-100 text-red-800"})[w]||"bg-gray-100 text-gray-800",x=async()=>{await t()};if(d)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your portal..."})]})});if(!r||!i)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Unable to load portal data"}),s.jsx("button",{onClick:x,className:"mt-4 text-blue-600 hover:text-blue-700",children:"Logout"})]})});const y=m==="recent"?o.slice(0,10):o;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:[s.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:s.jsx(Zn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"ClientFlow Portal"}),s.jsx("p",{className:"text-xs text-gray-500",children:i.name})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right hidden sm:block",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.full_name}),s.jsx("p",{className:"text-xs text-gray-500",children:r.email})]}),s.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition",children:[s.jsx(mC,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(fs,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i.name}),i.industry&&s.jsx("p",{className:"text-sm text-gray-600",children:i.industry})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Total Reports"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:o.length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"On Track"}),s.jsx("p",{className:"text-3xl font-bold text-green-900",children:o.filter(w=>w.status==="on_track").length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-yellow-700 font-medium mb-1",children:"Needs Attention"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:o.filter(w=>w.status==="needs_attention").length})]})]})]})})})}),s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Weekly Reports"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>h("recent"),className:`px-4 py-2 rounded-lg font-medium transition ${m==="recent"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:"Recent (10)"}),s.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg font-medium transition ${m==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:"All Reports"})]})]}),y.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Zn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No reports available yet"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Reports will appear here once they are approved"})]}):s.jsx("div",{className:"grid grid-cols-1 gap-6",children:y.map(w=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ea,{className:"h-5 w-5 text-blue-600"}),s.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Week of ",cr(new Date(w.week_start_date),"MMM d, yyyy")]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[w.services&&s.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx(vl,{className:"h-4 w-4"}),w.services.name]}),w.profiles&&s.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx($d,{className:"h-4 w-4"}),w.profiles.full_name]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${g(w.status)}`,children:w.status.replace("_"," ")})]})]})}),w.service_metrics&&w.service_metrics.length>0&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 mb-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(vl,{className:"h-4 w-4 text-blue-600"}),"Performance Metrics"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(w.service_metrics[0].metric_data||{}).slice(0,8).map(([_,b])=>s.jsxs("div",{className:"bg-white rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:_.replace(/_/g," ")}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:String(b)})]},_))})]}),s.jsxs("div",{className:"space-y-4",children:[w.work_summary&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Work Summary"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:w.work_summary})]}),w.key_wins&&s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-l-4 border-green-500",children:[s.jsx("h4",{className:"text-sm font-semibold text-green-900 mb-2",children:"Key Wins"}),s.jsx("p",{className:"text-green-800 whitespace-pre-wrap",children:w.key_wins})]}),w.challenges&&s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border-l-4 border-yellow-500",children:[s.jsx("h4",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"Challenges"}),s.jsx("p",{className:"text-yellow-800 whitespace-pre-wrap",children:w.challenges})]}),w.next_week_plan&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Next Week's Plan"}),s.jsx("p",{className:"text-blue-800 whitespace-pre-wrap",children:w.next_week_plan})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsx(Tme,{reportId:w.id,isClientPortal:!0,portalUserId:r.id})})]})},w.id))})]}),s.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsx("p",{className:"text-center text-sm text-gray-500",children:"Powered by ClientFlow - Client Performance Management System"})})})]})}function Rme(){const{theme:e,setTheme:t}=Pae();return s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),"data-testid":"button-theme-toggle",children:e==="dark"?s.jsx(Vae,{className:"h-4 w-4"}):s.jsx(Bae,{className:"h-4 w-4"})})}function Ime(e,t){p.useEffect(()=>{if(!e)return;const r=ge.channel(`notifications-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},n=>{t(n.new)}).subscribe();return()=>{ge.removeChannel(r)}},[e,t])}function Dme(){const{user:e}=Fi(),{showToast:t}=Cr(),[r,n]=p.useState([]),[i,a]=p.useState(!1),[o,l]=p.useState(0);Ime((e==null?void 0:e.id)||"",m=>{n(h=>[m,...h]),l(h=>h+1),t(m.type||"info",m.title)}),p.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{const{data:m,error:h}=await ge.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);!h&&m&&(n(m),l(m.filter(v=>!v.is_read).length))}catch(m){console.error("Error loading notifications:",m)}},u=async m=>{try{await ge.from("notifications").update({is_read:!0}).eq("id",m),c()}catch(h){console.error("Error marking notification as read:",h)}},d=async()=>{try{await ge.from("notifications").update({is_read:!0}).eq("user_id",e.id),c()}catch(m){console.error("Error marking all as read:",m)}},f=m=>{switch(m){case"success":return"bg-green-50 dark:bg-green-950/40 text-green-700 dark:text-green-400";case"warning":return"bg-yellow-50 dark:bg-yellow-950/40 text-yellow-700 dark:text-yellow-400";case"error":return"bg-red-50 dark:bg-red-950/40 text-red-700 dark:text-red-400";default:return"bg-blue-50 dark:bg-blue-950/40 text-blue-700 dark:text-blue-400"}};return s.jsxs("div",{className:"relative",children:[s.jsxs(je,{variant:"ghost",size:"icon",onClick:()=>a(!i),className:"relative text-muted-foreground","data-testid":"button-notifications-toggle",children:[s.jsx(T1,{className:"h-5 w-5"}),o>0&&s.jsx("span",{className:"absolute top-0 right-0 bg-destructive text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:o>9?"9+":o})]}),i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1),"data-testid":"backdrop-notifications"}),s.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-card rounded-xl shadow-xl border border-border z-20 max-h-[32rem] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[s.jsx("h3",{className:"font-bold text-foreground",children:"Notifications"}),o>0&&s.jsx(je,{variant:"ghost",size:"sm",onClick:d,"data-testid":"button-mark-all-as-read",children:"Mark all as read"})]}),s.jsx("div",{className:"overflow-y-auto flex-1",children:r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(T1,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No notifications"})]}):s.jsx("div",{children:r.map(m=>s.jsx("div",{className:`p-4 border-b border-border hover:bg-muted transition ${m.is_read?"":"bg-primary/5"}`,"data-testid":`notification-item-${m.id}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg flex-shrink-0 ${f(m.type)}`,children:s.jsx(T1,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-foreground text-sm",children:m.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:cr(new Date(m.created_at),"MMM d, h:mm a")})]}),!m.is_read&&s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>u(m.id),title:"Mark as read",className:"flex-shrink-0","data-testid":`button-mark-as-read-${m.id}`,children:s.jsx(Uv,{className:"h-4 w-4"})})]})},m.id))})})]})]})]})}function Lme(){const[e,t]=p.useState(!0),[r,n]=p.useState(!1);return p.useEffect(()=>{const i=()=>{t(!0),n(!0);const o=setTimeout(()=>{n(!1)},3e3);return()=>clearTimeout(o)},a=()=>{t(!1),n(!1)};return window.addEventListener("online",i),window.addEventListener("offline",a),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}},[]),e&&!r?null:s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-yellow-600 dark:bg-yellow-700 text-yellow-50","data-testid":"banner-offline",children:s.jsx("div",{className:"flex items-center gap-3 px-4 py-3 max-w-screen-xl mx-auto",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Sn,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm font-medium",children:"Back online!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qae,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm font-medium",children:"You're offline. Some features may not work until you reconnect."})]})})})}function Mme(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Fme(i,...t)]}function Fme(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function $me(e){const t=Bme(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(zme);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Bme(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=Hme(i),l=Wme(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ume=Symbol("radix.slottable");function zme(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ume}function Wme(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Hme(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var qme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vme=qme.reduce((e,t)=>{const r=$me(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Gme(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Kme(i,...t)]}function Kme(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Yme=p.createContext(void 0);function Gv(e){const t=p.useContext(Yme);return e||t||"ltr"}function hz(e){const t=Xme(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(Zme);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Xme(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=epe(i),l=Qme(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jme=Symbol("radix.slottable");function Zme(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jme}function Qme(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function epe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kv=tpe.reduce((e,t)=>{const r=hz(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function rpe(e,t){e&&Ro.flushSync(()=>e.dispatchEvent(t))}function npe(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,ipe(i,...t)]}function ipe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ape(e){const t=spe(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(lpe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function spe(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=upe(i),l=cpe(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ope=Symbol("radix.slottable");function lpe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ope}function cpe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function upe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mz=dpe.reduce((e,t)=>{const r=ape(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ZS="rovingFocusGroup.onEntryFocus",fpe={bubbles:!1,cancelable:!0},Yv="RovingFocusGroup",[Sk,pz,hpe]=B2(Yv),[mpe,H2]=npe(Yv,[hpe]),[ppe,gpe]=mpe(Yv),gz=p.forwardRef((e,t)=>s.jsx(Sk.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Sk.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(vpe,{...e,ref:t})})}));gz.displayName=Yv;var vpe=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=p.useRef(null),h=hr(t,m),v=Gv(a),[g,x]=xl({prop:o,defaultProp:l??null,onChange:c,caller:Yv}),[y,w]=p.useState(!1),_=Yn(u),b=pz(r),N=p.useRef(!1),[C,S]=p.useState(0);return p.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(ZS,_),()=>A.removeEventListener(ZS,_)},[_]),s.jsx(ppe,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:g,onItemFocus:p.useCallback(A=>x(A),[x]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(A=>A+1),[]),onFocusableItemRemove:p.useCallback(()=>S(A=>A-1),[]),children:s.jsx(mz.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:ut(e.onMouseDown,()=>{N.current=!0}),onFocus:ut(e.onFocus,A=>{const k=!N.current;if(A.target===A.currentTarget&&k&&!y){const R=new CustomEvent(ZS,fpe);if(A.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=b().filter(ie=>ie.focusable),L=O.find(ie=>ie.active),U=O.find(ie=>ie.id===g),Q=[L,U,...O].filter(Boolean).map(ie=>ie.ref.current);yz(Q,d)}}N.current=!1}),onBlur:ut(e.onBlur,()=>w(!1))})})}),vz="RovingFocusGroupItem",xz=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=jo(),u=a||c,d=gpe(vz,r),f=d.currentTabStopId===u,m=pz(r),{onFocusableItemAdd:h,onFocusableItemRemove:v,currentTabStopId:g}=d;return p.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),s.jsx(Sk.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:s.jsx(mz.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ut(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:ut(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ut(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=wpe(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let _=m().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const b=_.indexOf(x.currentTarget);_=d.loop?bpe(_,b+1):_.slice(b+1)}setTimeout(()=>yz(_))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});xz.displayName=vz;var xpe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ype(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wpe(e,t,r){const n=ype(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return xpe[n]}function yz(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function bpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var wz=gz,bz=xz,Nk=["Enter"," "],_pe=["ArrowDown","PageUp","Home"],_z=["ArrowUp","PageDown","End"],jpe=[..._pe,..._z],Spe={ltr:[...Nk,"ArrowRight"],rtl:[...Nk,"ArrowLeft"]},Npe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xv="Menu",[sv,kpe,Epe]=B2(Xv),[ph,jz]=Gme(Xv,[Epe,Fp,H2]),q2=Fp(),Sz=H2(),[Cpe,gh]=ph(Xv),[Ape,Jv]=ph(Xv),Nz=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=e,l=q2(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Yn(a),m=Gv(i);return p.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(RC,{...l,children:s.jsx(Cpe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(Ape,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};Nz.displayName=Xv;var Ppe="MenuAnchor",qC=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=q2(r);return s.jsx(IC,{...i,...n,ref:t})});qC.displayName=Ppe;var VC="MenuPortal",[Tpe,kz]=ph(VC,{forceMount:void 0}),Ez=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=gh(VC,t);return s.jsx(Tpe,{scope:t,forceMount:r,children:s.jsx(ra,{present:r||a.open,children:s.jsx(Dp,{asChild:!0,container:i,children:n})})})};Ez.displayName=VC;var So="MenuContent",[Ope,GC]=ph(So),Cz=p.forwardRef((e,t)=>{const r=kz(So,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=gh(So,e.__scopeMenu),o=Jv(So,e.__scopeMenu);return s.jsx(sv.Provider,{scope:e.__scopeMenu,children:s.jsx(ra,{present:n||a.open,children:s.jsx(sv.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Rpe,{...i,ref:t}):s.jsx(Ipe,{...i,ref:t})})})})}),Rpe=p.forwardRef((e,t)=>{const r=gh(So,e.__scopeMenu),n=p.useRef(null),i=hr(t,n);return p.useEffect(()=>{const a=n.current;if(a)return wC(a)},[]),s.jsx(KC,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ut(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Ipe=p.forwardRef((e,t)=>{const r=gh(So,e.__scopeMenu);return s.jsx(KC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Dpe=hz("MenuContent.ScrollLock"),KC=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:v,...g}=e,x=gh(So,r),y=Jv(So,r),w=q2(r),_=Sz(r),b=kpe(r),[N,C]=p.useState(null),S=p.useRef(null),A=hr(t,S,x.onContentChange),k=p.useRef(0),R=p.useRef(""),O=p.useRef(0),L=p.useRef(null),U=p.useRef("right"),q=p.useRef(0),Q=v?k2:p.Fragment,ie=v?{as:Dpe,allowPinchZoom:!0}:void 0,z=X=>{var W,te;const pe=R.current+X,xe=b().filter(Y=>!Y.disabled),D=document.activeElement,M=(W=xe.find(Y=>Y.ref.current===D))==null?void 0:W.textValue,T=xe.map(Y=>Y.textValue),V=Gpe(T,pe,M),F=(te=xe.find(Y=>Y.textValue===V))==null?void 0:te.ref.current;(function Y(oe){R.current=oe,window.clearTimeout(k.current),oe!==""&&(k.current=window.setTimeout(()=>Y(""),1e3))})(pe),F&&setTimeout(()=>F.focus())};p.useEffect(()=>()=>window.clearTimeout(k.current),[]),yC();const H=p.useCallback(X=>{var xe,D;return U.current===((xe=L.current)==null?void 0:xe.side)&&Ype(X,(D=L.current)==null?void 0:D.area)},[]);return s.jsx(Ope,{scope:r,searchRef:R,onItemEnter:p.useCallback(X=>{H(X)&&X.preventDefault()},[H]),onItemLeave:p.useCallback(X=>{var pe;H(X)||((pe=S.current)==null||pe.focus(),C(null))},[H]),onTriggerLeave:p.useCallback(X=>{H(X)&&X.preventDefault()},[H]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(X=>{L.current=X},[]),children:s.jsx(Q,{...ie,children:s.jsx(S2,{asChild:!0,trapped:i,onMountAutoFocus:ut(a,X=>{var pe;X.preventDefault(),(pe=S.current)==null||pe.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Ip,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:s.jsx(wz,{asChild:!0,..._,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:ut(c,X=>{y.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(DC,{role:"menu","aria-orientation":"vertical","data-state":Hz(x.open),"data-radix-menu-content":"",dir:y.dir,...w,...g,ref:A,style:{outline:"none",...g.style},onKeyDown:ut(g.onKeyDown,X=>{const xe=X.target.closest("[data-radix-menu-content]")===X.currentTarget,D=X.ctrlKey||X.altKey||X.metaKey,M=X.key.length===1;xe&&(X.key==="Tab"&&X.preventDefault(),!D&&M&&z(X.key));const T=S.current;if(X.target!==T||!jpe.includes(X.key))return;X.preventDefault();const F=b().filter(W=>!W.disabled).map(W=>W.ref.current);_z.includes(X.key)&&F.reverse(),qpe(F)}),onBlur:ut(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(k.current),R.current="")}),onPointerMove:ut(e.onPointerMove,ov(X=>{const pe=X.target,xe=q.current!==X.clientX;if(X.currentTarget.contains(pe)&&xe){const D=X.clientX>q.current?"right":"left";U.current=D,q.current=X.clientX}}))})})})})})})});Cz.displayName=So;var Lpe="MenuGroup",YC=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Kv.div,{role:"group",...n,ref:t})});YC.displayName=Lpe;var Mpe="MenuLabel",Az=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Kv.div,{...n,ref:t})});Az.displayName=Mpe;var Lw="MenuItem",vR="menu.itemSelect",V2=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=p.useRef(null),o=Jv(Lw,e.__scopeMenu),l=GC(Lw,e.__scopeMenu),c=hr(t,a),u=p.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const m=new CustomEvent(vR,{bubbles:!0,cancelable:!0});f.addEventListener(vR,h=>n==null?void 0:n(h),{once:!0}),rpe(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(Pz,{...i,ref:c,disabled:r,onClick:ut(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:ut(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ut(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||Nk.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});V2.displayName=Lw;var Pz=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,o=GC(Lw,r),l=Sz(r),c=p.useRef(null),u=hr(t,c),[d,f]=p.useState(!1),[m,h]=p.useState("");return p.useEffect(()=>{const v=c.current;v&&h((v.textContent??"").trim())},[a.children]),s.jsx(sv.ItemSlot,{scope:r,disabled:n,textValue:i??m,children:s.jsx(bz,{asChild:!0,...l,focusable:!n,children:s.jsx(Kv.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:ut(e.onPointerMove,ov(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ut(e.onPointerLeave,ov(v=>o.onItemLeave(v))),onFocus:ut(e.onFocus,()=>f(!0)),onBlur:ut(e.onBlur,()=>f(!1))})})})}),Fpe="MenuCheckboxItem",Tz=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return s.jsx(Lz,{scope:e.__scopeMenu,checked:r,children:s.jsx(V2,{role:"menuitemcheckbox","aria-checked":Mw(r)?"mixed":r,...i,ref:t,"data-state":JC(r),onSelect:ut(i.onSelect,()=>n==null?void 0:n(Mw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Tz.displayName=Fpe;var Oz="MenuRadioGroup",[$pe,Bpe]=ph(Oz,{value:void 0,onValueChange:()=>{}}),Rz=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=Yn(n);return s.jsx($pe,{scope:e.__scopeMenu,value:r,onValueChange:a,children:s.jsx(YC,{...i,ref:t})})});Rz.displayName=Oz;var Iz="MenuRadioItem",Dz=p.forwardRef((e,t)=>{const{value:r,...n}=e,i=Bpe(Iz,e.__scopeMenu),a=r===i.value;return s.jsx(Lz,{scope:e.__scopeMenu,checked:a,children:s.jsx(V2,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":JC(a),onSelect:ut(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});Dz.displayName=Iz;var XC="MenuItemIndicator",[Lz,Upe]=ph(XC,{checked:!1}),Mz=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=Upe(XC,r);return s.jsx(ra,{present:n||Mw(a.checked)||a.checked===!0,children:s.jsx(Kv.span,{...i,ref:t,"data-state":JC(a.checked)})})});Mz.displayName=XC;var zpe="MenuSeparator",Fz=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Kv.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Fz.displayName=zpe;var Wpe="MenuArrow",$z=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=q2(r);return s.jsx(LC,{...i,...n,ref:t})});$z.displayName=Wpe;var Hpe="MenuSub",[ABe,Bz]=ph(Hpe),ng="MenuSubTrigger",Uz=p.forwardRef((e,t)=>{const r=gh(ng,e.__scopeMenu),n=Jv(ng,e.__scopeMenu),i=Bz(ng,e.__scopeMenu),a=GC(ng,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(qC,{asChild:!0,...u,children:s.jsx(Pz,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":Hz(r.open),...e,ref:Mn(t,i.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ut(e.onPointerMove,ov(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ut(e.onPointerLeave,ov(f=>{var h,v;d();const m=(h=r.content)==null?void 0:h.getBoundingClientRect();if(m){const g=(v=r.content)==null?void 0:v.dataset.side,x=g==="right",y=x?-5:5,w=m[x?"left":"right"],_=m[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:w,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:w,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ut(e.onKeyDown,f=>{var h;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||Spe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});Uz.displayName=ng;var zz="MenuSubContent",Wz=p.forwardRef((e,t)=>{const r=kz(So,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=gh(So,e.__scopeMenu),o=Jv(So,e.__scopeMenu),l=Bz(zz,e.__scopeMenu),c=p.useRef(null),u=hr(t,c);return s.jsx(sv.Provider,{scope:e.__scopeMenu,children:s.jsx(ra,{present:n||a.open,children:s.jsx(sv.Slot,{scope:e.__scopeMenu,children:s.jsx(KC,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ut(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ut(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ut(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=Npe[o.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});Wz.displayName=zz;function Hz(e){return e?"open":"closed"}function Mw(e){return e==="indeterminate"}function JC(e){return Mw(e)?"indeterminate":e?"checked":"unchecked"}function qpe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Vpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Gpe(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=Vpe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Kpe(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(i=!i)}return i}function Ype(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Kpe(r,t)}function ov(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Xpe=Nz,Jpe=qC,Zpe=Ez,Qpe=Cz,e0e=YC,t0e=Az,r0e=V2,n0e=Tz,i0e=Rz,a0e=Dz,s0e=Mz,o0e=Fz,l0e=$z,c0e=Uz,u0e=Wz,G2="DropdownMenu",[d0e]=Mme(G2,[jz]),ts=jz(),[f0e,qz]=d0e(G2),Vz=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=ts(t),u=p.useRef(null),[d,f]=xl({prop:i,defaultProp:a??!1,onChange:o,caller:G2});return s.jsx(f0e,{scope:t,triggerId:jo(),triggerRef:u,contentId:jo(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(Xpe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};Vz.displayName=G2;var Gz="DropdownMenuTrigger",Kz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=qz(Gz,r),o=ts(r);return s.jsx(Jpe,{asChild:!0,...o,children:s.jsx(Vme.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Mn(t,a.triggerRef),onPointerDown:ut(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ut(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Kz.displayName=Gz;var h0e="DropdownMenuPortal",Yz=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ts(t);return s.jsx(Zpe,{...n,...r})};Yz.displayName=h0e;var Xz="DropdownMenuContent",Jz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=qz(Xz,r),a=ts(r),o=p.useRef(!1);return s.jsx(Qpe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:ut(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ut(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jz.displayName=Xz;var m0e="DropdownMenuGroup",p0e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(e0e,{...i,...n,ref:t})});p0e.displayName=m0e;var g0e="DropdownMenuLabel",Zz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(t0e,{...i,...n,ref:t})});Zz.displayName=g0e;var v0e="DropdownMenuItem",Qz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(r0e,{...i,...n,ref:t})});Qz.displayName=v0e;var x0e="DropdownMenuCheckboxItem",eW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(n0e,{...i,...n,ref:t})});eW.displayName=x0e;var y0e="DropdownMenuRadioGroup",w0e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(i0e,{...i,...n,ref:t})});w0e.displayName=y0e;var b0e="DropdownMenuRadioItem",tW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(a0e,{...i,...n,ref:t})});tW.displayName=b0e;var _0e="DropdownMenuItemIndicator",rW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(s0e,{...i,...n,ref:t})});rW.displayName=_0e;var j0e="DropdownMenuSeparator",nW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(o0e,{...i,...n,ref:t})});nW.displayName=j0e;var S0e="DropdownMenuArrow",N0e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(l0e,{...i,...n,ref:t})});N0e.displayName=S0e;var k0e="DropdownMenuSubTrigger",iW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(c0e,{...i,...n,ref:t})});iW.displayName=k0e;var E0e="DropdownMenuSubContent",aW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ts(r);return s.jsx(u0e,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aW.displayName=E0e;var C0e=Vz,A0e=Kz,P0e=Yz,sW=Jz,oW=Zz,lW=Qz,cW=eW,uW=tW,dW=rW,fW=nW,hW=iW,mW=aW;const T0e=C0e,O0e=A0e,R0e=p.forwardRef(({className:e,inset:t,children:r,...n},i)=>s.jsxs(hW,{ref:i,className:ot("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(Ap,{className:"ml-auto"})]}));R0e.displayName=hW.displayName;const I0e=p.forwardRef(({className:e,...t},r)=>s.jsx(mW,{ref:r,className:ot("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));I0e.displayName=mW.displayName;const pW=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(P0e,{children:s.jsx(sW,{ref:n,sideOffset:t,className:ot("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));pW.displayName=sW.displayName;const kk=p.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(lW,{ref:n,className:ot("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));kk.displayName=lW.displayName;const D0e=p.forwardRef(({className:e,children:t,checked:r,...n},i)=>s.jsxs(cW,{ref:i,className:ot("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(dW,{children:s.jsx(Uv,{className:"h-4 w-4"})})}),t]}));D0e.displayName=cW.displayName;const L0e=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(uW,{ref:n,className:ot("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(dW,{children:s.jsx(rv,{className:"h-2 w-2 fill-current"})})}),t]}));L0e.displayName=uW.displayName;const M0e=p.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(oW,{ref:n,className:ot("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));M0e.displayName=oW.displayName;const Ek=p.forwardRef(({className:e,...t},r)=>s.jsx(fW,{ref:r,className:ot("-mx-1 my-1 h-px bg-muted",e),...t}));Ek.displayName=fW.displayName;const Le=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ot("rounded-md border bg-card text-card-foreground shadow-sm",e),...t}));Le.displayName="Card";const Rr=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ot("flex flex-col space-y-1.5 p-6",e),...t}));Rr.displayName="CardHeader";const Ir=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ot("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ir.displayName="CardTitle";const F0e=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ot("text-sm text-muted-foreground",e),...t}));F0e.displayName="CardDescription";const Fe=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ot("p-6 pt-0",e),...t}));Fe.displayName="CardContent";const $0e=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ot("flex items-center p-6 pt-0",e),...t}));$0e.displayName="CardFooter";const B0e=Tp("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap overflow-hidden hover-elevate active-elevate-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $t({className:e,variant:t,...r}){return s.jsx("div",{className:ot(B0e({variant:t}),e),...r})}function U0e(e){const t=z0e(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(H0e);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function z0e(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=V0e(i),l=q0e(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W0e=Symbol("radix.slottable");function H0e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W0e}function q0e(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function V0e(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var G0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zv=G0e.reduce((e,t)=>{const r=U0e(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function K0e(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Y0e(i,...t)]}function Y0e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ck(e,[t,r]){return Math.min(r,Math.max(t,e))}function X0e(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var ZC="ScrollArea",[gW]=K0e(ZC),[J0e,Do]=gW(ZC),vW=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,m]=p.useState(null),[h,v]=p.useState(null),[g,x]=p.useState(null),[y,w]=p.useState(0),[_,b]=p.useState(0),[N,C]=p.useState(!1),[S,A]=p.useState(!1),k=hr(t,O=>c(O)),R=Gv(i);return s.jsx(J0e,{scope:r,type:n,dir:R,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:S,onScrollbarYEnabledChange:A,onCornerWidthChange:w,onCornerHeightChange:b,children:s.jsx(Zv.div,{dir:R,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});vW.displayName=ZC;var xW="ScrollAreaViewport",yW=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,o=Do(xW,r),l=p.useRef(null),c=hr(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Zv.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});yW.displayName=xW;var dc="ScrollAreaScrollbar",QC=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Do(dc,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(Z0e,{...n,ref:t,forceMount:r}):i.type==="scroll"?s.jsx(Q0e,{...n,ref:t,forceMount:r}):i.type==="auto"?s.jsx(wW,{...n,ref:t,forceMount:r}):i.type==="always"?s.jsx(eA,{...n,ref:t}):null});QC.displayName=dc;var Z0e=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Do(dc,e.__scopeScrollArea),[a,o]=p.useState(!1);return p.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(ra,{present:r||a,children:s.jsx(wW,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Q0e=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Do(dc,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Y2(()=>c("SCROLL_END"),100),[l,c]=X0e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),p.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),s.jsx(ra,{present:r||l!=="hidden",children:s.jsx(eA,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ut(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ut(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),wW=p.forwardRef((e,t)=>{const r=Do(dc,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=p.useState(!1),l=e.orientation==="horizontal",c=Y2(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return mp(r.viewport,c),mp(r.content,c),s.jsx(ra,{present:n||a,children:s.jsx(eA,{"data-state":a?"visible":"hidden",...i,ref:t})})}),eA=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=Do(dc,e.__scopeScrollArea),a=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=NW(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return age(m,o.current,l,h)}return r==="horizontal"?s.jsx(ege,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,h=xR(m,l,i.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=f(m,i.dir))}}):r==="vertical"?s.jsx(tge,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,h=xR(m,l);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=f(m))}}):null}),ege=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Do(dc,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=hr(t,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(_W,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":K2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),EW(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:$w(o.paddingLeft),paddingEnd:$w(o.paddingRight)}})}})}),tge=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Do(dc,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=hr(t,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(_W,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":K2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),EW(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:$w(o.paddingTop),paddingEnd:$w(o.paddingBottom)}})}})}),[rge,bW]=gW(dc),_W=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,h=Do(dc,r),[v,g]=p.useState(null),x=hr(t,k=>g(k)),y=p.useRef(null),w=p.useRef(""),_=h.viewport,b=n.content-n.viewport,N=Yn(d),C=Yn(c),S=Y2(f,10);function A(k){if(y.current){const R=k.clientX-y.current.left,O=k.clientY-y.current.top;u({x:R,y:O})}}return p.useEffect(()=>{const k=R=>{const O=R.target;(v==null?void 0:v.contains(O))&&N(R,b)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[_,v,b,N]),p.useEffect(C,[n,C]),mp(v,S),mp(h.content,S),s.jsx(rge,{scope:r,scrollbar:v,hasThumb:i,onThumbChange:Yn(a),onThumbPointerUp:Yn(o),onThumbPositionChange:C,onThumbPointerDown:Yn(l),children:s.jsx(Zv.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:ut(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),A(k))}),onPointerMove:ut(e.onPointerMove,A),onPointerUp:ut(e.onPointerUp,k=>{const R=k.target;R.hasPointerCapture(k.pointerId)&&R.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null})})})}),Fw="ScrollAreaThumb",jW=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=bW(Fw,e.__scopeScrollArea);return s.jsx(ra,{present:r||i.hasThumb,children:s.jsx(nge,{ref:t,...n})})}),nge=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=Do(Fw,r),o=bW(Fw,r),{onThumbPositionChange:l}=o,c=hr(t,f=>o.onThumbChange(f)),u=p.useRef(void 0),d=Y2(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(d(),!u.current){const h=sge(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,d,l]),s.jsx(Zv.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ut(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),v=f.clientX-h.left,g=f.clientY-h.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:ut(e.onPointerUp,o.onThumbPointerUp)})});jW.displayName=Fw;var tA="ScrollAreaCorner",SW=p.forwardRef((e,t)=>{const r=Do(tA,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(ige,{...e,ref:t}):null});SW.displayName=tA;var ige=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=Do(tA,r),[a,o]=p.useState(0),[l,c]=p.useState(0),u=!!(a&&l);return mp(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),mp(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?s.jsx(Zv.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function $w(e){return e?parseInt(e,10):0}function NW(e,t){const r=e/t;return isNaN(r)?0:r}function K2(e){const t=NW(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function age(e,t,r,n="ltr"){const i=K2(r),a=i/2,o=t||a,l=i-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return kW([c,u],f)(e)}function xR(e,t,r="ltr"){const n=K2(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Ck(e,c);return kW([0,o],[0,l])(u)}function kW(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function EW(e,t){return e>0&&e<t}var sge=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function Y2(e,t){const r=Yn(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function mp(e,t){const r=Yn(t);Qn(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var CW=vW,oge=yW,lge=SW;const rA=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(CW,{ref:n,className:ot("relative overflow-hidden",e),...r,children:[s.jsx(oge,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(AW,{}),s.jsx(lge,{})]}));rA.displayName=CW.displayName;const AW=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(QC,{ref:n,orientation:t,className:ot("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(jW,{className:"relative flex-1 rounded-full bg-border"})}));AW.displayName=QC.displayName;const Qh=["bg-blue-600","bg-emerald-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-cyan-600","bg-indigo-600","bg-teal-600"];function QS(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function yR(){var ie;const[e,t]=p.useState({totalClients:0,activeClients:0,pausedClients:0,totalEmployees:0,activeEmployees:0,pendingReports:0,submittedReports:0,clientsNeedingAttention:0,budgetUtilization:0,totalBudget:0,totalSpending:0}),[r,n]=p.useState(!0),[i,a]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState([]),[m,h]=p.useState({}),[v,g]=p.useState(!1),[,x]=cc(),{profile:y,user:w}=Fi();p.useEffect(()=>{_()},[]),p.useEffect(()=>{(async()=>{try{if(!(w!=null&&w.id)){g(!0);return}const{data:H}=await ge.from("dashboard_widgets").select("widget_type, is_visible").eq("user_id",w.id);if(H&&H.length>0){const X={};H.forEach(pe=>{X[pe.widget_type]=pe.is_visible}),h(X)}}catch(H){console.error("Error loading widget preferences:",H)}finally{g(!0)}})()},[w==null?void 0:w.id]);const _=async()=>{try{const[z,H,X,pe,xe,D]=await Promise.all([ge.from("clients").select("id, name, industry, status, priority, health_status, health_score, created_at").order("created_at",{ascending:!1}),ge.from("profiles").select("id, full_name, status, role, max_capacity"),ge.from("weekly_reports").select("id, week_start_date, status"),ge.from("client_assignments").select("id, employee_id"),ge.from("client_budgets").select("client_id, monthly_budget, actual_spending"),ge.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(8)]),M=z.data||[],T=H.data||[],V=T.filter(rt=>rt.role==="employee"),F=X.data||[],W=pe.data||[],te=xe.data||[],Y=b(new Date),oe=F.filter(rt=>rt.week_start_date===Y).length,we=W.length,ve=te.reduce((rt,Pe)=>rt+Number(Pe.monthly_budget||0),0),He=te.reduce((rt,Pe)=>rt+Number(Pe.actual_spending||0),0),ze=ve>0?He/ve*100:0,ne=M.filter(rt=>rt.health_status==="needs_attention"||rt.health_status==="at_risk").length,Be=new Map;for(const rt of W)Be.set(rt.employee_id,(Be.get(rt.employee_id)||0)+1);const qe=T.map(rt=>({id:rt.id,full_name:rt.full_name,assignmentCount:Be.get(rt.id)||0,maxCapacity:rt.max_capacity||5}));t({totalClients:M.length,activeClients:M.filter(rt=>rt.status==="active").length,pausedClients:M.filter(rt=>rt.status==="paused").length,totalEmployees:V.length,activeEmployees:V.filter(rt=>rt.status==="active").length,pendingReports:Math.max(0,we-oe),submittedReports:oe,clientsNeedingAttention:ne,budgetUtilization:ze,totalBudget:ve,totalSpending:He}),a(D.data||[]),u(M),l(M.slice(0,5)),f(qe.sort((rt,Pe)=>Pe.assignmentCount-rt.assignmentCount))}catch(z){console.error("Error loading dashboard data:",z)}finally{n(!1)}},b=z=>{const H=new Date(z),X=H.getDay(),pe=H.getDate()-X+(X===0?-6:1);return new Date(H.setDate(pe)).toISOString().split("T")[0]},N=z=>{const H=z.action||"action",X=z.entity_type||"item";return`${H.charAt(0).toUpperCase()+H.slice(1)} ${X}`},C=()=>{const z=new Date().getHours();return z<12?"Good morning":z<17?"Good afternoon":"Good evening"},S=((ie=y==null?void 0:y.full_name)==null?void 0:ie.split(" ")[0])||"there",A=z=>!v||Object.keys(m).length===0?!0:m[z]!==!1,k=p.useMemo(()=>{const z=c.filter(xe=>xe.health_status==="healthy").length,H=c.filter(xe=>xe.health_status==="needs_attention").length,X=c.filter(xe=>xe.health_status==="at_risk").length,pe=c.length-z-H-X;return{healthy:z,needsAtt:H,atRisk:X,unknown:pe}},[c]),R=p.useMemo(()=>c.filter(z=>z.priority==="critical"||z.priority==="high").slice(0,6),[c]),O=p.useMemo(()=>d.filter(z=>z.assignmentCount>0).slice(0,5),[d]),L=[{label:"Total Clients",value:e.totalClients,sub:`${e.activeClients} active`,icon:gs,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-950/40",href:"/clients"},{label:"Team Members",value:e.totalEmployees,sub:`${e.activeEmployees} active`,icon:Qi,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-950/40",href:"/employees"},{label:"Weekly Reports",value:e.submittedReports,sub:`${e.pendingReports} pending`,icon:Zn,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-950/40",href:"/reports"},{label:"Budget Used",value:`${e.budgetUtilization.toFixed(0)}%`,sub:e.totalBudget>0?`$${(e.totalSpending/1e3).toFixed(1)}k of $${(e.totalBudget/1e3).toFixed(1)}k`:"of monthly budget",icon:xd,color:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-950/40",href:"/budget"}],U=z=>{switch(z){case"healthy":return"default";case"needs_attention":return"secondary";case"at_risk":return"destructive";default:return"outline"}},q=z=>{switch(z){case"healthy":return"Healthy";case"needs_attention":return"Needs Attention";case"at_risk":return"At Risk";default:return z||"Unknown"}},Q=z=>{switch(z){case"critical":return"destructive";case"high":return"default";default:return"secondary"}};return r?s.jsxs("div",{className:"space-y-8","data-testid":"dashboard-loading",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-9 w-64 mb-2"}),s.jsx(ke,{className:"h-4 w-80"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[1,2,3,4].map(z=>s.jsx(Le,{children:s.jsxs(Fe,{className:"p-6",children:[s.jsx(ke,{className:"h-4 w-24 mb-4"}),s.jsx(ke,{className:"h-9 w-20 mb-2"}),s.jsx(ke,{className:"h-3 w-16"})]})},z))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[s.jsx(ke,{className:"h-48"}),s.jsx(ke,{className:"h-48 lg:col-span-2"})]})]}):s.jsxs("div",{className:"space-y-8","data-testid":"dashboard-page",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-semibold","data-testid":"text-page-title",children:[C(),", ",S]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Stay on top of your tasks, monitor progress, and track status."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:L.map(z=>{const H=z.icon;return s.jsx(Le,{className:"hover-elevate cursor-pointer transition-shadow",onClick:()=>x(z.href),"data-testid":`card-stat-${z.label.toLowerCase().replace(/\s/g,"-")}`,children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:z.label}),s.jsx("p",{className:"text-3xl font-semibold mt-2 tracking-tight",children:z.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:z.sub})]}),s.jsx("div",{className:`rounded-lg p-2.5 ${z.bg}`,children:s.jsx(H,{className:`h-5 w-5 ${z.color}`})})]})})},z.label)})}),e.clientsNeedingAttention>0&&s.jsx(Le,{className:"border-amber-200 dark:border-amber-800/40 bg-amber-50/60 dark:bg-amber-950/20",children:s.jsxs(Fe,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-lg bg-amber-100 dark:bg-amber-900/40 p-2",children:s.jsx(Xn,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium","data-testid":"text-attention-alert",children:[e.clientsNeedingAttention," client",e.clientsNeedingAttention>1?"s":""," need attention"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Review their health status and take action."})]})]}),s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>x("/client-health"),"data-testid":"button-view-health",children:["View Details",s.jsx(Ap,{className:"ml-1 h-3.5 w-3.5"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[A("client_health")&&s.jsxs(Le,{"data-testid":"card-health-distribution",children:[s.jsx(Rr,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[s.jsx(Ir,{className:"text-[15px] font-semibold",children:"Client Health"}),s.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>x("/client-health"),"data-testid":"button-view-all-health",children:["View all",s.jsx(Ay,{className:"ml-1 h-3.5 w-3.5"})]})]})}),s.jsxs(Fe,{className:"space-y-4",children:[c.length>0&&s.jsxs("div",{className:"flex h-2.5 rounded-full overflow-hidden bg-muted","data-testid":"bar-health-distribution",children:[k.healthy>0&&s.jsx("div",{className:"bg-emerald-500 dark:bg-emerald-400",style:{width:`${k.healthy/c.length*100}%`}}),k.needsAtt>0&&s.jsx("div",{className:"bg-amber-500 dark:bg-amber-400",style:{width:`${k.needsAtt/c.length*100}%`}}),k.atRisk>0&&s.jsx("div",{className:"bg-red-500 dark:bg-red-400",style:{width:`${k.atRisk/c.length*100}%`}})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-emerald-500 dark:bg-emerald-400"}),s.jsx("span",{className:"text-sm",children:"Healthy"})]}),s.jsx("span",{className:"text-sm font-semibold","data-testid":"text-health-healthy",children:k.healthy})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-amber-500 dark:bg-amber-400"}),s.jsx("span",{className:"text-sm",children:"Needs Attention"})]}),s.jsx("span",{className:"text-sm font-semibold","data-testid":"text-health-attention",children:k.needsAtt})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-red-500 dark:bg-red-400"}),s.jsx("span",{className:"text-sm",children:"At Risk"})]}),s.jsx("span",{className:"text-sm font-semibold","data-testid":"text-health-risk",children:k.atRisk})]})]})]})]}),A("team_utilization")&&s.jsxs(Le,{className:"lg:col-span-2","data-testid":"card-team-workload",children:[s.jsx(Rr,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[s.jsx(Ir,{className:"text-[15px] font-semibold",children:"Team Workload"}),s.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>x("/employee-workload"),"data-testid":"button-view-workload",children:["View all",s.jsx(Ay,{className:"ml-1 h-3.5 w-3.5"})]})]})}),s.jsx(Fe,{children:O.length===0?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No assignments yet"})}):s.jsx("div",{className:"space-y-3",children:O.map((z,H)=>{const X=Math.round(z.assignmentCount/z.maxCapacity*100),pe=X>=75,xe=Qh[H%Qh.length];return s.jsxs("div",{className:"flex items-center gap-3","data-testid":`workload-row-${z.id}`,children:[s.jsx(hs,{className:"h-7 w-7 shrink-0",children:s.jsx(ms,{className:`${xe} text-white text-[10px] font-medium`,children:QS(z.full_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap mb-1",children:[s.jsx("span",{className:"text-[13px] font-medium truncate",children:z.full_name}),s.jsxs("span",{className:`text-[11px] font-medium shrink-0 ${pe?"text-red-600 dark:text-red-400":"text-muted-foreground"}`,children:[z.assignmentCount,"/",z.maxCapacity]})]}),s.jsx(Bd,{value:Math.min(X,100),className:"h-1.5"})]})]},z.id)})})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Le,{className:"hover-elevate cursor-pointer",onClick:()=>x("/reports"),"data-testid":"button-action-reports",children:s.jsxs(Fe,{className:"flex items-center gap-3 p-3",children:[s.jsx("div",{className:"rounded-md bg-blue-50 dark:bg-blue-950/40 p-1.5",children:s.jsx(Zn,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"})}),s.jsx("span",{className:"text-[13px] font-medium",children:"View Reports"})]})}),s.jsx(Le,{className:"hover-elevate cursor-pointer",onClick:()=>x("/assignments"),"data-testid":"button-action-assignments",children:s.jsxs(Fe,{className:"flex items-center gap-3 p-3",children:[s.jsx("div",{className:"rounded-md bg-emerald-50 dark:bg-emerald-950/40 p-1.5",children:s.jsx(Qi,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"})}),s.jsx("span",{className:"text-[13px] font-medium",children:"Assignments"})]})}),s.jsx(Le,{className:"hover-elevate cursor-pointer",onClick:()=>x("/clients"),"data-testid":"button-action-add-client",children:s.jsxs(Fe,{className:"flex items-center gap-3 p-3",children:[s.jsx("div",{className:"rounded-md bg-violet-50 dark:bg-violet-950/40 p-1.5",children:s.jsx(on,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),s.jsx("span",{className:"text-[13px] font-medium",children:"Add Client"})]})}),s.jsx(Le,{className:"hover-elevate cursor-pointer",onClick:()=>x("/analytics"),"data-testid":"button-action-analytics",children:s.jsxs(Fe,{className:"flex items-center gap-3 p-3",children:[s.jsx("div",{className:"rounded-md bg-amber-50 dark:bg-amber-950/40 p-1.5",children:s.jsx(vl,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-400"})}),s.jsx("span",{className:"text-[13px] font-medium",children:"Analytics"})]})})]})]}),A("active_clients")&&R.length>0&&s.jsxs(Le,{"data-testid":"card-priority-clients",children:[s.jsx(Rr,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[s.jsx(Ir,{className:"text-[15px] font-semibold",children:"Priority Clients"}),s.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>x("/clients"),"data-testid":"button-view-priority-clients",children:["View all",s.jsx(Ay,{className:"ml-1 h-3.5 w-3.5"})]})]})}),s.jsx(Fe,{children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:R.map((z,H)=>s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap p-3 rounded-md border hover-elevate cursor-pointer",onClick:()=>x(`/clients/${z.id}`),"data-testid":`priority-client-${z.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx(hs,{className:"h-8 w-8 shrink-0",children:s.jsx(ms,{className:`${Qh[H%Qh.length]} text-white text-[10px] font-medium`,children:QS(z.name)})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-[13px] font-medium truncate",children:z.name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:z.industry||"No industry"})]})]}),s.jsx("div",{className:"flex items-center gap-1.5 shrink-0 flex-wrap",children:s.jsx($t,{variant:Q(z.priority),className:"text-[10px]",children:z.priority})})]},z.id))})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[A("recent_activity")&&s.jsxs(Le,{children:[s.jsx(Rr,{className:"pb-2",children:s.jsx(Ir,{className:"text-[15px] font-semibold",children:"Recent Activity"})}),s.jsx(Fe,{children:s.jsx(rA,{className:"h-[300px]",children:s.jsxs("div",{className:"space-y-0.5",children:[i.map((z,H)=>s.jsxs("div",{className:"flex items-start gap-3 py-3 border-b border-border/50 last:border-0","data-testid":`activity-log-${H}`,children:[s.jsx("div",{className:"rounded-md bg-muted p-1.5 mt-0.5",children:s.jsx(wi,{className:"h-3.5 w-3.5 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[13px] font-medium",children:N(z)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:cr(new Date(z.created_at),"MMM d, h:mm a")})]})]},z.id)),i.length===0&&s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity"})})]})})})]}),s.jsxs(Le,{children:[s.jsx(Rr,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[s.jsx(Ir,{className:"text-[15px] font-semibold",children:"Recent Clients"}),s.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>x("/clients"),"data-testid":"button-view-all-clients",children:["View all",s.jsx(Ay,{className:"ml-1 h-3.5 w-3.5"})]})]})}),s.jsx(Fe,{children:s.jsxs("div",{className:"space-y-0.5",children:[o.map((z,H)=>s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap py-3 border-b border-border/50 last:border-0 hover-elevate rounded-md px-2 -mx-2 cursor-pointer",onClick:()=>x(`/clients/${z.id}`),"data-testid":`client-${z.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx(hs,{className:"h-7 w-7 shrink-0",children:s.jsx(ms,{className:`${Qh[H%Qh.length]} text-white text-[10px] font-medium`,children:QS(z.name)})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-[13px] font-medium truncate",children:z.name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:z.industry||"No industry"})]})]}),s.jsx($t,{variant:U(z.health_status),children:q(z.health_status)})]},z.id)),o.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No clients yet"}),s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>x("/clients"),"data-testid":"button-add-first-client",children:[s.jsx(on,{className:"mr-1 h-3.5 w-3.5"}),"Add your first client"]})]})]})})]})]})]})}var cge=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function nA(e){if(typeof e!="string")return!1;var t=cge;return t.includes(e)}var uge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dge=new Set(uge);function PW(e){return typeof e!="string"?!1:dge.has(e)}function TW(e){return typeof e=="string"&&e.startsWith("data-")}function Xs(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(PW(r)||TW(r))&&(t[r]=e[r]);return t}function Xf(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Xs(t)}return typeof e=="object"&&!Array.isArray(e)?Xs(e):null}function Ja(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(PW(r)||TW(r)||nA(r))&&(t[r]=e[r]);return t}function fge(e){return e==null?null:p.isValidElement(e)?Ja(e.props):typeof e=="object"&&!Array.isArray(e)?Ja(e):null}var hge=["children","width","height","viewBox","className","style","title","desc"];function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ak.apply(null,arguments)}function mge(e,t){if(e==null)return{};var r,n,i=pge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iA=p.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:l,title:c,desc:u}=e,d=mge(e,hge),f=a||{width:n,height:i,x:0,y:0},m=Er("recharts-surface",o);return p.createElement("svg",Ak({},Ja(d),{className:m,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),gge=["children","className"];function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pk.apply(null,arguments)}function vge(e,t){if(e==null)return{};var r,n,i=xge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ta=p.forwardRef((e,t)=>{var{children:r,className:n}=e,i=vge(e,gge),a=Er("recharts-layer",n);return p.createElement("g",Pk({className:a},Ja(i),{ref:t}),r)}),OW=p.createContext(null),yge=()=>p.useContext(OW);function gn(e){return function(){return e}}const RW=Math.cos,Bw=Math.sin,Sl=Math.sqrt,Uw=Math.PI,X2=2*Uw,Tk=Math.PI,Ok=2*Tk,gf=1e-6,wge=Ok-gf;function IW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IW;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class _ge{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IW:bge(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>gf)if(!(Math.abs(f*c-u*d)>gf)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=i-l,g=c*c+u*u,x=h*h+v*v,y=Math.sqrt(g),w=Math.sqrt(m),_=a*Math.tan((Tk-Math.acos((g+m-x)/(2*y*w)))/2),b=_/w,N=_/y;Math.abs(b-1)>gf&&this._append`L${t+b*d},${r+b*f}`,this._append`A${a},${a},0,0,${+(f*h>d*v)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>gf||Math.abs(this._y1-d)>gf)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%Ok+Ok),m>wge?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>gf&&this._append`A${n},${n},0,${+(m>=Tk)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function aA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _ge(t)}function sA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DW(e){this._context=e}DW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function J2(e){return new DW(e)}function LW(e){return e[0]}function MW(e){return e[1]}function FW(e,t){var r=gn(!0),n=null,i=J2,a=null,o=aA(l);e=typeof e=="function"?e:e===void 0?LW:gn(e),t=typeof t=="function"?t:t===void 0?MW:gn(t);function l(c){var u,d=(c=sA(c)).length,f,m=!1,h;for(n==null&&(a=i(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,u,c),+t(f,u,c));if(h)return a=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:gn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:gn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:gn(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function By(e,t,r){var n=null,i=gn(!0),a=null,o=J2,l=null,c=aA(u);e=typeof e=="function"?e:e===void 0?LW:gn(+e),t=typeof t=="function"?t:gn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?MW:gn(+r);function u(f){var m,h,v,g=(f=sA(f)).length,x,y=!1,w,_=new Array(g),b=new Array(g);for(a==null&&(l=o(w=c())),m=0;m<=g;++m){if(!(m<g&&i(x=f[m],m,f))===y)if(y=!y)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=m-1;v>=h;--v)l.point(_[v],b[v]);l.lineEnd(),l.areaEnd()}y&&(_[m]=+e(x,m,f),b[m]=+t(x,m,f),l.point(n?+n(x,m,f):_[m],r?+r(x,m,f):b[m]))}if(w)return l=null,w+""||null}function d(){return FW().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:gn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:gn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:gn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:gn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:gn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:gn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:gn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class $W{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jge(e){return new $W(e,!0)}function Sge(e){return new $W(e,!1)}const oA={draw(e,t){const r=Sl(t/Uw);e.moveTo(r,0),e.arc(0,0,r,0,X2)}},Nge={draw(e,t){const r=Sl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},BW=Sl(1/3),kge=BW*2,Ege={draw(e,t){const r=Sl(t/kge),n=r*BW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Cge={draw(e,t){const r=Sl(t),n=-r/2;e.rect(n,n,r,r)}},Age=.8908130915292852,UW=Bw(Uw/10)/Bw(7*Uw/10),Pge=Bw(X2/10)*UW,Tge=-RW(X2/10)*UW,Oge={draw(e,t){const r=Sl(t*Age),n=Pge*r,i=Tge*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=X2*a/5,l=RW(o),c=Bw(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},e5=Sl(3),Rge={draw(e,t){const r=-Sl(t/(e5*3));e.moveTo(0,r*2),e.lineTo(-e5*r,-r),e.lineTo(e5*r,-r),e.closePath()}},uo=-.5,fo=Sl(3)/2,Rk=1/Sl(12),Ige=(Rk/2+1)*3,Dge={draw(e,t){const r=Sl(t/Ige),n=r/2,i=r*Rk,a=n,o=r*Rk+r,l=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(uo*n-fo*i,fo*n+uo*i),e.lineTo(uo*a-fo*o,fo*a+uo*o),e.lineTo(uo*l-fo*c,fo*l+uo*c),e.lineTo(uo*n+fo*i,uo*i-fo*n),e.lineTo(uo*a+fo*o,uo*o-fo*a),e.lineTo(uo*l+fo*c,uo*c-fo*l),e.closePath()}};function Lge(e,t){let r=null,n=aA(i);e=typeof e=="function"?e:gn(e||oA),t=typeof t=="function"?t:gn(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:gn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:gn(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function zw(){}function Ww(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zW(e){this._context=e}zW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ww(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ww(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mge(e){return new zW(e)}function WW(e){this._context=e}WW.prototype={areaStart:zw,areaEnd:zw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ww(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fge(e){return new WW(e)}function HW(e){this._context=e}HW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ww(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $ge(e){return new HW(e)}function qW(e){this._context=e}qW.prototype={areaStart:zw,areaEnd:zw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Bge(e){return new qW(e)}function wR(e){return e<0?-1:1}function bR(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(wR(a)+wR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function _R(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function t5(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function Hw(e){this._context=e}Hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:t5(this,this._t0,_R(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,t5(this,_R(this,r=bR(this,e,t)),r);break;default:t5(this,this._t0,r=bR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function VW(e){this._context=new GW(e)}(VW.prototype=Object.create(Hw.prototype)).point=function(e,t){Hw.prototype.point.call(this,t,e)};function GW(e){this._context=e}GW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function Uge(e){return new Hw(e)}function zge(e){return new VW(e)}function KW(e){this._context=e}KW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=jR(e),i=jR(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function jR(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Wge(e){return new KW(e)}function Z2(e,t){this._context=e,this._t=t}Z2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Hge(e){return new Z2(e,.5)}function qge(e){return new Z2(e,0)}function Vge(e){return new Z2(e,1)}function Jf(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,l=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Ik(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Gge(e,t){return e[t]}function Kge(e){const t=[];return t.key=e,t}function Yge(){var e=gn([]),t=Ik,r=Jf,n=Gge;function i(a){var o=Array.from(e.apply(this,arguments),Kge),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,a)]).data=f;for(l=0,d=sA(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:gn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:gn(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Ik:typeof a=="function"?a:gn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Jf,i):r},i}function Xge(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Jf(e,t)}}function Jge(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Jf(e,t)}}function Zge(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,v=0;v<l;++v){var g=e[t[v]],x=g[n][1]||0,y=g[n-1][1]||0;h+=x-y}c+=f,u+=h*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Jf(e,t)}}var Q2={},YW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(YW);var lA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(lA);var e_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(e_);var t_={},XW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(XW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XW,r=e_;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const f=i[l];u?f==="\\"&&l+1<o?(l++,c+=i[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(c),c=""):c+=f:f==="["?(d=!0,c&&(a.push(c),c="")):f==="."?c&&(a.push(c),c=""):c+=f,l++}return c&&a.push(c),a}e.toPath=n})(t_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YW,r=lA,n=e_,i=t_;function a(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?a(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(Q2);var Qge=Q2.get;const Zf=lc(Qge);var eve=4;function sd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eve,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function qn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,o)=>{var l=r[o-1];return typeof l=="string"?i+l+a:l!==void 0?i+sd(l)+a:i+a},"")}var Yi=e=>e===0?0:e>0?1:-1,nc=e=>typeof e=="number"&&e!=+e,Qf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,kt=e=>(typeof e=="number"||e instanceof Number)&&!nc(e),ic=e=>kt(e)||typeof e=="string",tve=0,lv=e=>{var t=++tve;return"".concat(e||"").concat(t)},Ia=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!kt(t)&&typeof t!="string")return n;var a;if(Qf(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return nc(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},JW=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function An(e,t,r){return kt(e)&&kt(t)?sd(e+r*(t-e)):t}function ZW(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Zf(n,t))===r)}var Ln=e=>e===null||typeof e>"u",Qv=e=>Ln(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function os(e){return e!=null}function vh(){}var rve=["type","size","sizeType"];function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dk.apply(null,arguments)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){nve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nve(e,t,r){return(t=ive(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ive(e){var t=ave(e,"string");return typeof t=="symbol"?t:t+""}function ave(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sve(e,t){if(e==null)return{};var r,n,i=ove(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ove(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QW={symbolCircle:oA,symbolCross:Nge,symbolDiamond:Ege,symbolSquare:Cge,symbolStar:Oge,symbolTriangle:Rge,symbolWye:Dge},lve=Math.PI/180,cve=e=>{var t="symbol".concat(Qv(e));return QW[t]||oA},uve=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*lve;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dve=(e,t)=>{QW["symbol".concat(Qv(e))]=t},cA=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=sve(e,rve),a=NR(NR({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=cve(o),h=Lge().type(m).size(uve(r,n,o)),v=h();if(v!==null)return v},{className:c,cx:u,cy:d}=a,f=Ja(a);return kt(u)&&kt(d)&&kt(r)?p.createElement("path",Dk({},f,{className:Er("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};cA.registerSymbol=dve;var eH=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,uA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{nA(i)&&(n[i]=a=>r[i](r,a))}),n},fve=(e,t,r)=>n=>(e(t,r,n),null),ex=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];nA(i)&&typeof a=="function"&&(n||(n={}),n[i]=fve(a,t,r))}),n};function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){mve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mve(e,t,r){return(t=pve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pve(e){var t=gve(e,"string");return typeof t=="symbol"?t:t+""}function gve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ji(e,t){var r=hve({},e),n=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return a}function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qw.apply(null,arguments)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){xve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xve(e,t,r){return(t=yve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yve(e){var t=wve(e,"string");return typeof t=="symbol"?t:t+""}function wve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var po=32,bve={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function _ve(e){var{data:t,iconType:r,inactiveColor:n}=e,i=po/2,a=po/6,o=po/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:po,y2:i,className:"recharts-legend-icon"})}if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(po,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(po/8,"h").concat(po,"v").concat(po*3/4,"h").concat(-po,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var d=vve({},t);return delete d.legendIcon,p.cloneElement(t.legendIcon,d)}return p.createElement(cA,{fill:l,cx:i,cy:i,size:po,sizeType:"diameter",type:c})}function jve(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=e,l={x:0,y:0,width:po,height:po},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var m=d.formatter||i,h=Er({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var v=d.inactive?a:d.color,g=m?m(d.value,d,f):d.value;return p.createElement("li",qw({className:h,style:c,key:"legend-item-".concat(f)},ex(e,d,f)),p.createElement(iA,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(g," legend icon")},p.createElement(_ve,{data:d,iconType:o,inactiveColor:a})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g))})}var Sve=e=>{var t=ji(e,bve),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:a},p.createElement(jve,qw({},t,{payload:r})))},tH={},rH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],l=n(o,a,r);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(rH);var nH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(nH);var dA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(dA);var iH={},r_={},aH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(aH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aH;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(r_);var sH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(sH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r_,r=sH;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(iH);var oH={},lH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q2;function r(n){return function(i){return t.get(i,n)}}e.property=r})(lH);var cH={},fA={},uH={},hA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(hA);var mA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(mA);var pA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(pA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hA,r=mA,n=pA;function i(d,f,m){return typeof m!="function"?i(d,f,()=>{}):a(d,f,function h(v,g,x,y,w,_){const b=m(v,g,x,y,w,_);return b!==void 0?!!b:a(v,g,h,_)},new Map)}function a(d,f,m,h){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,m,h);case"function":return Object.keys(f).length>0?a(d,{...f},m,h):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,m,h){if(f==null)return!0;if(Array.isArray(f))return c(d,f,m,h);if(f instanceof Map)return l(d,f,m,h);if(f instanceof Set)return u(d,f,m,h);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===d;h==null||h.set(f,d);try{for(let g=0;g<v.length;g++){const x=v[g];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!m(d[x],f[x],x,d,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function l(d,f,m,h){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,g]of f.entries()){const x=d.get(v);if(m(x,g,v,d,f,h)===!1)return!1}return!0}function c(d,f,m,h){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let g=0;g<f.length;g++){const x=f[g];let y=!1;for(let w=0;w<d.length;w++){if(v.has(w))continue;const _=d[w];let b=!1;if(m(_,x,g,d,f,h)&&(b=!0),b){v.add(w),y=!0;break}}if(!y)return!1}return!0}function u(d,f,m,h){return f.size===0?!0:d instanceof Set?c([...d],[...f],m,h):!1}e.isMatchWith=i,e.isSetMatch=u})(uH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uH;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(fA);var dH={},gA={},fH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(fH);var n_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(n_);var vA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",v="[object Error]",g="[object DataView]",x="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",_="[object Uint32Array]",b="[object BigUint64Array]",N="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",A="[object BigInt64Array]",k="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=b,e.booleanTag=i,e.dataViewTag=g,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=k,e.float64ArrayTag=R,e.functionTag=f,e.int16ArrayTag=C,e.int32ArrayTag=S,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=_,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=y})(vA);var hH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(hH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fH,r=n_,n=vA,i=mA,a=hH;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,m,h=new Map,v=void 0){const g=v==null?void 0:v(d,f,m,h);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const x=new Array(d.length);h.set(d,x);for(let y=0;y<d.length;y++)x[y]=l(d[y],y,m,h,v);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;h.set(d,x);for(const[y,w]of d)x.set(y,l(w,y,m,h,v));return x}if(d instanceof Set){const x=new Set;h.set(d,x);for(const y of d)x.add(l(y,void 0,m,h,v));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,x);for(let y=0;y<d.length;y++)x[y]=l(d[y],y,m,h,v);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,x),c(x,d,m,h,v),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return h.set(d,x),c(x,d,m,h,v),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return h.set(d,x),c(x,d,m,h,v),x}if(d instanceof Error){const x=new d.constructor;return h.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,m,h,v),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return h.set(d,x),c(x,d,m,h,v),x}if(d instanceof Number){const x=new Number(d.valueOf());return h.set(d,x),c(x,d,m,h,v),x}if(d instanceof String){const x=new String(d.valueOf());return h.set(d,x),c(x,d,m,h,v),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return h.set(d,x),c(x,d,m,h,v),x}return d}function c(d,f,m=d,h,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<g.length;x++){const y=g[x],w=Object.getOwnPropertyDescriptor(d,y);(w==null||w.writable)&&(d[y]=l(f[y],y,m,h,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(gA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gA;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(dH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fA,r=dH;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(cH);var mH={},pH={},gH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gA,r=n_,n=vA;function i(a,o){return t.cloneDeepWith(a,(l,c,u,d)=>{const f=o==null?void 0:o(l,c,u,d);if(f!==void 0)return f;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const m={};return d.set(a,m),t.copyProperties(m,a,u,d),m}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(m,a),m}case n.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(gH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gH;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(pH);var vH={},xA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(xA);var xH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n_;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(xH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lA,r=xA,n=xH,i=t_;function a(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(vH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fA,r=e_,n=pH,i=Q2,a=vH;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?a.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(mH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dA,r=lH,n=cH,i=mH;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(oH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rH,r=nH,n=dA,i=iH,a=oH;function o(l,c=n.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(a.iteratee(c),1)):[]}e.uniqBy=o})(tH);var Nve=tH.uniqBy;const CR=lc(Nve);function yH(e,t,r){return t===!0?CR(e,r):typeof t=="function"?CR(e,t):e}var wH={exports:{}},bH={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_=p,kve=aC;function Eve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cve=typeof Object.is=="function"?Object.is:Eve,Ave=kve.useSyncExternalStore,Pve=i_.useRef,Tve=i_.useEffect,Ove=i_.useMemo,Rve=i_.useDebugValue;bH.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Pve(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Ove(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),i!==void 0&&o.hasValue){var v=o.value;if(i(v,h))return f=v}return f=h}if(v=f,Cve(d,h))return v;var g=n(h);return i!==void 0&&i(v,g)?(d=h,v):(d=h,f=g)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,i]);var l=Ave(e,a[0],a[1]);return Tve(function(){o.hasValue=!0,o.value=l},[l]),Rve(l),l};wH.exports=bH;var Ive=wH.exports,yA=p.createContext(null),Dve=e=>e,xn=()=>{var e=p.useContext(yA);return e?e.store.dispatch:Dve},M1=()=>{},Lve=()=>M1,Mve=(e,t)=>e===t;function Ot(e){var t=p.useContext(yA),r=p.useMemo(()=>t?n=>{if(n!=null)return e(n)}:M1,[t,e]);return Ive.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Lve,t?t.store.getState:M1,t?t.store.getState:M1,r,Mve)}function Fve(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $ve(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Bve(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var AR=e=>Array.isArray(e)?e:[e];function Uve(e){const t=Array.isArray(e[0])?e[0]:e;return Bve(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function zve(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var Wve=class{constructor(e){this.value=e}deref(){return this.value}},Hve=typeof WeakRef<"u"?WeakRef:Wve,qve=0,PR=1;function Uy(){return{s:qve,v:void 0,o:null,p:null}}function _H(e,t={}){let r=Uy();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var f;let l=r;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const x=g.get(v);x===void 0?(l=Uy(),g.set(v,l)):l=x}else{let g=l.p;g===null&&(l.p=g=new Map);const x=g.get(v);x===void 0?(l=Uy(),g.set(v,l)):l=x}}const u=l;let d;if(l.s===PR)d=l.v;else if(d=e.apply(null,arguments),a++,n){const m=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;m!=null&&n(m,d)&&(d=m,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Hve(d):d}return u.s=PR,u.v=d,d}return o.clearCache=()=>{r=Uy(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Vve(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),Fve(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:h=_H,argsMemoizeOptions:v=[]}=d,g=AR(m),x=AR(v),y=Uve(i),w=f(function(){return a++,u.apply(null,arguments)},...g),_=h(function(){o++;const N=zve(y,arguments);return l=w.apply(null,N),l},...x);return Object.assign(_,{resultFunc:u,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var Re=Vve(_H),Gve=Object.assign((e,t=Re)=>{$ve(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>Gve}),jH={},SH={},NH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),l=t(i);if(o===l&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=r})(NH);var kH={},wA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(wA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wA,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(kH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NH,r=kH,n=t_;function i(a,o,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,v)=>{let g=h;for(let x=0;x<v.length&&g!=null;++x)g=g[v[x]];return g},d=(h,v)=>v==null||h==null?v:typeof h=="object"&&"key"in h?Object.hasOwn(v,h.key)?v[h.key]:u(v,h.path):typeof h=="function"?h(v):Array.isArray(h)?u(v,h):typeof v=="object"?v[h]:v,f=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:f.map(v=>d(v,h))})).slice().sort((h,v)=>{for(let g=0;g<f.length;g++){const x=t.compareValues(h.criteria[g],v.criteria[g],l[g]);if(x!==0)return x}return 0}).map(h=>h.original)}e.orderBy=i})(SH);var EH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<a?o(d,c+1):i.push(d)}};return o(r,0),i}e.flatten=t})(EH);var bA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xA,r=r_,n=hA,i=pA;function a(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.isEqualsSameValueZero(c[l],o):!1}e.isIterateeCall=a})(bA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SH,r=EH,n=bA;function i(a,...o){const l=o.length;return l>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(jH);var Kve=jH.sortBy;const a_=lc(Kve);var CH=e=>e.legend.settings,Yve=e=>e.legend.size,Xve=e=>e.legend.payload,Jve=Re([Xve,CH],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?a_(n,r):n});function Zve(){return Ot(Jve)}var zy=1;function AH(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>zy||Math.abs(o.left-t.left)>zy||Math.abs(o.top-t.top)>zy||Math.abs(o.width-t.width)>zy)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ha(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Qve=typeof Symbol=="function"&&Symbol.observable||"@@observable",TR=Qve,r5=()=>Math.random().toString(36).substring(7).split("").join("."),exe={INIT:`@@redux/INIT${r5()}`,REPLACE:`@@redux/REPLACE${r5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${r5()}`},Vw=exe;function _A(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function PH(e,t,r){if(typeof e!="function")throw new Error(ha(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ha(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ha(1));return r(PH)(e,t)}let n=e,i=t,a=new Map,o=a,l=0,c=!1;function u(){o===a&&(o=new Map,a.forEach((x,y)=>{o.set(y,x)}))}function d(){if(c)throw new Error(ha(3));return i}function f(x){if(typeof x!="function")throw new Error(ha(4));if(c)throw new Error(ha(5));let y=!0;u();const w=l++;return o.set(w,x),function(){if(y){if(c)throw new Error(ha(6));y=!1,u(),o.delete(w),a=null}}}function m(x){if(!_A(x))throw new Error(ha(7));if(typeof x.type>"u")throw new Error(ha(8));if(typeof x.type!="string")throw new Error(ha(17));if(c)throw new Error(ha(9));try{c=!0,i=n(i,x)}finally{c=!1}return(a=o).forEach(w=>{w()}),x}function h(x){if(typeof x!="function")throw new Error(ha(10));n=x,m({type:Vw.REPLACE})}function v(){const x=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(ha(11));function w(){const b=y;b.next&&b.next(d())}return w(),{unsubscribe:x(w)}},[TR](){return this}}}return m({type:Vw.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[TR]:v}}function txe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Vw.INIT})>"u")throw new Error(ha(12));if(typeof r(void 0,{type:Vw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ha(13))})}function TH(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{txe(r)}catch(a){i=a}return function(o={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=o[f],v=m(h,l);if(typeof v>"u")throw l&&l.type,new Error(ha(14));u[f]=v,c=c||v!==h}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Gw(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function rxe(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(ha(15))};const o={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},l=e.map(c=>c(o));return a=Gw(...l)(i.dispatch),{...i,dispatch:a}}}function OH(e){return _A(e)&&"type"in e&&typeof e.type=="string"}var RH=Symbol.for("immer-nothing"),OR=Symbol.for("immer-draftable"),Za=Symbol.for("immer-state");function sl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ws=Object,pp=Ws.getPrototypeOf,Kw="constructor",s_="prototype",Lk="configurable",Yw="enumerable",F1="writable",cv="value",ru=e=>!!e&&!!e[Za];function bl(e){var t;return e?IH(e)||l_(e)||!!e[OR]||!!((t=e[Kw])!=null&&t[OR])||c_(e)||u_(e):!1}var nxe=Ws[s_][Kw].toString(),RR=new WeakMap;function IH(e){if(!e||!jA(e))return!1;const t=pp(e);if(t===null||t===Ws[s_])return!0;const r=Ws.hasOwnProperty.call(t,Kw)&&t[Kw];if(r===Object)return!0;if(!hm(r))return!1;let n=RR.get(r);return n===void 0&&(n=Function.toString.call(r),RR.set(r,n)),n===nxe}function o_(e,t,r=!0){tx(e)===0?(r?Reflect.ownKeys(e):Ws.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function tx(e){const t=e[Za];return t?t.type_:l_(e)?1:c_(e)?2:u_(e)?3:0}var IR=(e,t,r=tx(e))=>r===2?e.has(t):Ws[s_].hasOwnProperty.call(e,t),Mk=(e,t,r=tx(e))=>r===2?e.get(t):e[t],Xw=(e,t,r,n=tx(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function ixe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var l_=Array.isArray,c_=e=>e instanceof Map,u_=e=>e instanceof Set,jA=e=>typeof e=="object",hm=e=>typeof e=="function",n5=e=>typeof e=="boolean";function axe(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Dc=e=>e.copy_||e.base_,SA=e=>e.modified_?e.copy_:e.base_;function Fk(e,t){if(c_(e))return new Map(e);if(u_(e))return new Set(e);if(l_(e))return Array[s_].slice.call(e);const r=IH(e);if(t===!0||t==="class_only"&&!r){const n=Ws.getOwnPropertyDescriptors(e);delete n[Za];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],l=n[o];l[F1]===!1&&(l[F1]=!0,l[Lk]=!0),(l.get||l.set)&&(n[o]={[Lk]:!0,[F1]:!0,[Yw]:l[Yw],[cv]:e[o]})}return Ws.create(pp(e),n)}else{const n=pp(e);if(n!==null&&r)return{...e};const i=Ws.create(n);return Ws.assign(i,e)}}function NA(e,t=!1){return d_(e)||ru(e)||!bl(e)||(tx(e)>1&&Ws.defineProperties(e,{set:Wy,add:Wy,clear:Wy,delete:Wy}),Ws.freeze(e),t&&o_(e,(r,n)=>{NA(n,!0)},!1)),e}function sxe(){sl(2)}var Wy={[cv]:sxe};function d_(e){return e===null||!jA(e)?!0:Ws.isFrozen(e)}var Jw="MapSet",$k="Patches",DR="ArrayMethods",DH={};function eh(e){const t=DH[e];return t||sl(0,e),t}var LR=e=>!!DH[e],uv,LH=()=>uv,oxe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:LR(Jw)?eh(Jw):void 0,arrayMethodsPlugin_:LR(DR)?eh(DR):void 0});function MR(e,t){t&&(e.patchPlugin_=eh($k),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bk(e){Uk(e),e.drafts_.forEach(lxe),e.drafts_=null}function Uk(e){e===uv&&(uv=e.parent_)}var FR=e=>uv=oxe(uv,e);function lxe(e){const t=e[Za];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $R(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Za].modified_&&(Bk(t),sl(4)),bl(e)&&(e=BR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Za].base_,e,t)}else e=BR(t,r);return cxe(t,e,!0),Bk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RH?e:void 0}function BR(e,t){if(d_(t))return t;const r=t[Za];if(!r)return Zw(t,e.handledSet_,e);if(!f_(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);$H(r,e)}return r.copy_}function cxe(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&NA(t,r)}function MH(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var f_=(e,t)=>e.scope_===t,uxe=[];function FH(e,t,r,n){const i=Dc(e),a=e.type_;if(n!==void 0&&Mk(i,n,a)===t){Xw(i,n,r,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;o_(i,(c,u)=>{if(ru(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??uxe;for(const l of o)Xw(i,l,r,a)}function dxe(e,t,r){e.callbacks_.push(function(i){var l;const a=t;if(!a||!f_(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const o=SA(a);FH(e,a.draft_??a,o,r),$H(a,i)})}function $H(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}MH(e)}}function fxe(e,t,r){const{scope_:n}=e;if(ru(r)){const i=r[Za];f_(i,n)&&i.callbacks_.push(function(){$1(e);const o=SA(i);FH(e,r,o,t)})}else bl(r)&&e.callbacks_.push(function(){const a=Dc(e);e.type_===3?a.has(r)&&Zw(r,n.handledSet_,n):Mk(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Zw(Mk(e.copy_,t,e.type_),n.handledSet_,n)})}function Zw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ru(e)||t.has(e)||!bl(e)||d_(e)||(t.add(e),o_(e,(n,i)=>{if(ru(i)){const a=i[Za];if(f_(a,r)){const o=SA(a);Xw(e,n,o,e.type_),MH(a)}}else bl(i)&&Zw(i,t,r)})),e}function hxe(e,t){const r=l_(e),n={type_:r?1:0,scope_:t?t.scope_:LH(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Qw;r&&(i=[n],a=dv);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,[l,n]}var Qw={get(e,t){if(t===Za)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Dc(e);if(!IR(i,t,e.type_))return mxe(e,i,t);const a=i[t];if(e.finalized_||!bl(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&axe(t))return a;if(a===i5(e.base_,t)){$1(e);const o=e.type_===1?+t:t,l=Wk(e.scope_,a,e,o);return e.copy_[o]=l}return a},has(e,t){return t in Dc(e)},ownKeys(e){return Reflect.ownKeys(Dc(e))},set(e,t,r){const n=BH(Dc(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=i5(Dc(e),t),a=i==null?void 0:i[Za];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(ixe(r,i)&&(r!==void 0||IR(e.base_,t,e.type_)))return!0;$1(e),zk(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),fxe(e,t,r)),!0},deleteProperty(e,t){return $1(e),i5(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),zk(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Dc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[F1]:!0,[Lk]:e.type_!==1||t!=="length",[Yw]:n[Yw],[cv]:r[t]}},defineProperty(){sl(11)},getPrototypeOf(e){return pp(e.base_)},setPrototypeOf(){sl(12)}},dv={};for(let e in Qw){let t=Qw[e];dv[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}dv.deleteProperty=function(e,t){return dv.set.call(this,e,t,void 0)};dv.set=function(e,t,r){return Qw.set.call(this,e[0],t,r,e[0])};function i5(e,t){const r=e[Za];return(r?Dc(r):e)[t]}function mxe(e,t,r){var i;const n=BH(t,r);return n?cv in n?n[cv]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function BH(e,t){if(!(t in e))return;let r=pp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=pp(r)}}function zk(e){e.modified_||(e.modified_=!0,e.parent_&&zk(e.parent_))}function $1(e){e.copy_||(e.assigned_=new Map,e.copy_=Fk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pxe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(hm(r)&&!hm(n)){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}hm(n)||sl(6),i!==void 0&&!hm(i)&&sl(7);let a;if(bl(r)){const o=FR(this),l=Wk(o,r,void 0);let c=!0;try{a=n(l),c=!1}finally{c?Bk(o):Uk(o)}return MR(o,i),$R(a,o)}else if(!r||!jA(r)){if(a=n(r),a===void 0&&(a=r),a===RH&&(a=void 0),this.autoFreeze_&&NA(a,!0),i){const o=[],l=[];eh($k).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else sl(1,r)},this.produceWithPatches=(r,n)=>{if(hm(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let i,a;return[this.produce(r,n,(l,c)=>{i=l,a=c}),i,a]},n5(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),n5(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),n5(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){bl(t)||sl(8),ru(t)&&(t=ml(t));const r=FR(this),n=Wk(r,t,void 0);return n[Za].isManual_=!0,Uk(r),n}finishDraft(t,r){const n=t&&t[Za];(!n||!n.isManual_)&&sl(9);const{scope_:i}=n;return MR(i,r),$R(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=eh($k).applyPatches_;return ru(t)?i(t,r):this.produce(t,a=>i(a,r))}};function Wk(e,t,r,n){const[i,a]=c_(t)?eh(Jw).proxyMap_(t,r):u_(t)?eh(Jw).proxySet_(t,r):hxe(t,r);return((r==null?void 0:r.scope_)??LH()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?dxe(r,a,n):a.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:u}=c;a.modified_&&u&&u.generatePatches_(a,[],c)}),i}function ml(e){return ru(e)||sl(10,e),UH(e)}function UH(e){if(!bl(e)||d_(e))return e;const t=e[Za];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Fk(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Fk(e,!0);return o_(r,(i,a)=>{Xw(r,i,UH(a))},n),t&&(t.finalized_=!1),r}var gxe=new pxe,zH=gxe.produce;function WH(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var vxe=WH(),xxe=WH,yxe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gw:Gw.apply(null,arguments)};function Eo(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Gs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>OH(n)&&n.type===e,r}var HH=class ig extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ig.prototype)}static get[Symbol.species](){return ig}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ig(...t[0].concat(this)):new ig(...t.concat(this))}};function UR(e){return bl(e)?zH(e,()=>{}):e}function Hy(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function wxe(e){return typeof e=="boolean"}var bxe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new HH;return r&&(wxe(r)?o.push(vxe):o.push(xxe(r.extraArgument))),o},qH="RTK_autoBatch",Cn=()=>e=>({payload:e,meta:{[qH]:!0}}),zR=e=>t=>{setTimeout(t,e)},VH=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zR(10):e.type==="callback"?e.queueNotification:zR(e.timeout),u=()=>{o=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[qH]),a=!i,a&&(o||(o=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},_xe=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new HH(e);return n&&i.push(VH(typeof n=="object"?n:void 0)),i};function jxe(e){const t=bxe(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(_A(r))l=TH(r);else throw new Error(Gs(1));let c;typeof n=="function"?c=n(t):c=t();let u=Gw;i&&(u=yxe({trace:!1,...typeof i=="object"&&i}));const d=rxe(...c),f=_xe(d);let m=typeof o=="function"?o(f):f();const h=u(...m);return PH(l,a,h)}function GH(e){const t={},r=[];let n;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Gs(28));if(l in t)throw new Error(Gs(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function Sxe(e){return typeof e=="function"}function Nxe(e,t){let[r,n,i]=GH(t),a;if(Sxe(e))a=()=>UR(e());else{const l=UR(e);a=()=>l}function o(l=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(ru(d)){const h=f(d,c);return h===void 0?d:h}else{if(bl(d))return zH(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return o.getInitialState=a,o}var kxe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Exe=(e=21)=>{let t="",r=e;for(;r--;)t+=kxe[Math.random()*64|0];return t},Cxe=Symbol.for("rtk-slice-createasyncthunk");function Axe(e,t){return`${e}/${t}`}function Pxe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Cxe];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Gs(11));const l=(typeof i.reducers=="function"?i.reducers(Oxe()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(b,N){const C=typeof b=="string"?b:b.type;if(!C)throw new Error(Gs(12));if(C in u.sliceCaseReducersByType)throw new Error(Gs(13));return u.sliceCaseReducersByType[C]=N,d},addMatcher(b,N){return u.sliceMatchers.push({matcher:b,reducer:N}),d},exposeAction(b,N){return u.actionCreators[b]=N,d},exposeCaseReducer(b,N){return u.sliceCaseReducersByName[b]=N,d}};c.forEach(b=>{const N=l[b],C={reducerName:b,type:Axe(a,b),createNotation:typeof i.reducers=="function"};Ixe(N)?Lxe(C,N,d,t):Rxe(C,N,d)});function f(){const[b={},N=[],C=void 0]=typeof i.extraReducers=="function"?GH(i.extraReducers):[i.extraReducers],S={...b,...u.sliceCaseReducersByType};return Nxe(i.initialState,A=>{for(let k in S)A.addCase(k,S[k]);for(let k of u.sliceMatchers)A.addMatcher(k.matcher,k.reducer);for(let k of N)A.addMatcher(k.matcher,k.reducer);C&&A.addDefaultCase(C)})}const m=b=>b,h=new Map,v=new WeakMap;let g;function x(b,N){return g||(g=f()),g(b,N)}function y(){return g||(g=f()),g.getInitialState()}function w(b,N=!1){function C(A){let k=A[b];return typeof k>"u"&&N&&(k=Hy(v,C,y)),k}function S(A=m){const k=Hy(h,N,()=>new WeakMap);return Hy(k,A,()=>{const R={};for(const[O,L]of Object.entries(i.selectors??{}))R[O]=Txe(L,A,()=>Hy(v,A,y),N);return R})}return{reducerPath:b,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const _={name:a,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...w(o),injectInto(b,{reducerPath:N,...C}={}){const S=N??o;return b.inject({reducerPath:S,reducer:x},C),{..._,...w(S,!0)}}};return _}}function Txe(e,t,r,n){function i(a,...o){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return i.unwrapped=e,i}var ys=Pxe();function Oxe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Rxe({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!Dxe(n))throw new Error(Gs(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Eo(e,o):Eo(e))}function Ixe(e){return e._reducerDefinitionType==="asyncThunk"}function Dxe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Lxe({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Gs(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||qy,pending:l||qy,rejected:c||qy,settled:u||qy})}function qy(){}var Mxe="task",KH="listener",YH="completed",kA="cancelled",Fxe=`task-${kA}`,$xe=`task-${YH}`,Hk=`${KH}-${kA}`,Bxe=`${KH}-${YH}`,h_=class{constructor(e){kr(this,"name","TaskAbortError");kr(this,"message");this.code=e,this.message=`${Mxe} ${kA} (reason: ${e})`}},EA=(e,t)=>{if(typeof e!="function")throw new TypeError(Gs(32))},eb=()=>{},XH=(e,t=eb)=>(e.catch(t),e),JH=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Lf=e=>{if(e.aborted)throw new h_(e.reason)};function ZH(e,t){let r=eb;return new Promise((n,i)=>{const a=()=>i(new h_(e.reason));if(e.aborted){a();return}r=JH(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=eb})}var Uxe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof h_?"cancelled":"rejected",error:r}}finally{t==null||t()}},tb=e=>t=>XH(ZH(e,t).then(r=>(Lf(e),r))),QH=e=>{const t=tb(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Hm}=Object,WR={},m_="listenerMiddleware",zxe=(e,t)=>{const r=n=>JH(e,()=>n.abort(e.reason));return(n,i)=>{EA(n);const a=new AbortController;r(a);const o=Uxe(async()=>{Lf(e),Lf(a.signal);const l=await n({pause:tb(a.signal),delay:QH(a.signal),signal:a.signal});return Lf(a.signal),l},()=>a.abort($xe));return i!=null&&i.autoJoin&&t.push(o.catch(eb)),{result:tb(e)(o),cancel(){a.abort(Fxe)}}}},Wxe=(e,t)=>{const r=async(n,i)=>{Lf(t);let a=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await ZH(t,Promise.race(l));return Lf(t),c}finally{a()}};return(n,i)=>XH(r(n,i))},eq=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Eo(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Gs(21));return EA(a),{predicate:i,type:t,effect:a}},tq=Hm(e=>{const{type:t,predicate:r,effect:n}=eq(e);return{id:Exe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Gs(22))}}},{withTypes:()=>tq}),HR=(e,t)=>{const{type:r,effect:n,predicate:i}=eq(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},qk=e=>{e.pending.forEach(t=>{t.abort(Hk)})},Hxe=(e,t)=>()=>{for(const r of t.keys())qk(r);e.clear()},qR=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},rq=Hm(Eo(`${m_}/add`),{withTypes:()=>rq}),qxe=Eo(`${m_}/removeAll`),nq=Hm(Eo(`${m_}/remove`),{withTypes:()=>nq}),Vxe=(...e)=>{console.error(`${m_}/error`,...e)},rx=(e={})=>{const t=new Map,r=new Map,n=h=>{const v=r.get(h)??0;r.set(h,v+1)},i=h=>{const v=r.get(h)??1;v===1?r.delete(h):r.set(h,v-1)},{extra:a,onError:o=Vxe}=e;EA(o);const l=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),v=>{h.unsubscribe(),v!=null&&v.cancelActive&&qk(h)}),c=h=>{const v=HR(t,h)??tq(h);return l(v)};Hm(c,{withTypes:()=>c});const u=h=>{const v=HR(t,h);return v&&(v.unsubscribe(),h.cancelActive&&qk(v)),!!v};Hm(u,{withTypes:()=>u});const d=async(h,v,g,x)=>{const y=new AbortController,w=Wxe(c,y.signal),_=[];try{h.pending.add(y),n(h),await Promise.resolve(h.effect(v,Hm({},g,{getOriginalState:x,condition:(b,N)=>w(b,N).then(Boolean),take:w,delay:QH(y.signal),pause:tb(y.signal),extra:a,signal:y.signal,fork:zxe(y.signal,_),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((b,N,C)=>{b!==y&&(b.abort(Hk),C.delete(b))})},cancel:()=>{y.abort(Hk),h.pending.delete(y)},throwIfCancelled:()=>{Lf(y.signal)}})))}catch(b){b instanceof h_||qR(o,b,{raisedBy:"effect"})}finally{await Promise.all(_),y.abort(Bxe),i(h),h.pending.delete(y)}},f=Hxe(t,r);return{middleware:h=>v=>g=>{if(!OH(g))return v(g);if(rq.match(g))return c(g.payload);if(qxe.match(g)){f();return}if(nq.match(g))return u(g.payload);let x=h.getState();const y=()=>{if(x===WR)throw new Error(Gs(23));return x};let w;try{if(w=v(g),t.size>0){const _=h.getState(),b=Array.from(t.values());for(const N of b){let C=!1;try{C=N.predicate(g,_,x)}catch(S){C=!1,qR(o,S,{raisedBy:"predicate"})}C&&d(N,g,h,y)}}}finally{x=WR}return w},startListening:c,stopListening:u,clearListeners:f}};function Gs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Gxe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iq=ys({name:"chartLayout",initialState:Gxe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Kxe,setLayout:Yxe,setChartSize:Xxe,setScale:Jxe}=iq.actions,Zxe=iq.reducer;function aq(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function jr(e){return Number.isFinite(e)}function ac(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){Qxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qxe(e,t,r){return(t=eye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eye(e){var t=tye(e,"string");return typeof t=="symbol"?t:t+""}function tye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sn(e,t,r){return Ln(e)||Ln(t)?r:ic(t)?Zf(e,t,r):typeof t=="function"?t(e):r}var rye=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&kt(e[a]))return Tm(Tm({},e),{},{[a]:e[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&kt(e[o]))return Tm(Tm({},e),{},{[o]:e[o]+(i||0)})}return e},pu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sq=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(r),o},oq=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:h}=e;if(!o)return null;var v=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=i==="category"&&o.bandwidth?o.bandwidth()/v:0;if(g=h==="angleAxis"&&a&&a.length>=2?Yi(a[0]-a[1])*2*g:g,f||m){var x=(f||m||[]).map((y,w)=>{var _=n?n.indexOf(y):y,b=o.map(_);return jr(b)?{coordinate:b+g,value:y,offset:g,index:w}:null}).filter(os);return x}return c&&u?u.map((y,w)=>{var _=o.map(y);return jr(_)?{coordinate:_+g,value:y,index:w,offset:g}:null}).filter(os):o.ticks&&d!=null?o.ticks(d).map((y,w)=>{var _=o.map(y);return jr(_)?{coordinate:_+g,value:y,index:w,offset:g}:null}).filter(os):o.domain().map((y,w)=>{var _=o.map(y);return jr(_)?{coordinate:_+g,value:n?n[y]:y,index:w,offset:g}:null}).filter(os)},nye=(e,t)=>{if(!t||t.length!==2||!kt(t[0])||!kt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!kt(e[0])||e[0]<r)&&(i[0]=r),(!kt(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},iye=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0,l=0;l<r;++l){var c=e[l],u=c==null?void 0:c[i];if(u!=null){var d=u[1],f=u[0],m=nc(d)?f:d;m>=0?(u[0]=a,a+=m,u[1]=a):(u[0]=o,o+=m,u[1]=o)}}}},aye=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0;o<r;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var u=nc(c[1])?c[0]:c[1];u>=0?(c[0]=a,a+=u,c[1]=a):(c[0]=0,c[1]=0)}}}},sye={sign:iye,expand:Xge,none:Jf,silhouette:Jge,wiggle:Zge,positive:aye},oye=(e,t,r)=>{var n,i=(n=sye[r])!==null&&n!==void 0?n:Jf,a=Yge().keys(t).value((l,c)=>Number(sn(l,c,0))).order(Ik).offset(i),o=a(e);return o.forEach((l,c)=>{l.forEach((u,d)=>{var f=sn(e[d],t[c],0);Array.isArray(f)&&f.length===2&&kt(f[0])&&kt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function lye(e){return e==null?void 0:String(e)}function GR(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ln(i[t.dataKey])){var l=ZW(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var c=sn(i,Ln(o)?t.dataKey:o),u=t.scale.map(c);return kt(u)?u:null}var KR=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=sn(a,t.dataKey,t.scale.domain()[o]);if(Ln(l))return null;var c=t.scale.map(l);return kt(c)?c-i/2+n:null},cye=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},uye=e=>{var t=e.flat(2).filter(kt);return[Math.min(...t),Math.max(...t)]},dye=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],fye=(e,t,r)=>{if(e!=null)return dye(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:o}=a,l=o.reduce((c,u)=>{var d=aq(u,t,r),f=uye(d);return!jr(f[0])||!jr(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},YR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=a_(t,d=>d.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];a=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function JR(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Tm(Tm({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Bp(e,t){if(e)return String(e);if(typeof t=="string")return t}var hye=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},mye=(e,t)=>t==="centric"?e.angle:e.radius,gu=e=>e.layout.width,vu=e=>e.layout.height,pye=e=>e.layout.scale,lq=e=>e.layout.margin,p_=Re(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),g_=Re(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),cq="data-recharts-item-index",uq="data-recharts-item-id",nx=60;function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){gye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gye(e,t,r){return(t=vye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vye(e){var t=xye(e,"string");return typeof t=="symbol"?t:t+""}function xye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yye=e=>e.brush.height;function wye(e){var t=g_(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:nx;return r+i}return r},0)}function bye(e){var t=g_(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:nx;return r+i}return r},0)}function _ye(e){var t=p_(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function jye(e){var t=p_(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var $i=Re([gu,vu,lq,yye,wye,bye,_ye,jye,CH,Yve],(e,t,r,n,i,a,o,l,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},m=Vy(Vy({},f),d),h=m.bottom;m.bottom+=n,m=rye(m,c,u);var v=e-m.left-m.right,g=t-m.top-m.bottom;return Vy(Vy({brushBottom:h},m),{},{width:Math.max(v,0),height:Math.max(g,0)})}),Sye=Re($i,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),CA=Re(gu,vu,(e,t)=>({x:0,y:0,width:e,height:t})),Nye=p.createContext(null),Fa=()=>p.useContext(Nye)!=null,v_=e=>e.brush,x_=Re([v_,$i,lq],(e,t,r)=>({height:e.height,x:kt(e.x)?e.x:t.left,y:kt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:kt(e.width)?e.width:t.width})),dq={},fq={},hq={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,l=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),g()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},v=()=>{m!==null&&(clearTimeout(m),m=null)},g=()=>{v(),o=void 0,l=null},x=()=>{d()},y=function(...w){if(i!=null&&i.aborted)return;o=this,l=w;const _=m==null;h(),c&&_&&d()};return y.schedule=h,y.cancel=g,y.flush=x,i==null||i.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(hq);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hq;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:c}=a,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...g){d=n.apply(this,g),f=null},i,{edges:u}),h=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,g),d)},v=()=>(m.flush(),d);return h.cancel=m.cancel,h.flush=v,h}e.debounce=r})(fq);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fq;function r(n,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:l})}e.throttle=r})(dq);var kye=dq.throttle;const Eye=lc(kye);var rb=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},Yl={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},mq=(e,t,r)=>{var{width:n=Yl.width,height:i=Yl.height,aspect:a,maxHeight:o}=r,l=Qf(n)?e:Number(n),c=Qf(i)?t:Number(i);return a&&a>0&&(l?c=l/a:c&&(l=c*a),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},Cye={width:0,height:0,overflow:"visible"},Aye={width:0,overflowX:"visible"},Pye={height:0,overflowY:"visible"},Tye={},Oye=e=>{var{width:t,height:r}=e,n=Qf(t),i=Qf(r);return n&&i?Cye:n?Aye:i?Pye:Tye};function Rye(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=Yl.width,a=Yl.height):i===void 0?i=n&&n>0?void 0:Yl.width:a===void 0&&(a=n&&n>0?void 0:Yl.height),{width:i,height:a}}function Vk(){return Vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vk.apply(null,arguments)}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){Iye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iye(e,t,r){return(t=Dye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dye(e){var t=Lye(e,"string");return typeof t=="symbol"?t:t+""}function Lye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pq=p.createContext(Yl.initialDimension);function Mye(e){return ac(e.width)&&ac(e.height)}function gq(e){var{children:t,width:r,height:n}=e,i=p.useMemo(()=>({width:r,height:n}),[r,n]);return Mye(i)?p.createElement(pq.Provider,{value:i},t):null}var AA=()=>p.useContext(pq),Fye=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Yl.initialDimension,width:i,height:a,minWidth:o=Yl.minWidth,minHeight:l,maxHeight:c,children:u,debounce:d=Yl.debounce,id:f,className:m,onResize:h,style:v={}}=e,g=p.useRef(null),x=p.useRef();x.current=h,p.useImperativeHandle(t,()=>g.current);var[y,w]=p.useState({containerWidth:n.width,containerHeight:n.height}),_=p.useCallback((A,k)=>{w(R=>{var O=Math.round(A),L=Math.round(k);return R.containerWidth===O&&R.containerHeight===L?R:{containerWidth:O,containerHeight:L}})},[]);p.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return vh;var A=L=>{var U,q=L[0];if(q!=null){var{width:Q,height:ie}=q.contentRect;_(Q,ie),(U=x.current)===null||U===void 0||U.call(x,Q,ie)}};d>0&&(A=Eye(A,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(A),{width:R,height:O}=g.current.getBoundingClientRect();return _(R,O),k.observe(g.current),()=>{k.disconnect()}},[_,d]);var{containerWidth:b,containerHeight:N}=y;rb(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:C,calculatedHeight:S}=mq(b,N,{width:i,height:a,aspect:r,maxHeight:c});return rb(C!=null&&C>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,S,i,a,o,l,r),p.createElement("div",{id:f?"".concat(f):void 0,className:Er("recharts-responsive-container",m),style:eI(eI({},v),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:c}),ref:g},p.createElement("div",{style:Oye({width:i,height:a})},p.createElement(gq,{width:C,height:S},u)))}),a5=p.forwardRef((e,t)=>{var r=AA();if(ac(r.width)&&ac(r.height))return e.children;var{width:n,height:i}=Rye({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=mq(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return kt(a)&&kt(o)?p.createElement(gq,{width:a,height:o},e.children):p.createElement(Fye,Vk({},e,{width:n,height:i,ref:t}))});function PA(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var y_=()=>{var e,t=Fa(),r=Ot(Sye),n=Ot(x_),i=(e=Ot(v_))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},$ye={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vq=()=>{var e;return(e=Ot($i))!==null&&e!==void 0?e:$ye},TA=()=>Ot(gu),OA=()=>Ot(vu),Bye=()=>Ot(e=>e.layout.margin),Mr=e=>e.layout.layoutType,xh=()=>Ot(Mr),xq=()=>{var e=xh();if(e==="horizontal"||e==="vertical")return e},yq=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Uye=()=>{var e=xh();return e!==void 0},ix=e=>{var t=xn(),r=Fa(),{width:n,height:i}=e,a=AA(),o=n,l=i;return a&&(o=a.width>0?a.width:n,l=a.height>0?a.height:i),p.useEffect(()=>{!r&&ac(o)&&ac(l)&&t(Xxe({width:o,height:l}))},[t,r,o,l]),null},wq=Symbol.for("immer-nothing"),tI=Symbol.for("immer-draftable"),Js=Symbol.for("immer-state");function ol(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fv=Object.getPrototypeOf;function vp(e){return!!e&&!!e[Js]}function th(e){var t;return e?bq(e)||Array.isArray(e)||!!e[tI]||!!((t=e.constructor)!=null&&t[tI])||ax(e)||b_(e):!1}var zye=Object.prototype.constructor.toString(),rI=new WeakMap;function bq(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=rI.get(r);return n===void 0&&(n=Function.toString.call(r),rI.set(r,n)),n===zye}function nb(e,t,r=!0){w_(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function w_(e){const t=e[Js];return t?t.type_:Array.isArray(e)?1:ax(e)?2:b_(e)?3:0}function Gk(e,t){return w_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _q(e,t,r){const n=w_(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Wye(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ax(e){return e instanceof Map}function b_(e){return e instanceof Set}function vf(e){return e.copy_||e.base_}function Kk(e,t){if(ax(e))return new Map(e);if(b_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=bq(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Js];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(fv(e),n)}else{const n=fv(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function RA(e,t=!1){return __(e)||vp(e)||!th(e)||(w_(e)>1&&Object.defineProperties(e,{set:Gy,add:Gy,clear:Gy,delete:Gy}),Object.freeze(e),t&&Object.values(e).forEach(r=>RA(r,!0))),e}function Hye(){ol(2)}var Gy={value:Hye};function __(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var qye={};function rh(e){const t=qye[e];return t||ol(0,e),t}var hv;function jq(){return hv}function Vye(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nI(e,t){t&&(rh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Yk(e){Xk(e),e.drafts_.forEach(Gye),e.drafts_=null}function Xk(e){e===hv&&(hv=e.parent_)}function iI(e){return hv=Vye(hv,e)}function Gye(e){const t=e[Js];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aI(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Js].modified_&&(Yk(t),ol(4)),th(e)&&(e=ib(t,e),t.parent_||ab(t,e)),t.patches_&&rh("Patches").generateReplacementPatches_(r[Js].base_,e,t.patches_,t.inversePatches_)):e=ib(t,r,[]),Yk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wq?e:void 0}function ib(e,t,r){if(__(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Js];if(!i)return nb(t,(a,o)=>sI(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return ab(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),nb(o,(c,u)=>sI(e,i,a,c,u,r,l),n),ab(e,a,!1),r&&e.patches_&&rh("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function sI(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=__(i);if(!(l&&!o)){if(vp(i)){const c=a&&t&&t.type_!==3&&!Gk(t.assigned_,n)?a.concat(n):void 0,u=ib(e,i,c);if(_q(r,n,u),vp(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(th(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&l)return;ib(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ax(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ab(e,i)}}}function ab(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&RA(t,r)}function Kye(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:jq(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=IA;r&&(i=[n],a=mv);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,l}var IA={get(e,t){if(t===Js)return e;const r=vf(e);if(!Gk(r,t))return Yye(e,r,t);const n=r[t];return e.finalized_||!th(n)?n:n===s5(e.base_,t)?(o5(e),e.copy_[t]=Zk(n,e)):n},has(e,t){return t in vf(e)},ownKeys(e){return Reflect.ownKeys(vf(e))},set(e,t,r){const n=Sq(vf(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=s5(vf(e),t),a=i==null?void 0:i[Js];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Wye(r,i)&&(r!==void 0||Gk(e.base_,t)))return!0;o5(e),Jk(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return s5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,o5(e),Jk(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=vf(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ol(11)},getPrototypeOf(e){return fv(e.base_)},setPrototypeOf(){ol(12)}},mv={};nb(IA,(e,t)=>{mv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});mv.deleteProperty=function(e,t){return mv.set.call(this,e,t,void 0)};mv.set=function(e,t,r){return IA.set.call(this,e[0],t,r,e[0])};function s5(e,t){const r=e[Js];return(r?vf(r):e)[t]}function Yye(e,t,r){var i;const n=Sq(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Sq(e,t){if(!(t in e))return;let r=fv(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fv(r)}}function Jk(e){e.modified_||(e.modified_=!0,e.parent_&&Jk(e.parent_))}function o5(e){e.copy_||(e.copy_=Kk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Xye=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(c=a,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&ol(6),n!==void 0&&typeof n!="function"&&ol(7);let i;if(th(t)){const a=iI(this),o=Zk(t,void 0);let l=!0;try{i=r(o),l=!1}finally{l?Yk(a):Xk(a)}return nI(a,n),aI(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===wq&&(i=void 0),this.autoFreeze_&&RA(i,!0),n){const a=[],o=[];rh("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else ol(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,i;return[this.produce(t,r,(o,l)=>{n=o,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){th(e)||ol(8),vp(e)&&(e=Jye(e));const t=iI(this),r=Zk(e,void 0);return r[Js].isManual_=!0,Xk(t),r}finishDraft(e,t){const r=e&&e[Js];(!r||!r.isManual_)&&ol(9);const{scope_:n}=r;return nI(n,t),aI(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=rh("Patches").applyPatches_;return vp(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Zk(e,t){const r=ax(e)?rh("MapSet").proxyMap_(e,t):b_(e)?rh("MapSet").proxySet_(e,t):Kye(e,t);return(t?t.scope_:jq()).drafts_.push(r),r}function Jye(e){return vp(e)||ol(10,e),Nq(e)}function Nq(e){if(!th(e)||__(e))return e;const t=e[Js];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Kk(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Kk(e,!0);return nb(r,(i,a)=>{_q(r,i,Nq(a))},n),t&&(t.finalized_=!1),r}var Zye=new Xye;Zye.produce;var Qye={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},kq=ys({name:"legend",initialState:Qye,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Cn()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ml(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Cn()},removeLegendPayload:{reducer(e,t){var r=ml(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Cn()}}}),{setLegendSize:oI,setLegendSettings:e1e,addLegendPayload:Eq,replaceLegendPayload:Cq,removeLegendPayload:Aq}=kq.actions,t1e=kq.reducer,r1e=["contextPayload"];function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qk.apply(null,arguments)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){n1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n1e(e,t,r){return(t=i1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i1e(e){var t=a1e(e,"string");return typeof t=="symbol"?t:t+""}function a1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s1e(e,t){if(e==null)return{};var r,n,i=o1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function o1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function l1e(e){return e.value}function c1e(e){var{contextPayload:t}=e,r=s1e(e,r1e),n=yH(t,e.payloadUniqBy,l1e),i=xp(xp({},r),{},{payload:n});return p.isValidElement(e.content)?p.cloneElement(e.content,i):typeof e.content=="function"?p.createElement(e.content,i):p.createElement(Sve,i)}function u1e(e,t,r,n,i,a){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-a.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),xp(xp({},u),d)}function d1e(e){var t=xn();return p.useEffect(()=>{t(e1e(e))},[t,e]),null}function f1e(e){var t=xn();return p.useEffect(()=>(t(oI(e)),()=>{t(oI({width:0,height:0}))}),[t,e]),null}function h1e(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var m1e={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function e4(e){var t=ji(e,m1e),r=Zve(),n=yge(),i=Bye(),{width:a,height:o,wrapperStyle:l,portal:c}=t,[u,d]=AH([r]),f=TA(),m=OA();if(f==null||m==null)return null;var h=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),v=h1e(t.layout,o,a,h),g=c?l:xp(xp({position:"absolute",width:(v==null?void 0:v.width)||a||"auto",height:(v==null?void 0:v.height)||o||"auto"},u1e(l,t,i,f,m,u)),l),x=c??n;if(x==null||r==null)return null;var y=p.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},p.createElement(d1e,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&p.createElement(f1e,{width:u.width,height:u.height}),p.createElement(c1e,Qk({},t,v,{margin:i,chartWidth:f,chartHeight:m,contextPayload:r})));return Ro.createPortal(y,x)}e4.displayName="Legend";function t4(){return t4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t4.apply(null,arguments)}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){p1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p1e(e,t,r){return(t=g1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g1e(e){var t=v1e(e,"string");return typeof t=="symbol"?t:t+""}function v1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x1e(e){return Array.isArray(e)&&ic(e[0])&&ic(e[1])?e.join(" ~ "):e}var em={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},y1e=e=>{var{separator:t=em.separator,contentStyle:r,itemStyle:n,labelStyle:i=em.labelStyle,payload:a,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=em.accessibilityLayer}=e,h=()=>{if(a&&a.length){var N={padding:0,margin:0},C=(l?a_(a,l):a).map((S,A)=>{if(S.type==="none")return null;var k=S.formatter||o||x1e,{value:R,name:O}=S,L=R,U=O;if(k){var q=k(R,O,S,A,a);if(Array.isArray(q))[L,U]=q;else if(q!=null)L=q;else return null}var Q=B0(B0({},em.itemStyle),{},{color:S.color||em.itemStyle.color},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:Q},ic(U)?p.createElement("span",{className:"recharts-tooltip-item-name"},U):null,ic(U)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},L),p.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:N},C)}return null},v=B0(B0({},em.contentStyle),r),g=B0({margin:0},i),x=!Ln(d),y=x?d:"",w=Er("recharts-default-tooltip",c),_=Er("recharts-tooltip-label",u);x&&f&&a!==void 0&&a!==null&&(y=f(d,a));var b=m?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",t4({className:w,style:v},b),p.createElement("p",{className:_,style:g},p.isValidElement(y)?y:"".concat(y)),h())},U0="recharts-tooltip-wrapper",w1e={visibility:"hidden"};function b1e(e){var{coordinate:t,translateX:r,translateY:n}=e;return Er(U0,{["".concat(U0,"-right")]:kt(r)&&t&&kt(t.x)&&r>=t.x,["".concat(U0,"-left")]:kt(r)&&t&&kt(t.x)&&r<t.x,["".concat(U0,"-bottom")]:kt(n)&&t&&kt(t.y)&&n>=t.y,["".concat(U0,"-top")]:kt(n)&&t&&kt(t.y)&&n<t.y})}function uI(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(a&&kt(a[n]))return a[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return o[n]?d:f;var m=c[n];if(m==null)return 0;if(o[n]){var h=d,v=m;return h<v?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var g=f+l,x=m+u;return g>x?Math.max(d,m):Math.max(f,m)}function _1e(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function j1e(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:u}=e,d,f,m;return l.height>0&&l.width>0&&r?(f=uI({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=uI({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),d=_1e({translateX:f,translateY:m,useTranslate3d:c})):d=w1e,{cssProperties:d,cssClasses:b1e({translateX:f,translateY:m,coordinate:r})}}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){r4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r4(e,t,r){return(t=S1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S1e(e){var t=N1e(e,"string");return typeof t=="symbol"?t:t+""}function N1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class k1e extends p.PureComponent{constructor(){super(...arguments),r4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),r4(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:v,lastBoundingBox:g,innerRef:x,hasPortalFromProps:y}=this.props,w=typeof u=="number"?u:u.x,_=typeof u=="number"?u:u.y,{cssClasses:b,cssProperties:N}=j1e({allowEscapeViewBox:r,coordinate:o,offsetLeft:w,offsetTop:_,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:m,viewBox:h}),C=y?{}:Ky(Ky({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=Ky(Ky({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:S,ref:x},a)}}var Pq=()=>{var e;return(e=Ot(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function n4(){return n4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n4.apply(null,arguments)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){E1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E1e(e,t,r){return(t=C1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C1e(e){var t=A1e(e,"string");return typeof t=="symbol"?t:t+""}function A1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mI={curveBasisClosed:Fge,curveBasisOpen:$ge,curveBasis:Mge,curveBumpX:jge,curveBumpY:Sge,curveLinearClosed:Bge,curveLinear:J2,curveMonotoneX:Uge,curveMonotoneY:zge,curveNatural:Wge,curveStep:Hge,curveStepAfter:Vge,curveStepBefore:qge},sb=e=>jr(e.x)&&jr(e.y),pI=e=>e.base!=null&&sb(e.base)&&sb(e),z0=e=>e.x,W0=e=>e.y,P1e=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Qv(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=mI["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return mI[r]||J2},gI={connectNulls:!1,type:"linear"},T1e=e=>{var{type:t=gI.type,points:r=[],baseLine:n,layout:i,connectNulls:a=gI.connectNulls}=e,o=P1e(t,i),l=a?r.filter(sb):r;if(Array.isArray(n)){var c,u=r.map((v,g)=>hI(hI({},v),{},{base:n[g]}));i==="vertical"?c=By().y(W0).x1(z0).x0(v=>v.base.x):c=By().x(z0).y1(W0).y0(v=>v.base.y);var d=c.defined(pI).curve(o),f=a?u.filter(pI):u;return d(f)}var m;i==="vertical"&&kt(n)?m=By().y(W0).x1(z0).x0(n):kt(n)?m=By().x(z0).y1(W0).y0(n):m=FW().x(z0).y(W0);var h=m.defined(sb).curve(o);return h(l)},DA=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=xh();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},l=r&&r.length?T1e(o):n;return p.createElement("path",n4({},Xs(e),uA(e),{className:Er("recharts-curve",t),d:l===null?void 0:l,ref:i}))},O1e=["x","y","top","left","width","height","className"];function i4(){return i4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i4.apply(null,arguments)}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){I1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I1e(e,t,r){return(t=D1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D1e(e){var t=L1e(e,"string");return typeof t=="symbol"?t:t+""}function L1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M1e(e,t){if(e==null)return{};var r,n,i=F1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function F1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $1e=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),B1e=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:l}=e,c=M1e(e,O1e),u=R1e({x:t,y:r,top:n,left:i,width:a,height:o},c);return!kt(t)||!kt(r)||!kt(a)||!kt(o)||!kt(n)||!kt(i)?null:p.createElement("path",i4({},Ja(u),{className:Er("recharts-cross",l),d:$1e(t,r,a,o,n,i)}))};function U1e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){z1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z1e(e,t,r){return(t=W1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W1e(e){var t=H1e(e,"string");return typeof t=="symbol"?t:t+""}function H1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q1e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Tq=(e,t,r)=>e.map(n=>"".concat(q1e(n)," ").concat(t,"ms ").concat(r)).join(","),V1e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),pv=(e,t)=>Object.keys(t).reduce((r,n)=>yI(yI({},r),{},{[n]:e(n,t[n])}),{});function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){G1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G1e(e,t,r){return(t=K1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K1e(e){var t=Y1e(e,"string");return typeof t=="symbol"?t:t+""}function Y1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ob=(e,t,r)=>e+(t-e)*r,a4=e=>{var{from:t,to:r}=e;return t!==r},Oq=(e,t,r)=>{var n=pv((i,a)=>{if(a4(a)){var[o,l]=e(a.from,a.to,a.velocity);return Di(Di({},a),{},{from:o,velocity:l})}return a},t);return r<1?pv((i,a)=>a4(a)&&n[i]!=null?Di(Di({},a),{},{velocity:ob(a.velocity,n[i].velocity,r),from:ob(a.from,n[i].from,r)}):a,t):Oq(e,n,r-1)};function X1e(e,t,r,n,i,a){var o,l=n.reduce((m,h)=>Di(Di({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>pv((m,h)=>h.from,l),u=()=>!Object.values(l).filter(a4).length,d=null,f=m=>{o||(o=m);var h=m-o,v=h/r.dt;l=Oq(r,l,v),i(Di(Di(Di({},e),t),c())),o=m,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var m;(m=d)===null||m===void 0||m()})}function J1e(e,t,r,n,i,a,o){var l=null,c=i.reduce((f,m)=>{var h=e[m],v=t[m];return h==null||v==null?f:Di(Di({},f),{},{[m]:[h,v]})},{}),u,d=f=>{u||(u=f);var m=(f-u)/n,h=pv((g,x)=>ob(...x,r(m)),c);if(a(Di(Di(Di({},e),t),h)),m<1)l=o.setTimeout(d);else{var v=pv((g,x)=>ob(...x,r(1)),c);a(Di(Di(Di({},e),t),v))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const Z1e=(e,t,r,n,i,a)=>{var o=V1e(e,t);return r==null?()=>(i(Di(Di({},e),t)),()=>{}):r.isStepper===!0?X1e(e,t,r,o,i,a):J1e(e,t,r,n,o,i,a)};var lb=1e-4,Rq=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Iq=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),bI=(e,t)=>r=>{var n=Rq(e,t);return Iq(n,r)},Q1e=(e,t)=>r=>{var n=Rq(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return Iq(i,r)},ewe=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},twe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=ewe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},rwe=(e,t,r,n)=>{var i=bI(e,r),a=bI(t,n),o=Q1e(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,m=0;m<8;++m){var h=i(f)-d,v=o(f);if(Math.abs(h-d)<lb||v<lb)return a(f);f=l(f-h/v)}return a(f)};return c.isStepper=!1,c},_I=function(){return rwe(...twe(...arguments))},nwe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*i/1e3,m=c*i/1e3+o;return Math.abs(m-l)<lb&&Math.abs(f)<lb?[l,0]:[m,f]};return a.isStepper=!0,a.dt=i,a},iwe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _I(e);case"spring":return nwe();default:if(e.split("(")[0]==="cubic-bezier")return _I(e)}return typeof e=="function"?e:null};function awe(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class swe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function owe(){return awe(new swe)}var lwe=p.createContext(owe);function cwe(e,t){var r=p.useContext(lwe);return p.useMemo(()=>t??r(e),[e,t,r])}var uwe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),j_={isSsr:uwe()},dwe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jI={t:0},l5={t:1};function sx(e){var t=ji(e,dwe),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!j_.isSsr:r,f=cwe(t.animationId,t.animationManager),[m,h]=p.useState(d?jI:l5),v=p.useRef(null);return p.useEffect(()=>{d||h(l5)},[d]),p.useEffect(()=>{if(!d||!n)return vh;var g=Z1e(jI,l5,iwe(a),i,h,f.getTimeoutController()),x=()=>{v.current=g()};return f.start([c,o,x,i,l]),()=>{f.stop(),v.current&&v.current(),l()}},[d,n,i,a,o,c,l,f]),u(m.t)}function ox(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(lv(t)),n=p.useRef(e);return n.current!==e&&(r.current=lv(t),n.current=e),r.current}var fwe=["radius"],hwe=["radius"],SI,NI,kI,EI,CI,AI,PI,TI,OI,RI;function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(n){mwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mwe(e,t,r){return(t=pwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pwe(e){var t=gwe(e,"string");return typeof t=="symbol"?t:t+""}function gwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(null,arguments)}function LI(e,t){if(e==null)return{};var r,n,i=vwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MI=(e,t,r,n,i)=>{var a=sd(r),o=sd(n),l=Math.min(Math.abs(a)/2,Math.abs(o)/2),c=o>=0?1:-1,u=a>=0?1:-1,d=o>=0&&a>=0||o<0&&a<0?1:0,f;if(l>0&&Array.isArray(i)){for(var m=[0,0,0,0],h=0,v=4;h<v;h++){var g,x=(g=i[h])!==null&&g!==void 0?g:0;m[h]=x>l?l:x}f=qn(SI||(SI=Dl(["M",",",""])),e,t+c*m[0]),m[0]>0&&(f+=qn(NI||(NI=Dl(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),f+=qn(kI||(kI=Dl(["L ",",",""])),e+r-u*m[1],t),m[1]>0&&(f+=qn(EI||(EI=Dl(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+r,t+c*m[1])),f+=qn(CI||(CI=Dl(["L ",",",""])),e+r,t+n-c*m[2]),m[2]>0&&(f+=qn(AI||(AI=Dl(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+r-u*m[2],t+n)),f+=qn(PI||(PI=Dl(["L ",",",""])),e+u*m[3],t+n),m[3]>0&&(f+=qn(TI||(TI=Dl(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+n-c*m[3])),f+="Z"}else if(l>0&&i===+i&&i>0){var y=Math.min(l,i);f=qn(OI||(OI=Dl(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*y,y,y,d,e+u*y,t,e+r-u*y,t,y,y,d,e+r,t+c*y,e+r,t+n-c*y,y,y,d,e+r-u*y,t+n,e+u*y,t+n,y,y,d,e,t+n-c*y)}else f=qn(RI||(RI=Dl(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},FI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dq=e=>{var t=ji(e,FI),r=p.useRef(null),[n,i]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var z=r.current.getTotalLength();z&&i(z)}catch{}},[]);var{x:a,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:v,isUpdateAnimationActive:g}=t,x=p.useRef(l),y=p.useRef(c),w=p.useRef(a),_=p.useRef(o),b=p.useMemo(()=>({x:a,y:o,width:l,height:c,radius:u}),[a,o,l,c,u]),N=ox(b,"rectangle-");if(a!==+a||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var C=Er("recharts-rectangle",d);if(!g){var S=Ja(t),{radius:A}=S,k=LI(S,fwe);return p.createElement("path",cb({},k,{x:sd(a),y:sd(o),width:sd(l),height:sd(c),radius:typeof u=="number"?u:void 0,className:C,d:MI(a,o,l,c,u)}))}var R=x.current,O=y.current,L=w.current,U=_.current,q="0px ".concat(n===-1?1:n,"px"),Q="".concat(n,"px 0px"),ie=Tq(["strokeDasharray"],m,typeof f=="string"?f:FI.animationEasing);return p.createElement(sx,{animationId:N,key:N,canBegin:n>0,duration:m,easing:f,isActive:g,begin:h},z=>{var H=An(R,l,z),X=An(O,c,z),pe=An(L,a,z),xe=An(U,o,z);r.current&&(x.current=H,y.current=X,w.current=pe,_.current=xe);var D;v?z>0?D={transition:ie,strokeDasharray:Q}:D={strokeDasharray:q}:D={strokeDasharray:Q};var M=Ja(t),{radius:T}=M,V=LI(M,hwe);return p.createElement("path",cb({},V,{radius:typeof u=="number"?u:void 0,className:C,d:MI(pe,xe,H,X,u),ref:r,style:DI(DI({},D),t.style)}))})};function $I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(r),!0).forEach(function(n){xwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xwe(e,t,r){return(t=ywe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ywe(e){var t=wwe(e,"string");return typeof t=="symbol"?t:t+""}function wwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ub=Math.PI/180,bwe=e=>e*180/Math.PI,xi=(e,t,r,n)=>({x:e+Math.cos(-ub*n)*r,y:t+Math.sin(-ub*n)*r}),Lq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_we=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},jwe=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=_we({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(r-i)/o,c=Math.acos(l);return n>a&&(c=2*Math.PI-c),{radius:o,angle:bwe(c),angleInRadian:c}},Swe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},Nwe=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},kwe=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=jwe({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:u}=Swe(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?BI(BI({},t),{},{radius:i,angle:Nwe(d,t)}):null};function Mq(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=xi(t,r,n,i),l=xi(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var UI,zI,WI,HI,qI,VI,GI;function s4(){return s4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s4.apply(null,arguments)}function Af(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ewe=(e,t)=>{var r=Yi(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Yy=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/ub,f=c?i:i+a*d,m=xi(t,r,u,f),h=xi(t,r,n,f),v=c?i-a*d:i,g=xi(t,r,u*Math.cos(d*ub),v);return{center:m,circleTangency:h,lineTangency:g,theta:d}},Fq=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,l=Ewe(a,o),c=a+l,u=xi(t,r,i,a),d=xi(t,r,i,c),f=qn(UI||(UI=Af(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(l)>180),+(a>c),d.x,d.y);if(n>0){var m=xi(t,r,n,a),h=xi(t,r,n,c);f+=qn(zI||(zI=Af(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),h.x,h.y,n,n,+(Math.abs(l)>180),+(a<=c),m.x,m.y)}else f+=qn(WI||(WI=Af(["L ",","," Z"])),t,r);return f},Cwe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Yi(u-c),{circleTangency:f,lineTangency:m,theta:h}=Yy({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:v,lineTangency:g,theta:x}=Yy({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-h-x;if(y<0)return o?qn(HI||(HI=Af(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):Fq({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var w=qn(qI||(qI=Af(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(d<0),f.x,f.y,i,i,+(y>180),+(d<0),v.x,v.y,a,a,+(d<0),g.x,g.y);if(n>0){var{circleTangency:_,lineTangency:b,theta:N}=Yy({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:C,lineTangency:S,theta:A}=Yy({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=l?Math.abs(c-u):Math.abs(c-u)-N-A;if(k<0&&a===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+=qn(VI||(VI=Af(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,a,a,+(d<0),C.x,C.y,n,n,+(k>180),+(d>0),_.x,_.y,a,a,+(d<0),b.x,b.y)}else w+=qn(GI||(GI=Af(["L",",","Z"])),t,r);return w},Awe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$q=e=>{var t=ji(e,Awe),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var m=Er("recharts-sector",f),h=a-i,v=Ia(o,h,0,!0),g;return v>0&&Math.abs(u-d)<360?g=Cwe({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=Fq({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),p.createElement("path",s4({},Ja(t),{className:m,d:g}))};function Pwe(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(eH(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,c=xi(n,i,a,l),u=xi(n,i,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return Mq(t)}}var Bq={},Uq={},zq={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wA;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(zq);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zq;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Uq);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bA,r=Uq;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=o;return c}e.range=n})(Bq);var Twe=Bq.range;const Wq=lc(Twe);function yd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Owe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LA(e){let t,r,n;e.length!==2?(t=yd,r=(l,c)=>yd(e(l),c),n=(l,c)=>e(l)-c):(t=e===yd||e===Owe?e:Rwe,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function Rwe(){return 0}function Hq(e){return e===null?NaN:+e}function*Iwe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Dwe=LA(yd),lx=Dwe.right;LA(Hq).center;class KI extends Map{constructor(t,r=Fwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(YI(this,t))}has(t){return super.has(YI(this,t))}set(t,r){return super.set(Lwe(this,t),r)}delete(t){return super.delete(Mwe(this,t))}}function YI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Lwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Mwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Fwe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $we(e=yd){if(e===yd)return qq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function qq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Bwe=Math.sqrt(50),Uwe=Math.sqrt(10),zwe=Math.sqrt(2);function db(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Bwe?10:a>=Uwe?5:a>=zwe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?db(e,t,r*2):[l,c,u]}function o4(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?db(t,e,r):db(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function l4(e,t,r){return t=+t,e=+e,r=+r,db(e,t,r)[2]}function c4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?l4(t,e,r):l4(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function XI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function JI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Vq(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?qq:$we(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),v=Math.min(n,Math.floor(t+(c-u)*f/c+m));Vq(e,t,h,v,i)}const a=e[t];let o=r,l=n;for(H0(e,r,t),i(e[n],a)>0&&H0(e,r,n);o<l;){for(H0(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?H0(e,r,l):(++l,H0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function H0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Wwe(e,t,r){if(e=Float64Array.from(Iwe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return JI(e);if(t>=1)return XI(e);var n,i=(n-1)*t,a=Math.floor(i),o=XI(Vq(e,a).subarray(0,a+1)),l=JI(e.subarray(a+1));return o+(l-o)*(i-a)}}function Hwe(e,t,r=Hq){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function qwe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Lo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const u4=Symbol("implicit");function MA(){var e=new KI,t=[],r=[],n=u4;function i(a){let o=e.get(a);if(o===void 0){if(n!==u4)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new KI;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return MA(t,r).unknown(n)},Lo.apply(i,arguments),i}function FA(){var e=MA().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=i<n,v=h?i:n,g=h?n:i;a=(g-v)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),v+=(g-v-a*(m-c))*d,o=a*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=qwe(m).map(function(y){return v+a*y});return r(h?x.reverse():x)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return FA(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Lo.apply(f(),arguments)}function Gq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Gq(t())},e}function Vwe(){return Gq(FA.apply(null,arguments).paddingInner(1))}function $A(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Kq(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cx(){}var gv=.7,fb=1/gv,qm="\\s*([+-]?\\d+)\\s*",vv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gwe=/^#([0-9a-f]{3,8})$/,Kwe=new RegExp(`^rgb\\(${qm},${qm},${qm}\\)$`),Ywe=new RegExp(`^rgb\\(${tc},${tc},${tc}\\)$`),Xwe=new RegExp(`^rgba\\(${qm},${qm},${qm},${vv}\\)$`),Jwe=new RegExp(`^rgba\\(${tc},${tc},${tc},${vv}\\)$`),Zwe=new RegExp(`^hsl\\(${vv},${tc},${tc}\\)$`),Qwe=new RegExp(`^hsla\\(${vv},${tc},${tc},${vv}\\)$`),ZI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$A(cx,xv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QI,formatHex:QI,formatHex8:ebe,formatHsl:tbe,formatRgb:eD,toString:eD});function QI(){return this.rgb().formatHex()}function ebe(){return this.rgb().formatHex8()}function tbe(){return Yq(this).formatHsl()}function eD(){return this.rgb().formatRgb()}function xv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Gwe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?tD(t):r===3?new ls(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kwe.exec(e))?new ls(t[1],t[2],t[3],1):(t=Ywe.exec(e))?new ls(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Xwe.exec(e))?Xy(t[1],t[2],t[3],t[4]):(t=Jwe.exec(e))?Xy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zwe.exec(e))?iD(t[1],t[2]/100,t[3]/100,1):(t=Qwe.exec(e))?iD(t[1],t[2]/100,t[3]/100,t[4]):ZI.hasOwnProperty(e)?tD(ZI[e]):e==="transparent"?new ls(NaN,NaN,NaN,0):null}function tD(e){return new ls(e>>16&255,e>>8&255,e&255,1)}function Xy(e,t,r,n){return n<=0&&(e=t=r=NaN),new ls(e,t,r,n)}function rbe(e){return e instanceof cx||(e=xv(e)),e?(e=e.rgb(),new ls(e.r,e.g,e.b,e.opacity)):new ls}function d4(e,t,r,n){return arguments.length===1?rbe(e):new ls(e,t,r,n??1)}function ls(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}$A(ls,d4,Kq(cx,{brighter(e){return e=e==null?fb:Math.pow(fb,e),new ls(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gv:Math.pow(gv,e),new ls(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ls(Mf(this.r),Mf(this.g),Mf(this.b),hb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rD,formatHex:rD,formatHex8:nbe,formatRgb:nD,toString:nD}));function rD(){return`#${Pf(this.r)}${Pf(this.g)}${Pf(this.b)}`}function nbe(){return`#${Pf(this.r)}${Pf(this.g)}${Pf(this.b)}${Pf((isNaN(this.opacity)?1:this.opacity)*255)}`}function nD(){const e=hb(this.opacity);return`${e===1?"rgb(":"rgba("}${Mf(this.r)}, ${Mf(this.g)}, ${Mf(this.b)}${e===1?")":`, ${e})`}`}function hb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pf(e){return e=Mf(e),(e<16?"0":"")+e.toString(16)}function iD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ll(e,t,r,n)}function Yq(e){if(e instanceof ll)return new ll(e.h,e.s,e.l,e.opacity);if(e instanceof cx||(e=xv(e)),!e)return new ll;if(e instanceof ll)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new ll(o,l,c,e.opacity)}function ibe(e,t,r,n){return arguments.length===1?Yq(e):new ll(e,t,r,n??1)}function ll(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}$A(ll,ibe,Kq(cx,{brighter(e){return e=e==null?fb:Math.pow(fb,e),new ll(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gv:Math.pow(gv,e),new ll(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ls(c5(e>=240?e-240:e+120,i,n),c5(e,i,n),c5(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ll(aD(this.h),Jy(this.s),Jy(this.l),hb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hb(this.opacity);return`${e===1?"hsl(":"hsla("}${aD(this.h)}, ${Jy(this.s)*100}%, ${Jy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aD(e){return e=(e||0)%360,e<0?e+360:e}function Jy(e){return Math.max(0,Math.min(1,e||0))}function c5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const BA=e=>()=>e;function abe(e,t){return function(r){return e+r*t}}function sbe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function obe(e){return(e=+e)==1?Xq:function(t,r){return r-t?sbe(t,r,e):BA(isNaN(t)?r:t)}}function Xq(e,t){var r=t-e;return r?abe(e,r):BA(isNaN(e)?t:e)}const sD=function e(t){var r=obe(t);function n(i,a){var o=r((i=d4(i)).r,(a=d4(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=Xq(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function lbe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function cbe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ube(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Up(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function dbe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function mb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function fbe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Up(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var f4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u5=new RegExp(f4.source,"g");function hbe(e){return function(){return e}}function mbe(e){return function(t){return e(t)+""}}function pbe(e,t){var r=f4.lastIndex=u5.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=f4.exec(e))&&(i=u5.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:mb(n,i)})),r=u5.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?mbe(c[0].x):hbe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Up(e,t){var r=typeof t,n;return t==null||r==="boolean"?BA(t):(r==="number"?mb:r==="string"?(n=xv(t))?(t=n,sD):pbe:t instanceof xv?sD:t instanceof Date?dbe:cbe(t)?lbe:Array.isArray(t)?ube:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fbe:mb)(e,t)}function UA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gbe(e,t){t===void 0&&(t=e,e=Up);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function vbe(e){return function(){return e}}function pb(e){return+e}var oD=[0,1];function Ga(e){return e}function h4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vbe(isNaN(t)?NaN:.5)}function xbe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ybe(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=h4(i,n),a=r(o,a)):(n=h4(n,i),a=r(a,o)),function(l){return a(n(l))}}function wbe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=h4(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=lx(e,l,1,n)-1;return a[c](i[c](l))}}function ux(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function S_(){var e=oD,t=oD,r=Up,n,i,a,o=Ga,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ga&&(o=xbe(e[0],e[m-1])),l=m>2?wbe:ybe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(i((u||(u=l(t,e.map(n),mb)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,pb),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=UA,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ga,d()):o!==Ga},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,h){return n=m,i=h,d()}}function zA(){return S_()(Ga,Ga)}function bbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gb(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yp(e){return e=gb(Math.abs(e)),e?e[1]:NaN}function _be(e,t){return function(r,n){for(var i=r.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function jbe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Sbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yv(e){if(!(t=Sbe.exec(e)))throw new Error("invalid format: "+e);var t;return new WA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yv.prototype=WA.prototype;function WA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}WA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nbe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var vb;function kbe(e,t){var r=gb(e,t);if(!r)return vb=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(vb=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+gb(e,Math.max(0,t+a-1))[0]}function lD(e,t){var r=gb(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const cD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>lD(e*100,t),r:lD,s:kbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uD(e){return e}var dD=Array.prototype.map,fD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ebe(e){var t=e.grouping===void 0||e.thousands===void 0?uD:_be(dD.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?uD:jbe(dD.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,m){f=yv(f);var h=f.fill,v=f.align,g=f.sign,x=f.symbol,y=f.zero,w=f.width,_=f.comma,b=f.precision,N=f.trim,C=f.type;C==="n"?(_=!0,C="g"):cD[C]||(b===void 0&&(b=12),N=!0,C="g"),(y||h==="0"&&v==="=")&&(y=!0,h="0",v="=");var S=(m&&m.prefix!==void 0?m.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),A=(x==="$"?n:/[%p]/.test(C)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),k=cD[C],R=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(L){var U=S,q=A,Q,ie,z;if(C==="c")q=k(L)+q,L="";else{L=+L;var H=L<0||1/L<0;if(L=isNaN(L)?c:k(Math.abs(L),b),N&&(L=Nbe(L)),H&&+L==0&&g!=="+"&&(H=!1),U=(H?g==="("?g:l:g==="-"||g==="("?"":g)+U,q=(C==="s"&&!isNaN(L)&&vb!==void 0?fD[8+vb/3]:"")+q+(H&&g==="("?")":""),R){for(Q=-1,ie=L.length;++Q<ie;)if(z=L.charCodeAt(Q),48>z||z>57){q=(z===46?i+L.slice(Q+1):L.slice(Q))+q,L=L.slice(0,Q);break}}}_&&!y&&(L=t(L,1/0));var X=U.length+L.length+q.length,pe=X<w?new Array(w-X+1).join(h):"";switch(_&&y&&(L=t(pe+L,pe.length?w-q.length:1/0),pe=""),v){case"<":L=U+L+q+pe;break;case"=":L=U+pe+L+q;break;case"^":L=pe.slice(0,X=pe.length>>1)+U+L+q+pe.slice(X);break;default:L=pe+U+L+q;break}return a(L)}return O.toString=function(){return f+""},O}function d(f,m){var h=Math.max(-8,Math.min(8,Math.floor(yp(m)/3)))*3,v=Math.pow(10,-h),g=u((f=yv(f),f.type="f",f),{suffix:fD[8+h/3]});return function(x){return g(v*x)}}return{format:u,formatPrefix:d}}var Zy,HA,Jq;Cbe({thousands:",",grouping:[3],currency:["$",""]});function Cbe(e){return Zy=Ebe(e),HA=Zy.format,Jq=Zy.formatPrefix,Zy}function Abe(e){return Math.max(0,-yp(Math.abs(e)))}function Pbe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yp(t)/3)))*3-yp(Math.abs(e)))}function Tbe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yp(t)-yp(e))+1}function Zq(e,t,r,n){var i=c4(e,t,r),a;switch(n=yv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Pbe(i,o))&&(n.precision=a),Jq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Tbe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Abe(i))&&(n.precision=a-(n.type==="%")*2);break}}return HA(n)}function Ud(e){var t=e.domain;return e.ticks=function(r){var n=t();return o4(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Zq(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=l4(o,l,r),u===c)return n[i]=o,n[a]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Qq(){var e=zA();return e.copy=function(){return ux(e,Qq())},Lo.apply(e,arguments),Ud(e)}function eV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,pb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return eV(e).unknown(t)},e=arguments.length?Array.from(e,pb):[0,1],Ud(r)}function tV(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function hD(e){return Math.log(e)}function mD(e){return Math.exp(e)}function Obe(e){return-Math.log(-e)}function Rbe(e){return-Math.exp(-e)}function Ibe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Dbe(e){return e===10?Ibe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Lbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pD(e){return(t,r)=>-e(-t,r)}function qA(e){const t=e(hD,mD),r=t.domain;let n=10,i,a;function o(){return i=Lbe(n),a=Dbe(n),r()[0]<0?(i=pD(i),a=pD(a),e(Obe,Rbe)):e(hD,mD),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),h=i(d),v,g;const x=l==null?10:+l;let y=[];if(!(n%1)&&h-m<x){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(v=1;v<n;++v)if(g=m<0?v/a(-m):v*a(m),!(g<u)){if(g>d)break;y.push(g)}}else for(;m<=h;++m)for(v=n-1;v>=1;--v)if(g=m>0?v/a(-m):v*a(m),!(g<u)){if(g>d)break;y.push(g)}y.length*2<x&&(y=o4(u,d,x))}else y=o4(m,h,Math.min(h-m,x)).map(a);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=yv(c)).precision==null&&(c.trim=!0),c=HA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(tV(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function rV(){const e=qA(S_()).domain([1,10]);return e.copy=()=>ux(e,rV()).base(e.base()),Lo.apply(e,arguments),e}function gD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function VA(e){var t=1,r=e(gD(t),vD(t));return r.constant=function(n){return arguments.length?e(gD(t=+n),vD(t)):t},Ud(r)}function nV(){var e=VA(S_());return e.copy=function(){return ux(e,nV()).constant(e.constant())},Lo.apply(e,arguments)}function xD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Mbe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Fbe(e){return e<0?-e*e:e*e}function GA(e){var t=e(Ga,Ga),r=1;function n(){return r===1?e(Ga,Ga):r===.5?e(Mbe,Fbe):e(xD(r),xD(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ud(t)}function KA(){var e=GA(S_());return e.copy=function(){return ux(e,KA()).exponent(e.exponent())},Lo.apply(e,arguments),e}function $be(){return KA.apply(null,arguments).exponent(.5)}function yD(e){return Math.sign(e)*e*e}function Bbe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iV(){var e=zA(),t=[0,1],r=!1,n;function i(a){var o=Bbe(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(yD(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,pb)).map(yD)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return iV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Lo.apply(i,arguments),Ud(i)}function aV(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Hwe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[lx(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(yd),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return aV().domain(e).range(t).unknown(n)},Lo.apply(a,arguments)}function sV(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[lx(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return sV().domain([e,t]).range(i).unknown(a)},Lo.apply(Ud(o),arguments)}function oV(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[lx(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return oV().domain(e).range(t).unknown(r)},Lo.apply(i,arguments)}const d5=new Date,f5=new Date;function Bi(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>Bi(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(d5.setTime(+a),f5.setTime(+o),e(d5),e(f5),Math.floor(r(d5,f5))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const xb=Bi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xb);xb.range;const Bc=1e3,wo=Bc*60,Uc=wo*60,nu=Uc*24,YA=nu*7,wD=nu*30,h5=nu*365,Tf=Bi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bc)},(e,t)=>(t-e)/Bc,e=>e.getUTCSeconds());Tf.range;const XA=Bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bc)},(e,t)=>{e.setTime(+e+t*wo)},(e,t)=>(t-e)/wo,e=>e.getMinutes());XA.range;const JA=Bi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wo)},(e,t)=>(t-e)/wo,e=>e.getUTCMinutes());JA.range;const ZA=Bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bc-e.getMinutes()*wo)},(e,t)=>{e.setTime(+e+t*Uc)},(e,t)=>(t-e)/Uc,e=>e.getHours());ZA.range;const QA=Bi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Uc)},(e,t)=>(t-e)/Uc,e=>e.getUTCHours());QA.range;const dx=Bi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wo)/nu,e=>e.getDate()-1);dx.range;const N_=Bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nu,e=>e.getUTCDate()-1);N_.range;const lV=Bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nu,e=>Math.floor(e/nu));lV.range;function yh(e){return Bi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*wo)/YA)}const k_=yh(0),yb=yh(1),Ube=yh(2),zbe=yh(3),wp=yh(4),Wbe=yh(5),Hbe=yh(6);k_.range;yb.range;Ube.range;zbe.range;wp.range;Wbe.range;Hbe.range;function wh(e){return Bi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/YA)}const E_=wh(0),wb=wh(1),qbe=wh(2),Vbe=wh(3),bp=wh(4),Gbe=wh(5),Kbe=wh(6);E_.range;wb.range;qbe.range;Vbe.range;bp.range;Gbe.range;Kbe.range;const e3=Bi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());e3.range;const t3=Bi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());t3.range;const iu=Bi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());iu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});iu.range;const au=Bi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());au.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});au.range;function cV(e,t,r,n,i,a){const o=[[Tf,1,Bc],[Tf,5,5*Bc],[Tf,15,15*Bc],[Tf,30,30*Bc],[a,1,wo],[a,5,5*wo],[a,15,15*wo],[a,30,30*wo],[i,1,Uc],[i,3,3*Uc],[i,6,6*Uc],[i,12,12*Uc],[n,1,nu],[n,2,2*nu],[r,1,YA],[t,1,wD],[t,3,3*wD],[e,1,h5]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),v=h?h.range(u,+d+1):[];return m?v.reverse():v}function c(u,d,f){const m=Math.abs(d-u)/f,h=LA(([,,x])=>x).right(o,m);if(h===o.length)return e.every(c4(u/h5,d/h5,f));if(h===0)return xb.every(Math.max(c4(u,d,f),1));const[v,g]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return v.every(g)}return[l,c]}const[Ybe,Xbe]=cV(au,t3,E_,lV,QA,JA),[Jbe,Zbe]=cV(iu,e3,k_,dx,ZA,XA);function m5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function p5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function q0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Qbe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=V0(i),d=G0(i),f=V0(a),m=G0(a),h=V0(o),v=G0(o),g=V0(l),x=G0(l),y=V0(c),w=G0(c),_={a:z,A:H,b:X,B:pe,c:null,d:kD,e:kD,f:_2e,g:O2e,G:I2e,H:y2e,I:w2e,j:b2e,L:uV,m:j2e,M:S2e,p:xe,q:D,Q:AD,s:PD,S:N2e,u:k2e,U:E2e,V:C2e,w:A2e,W:P2e,x:null,X:null,y:T2e,Y:R2e,Z:D2e,"%":CD},b={a:M,A:T,b:V,B:F,c:null,d:ED,e:ED,f:$2e,g:Y2e,G:J2e,H:L2e,I:M2e,j:F2e,L:fV,m:B2e,M:U2e,p:W,q:te,Q:AD,s:PD,S:z2e,u:W2e,U:H2e,V:q2e,w:V2e,W:G2e,x:null,X:null,y:K2e,Y:X2e,Z:Z2e,"%":CD},N={a:R,A:O,b:L,B:U,c:q,d:SD,e:SD,f:p2e,g:jD,G:_D,H:ND,I:ND,j:d2e,L:m2e,m:u2e,M:f2e,p:k,q:c2e,Q:v2e,s:x2e,S:h2e,u:i2e,U:a2e,V:s2e,w:n2e,W:o2e,x:Q,X:ie,y:jD,Y:_D,Z:l2e,"%":g2e};_.x=C(r,_),_.X=C(n,_),_.c=C(t,_),b.x=C(r,b),b.X=C(n,b),b.c=C(t,b);function C(Y,oe){return function(we){var ve=[],He=-1,ze=0,ne=Y.length,Be,qe,rt;for(we instanceof Date||(we=new Date(+we));++He<ne;)Y.charCodeAt(He)===37&&(ve.push(Y.slice(ze,He)),(qe=bD[Be=Y.charAt(++He)])!=null?Be=Y.charAt(++He):qe=Be==="e"?" ":"0",(rt=oe[Be])&&(Be=rt(we,qe)),ve.push(Be),ze=He+1);return ve.push(Y.slice(ze,He)),ve.join("")}}function S(Y,oe){return function(we){var ve=q0(1900,void 0,1),He=A(ve,Y,we+="",0),ze,ne;if(He!=we.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(oe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(ze=p5(q0(ve.y,0,1)),ne=ze.getUTCDay(),ze=ne>4||ne===0?wb.ceil(ze):wb(ze),ze=N_.offset(ze,(ve.V-1)*7),ve.y=ze.getUTCFullYear(),ve.m=ze.getUTCMonth(),ve.d=ze.getUTCDate()+(ve.w+6)%7):(ze=m5(q0(ve.y,0,1)),ne=ze.getDay(),ze=ne>4||ne===0?yb.ceil(ze):yb(ze),ze=dx.offset(ze,(ve.V-1)*7),ve.y=ze.getFullYear(),ve.m=ze.getMonth(),ve.d=ze.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),ne="Z"in ve?p5(q0(ve.y,0,1)).getUTCDay():m5(q0(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(ne+5)%7:ve.w+ve.U*7-(ne+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,p5(ve)):m5(ve)}}function A(Y,oe,we,ve){for(var He=0,ze=oe.length,ne=we.length,Be,qe;He<ze;){if(ve>=ne)return-1;if(Be=oe.charCodeAt(He++),Be===37){if(Be=oe.charAt(He++),qe=N[Be in bD?oe.charAt(He++):Be],!qe||(ve=qe(Y,we,ve))<0)return-1}else if(Be!=we.charCodeAt(ve++))return-1}return ve}function k(Y,oe,we){var ve=u.exec(oe.slice(we));return ve?(Y.p=d.get(ve[0].toLowerCase()),we+ve[0].length):-1}function R(Y,oe,we){var ve=h.exec(oe.slice(we));return ve?(Y.w=v.get(ve[0].toLowerCase()),we+ve[0].length):-1}function O(Y,oe,we){var ve=f.exec(oe.slice(we));return ve?(Y.w=m.get(ve[0].toLowerCase()),we+ve[0].length):-1}function L(Y,oe,we){var ve=y.exec(oe.slice(we));return ve?(Y.m=w.get(ve[0].toLowerCase()),we+ve[0].length):-1}function U(Y,oe,we){var ve=g.exec(oe.slice(we));return ve?(Y.m=x.get(ve[0].toLowerCase()),we+ve[0].length):-1}function q(Y,oe,we){return A(Y,t,oe,we)}function Q(Y,oe,we){return A(Y,r,oe,we)}function ie(Y,oe,we){return A(Y,n,oe,we)}function z(Y){return o[Y.getDay()]}function H(Y){return a[Y.getDay()]}function X(Y){return c[Y.getMonth()]}function pe(Y){return l[Y.getMonth()]}function xe(Y){return i[+(Y.getHours()>=12)]}function D(Y){return 1+~~(Y.getMonth()/3)}function M(Y){return o[Y.getUTCDay()]}function T(Y){return a[Y.getUTCDay()]}function V(Y){return c[Y.getUTCMonth()]}function F(Y){return l[Y.getUTCMonth()]}function W(Y){return i[+(Y.getUTCHours()>=12)]}function te(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var oe=C(Y+="",_);return oe.toString=function(){return Y},oe},parse:function(Y){var oe=S(Y+="",!1);return oe.toString=function(){return Y},oe},utcFormat:function(Y){var oe=C(Y+="",b);return oe.toString=function(){return Y},oe},utcParse:function(Y){var oe=S(Y+="",!0);return oe.toString=function(){return Y},oe}}}var bD={"-":"",_:" ",0:"0"},na=/^\s*\d+/,e2e=/^%/,t2e=/[\\^$*+?|[\]().{}]/g;function Lr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function r2e(e){return e.replace(t2e,"\\$&")}function V0(e){return new RegExp("^(?:"+e.map(r2e).join("|")+")","i")}function G0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function n2e(e,t,r){var n=na.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function i2e(e,t,r){var n=na.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function a2e(e,t,r){var n=na.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function s2e(e,t,r){var n=na.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function o2e(e,t,r){var n=na.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function _D(e,t,r){var n=na.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function jD(e,t,r){var n=na.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function l2e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function c2e(e,t,r){var n=na.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function u2e(e,t,r){var n=na.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function SD(e,t,r){var n=na.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function d2e(e,t,r){var n=na.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ND(e,t,r){var n=na.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function f2e(e,t,r){var n=na.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function h2e(e,t,r){var n=na.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function m2e(e,t,r){var n=na.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function p2e(e,t,r){var n=na.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function g2e(e,t,r){var n=e2e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function v2e(e,t,r){var n=na.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function x2e(e,t,r){var n=na.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function kD(e,t){return Lr(e.getDate(),t,2)}function y2e(e,t){return Lr(e.getHours(),t,2)}function w2e(e,t){return Lr(e.getHours()%12||12,t,2)}function b2e(e,t){return Lr(1+dx.count(iu(e),e),t,3)}function uV(e,t){return Lr(e.getMilliseconds(),t,3)}function _2e(e,t){return uV(e,t)+"000"}function j2e(e,t){return Lr(e.getMonth()+1,t,2)}function S2e(e,t){return Lr(e.getMinutes(),t,2)}function N2e(e,t){return Lr(e.getSeconds(),t,2)}function k2e(e){var t=e.getDay();return t===0?7:t}function E2e(e,t){return Lr(k_.count(iu(e)-1,e),t,2)}function dV(e){var t=e.getDay();return t>=4||t===0?wp(e):wp.ceil(e)}function C2e(e,t){return e=dV(e),Lr(wp.count(iu(e),e)+(iu(e).getDay()===4),t,2)}function A2e(e){return e.getDay()}function P2e(e,t){return Lr(yb.count(iu(e)-1,e),t,2)}function T2e(e,t){return Lr(e.getFullYear()%100,t,2)}function O2e(e,t){return e=dV(e),Lr(e.getFullYear()%100,t,2)}function R2e(e,t){return Lr(e.getFullYear()%1e4,t,4)}function I2e(e,t){var r=e.getDay();return e=r>=4||r===0?wp(e):wp.ceil(e),Lr(e.getFullYear()%1e4,t,4)}function D2e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lr(t/60|0,"0",2)+Lr(t%60,"0",2)}function ED(e,t){return Lr(e.getUTCDate(),t,2)}function L2e(e,t){return Lr(e.getUTCHours(),t,2)}function M2e(e,t){return Lr(e.getUTCHours()%12||12,t,2)}function F2e(e,t){return Lr(1+N_.count(au(e),e),t,3)}function fV(e,t){return Lr(e.getUTCMilliseconds(),t,3)}function $2e(e,t){return fV(e,t)+"000"}function B2e(e,t){return Lr(e.getUTCMonth()+1,t,2)}function U2e(e,t){return Lr(e.getUTCMinutes(),t,2)}function z2e(e,t){return Lr(e.getUTCSeconds(),t,2)}function W2e(e){var t=e.getUTCDay();return t===0?7:t}function H2e(e,t){return Lr(E_.count(au(e)-1,e),t,2)}function hV(e){var t=e.getUTCDay();return t>=4||t===0?bp(e):bp.ceil(e)}function q2e(e,t){return e=hV(e),Lr(bp.count(au(e),e)+(au(e).getUTCDay()===4),t,2)}function V2e(e){return e.getUTCDay()}function G2e(e,t){return Lr(wb.count(au(e)-1,e),t,2)}function K2e(e,t){return Lr(e.getUTCFullYear()%100,t,2)}function Y2e(e,t){return e=hV(e),Lr(e.getUTCFullYear()%100,t,2)}function X2e(e,t){return Lr(e.getUTCFullYear()%1e4,t,4)}function J2e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?bp(e):bp.ceil(e),Lr(e.getUTCFullYear()%1e4,t,4)}function Z2e(){return"+0000"}function CD(){return"%"}function AD(e){return+e}function PD(e){return Math.floor(+e/1e3)}var tm,mV,pV;Q2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Q2e(e){return tm=Qbe(e),mV=tm.format,tm.parse,pV=tm.utcFormat,tm.utcParse,tm}function e_e(e){return new Date(e)}function t_e(e){return e instanceof Date?+e:+new Date(+e)}function r3(e,t,r,n,i,a,o,l,c,u){var d=zA(),f=d.invert,m=d.domain,h=u(".%L"),v=u(":%S"),g=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),w=u("%b %d"),_=u("%B"),b=u("%Y");function N(C){return(c(C)<C?h:l(C)<C?v:o(C)<C?g:a(C)<C?x:n(C)<C?i(C)<C?y:w:r(C)<C?_:b)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?m(Array.from(C,t_e)):m().map(e_e)},d.ticks=function(C){var S=m();return e(S[0],S[S.length-1],C??10)},d.tickFormat=function(C,S){return S==null?N:u(S)},d.nice=function(C){var S=m();return(!C||typeof C.range!="function")&&(C=t(S[0],S[S.length-1],C??10)),C?m(tV(S,C)):d},d.copy=function(){return ux(d,r3(e,t,r,n,i,a,o,l,c,u))},d}function r_e(){return Lo.apply(r3(Jbe,Zbe,iu,e3,k_,dx,ZA,XA,Tf,mV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function n_e(){return Lo.apply(r3(Ybe,Xbe,au,t3,E_,N_,QA,JA,Tf,pV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function C_(){var e=0,t=1,r,n,i,a,o=Ga,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,v;return arguments.length?([h,v]=m,o=f(h,v),u):[o(0),o(1)]}}return u.range=d(Up),u.rangeRound=d(UA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function zd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gV(){var e=Ud(C_()(Ga));return e.copy=function(){return zd(e,gV())},xu.apply(e,arguments)}function vV(){var e=qA(C_()).domain([1,10]);return e.copy=function(){return zd(e,vV()).base(e.base())},xu.apply(e,arguments)}function xV(){var e=VA(C_());return e.copy=function(){return zd(e,xV()).constant(e.constant())},xu.apply(e,arguments)}function n3(){var e=GA(C_());return e.copy=function(){return zd(e,n3()).exponent(e.exponent())},xu.apply(e,arguments)}function i_e(){return n3.apply(null,arguments).exponent(.5)}function yV(){var e=[],t=Ga;function r(n){if(n!=null&&!isNaN(n=+n))return t((lx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(yd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Wwe(e,a/n))},r.copy=function(){return yV(t).domain(e)},xu.apply(r,arguments)}function A_(){var e=0,t=.5,r=1,n=1,i,a,o,l,c,u=Ga,d,f=!1,m;function h(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-a)*(n*g<n*a?l:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),a=d(t=+t),o=d(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function v(g){return function(x){var y,w,_;return arguments.length?([y,w,_]=x,u=gbe(g,[y,w,_]),h):[u(0),u(.5),u(1)]}}return h.range=v(Up),h.rangeRound=v(UA),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return d=g,i=g(e),a=g(t),o=g(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function wV(){var e=Ud(A_()(Ga));return e.copy=function(){return zd(e,wV())},xu.apply(e,arguments)}function bV(){var e=qA(A_()).domain([.1,1,10]);return e.copy=function(){return zd(e,bV()).base(e.base())},xu.apply(e,arguments)}function _V(){var e=VA(A_());return e.copy=function(){return zd(e,_V()).constant(e.constant())},xu.apply(e,arguments)}function i3(){var e=GA(A_());return e.copy=function(){return zd(e,i3()).exponent(e.exponent())},xu.apply(e,arguments)}function a_e(){return i3.apply(null,arguments).exponent(.5)}const ag=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:FA,scaleDiverging:wV,scaleDivergingLog:bV,scaleDivergingPow:i3,scaleDivergingSqrt:a_e,scaleDivergingSymlog:_V,scaleIdentity:eV,scaleImplicit:u4,scaleLinear:Qq,scaleLog:rV,scaleOrdinal:MA,scalePoint:Vwe,scalePow:KA,scaleQuantile:aV,scaleQuantize:sV,scaleRadial:iV,scaleSequential:gV,scaleSequentialLog:vV,scaleSequentialPow:n3,scaleSequentialQuantile:yV,scaleSequentialSqrt:i_e,scaleSequentialSymlog:xV,scaleSqrt:$be,scaleSymlog:nV,scaleThreshold:oV,scaleTime:r_e,scaleUtc:n_e,tickFormat:Zq},Symbol.toStringTag,{value:"Module"}));var yu=e=>e.chartData,P_=Re([yu],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),a3=(e,t,r,n)=>n?P_(e):yu(e),s_e=(e,t,r)=>r?P_(e):yu(e);function su(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(jr(t)&&jr(r))return!0}return!1}function TD(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function jV(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(jr(r))i=r;else if(typeof r=="function")return;if(jr(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(su(o))return o}}function o_e(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(su(n))return TD(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(kt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&YR.test(i)){var c=YR.exec(i);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(kt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&XR.test(a)){var d=XR.exec(a);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var m=[o,l];if(su(m))return t==null?m:TD(m,t,r)}}}var zp=1e9,l_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o3,Tn=!0,Co="[DecimalError] ",Ff=Co+"Invalid argument: ",s3=Co+"Exponent out of range: ",Wp=Math.floor,xf=Math.pow,c_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$s,qi=1e7,bn=7,SV=9007199254740991,bb=Wp(SV/bn),Et={};Et.absoluteValue=Et.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Et.comparedTo=Et.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*bn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Et.dividedBy=Et.div=function(e){return Hc(this,new this.constructor(e))};Et.dividedToIntegerBy=Et.idiv=function(e){var t=this,r=t.constructor;return dn(Hc(t,new r(e),0,1),r.precision)};Et.equals=Et.eq=function(e){return!this.cmp(e)};Et.exponent=function(){return bi(this)};Et.greaterThan=Et.gt=function(e){return this.cmp(e)>0};Et.greaterThanOrEqualTo=Et.gte=function(e){return this.cmp(e)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(e){return this.cmp(e)<0};Et.lessThanOrEqualTo=Et.lte=function(e){return this.cmp(e)<1};Et.logarithm=Et.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($s))throw Error(Co+"NaN");if(r.s<1)throw Error(Co+(r.s?"NaN":"-Infinity"));return r.eq($s)?new n(0):(Tn=!1,t=Hc(wv(r,a),wv(e,a),a),Tn=!0,dn(t,i))};Et.minus=Et.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EV(t,e):NV(t,(e.s=-e.s,e))};Et.modulo=Et.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Co+"NaN");return r.s?(Tn=!1,t=Hc(r,e,0,1).times(e),Tn=!0,r.minus(t)):dn(new n(r),i)};Et.naturalExponential=Et.exp=function(){return kV(this)};Et.naturalLogarithm=Et.ln=function(){return wv(this)};Et.negated=Et.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Et.plus=Et.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NV(t,e):EV(t,(e.s=-e.s,e))};Et.precision=Et.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ff+e);if(t=bi(i)+1,n=i.d.length-1,r=n*bn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Et.squareRoot=Et.sqrt=function(){var e,t,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Co+"NaN")}for(e=bi(l),Tn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Xl(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Wp((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Hc(l,a,o+2)).times(.5),Xl(a.d).slice(0,o)===(t=Xl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(dn(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return Tn=!0,dn(n,r)};Et.times=Et.mul=function(e){var t,r,n,i,a,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(a=m,m=h,h=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+h[n]*m[i-n-1]+t,a[i--]=l%qi|0,t=l/qi|0;a[i]=(a[i]+t)%qi|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Tn?dn(e,f.precision):e};Et.toDecimalPlaces=Et.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(sc(e,0,zp),t===void 0?t=n.rounding:sc(t,0,8),dn(r,e+bi(r)+1,t))};Et.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=nh(n,!0):(sc(e,0,zp),t===void 0?t=i.rounding:sc(t,0,8),n=dn(new i(n),e+1,t),r=nh(n,!0,e+1)),r};Et.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?nh(i):(sc(e,0,zp),t===void 0?t=a.rounding:sc(t,0,8),n=dn(new a(i),e+bi(i)+1,t),r=nh(n.abs(),!1,e+bi(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Et.toInteger=Et.toint=function(){var e=this,t=e.constructor;return dn(new t(e),bi(e)+1,t.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(e){var t,r,n,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c($s);if(l=new c(l),!l.s){if(e.s<1)throw Error(Co+"Infinity");return l}if(l.eq($s))return l;if(n=c.precision,e.eq($s))return dn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=d<0?-d:d)<=SV){for(i=new c($s),t=Math.ceil(n/bn+4),Tn=!1;r%2&&(i=i.times(l),RD(i.d,t)),r=Wp(r/2),r!==0;)l=l.times(l),RD(l.d,t);return Tn=!0,e.s<0?new c($s).div(i):dn(i,n)}}else if(a<0)throw Error(Co+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Tn=!1,i=e.times(wv(l,n+u)),Tn=!0,i=kV(i),i.s=a,i};Et.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=bi(i),n=nh(i,r<=a.toExpNeg||r>=a.toExpPos)):(sc(e,1,zp),t===void 0?t=a.rounding:sc(t,0,8),i=dn(new a(i),e,t),r=bi(i),n=nh(i,e<=r||r<=a.toExpNeg,e)),n};Et.toSignificantDigits=Et.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(sc(e,1,zp),t===void 0?t=n.rounding:sc(t,0,8)),dn(new n(r),e,t)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=bi(e),r=e.constructor;return nh(e,t<=r.toExpNeg||t>=r.toExpPos)};function NV(e,t){var r,n,i,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Tn?dn(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(f/bn),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/qi|0,c[a]%=qi;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Tn?dn(t,f):t}function sc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ff+e)}function Xl(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=bn-n.length,r&&(a+=Ju(r)),a+=n;o=e[t],n=o+"",r=bn-n.length,r&&(a+=Ju(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Hc=function(){function e(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%qi|0,o=a/qi|0;return o&&n.unshift(o),n}function t(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*qi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,d,f,m,h,v,g,x,y,w,_,b,N,C,S,A,k=n.constructor,R=n.s==i.s?1:-1,O=n.d,L=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(Co+"Division by zero");for(c=n.e-i.e,S=L.length,N=O.length,h=new k(R),v=h.d=[],u=0;L[u]==(O[u]||0);)++u;if(L[u]>(O[u]||0)&&--c,a==null?w=a=k.precision:o?w=a+(bi(n)-bi(i))+1:w=a,w<0)return new k(0);if(w=w/bn+2|0,u=0,S==1)for(d=0,L=L[0],w++;(u<N||d)&&w--;u++)_=d*qi+(O[u]||0),v[u]=_/L|0,d=_%L|0;else{for(d=qi/(L[0]+1)|0,d>1&&(L=e(L,d),O=e(O,d),S=L.length,N=O.length),b=S,g=O.slice(0,S),x=g.length;x<S;)g[x++]=0;A=L.slice(),A.unshift(0),C=L[0],L[1]>=qi/2&&++C;do d=0,l=t(L,g,S,x),l<0?(y=g[0],S!=x&&(y=y*qi+(g[1]||0)),d=y/C|0,d>1?(d>=qi&&(d=qi-1),f=e(L,d),m=f.length,x=g.length,l=t(f,g,m,x),l==1&&(d--,r(f,S<m?A:L,m))):(d==0&&(l=d=1),f=L.slice()),m=f.length,m<x&&f.unshift(0),r(g,f,x),l==-1&&(x=g.length,l=t(L,g,S,x),l<1&&(d++,r(g,S<x?A:L,x))),x=g.length):l===0&&(d++,g=[0]),v[u++]=d,l&&g[0]?g[x++]=O[b]||0:(g=[O[b]],x=1);while((b++<N||g[0]!==void 0)&&w--)}return v[0]||v.shift(),h.e=c,dn(h,o?a+bi(h)+1:a)}}();function kV(e,t){var r,n,i,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(bi(e)>16)throw Error(s3+bi(e));if(!e.s)return new d($s);for(Tn=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(xf(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d($s),d.precision=l;;){if(i=dn(i.times(e),l),r=r.times(++c),o=a.plus(Hc(i,r,l)),Xl(o.d).slice(0,l)===Xl(a.d).slice(0,l)){for(;u--;)a=dn(a.times(a),l);return d.precision=f,t==null?(Tn=!0,dn(a,f)):a}a=o}}function bi(e){for(var t=e.e*bn,r=e.d[0];r>=10;r/=10)t++;return t}function g5(e,t,r){if(t>e.LN10.sd())throw Tn=!0,r&&(e.precision=r),Error(Co+"LN10 precision limit exceeded");return dn(new e(e.LN10),t)}function Ju(e){for(var t="";e--;)t+="0";return t}function wv(e,t){var r,n,i,a,o,l,c,u,d,f=1,m=10,h=e,v=h.d,g=h.constructor,x=g.precision;if(h.s<1)throw Error(Co+(h.s?"NaN":"-Infinity"));if(h.eq($s))return new g(0);if(t==null?(Tn=!1,u=x):u=t,h.eq(10))return t==null&&(Tn=!0),g5(g,u);if(u+=m,g.precision=u,r=Xl(v),n=r.charAt(0),a=bi(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Xl(h.d),n=r.charAt(0),f++;a=bi(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return c=g5(g,u+2,x).times(a+""),h=wv(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=x,t==null?(Tn=!0,dn(h,x)):h;for(l=o=h=Hc(h.minus($s),h.plus($s),u),d=dn(h.times(h),u),i=3;;){if(o=dn(o.times(d),u),c=l.plus(Hc(o,new g(i),u)),Xl(c.d).slice(0,u)===Xl(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(g5(g,u+2,x).times(a+""))),l=Hc(l,new g(f),u),g.precision=x,t==null?(Tn=!0,dn(l,x)):l;l=c,i+=2}}function OD(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Wp(r/bn),e.d=[],n=(r+1)%bn,r<0&&(n+=bn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=bn;n<i;)e.d.push(+t.slice(n,n+=bn));t=t.slice(n),n=bn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Tn&&(e.e>bb||e.e<-bb))throw Error(s3+r)}else e.s=0,e.e=0,e.d=[0];return e}function dn(e,t,r){var n,i,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=bn,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/bn),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=bn,i=n-bn+o}if(r!==void 0&&(a=xf(10,o-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/xf(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=bi(e),f.length=1,t=t-a-1,f[0]=xf(10,(bn-t%bn)%bn),e.e=Wp(-t/bn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=xf(10,bn-n),f[d]=i>0?(u/xf(10,o-i)%xf(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==qi&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=qi)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Tn&&(e.e>bb||e.e<-bb))throw Error(s3+bi(e));return e}function EV(e,t){var r,n,i,a,o,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Tn?dn(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(h/bn),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=qi-1;--c[a],c[i]+=qi}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Tn?dn(t,h):t):new m(0)}function nh(e,t,r){var n,i=bi(e),a=Xl(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ju(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ju(-i-1)+a,r&&(n=r-o)>0&&(a+=Ju(n))):i>=o?(a+=Ju(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ju(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ju(n))),e.s<0?"-"+a:a}function RD(e,t){if(e.length>t)return e.length=t,!0}function CV(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ff+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return OD(o,a.toString())}else if(typeof a!="string")throw Error(Ff+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,c_e.test(a))OD(o,a);else throw Error(Ff+a)}if(i.prototype=Et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CV,i.config=i.set=u_e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function u_e(e){if(!e||typeof e!="object")throw Error(Co+"Object expected");var t,r,n,i=["precision",1,zp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Wp(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ff+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ff+r+": "+n);return this}var o3=CV(l_e);$s=new o3(1);const Kr=o3;function AV(e){var t;return e===0?t=1:t=Math.floor(new Kr(e).abs().log(10).toNumber())+1,t}function PV(e,t,r){for(var n=new Kr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var TV=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},OV=(e,t,r)=>{if(e.lte(0))return new Kr(0);var n=AV(e.toNumber()),i=new Kr(10).pow(n),a=e.div(i),o=n!==1?.05:.1,l=new Kr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?new Kr(c.toNumber()):new Kr(Math.ceil(c.toNumber()))},d_e=(e,t,r)=>{var n=new Kr(1),i=new Kr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Kr(10).pow(AV(e)-1),i=new Kr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Kr(Math.floor(e)))}else e===0?i=new Kr(Math.floor((t-1)/2)):r||(i=new Kr(Math.floor(e)));for(var o=Math.floor((t-1)/2),l=[],c=0;c<t;c++)l.push(i.add(new Kr(c-o).mul(n)).toNumber());return l},RV=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Kr(0),tickMin:new Kr(0),tickMax:new Kr(0)};var o=OV(new Kr(r).sub(t).div(n-1),i,a),l;t<=0&&r>=0?l=new Kr(0):(l=new Kr(t).add(r).div(2),l=l.sub(new Kr(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new Kr(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?RV(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new Kr(c).mul(o)),tickMax:l.add(new Kr(u).mul(o))})},f_e=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,c]=TV([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return r>n?u.reverse():u}if(l===c)return d_e(l,i,a);var{step:d,tickMin:f,tickMax:m}=RV(l,c,o,a,0),h=PV(f,m.add(new Kr(.1).mul(d)),d);return r>n?h.reverse():h},h_e=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=TV([n,i]);if(o===-1/0||l===1/0)return[n,i];if(o===l)return[o];var c=Math.max(r,2),u=OV(new Kr(l).sub(o).div(c-1),a,0),d=[...PV(new Kr(o),new Kr(l),u),l];return a===!1&&(d=d.map(f=>Math.round(f))),n>i?d.reverse():d},IV=e=>e.rootProps.maxBarSize,m_e=e=>e.rootProps.barGap,DV=e=>e.rootProps.barCategoryGap,p_e=e=>e.rootProps.barSize,fx=e=>e.rootProps.stackOffset,LV=e=>e.rootProps.reverseStackOrder,l3=e=>e.options.chartName,c3=e=>e.rootProps.syncId,MV=e=>e.rootProps.syncMethod,u3=e=>e.options.eventEmitter,yi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},df={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ll={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},T_=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function O_(e,t,r){if(r!=="auto")return r;if(e!=null)return pu(e,t)?"category":"number"}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){g_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g_e(e,t,r){return(t=v_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v_e(e){var t=x_e(e,"string");return typeof t=="symbol"?t:t+""}function x_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DD={allowDataOverflow:df.allowDataOverflow,allowDecimals:df.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:df.angleAxisId,includeHidden:!1,name:void 0,reversed:df.reversed,scale:df.scale,tick:df.tick,tickCount:void 0,ticks:void 0,type:df.type,unit:void 0},LD={allowDataOverflow:Ll.allowDataOverflow,allowDecimals:Ll.allowDecimals,allowDuplicatedCategory:Ll.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ll.radiusAxisId,includeHidden:Ll.includeHidden,name:void 0,reversed:Ll.reversed,scale:Ll.scale,tick:Ll.tick,tickCount:Ll.tickCount,ticks:void 0,type:Ll.type,unit:void 0},y_e=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},d3=Re([y_e,yq],(e,t)=>{var r;if(e!=null)return e;var n=(r=O_(t,"angleAxis",DD.type))!==null&&r!==void 0?r:"category";return _b(_b({},DD),{},{type:n})}),w_e=(e,t)=>e.polarAxis.radiusAxis[t],f3=Re([w_e,yq],(e,t)=>{var r;if(e!=null)return e;var n=(r=O_(t,"radiusAxis",LD.type))!==null&&r!==void 0?r:"category";return _b(_b({},LD),{},{type:n})}),R_=e=>e.polarOptions,h3=Re([gu,vu,$i],Lq),FV=Re([R_,h3],(e,t)=>{if(e!=null)return Ia(e.innerRadius,t,0)}),$V=Re([R_,h3],(e,t)=>{if(e!=null)return Ia(e.outerRadius,t,t*.8)}),b_e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},BV=Re([R_],b_e);Re([d3,BV],T_);var UV=Re([h3,FV,$V],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Re([f3,UV],T_);var zV=Re([Mr,R_,FV,$V,gu,vu],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Ia(o,i,i/2),cy:Ia(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Fn=(e,t)=>t,hx=(e,t,r)=>r;function m3(e){return e==null?void 0:e.id}function WV(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=m3(l);u.forEach((f,m)=>{var h=a==null||i?m:String(sn(f,a,null)),v=sn(f,l.dataKey,0),g;o.has(h)?g=o.get(h):g={},Object.assign(g,{[d]:v}),o.set(h,g)})}}),Array.from(o.values())}function I_(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var D_=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function L_(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function __e(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ia=e=>{var t=Mr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Hp=e=>e.tooltip.settings.axisId;function j_e(e){if(e in ag)return ag[e]();var t="scale".concat(Qv(e));if(t in ag)return ag[t]()}function MD(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],l=i[1];return o<=l?a>=o&&a<=l:a>=l&&a<=o},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,o)=>{var l=e(a);if(l!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var c=e.bandwidth();switch(o.position){case"middle":l+=c/2;break;case"end":l+=c;break}}return l}}}}function FD(e,t,r){if(typeof e=="function")return MD(e.copy().domain(t).range(r));if(e!=null){var n=j_e(e);if(n!=null)return n.domain(t).range(r),MD(n)}}var HV=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!su(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];jr(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function $D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(r),!0).forEach(function(n){S_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S_e(e,t,r){return(t=N_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N_e(e){var t=k_e(e,"string");return typeof t=="symbol"?t:t+""}function k_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m4=[0,"auto"],Wi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},qV=(e,t)=>e.cartesianAxis.xAxis[t],wu=(e,t)=>{var r=qV(e,t);return r??Wi},Hi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:m4,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:nx},VV=(e,t)=>e.cartesianAxis.yAxis[t],bu=(e,t)=>{var r=VV(e,t);return r??Hi},E_e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},p3=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??E_e},ei=(e,t,r)=>{switch(t){case"xAxis":return wu(e,r);case"yAxis":return bu(e,r);case"zAxis":return p3(e,r);case"angleAxis":return d3(e,r);case"radiusAxis":return f3(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},C_e=(e,t,r)=>{switch(t){case"xAxis":return wu(e,r);case"yAxis":return bu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},qp=(e,t,r)=>{switch(t){case"xAxis":return wu(e,r);case"yAxis":return bu(e,r);case"angleAxis":return d3(e,r);case"radiusAxis":return f3(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},GV=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function g3(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var M_=e=>e.graphicalItems.cartesianItems,A_e=Re([Fn,hx],g3),v3=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),mx=Re([M_,ei,A_e],v3,{memoizeOptions:{resultEqualityCheck:L_}}),KV=Re([mx],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(I_)),YV=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),P_e=Re([mx],YV),x3=e=>e.map(t=>t.data).filter(Boolean).flat(1),T_e=Re([mx],x3,{memoizeOptions:{resultEqualityCheck:L_}}),y3=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},w3=Re([T_e,a3],y3),b3=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:sn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:sn(i,n)}))):e.map(n=>({value:n})),F_=Re([w3,ei,mx],b3);function XV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function B1(e){if(ic(e)||e instanceof Date){var t=Number(e);if(jr(t))return t}}function BD(e){if(Array.isArray(e)){var t=[B1(e[0]),B1(e[1])];return su(t)?t:void 0}var r=B1(e);if(r!=null)return[r,r]}function ou(e){return e.map(B1).filter(os)}function O_e(e,t,r){return!r||typeof t!="number"||nc(t)?[]:r.length?ou(r.flatMap(n=>{var i=sn(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!jr(a)||!jr(o)))return[t-a,t+o]})):[]}var Ui=e=>{var t=ia(e),r=Hp(e);return qp(e,t,r)},px=Re([Ui],e=>e==null?void 0:e.dataKey),R_e=Re([KV,a3,Ui],WV),JV=(e,t,r,n)=>{var i={},a=t.reduce((o,l)=>{if(l.stackId==null)return o;var c=o[l.stackId];return c==null&&(c=[]),c.push(l),o[l.stackId]=c,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,c]=o,u=n?[...c].reverse():c,d=u.map(m3);return[l,{stackedData:oye(e,d,r),graphicalItems:u}]}))},p4=Re([R_e,KV,fx,LV],JV),ZV=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=fye(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},I_e=Re([ei],e=>e.allowDataOverflow),_3=e=>{var t;if(e==null||!("domain"in e))return m4;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=ou(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:m4},j3=Re([ei],_3),S3=Re([j3,I_e],jV),D_e=Re([p4,yu,Fn,S3],ZV,{memoizeOptions:{resultEqualityCheck:D_}}),$_=e=>e.errorBars,L_e=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>XV(r,n)),Sb=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},N3=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>XV(i,y)),m=sn(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),h=O_e(l,m,f);if(h.length>=2){var v=Math.min(...h),g=Math.max(...h);(a==null||v<a)&&(a=v),(o==null||g>o)&&(o=g)}var x=BD(m);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=BD(sn(l,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),jr(a)&&jr(o))return[a,o]},M_e=Re([w3,ei,P_e,$_,Fn],N3,{memoizeOptions:{resultEqualityCheck:D_}});function F_e(e){var{value:t}=e;if(ic(t)||t instanceof Date)return t}var $_e=(e,t,r)=>{var n=e.map(F_e).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&JW(n))?Wq(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},QV=e=>e.referenceElements.dots,Vp=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),B_e=Re([QV,Fn,hx],Vp),eG=e=>e.referenceElements.areas,U_e=Re([eG,Fn,hx],Vp),tG=e=>e.referenceElements.lines,z_e=Re([tG,Fn,hx],Vp),rG=(e,t)=>{if(e!=null){var r=ou(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},W_e=Re(B_e,Fn,rG),nG=(e,t)=>{if(e!=null){var r=ou(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},H_e=Re([U_e,Fn],nG);function q_e(e){var t;if(e.x!=null)return ou([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ou(r)}function V_e(e){var t;if(e.y!=null)return ou([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ou(r)}var iG=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?q_e(n):V_e(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},G_e=Re([z_e,Fn],iG),K_e=Re(W_e,G_e,H_e,(e,t,r)=>Sb(e,r,t)),k3=(e,t,r,n,i,a,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?Sb(n,a,i):Sb(a,i);return o_e(t,u,e.allowDataOverflow)},Y_e=Re([ei,j3,S3,D_e,M_e,K_e,Mr,Fn],k3,{memoizeOptions:{resultEqualityCheck:D_}}),X_e=[0,1],E3=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=pu(t,a);if(u&&l==null){var d;return Wq(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?$_e(n,e,u):i==="expand"?X_e:o}},C3=Re([ei,Mr,w3,F_,fx,Fn,Y_e],E3);function J_e(e){return e in ag}var aG=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(Qv(n));return J_e(a)?a:"point"}}},Wd=Re([ei,GV,l3],aG);function A3(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?FD(e.scale,r,n):FD(t,r,n)}var P3=(e,t,r)=>{var n=_3(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&su(e))return f_e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&su(e))return h_e(e,t.tickCount,t.allowDecimals)}},T3=Re([C3,qp,Wd],P3),O3=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&su(t)&&Array.isArray(r)&&r.length>0){var i,a,o=t[0],l=(i=r[0])!==null&&i!==void 0?i:0,c=t[1],u=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,l),Math.max(c,u)]}return t},Z_e=Re([ei,C3,T3,Fn],O3),Q_e=Re(F_,ei,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ou(e.map(f=>f.value))).sort((f,m)=>f-m),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],u=n[l+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),sG=Re(Q_e,Mr,DV,$i,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!jr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Ia(r,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),eje=(e,t,r)=>{var n=wu(e,t);return n==null||typeof n.padding!="string"?0:sG(e,"xAxis",t,r,n.padding)},tje=(e,t,r)=>{var n=bu(e,t);return n==null||typeof n.padding!="string"?0:sG(e,"yAxis",t,r,n.padding)},rje=Re(wu,eje,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),nje=Re(bu,tje,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),ije=Re([$i,rje,x_,v_,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),aje=Re([$i,Mr,nje,x_,v_,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),gx=(e,t,r,n)=>{var i;switch(t){case"xAxis":return ije(e,r,n);case"yAxis":return aje(e,r,n);case"zAxis":return(i=p3(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return BV(e);case"radiusAxis":return UV(e,r);default:return}},oG=Re([ei,gx],T_),sje=Re([Wd,Z_e],HV),B_=Re([ei,Wd,sje,oG],A3);Re([mx,$_,Fn],L_e);function lG(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var U_=(e,t)=>t,z_=(e,t,r)=>r,oje=Re(p_,U_,z_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(lG)),lje=Re(g_,U_,z_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(lG)),cG=(e,t)=>({width:e.width,height:t.height}),cje=(e,t)=>{var r=typeof t.width=="number"?t.width:nx;return{width:r,height:e.height}},uG=Re($i,wu,cG),uje=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},dje=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},fje=Re(vu,$i,oje,U_,z_,(e,t,r,n,i)=>{var a={},o;return r.forEach(l=>{var c=cG(t,l);o==null&&(o=uje(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),a}),hje=Re(gu,$i,lje,U_,z_,(e,t,r,n,i)=>{var a={},o;return r.forEach(l=>{var c=cje(t,l);o==null&&(o=dje(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),a}),mje=(e,t)=>{var r=wu(e,t);if(r!=null)return fje(e,r.orientation,r.mirror)},pje=Re([$i,wu,mje,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),gje=(e,t)=>{var r=bu(e,t);if(r!=null)return hje(e,r.orientation,r.mirror)},vje=Re([$i,bu,gje,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),dG=Re($i,bu,(e,t)=>{var r=typeof t.width=="number"?t.width:nx;return{width:r,height:e.height}}),UD=(e,t,r)=>{switch(t){case"xAxis":return uG(e,r).width;case"yAxis":return dG(e,r).height;default:return}},fG=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,l=pu(e,n),c=t.map(u=>u.value);if(o&&l&&a==="category"&&i&&JW(c))return c}},R3=Re([Mr,F_,ei,Fn],fG),hG=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=pu(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},I3=Re([Mr,F_,qp,Fn],hG),zD=Re([Mr,C_e,Wd,B_,R3,I3,gx,T3,Fn],(e,t,r,n,i,a,o,l,c)=>{if(t!=null){var u=pu(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),xje=(e,t,r,n,i,a,o,l,c)=>{if(!(t==null||n==null)){var u=pu(e,c),{type:d,ticks:f,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/h:0;v=c==="angleAxis"&&a!=null&&a.length>=2?Yi(a[0]-a[1])*2*v:v;var g=f||i;return g?g.map((x,y)=>{var w=o?o.indexOf(x):x,_=n.map(w);return jr(_)?{index:y,coordinate:_+v,value:x,offset:v}:null}).filter(os):u&&l?l.map((x,y)=>{var w=n.map(x);return jr(w)?{coordinate:w+v,value:x,index:y,offset:v}:null}).filter(os):n.ticks?n.ticks(m).map((x,y)=>{var w=n.map(x);return jr(w)?{coordinate:w+v,value:x,index:y,offset:v}:null}).filter(os):n.domain().map((x,y)=>{var w=n.map(x);return jr(w)?{coordinate:w+v,value:o?o[x]:x,index:y,offset:v}:null}).filter(os)}},mG=Re([Mr,qp,Wd,B_,T3,gx,R3,I3,Fn],xje),yje=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=pu(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Yi(n[0]-n[1])*2*u:u,l&&a?a.map((d,f)=>{var m=r.map(d);return jr(m)?{coordinate:m+u,value:d,index:f,offset:u}:null}).filter(os):r.ticks?r.ticks(c).map((d,f)=>{var m=r.map(d);return jr(m)?{coordinate:m+u,value:d,index:f,offset:u}:null}).filter(os):r.domain().map((d,f)=>{var m=r.map(d);return jr(m)?{coordinate:m+u,value:i?i[d]:d,index:f,offset:u}:null}).filter(os)}},Ed=Re([Mr,qp,B_,gx,R3,I3,Fn],yje),Cd=Re(ei,B_,(e,t)=>{if(!(e==null||t==null))return jb(jb({},e),{},{scale:t})}),wje=Re([ei,Wd,C3,oG],A3);Re((e,t,r)=>p3(e,r),wje,(e,t)=>{if(!(e==null||t==null))return jb(jb({},e),{},{scale:t})});var bje=Re([Mr,p_,g_],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),pG=e=>e.options.defaultTooltipEventType,gG=e=>e.options.validateTooltipEventTypes;function vG(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function D3(e,t){var r=pG(e),n=gG(e);return vG(t,r,n)}function _je(e){return Ot(t=>D3(t,e))}var xG=(e,t)=>{var r,n=Number(t);if(!(nc(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},jje=e=>e.tooltip.settings,rd={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Sje={itemInteraction:{click:rd,hover:rd},axisInteraction:{click:rd,hover:rd},keyboardInteraction:rd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},yG=ys({name:"tooltip",initialState:Sje,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Cn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ml(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Cn()},removeTooltipEntrySettings:{reducer(e,t){var r=ml(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Cn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Nje,replaceTooltipEntrySettings:kje,removeTooltipEntrySettings:Eje,setTooltipSettingsState:Cje,setActiveMouseOverItemIndex:wG,mouseLeaveItem:Aje,mouseLeaveChart:bG,setActiveClickItemIndex:Pje,setMouseOverAxisIndex:_G,setMouseClickAxisIndex:Tje,setSyncInteraction:g4,setKeyboardInteraction:v4}=yG.actions,Oje=yG.reducer;function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){Rje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rje(e,t,r){return(t=Ije(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ije(e){var t=Dje(e,"string");return typeof t=="symbol"?t:t+""}function Dje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lje(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Mje(e){return e.index!=null}var jG=(e,t,r,n)=>{if(t==null)return rd;var i=Lje(e,t,r);if(i==null)return rd;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Mje(i)){if(a)return Qy(Qy({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Qy(Qy({},rd),{},{coordinate:i.coordinate})};function Fje(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function $je(e,t){var r=Fje(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function Bje(e,t,r){if(r==null||t==null)return!0;var n=sn(e,t);return n==null||!su(r)?!0:$je(n,r)}var L3=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!jr(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(a,l)),u=t[c];return u==null||Bje(u,r,n)?String(c):null},SG=(e,t,r,n,i,a,o)=>{if(a!=null){var l=o[0],c=l==null?void 0:l.getPosition(a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},NG=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},kG=e=>e.options.tooltipPayloadSearcher,Gp=e=>e.tooltip;function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){Uje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uje(e,t,r){return(t=zje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zje(e){var t=Wje(e,"string");return typeof t=="symbol"?t:t+""}function Wje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hje(e,t){return e??t}var EG=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,h)=>{var v,{dataDefinedOnItem:g,settings:x}=h,y=Hje(g,l),w=Array.isArray(y)?aq(y,u,d):y,_=(v=x==null?void 0:x.dataKey)!==null&&v!==void 0?v:n,b=x==null?void 0:x.nameKey,N;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?N=ZW(w,n,i):N=a(w,t,c,b),Array.isArray(N))N.forEach(S=>{var A=qD(qD({},x),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});m.push(JR({tooltipEntrySettings:A,dataKey:S.dataKey,payload:S.payload,value:sn(S.payload,S.dataKey),name:S.name}))});else{var C;m.push(JR({tooltipEntrySettings:x,dataKey:_,payload:N,value:sn(N,_),name:(C=sn(N,b))!==null&&C!==void 0?C:x==null?void 0:x.name}))}return m},f)}},M3=Re([Ui,GV,l3],aG),qje=Re([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Vje=Re([ia,Hp],g3),Kp=Re([qje,Ui,Vje],v3,{memoizeOptions:{resultEqualityCheck:L_}}),Gje=Re([Kp],e=>e.filter(I_)),Kje=Re([Kp],x3,{memoizeOptions:{resultEqualityCheck:L_}}),Yp=Re([Kje,yu],y3),Yje=Re([Gje,yu,Ui],WV),F3=Re([Yp,Ui,Kp],b3),CG=Re([Ui],_3),Xje=Re([Ui],e=>e.allowDataOverflow),AG=Re([CG,Xje],jV),Jje=Re([Kp],e=>e.filter(I_)),Zje=Re([Yje,Jje,fx,LV],JV),Qje=Re([Zje,yu,ia,AG],ZV),eSe=Re([Kp],YV),tSe=Re([Yp,Ui,eSe,$_,ia],N3,{memoizeOptions:{resultEqualityCheck:D_}}),rSe=Re([QV,ia,Hp],Vp),nSe=Re([rSe,ia],rG),iSe=Re([eG,ia,Hp],Vp),aSe=Re([iSe,ia],nG),sSe=Re([tG,ia,Hp],Vp),oSe=Re([sSe,ia],iG),lSe=Re([nSe,oSe,aSe],Sb),cSe=Re([Ui,CG,AG,Qje,tSe,lSe,Mr,ia],k3),vx=Re([Ui,Mr,Yp,F3,fx,ia,cSe],E3),uSe=Re([vx,Ui,M3],P3),dSe=Re([Ui,vx,uSe,ia],O3),PG=e=>{var t=ia(e),r=Hp(e),n=!1;return gx(e,t,r,n)},TG=Re([Ui,PG],T_),OG=Re([Ui,M3,dSe,TG],A3),fSe=Re([Mr,F3,Ui,ia],fG),hSe=Re([Mr,F3,Ui,ia],hG),mSe=(e,t,r,n,i,a,o,l)=>{if(t){var{type:c}=t,u=pu(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Yi(i[0]-i[1])*2*f:f,u&&o?o.map((m,h)=>{var v=n.map(m);return jr(v)?{coordinate:v+f,value:m,index:h,offset:f}:null}).filter(os):n.domain().map((m,h)=>{var v=n.map(m);return jr(v)?{coordinate:v+f,value:a?a[m]:m,index:h,offset:f}:null}).filter(os)}}},_u=Re([Mr,Ui,M3,OG,PG,fSe,hSe,ia],mSe),$3=Re([pG,gG,jje],(e,t,r)=>vG(r.shared,e,t)),RG=e=>e.tooltip.settings.trigger,B3=e=>e.tooltip.settings.defaultIndex,xx=Re([Gp,$3,RG,B3],jG),Ad=Re([xx,Yp,px,vx],L3),IG=Re([_u,Ad],xG),U3=Re([xx],e=>{if(e)return e.dataKey}),pSe=Re([xx],e=>{if(e)return e.graphicalItemId}),DG=Re([Gp,$3,RG,B3],NG),gSe=Re([gu,vu,Mr,$i,_u,B3,DG],SG),vSe=Re([xx,gSe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),xSe=Re([xx],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),ySe=Re([DG,Ad,yu,px,IG,kG,$3],EG),wSe=Re([ySe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){bSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bSe(e,t,r){return(t=_Se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Se(e){var t=jSe(e,"string");return typeof t=="symbol"?t:t+""}function jSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SSe=()=>Ot(Ui),NSe=()=>{var e=SSe(),t=Ot(_u),r=Ot(OG);return gp(!e||!r?void 0:GD(GD({},e),{},{scale:r}),t)};function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){kSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kSe(e,t,r){return(t=ESe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ESe(e){var t=CSe(e,"string");return typeof t=="symbol"?t:t+""}function CSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ASe=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},PSe=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return rm(rm(rm({},n),xi(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:c}=n;return rm(rm(rm({},n),xi(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function TSe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var LG=(e,t,r,n,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c,u,d,f,m,h=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,v=(d=r[l])===null||d===void 0?void 0:d.coordinate,g=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(m=r[l+1])===null||m===void 0?void 0:m.coordinate,x=void 0;if(!(h==null||v==null||g==null))if(Yi(v-h)!==Yi(g-v)){var y=[];if(Yi(g-v)===Yi(i[1]-i[0])){x=g;var w=v+i[1]-i[0];y[0]=Math.min(w,(w+h)/2),y[1]=Math.max(w,(w+h)/2)}else{x=h;var _=g+i[1]-i[0];y[0]=Math.min(v,(_+v)/2),y[1]=Math.max(v,(_+v)/2)}var b=[Math.min(v,(x+v)/2),Math.max(v,(x+v)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){var N;return(N=r[l])===null||N===void 0?void 0:N.index}}else{var C=Math.min(h,g),S=Math.max(h,g);if(e>(C+v)/2&&e<=(S+v)/2){var A;return(A=r[l])===null||A===void 0?void 0:A.index}}}else if(t)for(var k=0;k<o;k++){var R=t[k];if(R!=null){var O=t[k+1],L=t[k-1];if(k===0&&O!=null&&e<=(R.coordinate+O.coordinate)/2||k===o-1&&L!=null&&e>(R.coordinate+L.coordinate)/2||k>0&&k<o-1&&L!=null&&O!=null&&e>(R.coordinate+L.coordinate)/2&&e<=(R.coordinate+O.coordinate)/2)return R.index}}return-1},OSe=()=>Ot(l3),z3=(e,t)=>t,MG=(e,t,r)=>r,W3=(e,t,r,n)=>n,RSe=Re(_u,e=>a_(e,t=>t.coordinate)),H3=Re([Gp,z3,MG,W3],jG),q3=Re([H3,Yp,px,vx],L3),ISe=(e,t,r)=>{if(t!=null){var n=Gp(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},FG=Re([Gp,z3,MG,W3],NG),Nb=Re([gu,vu,Mr,$i,_u,W3,FG],SG),DSe=Re([H3,Nb],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),$G=Re([_u,q3],xG),LSe=Re([FG,q3,yu,px,$G,kG,z3],EG),MSe=Re([H3,q3],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),FSe=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&TSe(e,o)){var l=hye(e,t),c=LG(l,a,i,r,n),u=ASe(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},$Se=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var l=kwe(e,r);if(l){var c=mye(l,t),u=LG(c,o,a,n,i),d=PSe(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},BSe=(e,t,r,n,i,a,o,l)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?FSe(e,t,n,i,a,o,l):$Se(e,t,r,n,i,a,o)},USe=Re(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),zSe=Re(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(yi)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:__e}});function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(n){WSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WSe(e,t,r){return(t=HSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HSe(e){var t=qSe(e,"string");return typeof t=="symbol"?t:t+""}function qSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VSe={},GSe={zIndexMap:Object.values(yi).reduce((e,t)=>XD(XD({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),VSe)},KSe=new Set(Object.values(yi));function YSe(e){return KSe.has(e)}var BG=ys({name:"zIndex",initialState:GSe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Cn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!YSe(r)&&delete e.zIndexMap[r])},prepare:Cn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Cn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Cn()}}}),{registerZIndexPortal:XSe,unregisterZIndexPortal:JSe,registerZIndexPortalElement:ZSe,unregisterZIndexPortalElement:QSe}=BG.actions,e5e=BG.reducer;function ws(e){var{zIndex:t,children:r}=e,n=Uye(),i=n&&t!==void 0&&t!==0,a=Fa(),o=xn();p.useLayoutEffect(()=>i?(o(XSe({zIndex:t})),()=>{o(JSe({zIndex:t}))}):vh,[o,t,i]);var l=Ot(c=>USe(c,t,a));return i?l?Ro.createPortal(r,l):null:r}function x4(){return x4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x4.apply(null,arguments)}function JD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(r),!0).forEach(function(n){t5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t5e(e,t,r){return(t=r5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r5e(e){var t=n5e(e,"string");return typeof t=="symbol"?t:t+""}function n5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i5e(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return p.isValidElement(t)?p.cloneElement(t,n):p.createElement(r,n)}function a5e(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,m=n,h=i;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var v,g,x;if(d==="ScatterChart")v=f,g=B1e,x=yi.cursorLine;else if(d==="BarChart")v=U1e(l,f,a,o),g=Dq,x=yi.cursorRectangle;else if(l==="radial"&&eH(f)){var{cx:y,cy:w,radius:_,startAngle:b,endAngle:N}=Mq(f);v={cx:y,cy:w,startAngle:b,endAngle:N,innerRadius:_,outerRadius:_},g=$q,x=yi.cursorLine}else v={points:Pwe(l,f,a)},g=DA,x=yi.cursorLine;var C=typeof c=="object"&&"className"in c?c.className:void 0,S=e1(e1(e1(e1({stroke:"#ccc",pointerEvents:"none"},a),v),Xf(c)),{},{payload:m,payloadIndex:h,className:Er("recharts-tooltip-cursor",C)});return p.createElement(ws,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},p.createElement(i5e,{cursor:c,cursorComp:g,cursorProps:S}))}function s5e(e){var t=NSe(),r=vq(),n=xh(),i=OSe();return t==null||r==null||n==null||i==null?null:p.createElement(a5e,x4({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var UG=p.createContext(null),o5e=()=>p.useContext(UG),zG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new i(d,f||c,m),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],h]:c._events[v].push(h):(c._events[v]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,v=new Array(h);m<h;m++)v[m]=f[m].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,v){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],y=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,m),!0;case 5:return x.fn.call(x.context,d,f,m,h),!0;case 6:return x.fn.call(x.context,d,f,m,h,v),!0}for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var b=x.length,N;for(_=0;_<b;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),y){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,d);break;case 3:x[_].fn.call(x[_].context,d,f);break;case 4:x[_].fn.call(x[_].context,d,f,m);break;default:if(!w)for(N=1,w=new Array(y-1);N<y;N++)w[N-1]=arguments[N];x[_].fn.apply(x[_].context,w)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!m||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var g=0,x=[],y=v.length;g<y;g++)(v[g].fn!==d||m&&!v[g].once||f&&v[g].context!==f)&&x.push(v[g]);x.length?this._events[h]=x.length===1?x[0]:x:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(zG);var l5e=zG.exports;const c5e=lc(l5e);var bv=new c5e,y4="recharts.syncEvent.tooltip",ZD="recharts.syncEvent.brush",V3=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!nc(r))return e[r]}},u5e={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},WG=ys({name:"options",initialState:u5e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),d5e=WG.reducer,{createEventEmitter:f5e}=WG.actions;function h5e(e){return e.tooltip.syncInteraction}var m5e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HG=ys({name:"chartData",initialState:m5e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:QD,setDataStartEndIndexes:p5e,setComputedData:TBe}=HG.actions,g5e=HG.reducer,v5e=["x","y"];function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(n){x5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x5e(e,t,r){return(t=y5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y5e(e){var t=w5e(e,"string");return typeof t=="symbol"?t:t+""}function w5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b5e(e,t){if(e==null)return{};var r,n,i=_5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j5e(){var e=Ot(c3),t=Ot(u3),r=xn(),n=Ot(MV),i=Ot(_u),a=xh(),o=y_(),l=Ot(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return vh;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:v,y:g}=h,x=b5e(h,v5e),{x:y,y:w,width:_,height:b}=d.payload.sourceViewBox,N=nm(nm({},x),{},{x:o.x+(_?(v-y)/_:0)*o.width,y:o.y+(b?(g-w)/b:0)*o.height});r(nm(nm({},d),{},{payload:nm(nm({},d.payload),{},{coordinate:N})}))}else r(d);return}if(i!=null){var C;if(typeof n=="function"){var S={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},A=n(i,S);C=i[A]}else n==="value"&&(C=i.find(ie=>String(ie.value)===d.payload.label));var{coordinate:k}=d.payload;if(C==null||d.payload.active===!1||k==null||o==null){r(g4({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:O}=k,L=Math.min(R,o.x+o.width),U=Math.min(O,o.y+o.height),q={x:a==="horizontal"?C.coordinate:L,y:a==="horizontal"?U:C.coordinate},Q=g4({active:d.payload.active,coordinate:q,dataKey:d.payload.dataKey,index:String(C.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(Q)}}};return bv.on(y4,c),()=>{bv.off(y4,c)}},[l,r,t,e,n,i,a,o])}function S5e(){var e=Ot(c3),t=Ot(u3),r=xn();p.useEffect(()=>{if(e==null)return vh;var n=(i,a,o)=>{t!==o&&e===i&&r(p5e(a))};return bv.on(ZD,n),()=>{bv.off(ZD,n)}},[r,t,e])}function N5e(){var e=xn();p.useEffect(()=>{e(f5e())},[e]),j5e(),S5e()}function k5e(e,t,r,n,i,a){var o=Ot(h=>ISe(h,e,t)),l=Ot(u3),c=Ot(c3),u=Ot(MV),d=Ot(h5e),f=d==null?void 0:d.active,m=y_();p.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=g4({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});bv.emit(y4,c,h,l)}},[f,r,o,i,n,l,c,u,a,m])}function t8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t8(Object(r),!0).forEach(function(n){E5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E5e(e,t,r){return(t=C5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C5e(e){var t=A5e(e,"string");return typeof t=="symbol"?t:t+""}function A5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P5e(e){return e.dataKey}function T5e(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(y1e,t)}var n8=[],O5e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function v5(e){var t,r,n=ji(e,O5e),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:m,position:h,reverseDirection:v,useTranslate3d:g,wrapperStyle:x,cursor:y,shared:w,trigger:_,defaultIndex:b,portal:N,axisId:C}=n,S=xn(),A=typeof b=="number"?String(b):b;p.useEffect(()=>{S(Cje({shared:w,trigger:_,axisId:C,active:i,defaultIndex:A}))},[S,w,_,C,i,A]);var k=y_(),R=Pq(),O=_je(w),{activeIndex:L,isActive:U}=(t=Ot(W=>MSe(W,O,_,A)))!==null&&t!==void 0?t:{},q=Ot(W=>LSe(W,O,_,A)),Q=Ot(W=>$G(W,O,_,A)),ie=Ot(W=>DSe(W,O,_,A)),z=q,H=o5e(),X=(r=i??U)!==null&&r!==void 0?r:!1,[pe,xe]=AH([z,X]),D=O==="axis"?Q:void 0;k5e(O,_,ie,D,L,X);var M=N??H;if(M==null||k==null||O==null)return null;var T=z??n8;X||(T=n8),u&&T.length&&(T=yH(T.filter(W=>W.value!=null&&(W.hide!==!0||n.includeHidden)),m,P5e));var V=T.length>0,F=p.createElement(k1e,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:d,active:X,coordinate:ie,hasPayload:V,offset:f,position:h,reverseDirection:v,useTranslate3d:g,viewBox:k,wrapperStyle:x,lastBoundingBox:pe,innerRef:xe,hasPortalFromProps:!!N},T5e(c,r8(r8({},n),{},{payload:T,label:D,active:X,activeIndex:L,coordinate:ie,accessibilityLayer:R})));return p.createElement(p.Fragment,null,Ro.createPortal(F,M),X&&p.createElement(s5e,{cursor:y,tooltipEventType:O,coordinate:ie,payload:T,index:L}))}var yx=e=>null;yx.displayName="Cell";function R5e(e,t,r){return(t=I5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I5e(e){var t=D5e(e,"string");return typeof t=="symbol"?t:t+""}function D5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class L5e{constructor(t){R5e(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function i8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(r),!0).forEach(function(n){F5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F5e(e,t,r){return(t=$5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $5e(e){var t=B5e(e,"string");return typeof t=="symbol"?t:t+""}function B5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U5e={cacheSize:2e3,enableCache:!0},qG=M5e({},U5e),a8=new L5e(qG.cacheSize),z5e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},s8="recharts_measurement_span";function W5e(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var o8=(e,t)=>{try{var r=document.getElementById(s8);r||(r=document.createElement("span"),r.setAttribute("id",s8),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,z5e,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},bg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||j_.isSsr)return{width:0,height:0};if(!qG.enableCache)return o8(t,r);var n=W5e(t,r),i=a8.get(n);if(i)return i;var a=o8(t,r);return a8.set(n,a),a},VG;function H5e(e,t,r){return(t=q5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q5e(e){var t=V5e(e,"string");return typeof t=="symbol"?t:t+""}function V5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,K5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Y5e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},X5e=["cm","mm","pt","pc","in","Q","px"];function J5e(e){return X5e.includes(e)}var Om="NaN";function Z5e(e,t){return e*Y5e[t]}class pa{static parse(t){var r,[,n,i]=(r=K5e.exec(t))!==null&&r!==void 0?r:[];return n==null?pa.NaN:new pa(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,nc(t)&&(this.unit=""),r!==""&&!G5e.test(r)&&(this.num=NaN,this.unit=""),J5e(r)&&(this.num=Z5e(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new pa(NaN,""):new pa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pa(NaN,""):new pa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pa(NaN,""):new pa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pa(NaN,""):new pa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return nc(this.num)}}VG=pa;H5e(pa,"NaN",new VG(NaN,""));function GG(e){if(e==null||e.includes(Om))return Om;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=l8.exec(t))!==null&&r!==void 0?r:[],o=pa.parse(n??""),l=pa.parse(a??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Om;t=t.replace(l8,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=c8.exec(t))!==null&&u!==void 0?u:[],h=pa.parse(d??""),v=pa.parse(m??""),g=f==="+"?h.add(v):h.subtract(v);if(g.isNaN())return Om;t=t.replace(c8,g.toString())}return t}var u8=/\(([^()]*)\)/;function Q5e(e){for(var t=e,r;(r=u8.exec(t))!=null;){var[,n]=r;t=t.replace(u8,GG(n))}return t}function eNe(e){var t=e.replace(/\s+/g,"");return t=Q5e(t),t=GG(t),t}function tNe(e){try{return eNe(e)}catch{return Om}}function x5(e){var t=tNe(e.slice(5,-1));return t===Om?"":t}var rNe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nNe=["dx","dy","angle","className","breakAll"];function w4(){return w4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w4.apply(null,arguments)}function d8(e,t){if(e==null)return{};var r,n,i=iNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KG=/[ \f\n\r\t\v\u2028\u2029]+/,YG=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Ln(t)||(r?i=t.toString().split(""):i=t.toString().split(KG));var a=i.map(l=>({word:l,width:bg(l,n).width})),o=r?0:bg("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function aNe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var XG=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:l}=a,c=i[i.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(o),c.width+=l+r;else{var u={words:[o],width:l};i.push(u)}return i},[]),JG=e=>e.reduce((t,r)=>t.width>r.width?t:r),sNe="",f8=(e,t,r,n,i,a,o,l)=>{var c=e.slice(0,t),u=YG({breakAll:r,style:n,children:c+sNe});if(!u)return[!1,[]];var d=XG(u.wordsWithComputedWidth,a,o,l),f=d.length>i||JG(d).width>Number(a);return[f,d]},oNe=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:l,breakAll:c}=e,u=kt(a),d=String(o),f=XG(t,n,r,i);if(!u||i)return f;var m=f.length>a||JG(f).width>Number(n);if(!m)return f;for(var h=0,v=d.length-1,g=0,x;h<=v&&g<=d.length-1;){var y=Math.floor((h+v)/2),w=y-1,[_,b]=f8(d,w,c,l,a,n,r,i),[N]=f8(d,y,c,l,a,n,r,i);if(!_&&!N&&(h=y+1),_&&N&&(v=y-1),!_&&N){x=b;break}g++}return x||f},h8=e=>{var t=Ln(e)?[]:e.toString().split(KG);return[{words:t,width:void 0}]},lNe=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!j_.isSsr){var l,c,u=YG({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return h8(n);return oNe({breakAll:a,children:n,maxLines:o,style:i},l,c,t,!!r)}return h8(n)},ZG="#808080",cNe={angle:0,breakAll:!1,capHeight:"0.71em",fill:ZG,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},W_=p.forwardRef((e,t)=>{var r=ji(e,cNe),{x:n,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=d8(r,rNe),m=p.useMemo(()=>lNe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:h,dy:v,angle:g,className:x,breakAll:y}=f,w=d8(f,nNe);if(!ic(n)||!ic(i)||m.length===0)return null;var _=Number(n)+(kt(h)?h:0),b=Number(i)+(kt(v)?v:0);if(!jr(_)||!jr(b))return null;var N;switch(d){case"start":N=x5("calc(".concat(o,")"));break;case"middle":N=x5("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:N=x5("calc(".concat(m.length-1," * -").concat(a,")"));break}var C=[],S=m[0];if(c&&S!=null){var A=S.width,{width:k}=f;C.push("scale(".concat(kt(k)&&kt(A)?k/A:1,")"))}return g&&C.push("rotate(".concat(g,", ").concat(_,", ").concat(b,")")),C.length&&(w.transform=C.join(" ")),p.createElement("text",w4({},Ja(w),{ref:t,x:_,y:b,className:Er("recharts-text",x),textAnchor:u,fill:l.includes("url")?ZG:l}),m.map((R,O)=>{var L=R.words.join(y?"":" ");return p.createElement("tspan",{x:_,dy:O===0?N:a,key:"".concat(L,"-").concat(O)},L)}))});W_.displayName="Text";function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){uNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uNe(e,t,r){return(t=dNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dNe(e){var t=fNe(e,"string");return typeof t=="symbol"?t:t+""}function fNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hNe=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:a,y:o,height:l,upperWidth:c,lowerWidth:u}=PA(t),d=a,f=a+(c-u)/2,m=(d+f)/2,h=(c+u)/2,v=d+c/2,g=l>=0?1:-1,x=g*n,y=g>0?"end":"start",w=g>0?"start":"end",_=c>=0?1:-1,b=_*n,N=_>0?"end":"start",C=_>0?"start":"end",S=i;if(r==="top"){var A={x:d+c/2,y:o-x,horizontalAnchor:"middle",verticalAnchor:y};return S&&(A.height=Math.max(o-S.y,0),A.width=c),A}if(r==="bottom"){var k={x:f+u/2,y:o+l+x,horizontalAnchor:"middle",verticalAnchor:w};return S&&(k.height=Math.max(S.y+S.height-(o+l),0),k.width=u),k}if(r==="left"){var R={x:m-b,y:o+l/2,horizontalAnchor:N,verticalAnchor:"middle"};return S&&(R.width=Math.max(R.x-S.x,0),R.height=l),R}if(r==="right"){var O={x:m+h+b,y:o+l/2,horizontalAnchor:C,verticalAnchor:"middle"};return S&&(O.width=Math.max(S.x+S.width-O.x,0),O.height=l),O}var L=S?{width:h,height:l}:{};return r==="insideLeft"?Ml({x:m+b,y:o+l/2,horizontalAnchor:C,verticalAnchor:"middle"},L):r==="insideRight"?Ml({x:m+h-b,y:o+l/2,horizontalAnchor:N,verticalAnchor:"middle"},L):r==="insideTop"?Ml({x:d+c/2,y:o+x,horizontalAnchor:"middle",verticalAnchor:w},L):r==="insideBottom"?Ml({x:f+u/2,y:o+l-x,horizontalAnchor:"middle",verticalAnchor:y},L):r==="insideTopLeft"?Ml({x:d+b,y:o+x,horizontalAnchor:C,verticalAnchor:w},L):r==="insideTopRight"?Ml({x:d+c-b,y:o+x,horizontalAnchor:N,verticalAnchor:w},L):r==="insideBottomLeft"?Ml({x:f+b,y:o+l-x,horizontalAnchor:C,verticalAnchor:y},L):r==="insideBottomRight"?Ml({x:f+u-b,y:o+l-x,horizontalAnchor:N,verticalAnchor:y},L):r&&typeof r=="object"&&(kt(r.x)||Qf(r.x))&&(kt(r.y)||Qf(r.y))?Ml({x:a+Ia(r.x,h),y:o+Ia(r.y,l),horizontalAnchor:"end",verticalAnchor:"end"},L):Ml({x:v,y:o+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},L)},mNe=["labelRef"],pNe=["content"];function p8(e,t){if(e==null)return{};var r,n,i=gNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(n){vNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vNe(e,t,r){return(t=xNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xNe(e){var t=yNe(e,"string");return typeof t=="symbol"?t:t+""}function yNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(null,arguments)}var QG=p.createContext(null),wNe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:l}=e,c=p.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return p.createElement(QG.Provider,{value:c},l)},eK=()=>{var e=p.useContext(QG),t=y_();return e||(t?PA(t):void 0)},bNe=p.createContext(null),_Ne=()=>{var e=p.useContext(bNe),t=Ot(zV);return e||t},jNe=e=>{var{value:t,formatter:r}=e,n=Ln(e.children)?t:e.children;return typeof r=="function"?r(n):n},G3=e=>e!=null&&typeof e=="function",SNe=(e,t)=>{var r=Yi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},NNe=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:h}=i,v=(u+d)/2,g=SNe(f,m),x=g>=0?1:-1,y,w;switch(t){case"insideStart":y=f+x*a,w=h;break;case"insideEnd":y=m-x*a,w=!h;break;case"end":y=m+x*a,w=h;break;default:throw new Error("Unsupported position ".concat(t))}w=g<=0?w:!w;var _=xi(l,c,v,y),b=xi(l,c,v,y+(w?1:-1)*359),N="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(b.x,",").concat(b.y),C=Ln(e.id)?lv("recharts-radial-line-"):e.id;return p.createElement("text",Mc({},n,{dominantBaseline:"central",className:Er("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:C,d:N})),p.createElement("textPath",{xlinkHref:"#".concat(C)},r))},kNe=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=xi(n,i,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+o)/2,{x:h,y:v}=xi(n,i,m,u);return{x:h,y:v,textAnchor:"middle",verticalAnchor:"middle"}},U1=e=>e!=null&&"cx"in e&&kt(e.cx),ENe={angle:0,offset:5,zIndex:yi.label,position:"middle",textBreakAll:!1};function CNe(e){if(!U1(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Zu(e){var t=ji(e,ENe),{viewBox:r,parentViewBox:n,position:i,value:a,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=t,f=_Ne(),m=eK(),h=i==="center"?m:f??m,v,g,x;r==null?v=h:U1(r)?v=r:v=PA(r);var y=CNe(v);if(!v||Ln(a)&&Ln(o)&&!p.isValidElement(l)&&typeof l!="function")return null;var w=sg(sg({},t),{},{viewBox:v});if(p.isValidElement(l)){var{labelRef:_}=w,b=p8(w,mNe);return p.cloneElement(l,b)}if(typeof l=="function"){var{content:N}=w,C=p8(w,pNe);if(g=p.createElement(l,C),p.isValidElement(g))return g}else g=jNe(t);var S=Ja(t);if(U1(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return NNe(t,i,g,S,v);x=kNe(v,t.offset,t.position)}else{if(!y)return null;var A=hNe({viewBox:y,position:i,offset:t.offset,parentViewBox:U1(n)?void 0:n});x=sg(sg({x:A.x,y:A.y,textAnchor:A.horizontalAnchor,verticalAnchor:A.verticalAnchor},A.width!==void 0?{width:A.width}:{}),A.height!==void 0?{height:A.height}:{})}return p.createElement(ws,{zIndex:t.zIndex},p.createElement(W_,Mc({ref:d,className:Er("recharts-label",c)},S,x,{textAnchor:aNe(S.textAnchor)?S.textAnchor:x.textAnchor,breakAll:u}),g))}Zu.displayName="Label";var ANe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(Zu,Mc({key:"label-implicit"},n)):ic(e)?p.createElement(Zu,Mc({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===Zu?p.cloneElement(e,sg({key:"label-implicit"},n)):p.createElement(Zu,Mc({key:"label-implicit",content:e},n)):G3(e)?p.createElement(Zu,Mc({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(Zu,Mc({},e,{key:"label-implicit"},n)):null};function PNe(e){var{label:t,labelRef:r}=e,n=eK();return ANe(t,n,r)||null}var tK={},rK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(rK);var nK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(nK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rK,r=nK,n=r_;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(tK);var TNe=tK.last;const ONe=lc(TNe);var RNe=["valueAccessor"],INe=["dataKey","clockWise","id","textBreakAll","zIndex"];function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(null,arguments)}function v8(e,t){if(e==null)return{};var r,n,i=DNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LNe=e=>Array.isArray(e.value)?ONe(e.value):e.value,iK=p.createContext(void 0),aK=iK.Provider,sK=p.createContext(void 0),MNe=sK.Provider;function FNe(){return p.useContext(iK)}function $Ne(){return p.useContext(sK)}function z1(e){var{valueAccessor:t=LNe}=e,r=v8(e,RNe),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:l}=r,c=v8(r,INe),u=FNe(),d=$Ne(),f=u||d;return!f||!f.length?null:p.createElement(ws,{zIndex:l??yi.label},p.createElement(ta,{className:"recharts-label-list"},f.map((m,h)=>{var v,g=Ln(n)?t(m,h):sn(m.payload,n),x=Ln(a)?{}:{id:"".concat(a,"-").concat(h)};return p.createElement(Zu,kb({key:"label-".concat(h)},Ja(m),c,x,{fill:(v=r.fill)!==null&&v!==void 0?v:m.fill,parentViewBox:m.parentViewBox,value:g,textBreakAll:o,viewBox:m.viewBox,index:h,zIndex:0}))})))}z1.displayName="LabelList";function K3(e){var{label:t}=e;return t?t===!0?p.createElement(z1,{key:"labelList-implicit"}):p.isValidElement(t)||G3(t)?p.createElement(z1,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(z1,kb({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function b4(){return b4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b4.apply(null,arguments)}var oK=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Er("recharts-dot",i);return kt(t)&&kt(r)&&kt(n)?p.createElement("circle",b4({},Xs(e),uA(e),{className:a,cx:t,cy:r,r:n})):null},lK=e=>e.graphicalItems.polarItems,BNe=Re([Fn,hx],g3),H_=Re([lK,ei,BNe],v3),UNe=Re([H_],x3),q_=Re([UNe,P_],y3),zNe=Re([q_,ei,H_],b3);Re([q_,ei,H_],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=sn(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:sn(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var x8=()=>{},WNe=Re([q_,ei,H_,$_,Fn],N3),HNe=Re([ei,j3,S3,x8,WNe,x8,Mr,Fn],k3),cK=Re([ei,Mr,q_,zNe,fx,Fn,HNe],E3),qNe=Re([cK,qp,Wd],P3),VNe=Re([ei,cK,qNe,Fn],O3);Re([Wd,VNe],HV);var GNe={radiusAxis:{},angleAxis:{}},uK=ys({name:"polarAxis",initialState:GNe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:OBe,removeRadiusAxis:RBe,addAngleAxis:IBe,removeAngleAxis:DBe}=uK.actions,KNe=uK.reducer;function dK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(r),!0).forEach(function(n){YNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YNe(e,t,r){return(t=XNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XNe(e){var t=JNe(e,"string");return typeof t=="symbol"?t:t+""}function JNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZNe=(e,t)=>t,Y3=Re([lK,ZNe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),QNe=[],X3=(e,t,r)=>(r==null?void 0:r.length)===0?QNe:r,fK=Re([P_,Y3,X3],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>w8(w8({},t.presentationProps),a.props))),i!=null)return i}}),eke=Re([fK,Y3,X3],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=sn(n,t.nameKey,t.name),l;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Bp(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),tke=Re([fK,Y3,X3,$i],(e,t,r,n)=>{if(!(t==null||e==null))return e4e({offset:n,pieSettings:t,displayedData:e,cells:r})}),hK={exports:{}},fn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3=Symbol.for("react.transitional.element"),Z3=Symbol.for("react.portal"),V_=Symbol.for("react.fragment"),G_=Symbol.for("react.strict_mode"),K_=Symbol.for("react.profiler"),Y_=Symbol.for("react.consumer"),X_=Symbol.for("react.context"),J_=Symbol.for("react.forward_ref"),Z_=Symbol.for("react.suspense"),Q_=Symbol.for("react.suspense_list"),ej=Symbol.for("react.memo"),tj=Symbol.for("react.lazy"),rke=Symbol.for("react.view_transition"),nke=Symbol.for("react.client.reference");function Mo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case J3:switch(e=e.type,e){case V_:case K_:case G_:case Z_:case Q_:case rke:return e;default:switch(e=e&&e.$$typeof,e){case X_:case J_:case tj:case ej:return e;case Y_:return e;default:return t}}case Z3:return t}}}fn.ContextConsumer=Y_;fn.ContextProvider=X_;fn.Element=J3;fn.ForwardRef=J_;fn.Fragment=V_;fn.Lazy=tj;fn.Memo=ej;fn.Portal=Z3;fn.Profiler=K_;fn.StrictMode=G_;fn.Suspense=Z_;fn.SuspenseList=Q_;fn.isContextConsumer=function(e){return Mo(e)===Y_};fn.isContextProvider=function(e){return Mo(e)===X_};fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===J3};fn.isForwardRef=function(e){return Mo(e)===J_};fn.isFragment=function(e){return Mo(e)===V_};fn.isLazy=function(e){return Mo(e)===tj};fn.isMemo=function(e){return Mo(e)===ej};fn.isPortal=function(e){return Mo(e)===Z3};fn.isProfiler=function(e){return Mo(e)===K_};fn.isStrictMode=function(e){return Mo(e)===G_};fn.isSuspense=function(e){return Mo(e)===Z_};fn.isSuspenseList=function(e){return Mo(e)===Q_};fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===V_||e===K_||e===G_||e===Z_||e===Q_||typeof e=="object"&&e!==null&&(e.$$typeof===tj||e.$$typeof===ej||e.$$typeof===X_||e.$$typeof===Y_||e.$$typeof===J_||e.$$typeof===nke||e.getModuleId!==void 0)};fn.typeOf=Mo;hK.exports=fn;var ike=hK.exports,b8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",_8=null,y5=null,mK=e=>{if(e===_8&&Array.isArray(y5))return y5;var t=[];return p.Children.forEach(e,r=>{Ln(r)||(ike.isFragment(r)?t=t.concat(mK(r.props.children)):t.push(r))}),y5=t,_8=e,t};function Q3(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>b8(i)):n=[b8(t)],mK(e).forEach(i=>{var a=Zf(i,"type.displayName")||Zf(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var pK=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,gK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(gK);var ake=gK.isPlainObject;const ske=lc(ake);var j8,S8,N8,k8,E8;function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(n){oke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oke(e,t,r){return(t=lke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lke(e){var t=cke(e,"string");return typeof t=="symbol"?t:t+""}function cke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(null,arguments)}function K0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P8=(e,t,r,n,i)=>{var a=r-n,o;return o=qn(j8||(j8=K0(["M ",",",""])),e,t),o+=qn(S8||(S8=K0(["L ",",",""])),e+r,t),o+=qn(N8||(N8=K0(["L ",",",""])),e+r-a/2,t+i),o+=qn(k8||(k8=K0(["L ",",",""])),e+r-a/2-n,t+i),o+=qn(E8||(E8=K0(["L ",","," Z"])),e,t),o},uke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dke=e=>{var t=ji(e,uke),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,m=p.useRef(null),[h,v]=p.useState(-1),g=p.useRef(i),x=p.useRef(a),y=p.useRef(o),w=p.useRef(r),_=p.useRef(n),b=ox(e,"trapezoid-");if(p.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var q=m.current.getTotalLength();q&&v(q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var N=Er("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",Eb({},Ja(t),{className:N,d:P8(r,n,i,a,o)})));var C=g.current,S=x.current,A=y.current,k=w.current,R=_.current,O="0px ".concat(h===-1?1:h,"px"),L="".concat(h,"px 0px"),U=Tq(["strokeDasharray"],u,c);return p.createElement(sx,{animationId:b,key:b,canBegin:h>0,duration:u,easing:c,isActive:f,begin:d},q=>{var Q=An(C,i,q),ie=An(S,a,q),z=An(A,o,q),H=An(k,r,q),X=An(R,n,q);m.current&&(g.current=Q,x.current=ie,y.current=z,w.current=H,_.current=X);var pe=q>0?{transition:U,strokeDasharray:L}:{strokeDasharray:O};return p.createElement("path",Eb({},Ja(t),{className:N,d:P8(H,X,Q,ie,z),ref:m,style:A8(A8({},pe),t.style)}))})},fke=["option","shapeType","activeClassName"];function hke(e,t){if(e==null)return{};var r,n,i=mke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(n){pke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pke(e,t,r){return(t=gke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gke(e){var t=vke(e,"string");return typeof t=="symbol"?t:t+""}function vke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xke(e,t){return Cb(Cb({},t),e)}function yke(e,t){return e==="symbols"}function O8(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(Dq,r);case"trapezoid":return p.createElement(dke,r);case"sector":return p.createElement($q,r);case"symbols":if(yke(t))return p.createElement(cA,r);break;case"curve":return p.createElement(DA,r);default:return null}}function wke(e){return p.isValidElement(e)?e.props:e}function eP(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=hke(e,fke),a;if(p.isValidElement(t))a=p.cloneElement(t,Cb(Cb({},i),wke(t)));else if(typeof t=="function")a=t(i,i.index);else if(ske(t)&&typeof t!="boolean"){var o=xke(t,i);a=p.createElement(O8,{shapeType:r,elementProps:o})}else{var l=i;a=p.createElement(O8,{shapeType:r,elementProps:l})}return i.isActive?p.createElement(ta,{className:n},a):a}var tP=(e,t,r)=>{var n=xn();return(i,a)=>o=>{e==null||e(i,a,o),n(wG({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},rP=e=>{var t=xn();return(r,n)=>i=>{e==null||e(r,n,i),t(Aje())}},nP=(e,t,r)=>{var n=xn();return(i,a)=>o=>{e==null||e(i,a,o),n(Pje({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function iP(e){var{tooltipEntrySettings:t}=e,r=xn(),n=Fa(),i=p.useRef(null);return p.useLayoutEffect(()=>{n||(i.current===null?r(Nje(t)):i.current!==t&&r(kje({prev:i.current,next:t})),i.current=t)},[t,r,n]),p.useLayoutEffect(()=>()=>{i.current&&(r(Eje(i.current)),i.current=null)},[r]),null}function vK(e){var{legendPayload:t}=e,r=xn(),n=Fa(),i=p.useRef(null);return p.useLayoutEffect(()=>{n||(i.current===null?r(Eq(t)):i.current!==t&&r(Cq({prev:i.current,next:t})),i.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{i.current&&(r(Aq(i.current)),i.current=null)},[r]),null}function bke(e){var{legendPayload:t}=e,r=xn(),n=Ot(Mr),i=p.useRef(null);return p.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(Eq(t)):i.current!==t&&r(Cq({prev:i.current,next:t})),i.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{i.current&&(r(Aq(i.current)),i.current=null)},[r]),null}var w5,_ke=()=>{var[e]=p.useState(()=>lv("uid-"));return e},jke=(w5=Iv.useId)!==null&&w5!==void 0?w5:_ke;function Ske(e,t){var r=jke();return t||(e?"".concat(e,"-").concat(r):r)}var Nke=p.createContext(void 0),aP=e=>{var{id:t,type:r,children:n}=e,i=Ske("recharts-".concat(r),t);return p.createElement(Nke.Provider,{value:i},n(i))},kke={cartesianItems:[],polarItems:[]},xK=ys({name:"graphicalItems",initialState:kke,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Cn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ml(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Cn()},removeCartesianGraphicalItem:{reducer(e,t){var r=ml(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Cn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Cn()},removePolarGraphicalItem:{reducer(e,t){var r=ml(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Cn()}}}),{addCartesianGraphicalItem:Eke,replaceCartesianGraphicalItem:Cke,removeCartesianGraphicalItem:Ake,addPolarGraphicalItem:Pke,removePolarGraphicalItem:Tke}=xK.actions,Oke=xK.reducer,Rke=e=>{var t=xn(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(Eke(e)):r.current!==e&&t(Cke({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(Ake(r.current)),r.current=null)},[t]),null},yK=p.memo(Rke);function Ike(e){var t=xn();return p.useLayoutEffect(()=>(t(Pke(e)),()=>{t(Tke(e))}),[t,e]),null}var Dke=["key"],Lke=["onMouseEnter","onClick","onMouseLeave"],Mke=["id"],Fke=["id"];function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){$ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ke(e,t,r){return(t=Bke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bke(e){var t=Uke(e,"string");return typeof t=="symbol"?t:t+""}function Uke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(null,arguments)}function rj(e,t){if(e==null)return{};var r,n,i=zke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wke(e){var t=p.useMemo(()=>Q3(e.children,yx),[e.children]),r=Ot(n=>eke(n,e.id,t));return r==null?null:p.createElement(bke,{legendPayload:r})}var Hke=p.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:l,hide:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n.map(m=>m.tooltipPayload),getPosition:m=>{var h;return(h=n[Number(m)])===null||h===void 0?void 0:h.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:Bp(l,t),hide:c,type:u,color:o,unit:"",graphicalItemId:d}};return p.createElement(iP,{tooltipEntrySettings:f})}),qke=(e,t)=>e>t?"start":e<t?"end":"middle",Vke=(e,t,r)=>Ia(typeof t=="function"?t(e):t,r,r*.8),Gke=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,l=Lq(a,o),c=i+Ia(e.cx,a,a/2),u=n+Ia(e.cy,o,o/2),d=Ia(e.innerRadius,l,0),f=Vke(r,e.outerRadius,l),m=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:m}},Kke=(e,t)=>{var r=Yi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Yke=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Er("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=rj(t,Dke);return p.createElement(DA,Pd({},i,{type:"linear",className:r}))},Xke=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var i=Er("recharts-pie-label-text",dK(e));return p.createElement(W_,Pd({},t,{alignmentBaseline:"middle",className:i}),n)};function Jke(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var l=Xs(r),c=Xf(i),u=Xf(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((m,h)=>{var v=(m.startAngle+m.endAngle)/2,g=xi(m.cx,m.cy,m.outerRadius+d,v),x=Gn(Gn(Gn(Gn({},l),m),{},{stroke:"none"},c),{},{index:h,textAnchor:qke(g.x,m.cx)},g),y=Gn(Gn(Gn(Gn({},l),m),{},{fill:"none",stroke:m.fill},u),{},{index:h,points:[xi(m.cx,m.cy,m.outerRadius,v),g],key:"line"});return p.createElement(ws,{zIndex:yi.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(h)},p.createElement(ta,null,a&&Yke(a,y),Xke(i,x,sn(m,o))))});return p.createElement(ta,{className:"recharts-pie-labels"},f)}function Zke(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?p.createElement(K3,{label:i}):p.createElement(Jke,{sectors:t,props:r,showLabels:n})}function Qke(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:o}=e,l=Ot(Ad),c=Ot(U3),u=Ot(pSe),{onMouseEnter:d,onClick:f,onMouseLeave:m}=i,h=rj(i,Lke),v=tP(d,i.dataKey,o),g=rP(m),x=nP(f,i.dataKey,o);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((y,w)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var _=u==null||u===o,b=String(w)===l&&(c==null||i.dataKey===c)&&_,N=l?n:null,C=r&&b?r:N,S=Gn(Gn({},y),{},{stroke:y.stroke,tabIndex:-1,[cq]:w,[uq]:o});return p.createElement(ta,Pd({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},ex(h,y,w),{onMouseEnter:v(y,w),onMouseLeave:g(y,w),onClick:x(y,w)}),p.createElement(eP,Pd({option:a??C,index:w,shapeType:"sector",isActive:b},S)))}))}function e4e(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,m=Math.abs(r.minAngle),h=Kke(l,c),v=Math.abs(h),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(C=>sn(C,u,0)!==0).length,y=(v>=360?x:x-1)*g,w=v-x*m-y,_=n.reduce((C,S)=>{var A=sn(S,u,0);return C+(kt(A)?A:0)},0),b;if(_>0){var N;b=n.map((C,S)=>{var A=sn(C,u,0),k=sn(C,d,S),R=Gke(r,a,C),O=(kt(A)?A:0)/_,L,U=Gn(Gn({},C),i&&i[S]&&i[S].props);S?L=N.endAngle+Yi(h)*g*(A!==0?1:0):L=l;var q=L+Yi(h)*((A!==0?m:0)+O*w),Q=(L+q)/2,ie=(R.innerRadius+R.outerRadius)/2,z=[{name:k,value:A,payload:U,dataKey:u,type:f,graphicalItemId:r.id}],H=xi(R.cx,R.cy,ie,Q);return N=Gn(Gn(Gn(Gn({},r.presentationProps),{},{percent:O,cornerRadius:typeof o=="string"?parseFloat(o):o,name:k,tooltipPayload:z,midAngle:Q,middleRadius:ie,tooltipPosition:H},U),R),{},{value:A,dataKey:u,startAngle:L,endAngle:q,payload:U,paddingAngle:Yi(h)*g}),N})}return b}function t4e(e){var{showLabels:t,sectors:r,children:n}=e,i=p.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return p.createElement(MNe,{value:t?i:void 0},n)}function r4e(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:m}=t,h=ox(t,"recharts-pie-"),v=r.current,[g,x]=p.useState(!1),y=p.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),w=p.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return p.createElement(t4e,{showLabels:!g,sectors:i},p.createElement(sx,{animationId:h,begin:o,duration:l,isActive:a,easing:c,onAnimationStart:w,onAnimationEnd:y,key:h},_=>{var b,N=[],C=i&&i[0],S=(b=C==null?void 0:C.startAngle)!==null&&b!==void 0?b:0;return i==null||i.forEach((A,k)=>{var R=v&&v[k],O=k>0?Zf(A,"paddingAngle",0):0;if(R){var L=An(R.endAngle-R.startAngle,A.endAngle-A.startAngle,_),U=Gn(Gn({},A),{},{startAngle:S+O,endAngle:S+L+O});N.push(U),S=U.endAngle}else{var{endAngle:q,startAngle:Q}=A,ie=An(0,q-Q,_),z=Gn(Gn({},A),{},{startAngle:S+O,endAngle:S+ie+O});N.push(z),S=z.endAngle}}),r.current=N,p.createElement(ta,null,p.createElement(Qke,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),p.createElement(Zke,{showLabels:!g,sectors:i,props:t}),t.children)}var n4e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:yi.area};function i4e(e){var{id:t}=e,r=rj(e,Mke),{hide:n,className:i,rootTabIndex:a}=e,o=p.useMemo(()=>Q3(e.children,yx),[e.children]),l=Ot(d=>tke(d,t,o)),c=p.useRef(null),u=Er("recharts-pie",i);return n||l==null?(c.current=null,p.createElement(ta,{tabIndex:a,className:u})):p.createElement(ws,{zIndex:e.zIndex},p.createElement(Hke,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),p.createElement(ta,{tabIndex:a,className:u},p.createElement(r4e,{props:Gn(Gn({},r),{},{sectors:l}),previousSectorsRef:c,id:t})))}function wK(e){var t=ji(e,n4e),{id:r}=t,n=rj(t,Fke),i=Xs(n);return p.createElement(aP,{id:r,type:"pie"},a=>p.createElement(p.Fragment,null,p.createElement(Ike,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),p.createElement(Wke,Pd({},n,{id:a})),p.createElement(i4e,Pd({},n,{id:a}))))}wK.displayName="Pie";var a4e=["points"];function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(n){s4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s4e(e,t,r){return(t=o4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o4e(e){var t=l4e(e,"string");return typeof t=="symbol"?t:t+""}function l4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(null,arguments)}function c4e(e,t){if(e==null)return{};var r,n,i=u4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function d4e(e){var{option:t,dotProps:r,className:n}=e;if(p.isValidElement(t))return p.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Er(n,typeof t!="boolean"?t.className:""),a=r??{},{points:o}=a,l=c4e(a,a4e);return p.createElement(oK,Ab({},l,{className:i}))}function f4e(e,t){return e==null?!1:t?!0:e.length===1}function h4e(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:c,zIndex:u=yi.scatter}=e;if(!f4e(t,r))return null;var d=pK(r),f=fge(r),m=t.map((v,g)=>{var x,y,w=b5(b5(b5({r:3},o),f),{},{index:g,cx:(x=v.x)!==null&&x!==void 0?x:void 0,cy:(y=v.y)!==null&&y!==void 0?y:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return p.createElement(d4e,{key:"dot-".concat(g),option:r,dotProps:w,className:i})}),h={};return l&&c!=null&&(h.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),p.createElement(ws,{zIndex:u},p.createElement(ta,Ab({className:n},h),m))}function D8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(r),!0).forEach(function(n){m4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m4e(e,t,r){return(t=p4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p4e(e){var t=g4e(e,"string");return typeof t=="symbol"?t:t+""}function g4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bK=0,v4e={xAxis:{},yAxis:{},zAxis:{}},_K=ys({name:"cartesianAxis",initialState:v4e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Cn()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Cn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Cn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Cn()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Cn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Cn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Cn()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Cn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Cn()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==i.width&&Math.abs(n-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var l=[...o,n].slice(-3);e.yAxis[r]=L8(L8({},i),{},{width:n,widthHistory:l})}}}}),{addXAxis:x4e,replaceXAxis:y4e,removeXAxis:w4e,addYAxis:b4e,replaceYAxis:_4e,removeYAxis:j4e,addZAxis:LBe,replaceZAxis:MBe,removeZAxis:FBe,updateYAxisWidth:S4e}=_K.actions,N4e=_K.reducer,k4e=Re([$i],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),E4e=Re([k4e,gu,vu],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),sP=()=>Ot(E4e),C4e=()=>Ot(wSe);function M8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(r),!0).forEach(function(n){A4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A4e(e,t,r){return(t=P4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P4e(e){var t=T4e(e,"string");return typeof t=="symbol"?t:t+""}function T4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O4e=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=_5(_5(_5({},l),Xf(i)),uA(i)),u;return p.isValidElement(i)?u=p.cloneElement(i,c):typeof i=="function"?u=i(c):u=p.createElement(oK,c),p.createElement(ta,{className:"recharts-active-dot",clipPath:o},u)};function R4e(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=yi.activeDot}=e,l=Ot(Ad),c=C4e();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Ln(u)?null:p.createElement(ws,{zIndex:o},p.createElement(O4e,{point:u,childIndex:Number(l),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var F8=(e,t,r)=>{var n=r??e;if(!Ln(n))return Ia(n,t,0)},I4e=(e,t,r)=>{var n={},i=e.filter(I_),a=e.filter(u=>u.stackId==null),o=i.reduce((u,d)=>{var f=u[d.stackId];return f==null&&(f=[]),f.push(d),u[d.stackId]=f,u},n),l=Object.entries(o).map(u=>{var d,[f,m]=u,h=m.map(g=>g.dataKey),v=F8(t,r,(d=m[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:h,barSize:v}}),c=a.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=F8(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]};function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(n){D4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D4e(e,t,r){return(t=L4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4e(e){var t=M4e(e,"string");return typeof t=="symbol"?t:t+""}function M4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F4e(e,t,r,n,i){var a,o=n.length;if(!(o<1)){var l=Ia(e,r,0,!0),c,u=[];if(jr((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,f=r/o,m=n.reduce((w,_)=>w+(_.barSize||0),0);m+=(o-1)*l,m>=r&&(m-=(o-1)*l,l=0),m>=r&&f>0&&(d=!0,f*=.9,m=o*f);var h=(r-m)/2>>0,v={offset:h-l,size:0};c=n.reduce((w,_)=>{var b,N={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:v.offset+v.size+l,size:d?f:(b=_.barSize)!==null&&b!==void 0?b:0}},C=[...w,N];return v=N.position,C},u)}else{var g=Ia(t,r,0,!0);r-2*g-(o-1)*l<=0&&(l=0);var x=(r-2*g-(o-1)*l)/o;x>1&&(x>>=0);var y=jr(i)?Math.min(x,i):x;c=n.reduce((w,_,b)=>[...w,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:g+(x+l)*b+(x-y)/2,size:y}}],u)}return c}}var $4e=(e,t,r,n,i,a,o)=>{var l=Ln(o)?t:o,c=F4e(r,n,i!==a?i:a,e,l);return i!==a&&c!=null&&(c=c.map(u=>t1(t1({},u),{},{position:t1(t1({},u.position),{},{offset:u.position.offset-i/2})}))),c},B4e=(e,t)=>{var r=m3(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},U4e=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function z4e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&jr(e.zIndex)?e.zIndex:t}var jK=e=>{var{chartData:t}=e,r=xn(),n=Fa();return p.useEffect(()=>n?()=>{}:(r(QD(t)),()=>{r(QD(void 0))}),[t,r,n]),null},B8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},SK=ys({name:"brush",initialState:B8,reducers:{setBrushSettings(e,t){return t.payload==null?B8:t.payload}}}),{setBrushSettings:$Be}=SK.actions,W4e=SK.reducer;function H4e(e){return(e%180+180)%180}var q4e=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=H4e(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},V4e={dots:[],areas:[],lines:[]},NK=ys({name:"referenceElements",initialState:V4e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ml(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ml(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ml(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:BBe,removeDot:UBe,addArea:zBe,removeArea:WBe,addLine:HBe,removeLine:qBe}=NK.actions,G4e=NK.reducer,K4e=p.createContext(void 0),Y4e=e=>{var{children:t}=e,[r]=p.useState("".concat(lv("recharts"),"-clip")),n=sP();if(n==null)return null;var{x:i,y:a,width:o,height:l}=n;return p.createElement(K4e.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function kK(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function X4e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return q4e(n,r)}function J4e(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function _v(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Z4e(e,t){return kK(e,t+1)}function Q4e(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:kK(n,u)};var g=c,x,y=()=>(x===void 0&&(x=r(v,g)),x),w=v.coordinate,_=c===0||_v(e,w,y,d,l);_||(c=0,d=o,u+=1),_&&(d=w+e*(y()/2+i),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function eEe(e,t,r,n,i){var a=(n||[]).slice(),o=a.length;if(o===0)return[];for(var{start:l,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,m=!0,h=function(){var b=n[g];if(b==null)return 0;var N=g,C,S=()=>(C===void 0&&(C=r(b,N)),C),A=b.coordinate,k=g===d||_v(e,A,S,f,c);if(!k)return m=!1,1;k&&(f=A+e*(S()/2+i))},v,g=d;g<o&&(v=h(),!(v!==0&&v===1));g+=u);if(m){for(var x=[],y=d;y<o;y+=u){var w=n[y];w!=null&&x.push(w)}return x}}return[]}function U8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(r),!0).forEach(function(n){tEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tEe(e,t,r){return(t=rEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rEe(e){var t=nEe(e,"string");return typeof t=="symbol"?t:t+""}function nEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iEe(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:l}=t,{end:c}=t,u=function(m){var h=a[m];if(h==null)return 1;var v=h,g,x=()=>(g===void 0&&(g=r(h,m)),g);if(m===o-1){var y=e*(v.coordinate+e*x()/2-c);a[m]=v=Ta(Ta({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else a[m]=v=Ta(Ta({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var w=_v(e,v.tickCoord,x,l,c);w&&(c=v.tickCoord-e*(x()/2+i),a[m]=Ta(Ta({},v),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return a}function aEe(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(a){var d=n[l-1];if(d!=null){var f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Ta(Ta({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var h=_v(e,d.tickCoord,()=>f,c,u);h&&(u=d.tickCoord-e*(f/2+i),o[l-1]=Ta(Ta({},d),{},{isShow:!0}))}}}for(var v=a?l-1:l,g=function(w){var _=o[w];if(_==null)return 1;var b=_,N,C=()=>(N===void 0&&(N=r(_,w)),N);if(w===0){var S=e*(b.coordinate-e*C()/2-c);o[w]=b=Ta(Ta({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[w]=b=Ta(Ta({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var A=_v(e,b.tickCoord,C,c,u);A&&(c=b.tickCoord+e*(C()/2+i),o[w]=Ta(Ta({},b),{},{isShow:!0}))}},x=0;x<v;x++)g(x);return o}function oP(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(kt(c)||j_.isSsr){var m;return(m=Z4e(i,kt(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],v=l==="top"||l==="bottom"?"width":"height",g=d&&v==="width"?bg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(N,C)=>{var S=typeof u=="function"?u(N.value,C):N.value;return v==="width"?X4e(bg(S,{fontSize:t,letterSpacing:r}),g,f):bg(S,{fontSize:t,letterSpacing:r})[v]},y=i[0],w=i[1],_=i.length>=2&&y!=null&&w!=null?Yi(w.coordinate-y.coordinate):1,b=J4e(a,_,v);return c==="equidistantPreserveStart"?Q4e(_,b,x,i,o):c==="equidistantPreserveEnd"?eEe(_,b,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=aEe(_,b,x,i,o,c==="preserveStartEnd"):h=iEe(_,b,x,i,o),h.filter(N=>N.isShow))}var sEe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+a,u=o+c+l+(r?n:0);return Math.round(u)}return 0},oEe=["axisLine","width","height","className","hide","ticks","axisType"];function lEe(e,t){if(e==null)return{};var r,n,i=cEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(null,arguments)}function z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z8(Object(r),!0).forEach(function(n){uEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uEe(e,t,r){return(t=dEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dEe(e){var t=fEe(e,"string");return typeof t=="symbol"?t:t+""}function fEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yi.axis};function hEe(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Hn(Hn(Hn({},c),Xs(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);u=Hn(Hn({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!o||a==="right"&&o);u=Hn(Hn({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return p.createElement("line",ih({},u,{className:Er("recharts-cartesian-axis-line",Zf(l,"className"))}))}function mEe(e,t,r,n,i,a,o,l,c){var u,d,f,m,h,v,g=l?-1:1,x=e.tickSize||o,y=kt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,m=r+ +!l*i,f=m-g*x,v=f-g*c,h=y;break;case"left":f=m=e.coordinate,d=t+ +!l*n,u=d-g*x,h=u-g*c,v=y;break;case"right":f=m=e.coordinate,d=t+ +l*n,u=d+g*x,h=u+g*c,v=y;break;default:u=d=e.coordinate,m=r+ +l*i,f=m+g*x,v=f+g*c,h=y;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:h,y:v}}}function pEe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function gEe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function vEe(e){var{option:t,tickProps:r,value:n}=e,i,a=Er(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))i=p.cloneElement(t,Hn(Hn({},r),{},{className:a}));else if(typeof t=="function")i=t(Hn(Hn({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Er(o,dK(t))),i=p.createElement(W_,ih({},r,{className:o}),n)}return i}var xEe=p.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:m,y:h,width:v,height:g,tickSize:x,tickMargin:y,fontSize:w,letterSpacing:_,getTicksConfig:b,events:N,axisType:C}=e,S=oP(Hn(Hn({},b),{},{ticks:r}),w,_),A=pEe(d,f),k=gEe(d,f),R=Xs(b),O=Xf(n),L={};typeof i=="object"&&(L=i);var U=Hn(Hn({},R),{},{fill:"none"},L),q=S.map(z=>Hn({entry:z},mEe(z,m,h,v,g,d,x,f,y))),Q=q.map(z=>{var{entry:H,line:X}=z;return p.createElement(ta,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},i&&p.createElement("line",ih({},U,X,{className:Er("recharts-cartesian-axis-tick-line",Zf(i,"className"))})))}),ie=q.map((z,H)=>{var X,pe,{entry:xe,tick:D}=z,M=Hn(Hn(Hn(Hn({verticalAnchor:k},R),{},{textAnchor:A,stroke:"none",fill:a},D),{},{index:H,payload:xe,visibleTicksCount:S.length,tickFormatter:o,padding:c},u),{},{angle:(X=(pe=u==null?void 0:u.angle)!==null&&pe!==void 0?pe:R.angle)!==null&&X!==void 0?X:0}),T=Hn(Hn({},M),O);return p.createElement(ta,ih({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(xe.value,"-").concat(xe.coordinate,"-").concat(xe.tickCoord)},ex(N,xe,H)),n&&p.createElement(vEe,{option:n,tickProps:T,value:"".concat(typeof o=="function"?o(xe.value,H):xe.value).concat(l||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},ie.length>0&&p.createElement(ws,{zIndex:yi.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:t},ie)),Q.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},Q))}),yEe=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:l,axisType:c}=e,u=lEe(e,oEe),[d,f]=p.useState(""),[m,h]=p.useState(""),v=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return sEe({ticks:v.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=p.useCallback(x=>{if(x){var y=x.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=y;var w=y[0];if(w){var _=window.getComputedStyle(w),b=_.fontSize,N=_.letterSpacing;(b!==d||N!==m)&&(f(b),h(N))}}},[d,m]);return o||n!=null&&n<=0||i!=null&&i<=0?null:p.createElement(ws,{zIndex:e.zIndex},p.createElement(ta,{className:Er("recharts-cartesian-axis",a)},p.createElement(hEe,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Xs(e)}),p.createElement(xEe,{ref:g,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(wNe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(PNe,{label:e.label,labelRef:e.labelRef}),e.children)))}),lP=p.forwardRef((e,t)=>{var r=ji(e,qc);return p.createElement(yEe,ih({},r,{ref:t}))});lP.displayName="CartesianAxis";var wEe=["x1","y1","x2","y2","key"],bEe=["offset"],_Ee=["xAxisId","yAxisId"],jEe=["xAxisId","yAxisId"];function W8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(r),!0).forEach(function(n){SEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SEe(e,t,r){return(t=NEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NEe(e){var t=kEe(e,"string");return typeof t=="symbol"?t:t+""}function kEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(null,arguments)}function Pb(e,t){if(e==null)return{};var r,n,i=EEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CEe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function EK(e){var{option:t,lineItemProps:r}=e,n;if(p.isValidElement(t))n=p.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:l,y2:c,key:u}=r,d=Pb(r,wEe),f=(i=Xs(d))!==null&&i!==void 0?i:{},{offset:m}=f,h=Pb(f,bEe);n=p.createElement("line",Of({},h,{x1:a,y1:o,x2:l,y2:c,fill:"none",key:u}))}return n}function AEe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Pb(e,_Ee),c=i.map((u,d)=>{var f=Ra(Ra({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return p.createElement(EK,{key:"line-".concat(d),option:n,lineItemProps:f})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function PEe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Pb(e,jEe),c=i.map((u,d)=>{var f=Ra(Ra({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return p.createElement(EK,{option:n,lineItemProps:f,key:"line-".concat(d)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function TEe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=u[m+1],v=h==null,g=v?i+o-f:h-f;if(g<=0)return null;var x=m%t.length;return p.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:g,width:a,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function OEe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=u[m+1],v=h==null,g=v?i+o-f:h-f;if(g<=0)return null;var x=m%r.length;return p.createElement("rect",{key:"react-".concat(m),x:f,y:a,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var REe=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return sq(oP(Ra(Ra(Ra({},qc),r),{},{ticks:oq(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},IEe=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return sq(oP(Ra(Ra(Ra({},qc),r),{},{ticks:oq(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},DEe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:yi.grid};function _4(e){var t=TA(),r=OA(),n=vq(),i=Ra(Ra({},ji(e,DEe)),{},{x:kt(e.x)?e.x:n.left,y:kt(e.y)?e.y:n.top,width:kt(e.width)?e.width:n.width,height:kt(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:h}=i,v=Fa(),g=Ot(k=>zD(k,"xAxis",a,v)),x=Ot(k=>zD(k,"yAxis",o,v));if(!ac(u)||!ac(d)||!kt(l)||!kt(c))return null;var y=i.verticalCoordinatesGenerator||REe,w=i.horizontalCoordinatesGenerator||IEe,{horizontalPoints:_,verticalPoints:b}=i;if((!_||!_.length)&&typeof w=="function"){var N=m&&m.length,C=w({yAxis:x?Ra(Ra({},x),{},{ticks:N?m:x.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);rb(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(_=C)}if((!b||!b.length)&&typeof y=="function"){var S=h&&h.length,A=y({xAxis:g?Ra(Ra({},g),{},{ticks:S?h:g.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);rb(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(b=A)}return p.createElement(ws,{zIndex:i.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(CEe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),p.createElement(TEe,Of({},i,{horizontalPoints:_})),p.createElement(OEe,Of({},i,{verticalPoints:b})),p.createElement(AEe,Of({},i,{offset:n,horizontalPoints:_,xAxis:g,yAxis:x})),p.createElement(PEe,Of({},i,{offset:n,verticalPoints:b,xAxis:g,yAxis:x}))))}_4.displayName="CartesianGrid";var LEe={},CK=ys({name:"errorBars",initialState:LEe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:VBe,replaceErrorBar:GBe,removeErrorBar:KBe}=CK.actions,MEe=CK.reducer,FEe=["children"];function $Ee(e,t){if(e==null)return{};var r,n,i=BEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UEe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zEe=p.createContext(UEe);function AK(e){var{children:t}=e,r=$Ee(e,FEe);return p.createElement(zEe.Provider,{value:r},t)}function cP(e,t){var r,n,i=Ot(u=>wu(u,e)),a=Ot(u=>bu(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Wi.allowDataOverflow,l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Hi.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function PK(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=sP(),{needClipX:a,needClipY:o,needClip:l}=cP(t,r);if(!l||!i)return null;var{x:c,y:u,width:d,height:f}=i;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:a?c:c-d/2,y:o?u:u-f/2,width:a?d:d*2,height:o?f:f*2}))}var TK=(e,t,r,n)=>Cd(e,"xAxis",t,n),OK=(e,t,r,n)=>Ed(e,"xAxis",t,n),RK=(e,t,r,n)=>Cd(e,"yAxis",r,n),IK=(e,t,r,n)=>Ed(e,"yAxis",r,n),WEe=Re([Mr,TK,RK,OK,IK],(e,t,r,n,i)=>pu(e,"xAxis")?gp(t,n,!1):gp(r,i,!1)),HEe=(e,t,r,n,i)=>i;function qEe(e){return e.type==="line"}var VEe=Re([M_,HEe],(e,t)=>e.filter(qEe).find(r=>r.id===t)),GEe=Re([Mr,TK,RK,OK,IK,VEe,WEe,a3],(e,t,r,n,i,a,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:m}=a,h;if(m!=null&&m.length>0?h=m:h=c==null?void 0:c.slice(u,d+1),h!=null)return FCe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:o,displayedData:h})}});function KEe(e){var t=Xf(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var YEe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=p;function XEe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JEe=typeof Object.is=="function"?Object.is:XEe,ZEe=wx.useSyncExternalStore,QEe=wx.useRef,eCe=wx.useEffect,tCe=wx.useMemo,rCe=wx.useDebugValue;YEe.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=QEe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=tCe(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),i!==void 0&&o.hasValue){var v=o.value;if(i(v,h))return f=v}return f=h}if(v=f,JEe(d,h))return v;var g=n(h);return i!==void 0&&i(v,g)?(d=h,v):(d=h,f=g)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,i]);var l=ZEe(e,a[0],a[1]);return eCe(function(){o.hasValue=!0,o.value=l},[l]),rCe(l),l};function nCe(e){e()}function iCe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nCe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var H8={notify(){},get:()=>[]};function aCe(e,t){let r,n=H8,i=0,a=!1;function o(g){d();const x=n.subscribe(g);let y=!1;return()=>{y||(y=!0,x(),f())}}function l(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=iCe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=H8)}function m(){a||(a=!0,d())}function h(){a&&(a=!1,f())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return v}var sCe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oCe=sCe(),lCe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cCe=lCe(),uCe=()=>oCe||cCe?p.useLayoutEffect:p.useEffect,dCe=uCe();function q8(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fCe(e,t){if(q8(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!q8(e[r[i]],t[r[i]]))return!1;return!0}var j5=Symbol.for("react-redux-context"),S5=typeof globalThis<"u"?globalThis:{};function hCe(){if(!p.createContext)return{};const e=S5[j5]??(S5[j5]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var mCe=hCe();function pCe(e){const{children:t,context:r,serverState:n,store:i}=e,a=p.useMemo(()=>{const c=aCe(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=p.useMemo(()=>i.getState(),[i]);dCe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=r||mCe;return p.createElement(l.Provider,{value:a},t)}var gCe=pCe,vCe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function xCe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function nj(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(vCe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!fCe(e[n],t[n]))return!1}else if(!xCe(e[n],t[n]))return!1;return!0}var yCe=["id"],wCe=["type","layout","connectNulls","needClip","shape"],bCe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(null,arguments)}function V8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(r),!0).forEach(function(n){_Ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ce(e,t,r){return(t=jCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jCe(e){var t=SCe(e,"string");return typeof t=="symbol"?t:t+""}function SCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uP(e,t){if(e==null)return{};var r,n,i=NCe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kCe=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Bp(r,t),payload:e}]},ECe=p.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:l,unit:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r,getPosition:vh,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Bp(o,t),hide:l,type:u,color:n,unit:c,graphicalItemId:d}};return p.createElement(iP,{tooltipEntrySettings:f})}),DK=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function CCe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var ACe=(e,t,r)=>{var n=r.reduce((h,v)=>h+v);if(!n)return DK(t,e);for(var i=Math.floor(e/n),a=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=(d=r[c])!==null&&d!==void 0?d:0,++c){var d,f=r[c];if(f!=null&&u+f>a){l=[...r.slice(0,c),a-u];break}}var m=l.length%2===0?[0,o]:[o];return[...CCe(r,i),...l,...m].map(h=>"".concat(h,"px")).join(", ")};function PCe(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:o}=n,{id:l}=n,c=uP(n,yCe),u=Xs(c);return p.createElement(h4e,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:o,clipPathId:t})}function TCe(e){var{showLabels:t,children:r,points:n}=e,i=p.useMemo(()=>n==null?void 0:n.map(a=>{var o,l,c={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ql(ql({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return p.createElement(aK,{value:t?i:void 0},r)}function G8(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:o,layout:l,connectNulls:c,needClip:u,shape:d}=a,f=uP(a,wCe),m=ql(ql({},Ja(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return p.createElement(p.Fragment,null,(n==null?void 0:n.length)>1&&p.createElement(eP,jv({shapeType:"curve",option:d},m,{pathRef:r})),p.createElement(PCe,{points:n,clipPathId:t,props:a}))}function OCe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function RCe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:m,width:h,height:v,onAnimationEnd:g,onAnimationStart:x}=r,y=i.current,w=ox(o,"recharts-line-"),_=p.useRef(w),[b,N]=p.useState(!1),C=!b,S=p.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),A=p.useCallback(()=>{typeof x=="function"&&x(),N(!0)},[x]),k=OCe(n.current),R=p.useRef(0);_.current!==w&&(R.current=a.current,_.current=w);var O=R.current;return p.createElement(TCe,{points:o,showLabels:C},r.children,p.createElement(sx,{animationId:w,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:S,onAnimationStart:A,key:w},L=>{var U=An(O,k+O,L),q=Math.min(U,k),Q;if(c)if(l){var ie="".concat(l).split(/[,\s]+/gim).map(X=>parseFloat(X));Q=ACe(q,k,ie)}else Q=DK(k,q);else Q=l==null?void 0:String(l);if(L>0&&k>0&&(i.current=o,a.current=Math.max(a.current,q)),y){var z=y.length/o.length,H=L===1?o:o.map((X,pe)=>{var xe=Math.floor(pe*z);if(y[xe]){var D=y[xe];return ql(ql({},X),{},{x:An(D.x,X.x,L),y:An(D.y,X.y,L)})}return m?ql(ql({},X),{},{x:An(h*2,X.x,L),y:An(v/2,X.y,L)}):ql(ql({},X),{},{x:X.x,y:X.y})});return i.current=H,p.createElement(G8,{props:r,points:H,clipPathId:t,pathRef:n,strokeDasharray:Q})}return p.createElement(G8,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:Q})}),p.createElement(K3,{label:r.label}))}function ICe(e){var{clipPathId:t,props:r}=e,n=p.useRef(null),i=p.useRef(0),a=p.useRef(null);return p.createElement(RCe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var DCe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:sn(e.payload,t)}};class LCe extends p.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:o,top:l,left:c,width:u,height:d,id:f,needClip:m,zIndex:h}=this.props;if(t)return null;var v=Er("recharts-line",i),g=f,{r:x,strokeWidth:y}=KEe(r),w=pK(r),_=x*2+y,b=m?"url(#clipPath-".concat(w?"":"dots-").concat(g,")"):void 0;return p.createElement(ws,{zIndex:h},p.createElement(ta,{className:v},m&&p.createElement("defs",null,p.createElement(PK,{clipPathId:g,xAxisId:a,yAxisId:o}),!w&&p.createElement("clipPath",{id:"clipPath-dots-".concat(g)},p.createElement("rect",{x:c-_/2,y:l-_/2,width:u+_,height:d+_}))),p.createElement(AK,{xAxisId:a,yAxisId:o,data:n,dataPointFormatter:DCe,errorBarOffset:0},p.createElement(ICe,{props:this.props,clipPathId:g}))),p.createElement(R4e,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:b}))}}var LK={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:yi.line,type:"linear"};function MCe(e){var t=ji(e,LK),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:m,xAxisId:h,yAxisId:v,id:g}=t,x=uP(t,bCe),{needClip:y}=cP(h,v),w=sP(),_=xh(),b=Fa(),N=Ot(R=>GEe(R,h,v,b,g));if(_!=="horizontal"&&_!=="vertical"||N==null||w==null)return null;var{height:C,width:S,x:A,y:k}=w;return p.createElement(LCe,jv({},x,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:m,xAxisId:h,yAxisId:v,points:N,layout:_,height:C,width:S,left:A,top:k,needClip:y}))}function FCe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=sn(u,o);if(t==="horizontal"){var m=GR({axis:r,ticks:i,bandSize:l,entry:u,index:d}),h=Ln(f)?null:n.scale.map(f);return{x:m,y:h??null,value:f,payload:u}}var v=Ln(f)?null:r.scale.map(f),g=GR({axis:n,ticks:a,bandSize:l,entry:u,index:d});return v==null||g==null?null:{x:v,y:g,value:f,payload:u}}).filter(Boolean)}function $Ce(e){var t=ji(e,LK),r=Fa();return p.createElement(aP,{id:t.id,type:"line"},n=>p.createElement(p.Fragment,null,p.createElement(vK,{legendPayload:kCe(t)}),p.createElement(ECe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),p.createElement(yK,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),p.createElement(MCe,jv({},t,{id:n}))))}var j4=p.memo($Ce,nj);j4.displayName="Line";function bh(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:bK}function _h(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:bK}var BCe="Invariant failed";function UCe(e,t){throw new Error(BCe)}function S4(){return S4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S4.apply(null,arguments)}function Tb(e){return p.createElement(eP,S4({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var zCe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(kt(t))return t;var a=kt(n)||Ln(n);return a?t(n,i):(a||UCe(),r)}},WCe=(e,t,r)=>r,HCe=(e,t)=>t,bx=Re([M_,HCe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),qCe=Re([bx],e=>e==null?void 0:e.maxBarSize),VCe=(e,t,r,n)=>n,GCe=Re([Mr,M_,bh,_h,WCe],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),KCe=(e,t,r)=>{var n=Mr(e),i=bh(e,t),a=_h(e,t);if(!(i==null||a==null))return n==="horizontal"?p4(e,"yAxis",a,r):p4(e,"xAxis",i,r)},YCe=(e,t)=>{var r=Mr(e),n=bh(e,t),i=_h(e,t);if(!(n==null||i==null))return r==="horizontal"?UD(e,"xAxis",n):UD(e,"yAxis",i)},XCe=Re([GCe,p_e,YCe],I4e),JCe=(e,t,r)=>{var n,i,a=bx(e,t);if(a==null)return 0;var o=bh(e,t),l=_h(e,t);if(o==null||l==null)return 0;var c=Mr(e),u=IV(e),{maxBarSize:d}=a,f=Ln(d)?u:d,m,h;return c==="horizontal"?(m=Cd(e,"xAxis",o,r),h=Ed(e,"xAxis",o,r)):(m=Cd(e,"yAxis",l,r),h=Ed(e,"yAxis",l,r)),(n=(i=gp(m,h,!0))!==null&&i!==void 0?i:f)!==null&&n!==void 0?n:0},MK=(e,t,r)=>{var n=Mr(e),i=bh(e,t),a=_h(e,t);if(!(i==null||a==null)){var o,l;return n==="horizontal"?(o=Cd(e,"xAxis",i,r),l=Ed(e,"xAxis",i,r)):(o=Cd(e,"yAxis",a,r),l=Ed(e,"yAxis",a,r)),gp(o,l)}},ZCe=Re([XCe,IV,m_e,DV,JCe,MK,qCe],$4e),QCe=(e,t,r)=>{var n=bh(e,t);if(n!=null)return Cd(e,"xAxis",n,r)},eAe=(e,t,r)=>{var n=_h(e,t);if(n!=null)return Cd(e,"yAxis",n,r)},tAe=(e,t,r)=>{var n=bh(e,t);if(n!=null)return Ed(e,"xAxis",n,r)},rAe=(e,t,r)=>{var n=_h(e,t);if(n!=null)return Ed(e,"yAxis",n,r)},nAe=Re([ZCe,bx],U4e),iAe=Re([KCe,bx],B4e),aAe=Re([$i,CA,QCe,eAe,tAe,rAe,nAe,Mr,s_e,MK,iAe,bx,VCe],(e,t,r,n,i,a,o,l,c,u,d,f,m)=>{var{chartData:h,dataStartIndex:v,dataEndIndex:g}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:x}=f,y;if(x!=null&&x.length>0?y=x:y=h==null?void 0:h.slice(v,g+1),y!=null)return RAe({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:y,offset:e,cells:m,dataStartIndex:v})}}),sAe=["index"];function N4(){return N4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N4.apply(null,arguments)}function oAe(e,t){if(e==null)return{};var r,n,i=lAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FK=p.createContext(void 0),cAe=e=>{var t=p.useContext(FK);if(t!=null)return t.stackId;if(e!=null)return lye(e)},uAe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),dAe=e=>{var t=p.useContext(FK);if(t!=null){var{stackId:r}=t;return"url(#".concat(uAe(r,e),")")}},$K=e=>{var{index:t}=e,r=oAe(e,sAe),n=dAe(t);return p.createElement(ta,N4({className:"recharts-bar-stack-layer",clipPath:n},r))},fAe=["onMouseEnter","onMouseLeave","onClick"],hAe=["value","background","tooltipPosition"],mAe=["id"],pAe=["onMouseEnter","onClick","onMouseLeave"];function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(null,arguments)}function K8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(r),!0).forEach(function(n){gAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gAe(e,t,r){return(t=vAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vAe(e){var t=xAe(e,"string");return typeof t=="symbol"?t:t+""}function xAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ob(e,t){if(e==null)return{};var r,n,i=yAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wAe=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Bp(r,t),payload:e}]},bAe=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:vh,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Bp(a,t),hide:o,type:c,color:i,unit:l,graphicalItemId:u}};return p.createElement(iP,{tooltipEntrySettings:d})});function _Ae(e){var t=Ot(Ad),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=a,u=Ob(a,fAe),d=tP(o,n,a.id),f=rP(l),m=nP(c,n,a.id);if(!i||r==null)return null;var h=Xf(i);return p.createElement(ws,{zIndex:z4e(i,yi.barBackground)},r.map((v,g)=>{var{value:x,background:y,tooltipPosition:w}=v,_=Ob(v,hAe);if(!y)return null;var b=d(v,g),N=f(v,g),C=m(v,g),S=Va(Va(Va(Va(Va({option:i,isActive:String(g)===t},_),{},{fill:"#eee"},y),h),ex(u,v,g)),{},{onMouseEnter:b,onMouseLeave:N,onClick:C,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return p.createElement(Tb,lu({key:"background-bar-".concat(g)},S))}))}function jAe(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Va(Va({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return p.createElement(aK,{value:t?i:void 0},r)}function SAe(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,l=Ot(Ad),c=Ot(U3),u=r&&String(a)===l&&(c==null||o===c),d=u?r:t;return u?p.createElement(ws,{zIndex:yi.activeBar},p.createElement($K,{index:a},p.createElement(Tb,lu({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:o})))):p.createElement(Tb,lu({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:o}))}function NAe(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return p.createElement(Tb,lu({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function kAe(e){var t,{data:r,props:n}=e,i=(t=Xs(n))!==null&&t!==void 0?t:{},{id:a}=i,o=Ob(i,mAe),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:m}=n,h=Ob(n,pAe),v=tP(d,c,a),g=rP(m),x=nP(f,c,a);return r?p.createElement(p.Fragment,null,r.map((y,w)=>p.createElement($K,lu({index:w,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(w),className:"recharts-bar-rectangle"},ex(h,y,w),{onMouseEnter:v(y,w),onMouseLeave:g(y,w),onClick:x(y,w)}),u?p.createElement(SAe,{shape:l,activeBar:u,baseProps:o,entry:y,index:w,dataKey:c}):p.createElement(NAe,{shape:l,baseProps:o,entry:y,index:w,dataKey:c})))):null}function EAe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=ox(t,"recharts-bar-"),[h,v]=p.useState(!1),g=!h,x=p.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),y=p.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return p.createElement(jAe,{showLabels:g,rects:n},p.createElement(sx,{animationId:m,begin:o,duration:l,isActive:a,easing:c,onAnimationEnd:x,onAnimationStart:y,key:m},w=>{var _=w===1?n:n==null?void 0:n.map((b,N)=>{var C=f&&f[N];if(C)return Va(Va({},b),{},{x:An(C.x,b.x,w),y:An(C.y,b.y,w),width:An(C.width,b.width,w),height:An(C.height,b.height,w)});if(i==="horizontal"){var S=An(0,b.height,w),A=An(b.stackedBarStart,b.y,w);return Va(Va({},b),{},{y:A,height:S})}var k=An(0,b.width,w),R=An(b.stackedBarStart,b.x,w);return Va(Va({},b),{},{width:k,x:R})});return w>0&&(r.current=_??null),_==null?null:p.createElement(ta,null,p.createElement(kAe,{props:t,data:_}))}),p.createElement(K3,{label:t.label}),t.children)}function CAe(e){var t=p.useRef(null);return p.createElement(EAe,{previousRectanglesRef:t,props:e})}var BK=0,AAe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:sn(e,t)}};class PAe extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Er("recharts-bar",i),f=u;return p.createElement(ta,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(PK,{clipPathId:f,xAxisId:a,yAxisId:o})),p.createElement(ta,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(_Ae,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(CAe,this.props)))}}var TAe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:BK,xAxisId:0,yAxisId:0,zIndex:yi.bar};function OAe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=cP(t,r),m=xh(),h=Fa(),v=Q3(e.children,yx),g=Ot(w=>aAe(w,e.id,h,v));if(m!=="vertical"&&m!=="horizontal")return null;var x,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?x=0:x=m==="vertical"?y.height/2:y.width/2,p.createElement(AK,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:AAe,errorBarOffset:x},p.createElement(PAe,lu({},e,{layout:m,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function RAe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:h,parentViewBox:v,dataStartIndex:g}=e,x=t==="horizontal"?l:o,y=d?x.scale.domain():null,w=cye({numericAxis:x}),_=x.scale.map(w);return f.map((b,N)=>{var C,S,A,k,R,O;if(d){var L=d[N+g];if(L==null)return null;C=nye(L,y)}else C=sn(b,r),Array.isArray(C)||(C=[w,C]);var U=zCe(n,BK)(C[1],N);if(t==="horizontal"){var q,Q=l.scale.map(C[0]),ie=l.scale.map(C[1]);if(Q==null||ie==null)return null;S=KR({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:b,index:N}),A=(q=ie??Q)!==null&&q!==void 0?q:void 0,k=i.size;var z=Q-ie;if(R=nc(z)?0:z,O={x:S,y:m.top,width:k,height:m.height},Math.abs(U)>0&&Math.abs(R)<Math.abs(U)){var H=Yi(R||U)*(Math.abs(U)-Math.abs(R));A-=H,R+=H}}else{var X=o.scale.map(C[0]),pe=o.scale.map(C[1]);if(X==null||pe==null)return null;if(S=X,A=KR({axis:l,ticks:u,bandSize:a,offset:i.offset,entry:b,index:N}),k=pe-X,R=i.size,O={x:m.left,y:A,width:m.width,height:R},Math.abs(U)>0&&Math.abs(k)<Math.abs(U)){var xe=Yi(k||U)*(Math.abs(U)-Math.abs(k));k+=xe}}if(S==null||A==null||k==null||R==null)return null;var D=Va(Va({},b),{},{stackedBarStart:_,x:S,y:A,width:k,height:R,value:d?C:C[1],payload:b,background:O,tooltipPosition:{x:S+k/2,y:A+R/2},parentViewBox:v},h&&h[N]&&h[N].props);return D}).filter(Boolean)}function IAe(e){var t=ji(e,TAe),r=cAe(t.stackId),n=Fa();return p.createElement(aP,{id:t.id,type:"bar"},i=>p.createElement(p.Fragment,null,p.createElement(vK,{legendPayload:wAe(t)}),p.createElement(bAe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),p.createElement(yK,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(ws,{zIndex:t.zIndex},p.createElement(OAe,lu({},t,{id:i})))))}var k4=p.memo(IAe,nj);k4.displayName="Bar";var DAe=["domain","range"],LAe=["domain","range"];function Y8(e,t){if(e==null)return{};var r,n,i=MAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function X8(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function UK(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=Y8(e,DAe),{domain:a,range:o}=t,l=Y8(t,LAe);return!X8(r,a)||!X8(n,o)?!1:nj(i,l)}var FAe=["type"],$Ae=["dangerouslySetInnerHTML","ticks","scale"],BAe=["id","scale"];function E4(){return E4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E4.apply(null,arguments)}function J8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J8(Object(r),!0).forEach(function(n){UAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UAe(e,t,r){return(t=zAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zAe(e){var t=WAe(e,"string");return typeof t=="symbol"?t:t+""}function WAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C4(e,t){if(e==null)return{};var r,n,i=HAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qAe(e){var t=xn(),r=p.useRef(null),n=xq(),{type:i}=e,a=C4(e,FAe),o=O_(n,"xAxis",i),l=p.useMemo(()=>{if(o!=null)return Z8(Z8({},a),{},{type:o})},[a,o]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(x4e(l)):r.current!==l&&t(y4e({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(w4e(r.current)),r.current=null)},[t]),null}var VAe=e=>{var{xAxisId:t,className:r}=e,n=Ot(CA),i=Fa(),a="xAxis",o=Ot(y=>mG(y,a,t,i)),l=Ot(y=>uG(y,t)),c=Ot(y=>pje(y,t)),u=Ot(y=>qV(y,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:m}=e,h=C4(e,$Ae),{id:v,scale:g}=u,x=C4(u,BAe);return p.createElement(lP,E4({},h,x,{x:c.x,y:c.y,width:l.width,height:l.height,className:Er("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},GAe={allowDataOverflow:Wi.allowDataOverflow,allowDecimals:Wi.allowDecimals,allowDuplicatedCategory:Wi.allowDuplicatedCategory,angle:Wi.angle,axisLine:qc.axisLine,height:Wi.height,hide:!1,includeHidden:Wi.includeHidden,interval:Wi.interval,label:!1,minTickGap:Wi.minTickGap,mirror:Wi.mirror,orientation:Wi.orientation,padding:Wi.padding,reversed:Wi.reversed,scale:Wi.scale,tick:Wi.tick,tickCount:Wi.tickCount,tickLine:qc.tickLine,tickSize:qc.tickSize,type:Wi.type,xAxisId:0},KAe=e=>{var t=ji(e,GAe);return p.createElement(p.Fragment,null,p.createElement(qAe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(VAe,t))},A4=p.memo(KAe,UK);A4.displayName="XAxis";var YAe=["type"],XAe=["dangerouslySetInnerHTML","ticks","scale"],JAe=["id","scale"];function P4(){return P4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P4.apply(null,arguments)}function Q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q8(Object(r),!0).forEach(function(n){ZAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZAe(e,t,r){return(t=QAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QAe(e){var t=e3e(e,"string");return typeof t=="symbol"?t:t+""}function e3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T4(e,t){if(e==null)return{};var r,n,i=t3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function t3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function r3e(e){var t=xn(),r=p.useRef(null),n=xq(),{type:i}=e,a=T4(e,YAe),o=O_(n,"yAxis",i),l=p.useMemo(()=>{if(o!=null)return eL(eL({},a),{},{type:o})},[o,a]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(b4e(l)):r.current!==l&&t(_4e({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(j4e(r.current)),r.current=null)},[t]),null}function n3e(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=p.useRef(null),o=p.useRef(null),l=Ot(CA),c=Fa(),u=xn(),d="yAxis",f=Ot(C=>dG(C,t)),m=Ot(C=>vje(C,t)),h=Ot(C=>mG(C,d,t,c)),v=Ot(C=>VV(C,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!f||G3(i)||p.isValidElement(i)||v==null)){var C=a.current;if(C){var S=C.getCalculatedWidth();Math.round(f.width)!==Math.round(S)&&u(S4e({id:t,width:S}))}}},[h,f,u,i,t,n,v]),f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:g,ticks:x,scale:y}=e,w=T4(e,XAe),{id:_,scale:b}=v,N=T4(v,JAe);return p.createElement(lP,P4({},w,N,{ref:a,labelRef:o,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Er("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:h,axisType:d}))}var i3e={allowDataOverflow:Hi.allowDataOverflow,allowDecimals:Hi.allowDecimals,allowDuplicatedCategory:Hi.allowDuplicatedCategory,angle:Hi.angle,axisLine:qc.axisLine,hide:!1,includeHidden:Hi.includeHidden,interval:Hi.interval,label:!1,minTickGap:Hi.minTickGap,mirror:Hi.mirror,orientation:Hi.orientation,padding:Hi.padding,reversed:Hi.reversed,scale:Hi.scale,tick:Hi.tick,tickCount:Hi.tickCount,tickLine:qc.tickLine,tickSize:qc.tickSize,type:Hi.type,width:Hi.width,yAxisId:0},a3e=e=>{var t=ji(e,i3e);return p.createElement(p.Fragment,null,p.createElement(r3e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(n3e,t))},O4=p.memo(a3e,UK);O4.displayName="YAxis";var s3e=(e,t)=>t,dP=Re([s3e,Mr,zV,ia,TG,_u,RSe,$i],BSe),fP=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},zK=Eo("mouseClick"),WK=rx();WK.startListening({actionCreator:zK,effect:(e,t)=>{var r=e.payload,n=dP(t.getState(),fP(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Tje({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var R4=Eo("mouseMove"),HK=rx(),r1=null;HK.startListening({actionCreator:R4,effect:(e,t)=>{var r=e.payload;r1!==null&&cancelAnimationFrame(r1);var n=fP(r);r1=requestAnimationFrame(()=>{var i=t.getState(),a=D3(i,i.tooltip.settings.shared);if(a==="axis"){var o=dP(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(_G({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(bG())}r1=null})}});function o3e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var tL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},qK=ys({name:"rootProps",initialState:tL,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:tL.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),l3e=qK.reducer,{updateOptions:c3e}=qK.actions,u3e=null,d3e={updatePolarOptions:(e,t)=>t.payload},VK=ys({name:"polarOptions",initialState:u3e,reducers:d3e}),{updatePolarOptions:f3e}=VK.actions,h3e=VK.reducer,GK=Eo("keyDown"),KK=Eo("focus"),hP=rx();hP.startListening({actionCreator:GK,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=L3(i,Yp(r),px(r),vx(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=_u(r);if(a==="Enter"){var u=Nb(r,"axis","hover",String(i.index));t.dispatch(v4({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=bje(r),f=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,h=l+m*f;if(!(c==null||h>=c.length||h<0)){var v=Nb(r,"axis","hover",String(h));t.dispatch(v4({active:!0,activeIndex:h.toString(),activeCoordinate:v}))}}}}}});hP.startListening({actionCreator:KK,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Nb(r,"axis","hover",String(a));t.dispatch(v4({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ho=Eo("externalEvent"),YK=rx(),N5=new Map;YK.startListening({actionCreator:ho,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=N5.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:vSe(l),activeDataKey:U3(l),activeIndex:Ad(l),activeLabel:IG(l),activeTooltipIndex:Ad(l),isTooltipActive:xSe(l)};r(c,n)}finally{N5.delete(i)}});N5.set(i,o)}}});var m3e=Re([Gp],e=>e.tooltipItemPayloads),p3e=Re([m3e,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),XK=Eo("touchMove"),JK=rx();JK.startListening({actionCreator:XK,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=D3(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var o=dP(n,fP({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(_G({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(cq),f=(l=u.getAttribute(uq))!==null&&l!==void 0?l:void 0,m=Kp(n).find(g=>g.id===f);if(d==null||m==null||f==null)return;var{dataKey:h}=m,v=p3e(n,d,f);t.dispatch(wG({activeDataKey:h,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var g3e=TH({brush:W4e,cartesianAxis:N4e,chartData:g5e,errorBars:MEe,graphicalItems:Oke,layout:Zxe,legend:t1e,options:d5e,polarAxis:KNe,polarOptions:h3e,referenceElements:G4e,rootProps:l3e,tooltip:Oje,zIndex:e5e}),v3e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return jxe({reducer:g3e,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([WK.middleware,HK.middleware,hP.middleware,YK.middleware,JK.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(VH({type:"raf"}))},devTools:{serialize:{replacer:o3e},name:"recharts-".concat(r)}})};function ZK(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Fa(),a=p.useRef(null);if(i)return r;a.current==null&&(a.current=v3e(t,n));var o=yA;return p.createElement(gCe,{context:o,store:a.current},r)}function x3e(e){var{layout:t,margin:r}=e,n=xn(),i=Fa();return p.useEffect(()=>{i||(n(Yxe(t)),n(Kxe(r)))},[n,i,t,r]),null}var QK=p.memo(x3e,nj);function eY(e){var t=xn();return p.useEffect(()=>{t(c3e(e))},[t,e]),null}function rL(e){var{zIndex:t,isPanorama:r}=e,n=p.useRef(null),i=xn();return p.useLayoutEffect(()=>(n.current&&i(ZSe({zIndex:t,element:n.current,isPanorama:r})),()=>{i(QSe({zIndex:t,isPanorama:r}))}),[i,t,r]),p.createElement("g",{tabIndex:-1,ref:n})}function nL(e){var{children:t,isPanorama:r}=e,n=Ot(zSe);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return p.createElement(p.Fragment,null,i.map(o=>p.createElement(rL,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>p.createElement(rL,{key:o,zIndex:o,isPanorama:r})))}var y3e=["children"];function w3e(e,t){if(e==null)return{};var r,n,i=b3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(null,arguments)}var _3e={width:"100%",height:"100%",display:"block"},j3e=p.forwardRef((e,t)=>{var r=TA(),n=OA(),i=Pq();if(!ac(r)||!ac(n))return null;var{children:a,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0),p.createElement(iA,Rb({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:_3e,ref:t}),a)}),S3e=e=>{var{children:t}=e,r=Ot(x_);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return p.createElement(iA,{width:n,height:i,x:o,y:a},t)},iL=p.forwardRef((e,t)=>{var{children:r}=e,n=w3e(e,y3e),i=Fa();return i?p.createElement(S3e,null,p.createElement(nL,{isPanorama:!0},r)):p.createElement(j3e,Rb({ref:t},n),p.createElement(nL,{isPanorama:!1},r))});function N3e(){var e=xn(),[t,r]=p.useState(null),n=Ot(pye);return p.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;jr(a)&&a!==n&&e(Jxe(a))}},[t,e,n]),r}function aL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k3e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(r),!0).forEach(function(n){E3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E3e(e,t,r){return(t=C3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C3e(e){var t=A3e(e,"string");return typeof t=="symbol"?t:t+""}function A3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(null,arguments)}var P3e=()=>(N5e(),null);function Ib(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var T3e=p.forwardRef((e,t)=>{var r,n,i=p.useRef(null),[a,o]=p.useState({containerWidth:Ib((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Ib((n=e.style)===null||n===void 0?void 0:n.height)}),l=p.useCallback((u,d)=>{o(f=>{var m=Math.round(u),h=Math.round(d);return f.containerWidth===m&&f.containerHeight===h?f:{containerWidth:m,containerHeight:h}})},[]),c=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var m=v=>{var g=v[0];if(g!=null){var{width:x,height:y}=g.contentRect;l(x,y)}},h=new ResizeObserver(m);h.observe(u),i.current=h}},[t,l]);return p.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[l]),p.createElement(p.Fragment,null,p.createElement(ix,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",wd({ref:c},e)))}),O3e=p.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=p.useState({containerWidth:Ib(r),containerHeight:Ib(n)}),o=p.useCallback((c,u)=>{a(d=>{var f=Math.round(c),m=Math.round(u);return d.containerWidth===f&&d.containerHeight===m?d:{containerWidth:f,containerHeight:m}})},[]),l=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(ix,{width:i.containerWidth,height:i.containerHeight}),p.createElement("div",wd({ref:l},e)))}),R3e=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return p.createElement(p.Fragment,null,p.createElement(ix,{width:r,height:n}),p.createElement("div",wd({ref:t},e)))}),I3e=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?p.createElement(O3e,wd({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?p.createElement(R3e,wd({},e,{width:r,height:n,ref:t})):p.createElement(p.Fragment,null,p.createElement(ix,{width:r,height:n}),p.createElement("div",wd({ref:t},e)))});function D3e(e){return e?T3e:I3e}var L3e=p.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:v,onTouchStart:g,style:x,width:y,responsive:w,dispatchTouchEvents:_=!0}=e,b=p.useRef(null),N=xn(),[C,S]=p.useState(null),[A,k]=p.useState(null),R=N3e(),O=AA(),L=(O==null?void 0:O.width)>0?O.width:y,U=(O==null?void 0:O.height)>0?O.height:i,q=p.useCallback(Y=>{R(Y),typeof t=="function"&&t(Y),S(Y),k(Y),Y!=null&&(b.current=Y)},[R,t,S,k]),Q=p.useCallback(Y=>{N(zK(Y)),N(ho({handler:a,reactEvent:Y}))},[N,a]),ie=p.useCallback(Y=>{N(R4(Y)),N(ho({handler:u,reactEvent:Y}))},[N,u]),z=p.useCallback(Y=>{N(bG()),N(ho({handler:d,reactEvent:Y}))},[N,d]),H=p.useCallback(Y=>{N(R4(Y)),N(ho({handler:f,reactEvent:Y}))},[N,f]),X=p.useCallback(()=>{N(KK())},[N]),pe=p.useCallback(Y=>{N(GK(Y.key))},[N]),xe=p.useCallback(Y=>{N(ho({handler:o,reactEvent:Y}))},[N,o]),D=p.useCallback(Y=>{N(ho({handler:l,reactEvent:Y}))},[N,l]),M=p.useCallback(Y=>{N(ho({handler:c,reactEvent:Y}))},[N,c]),T=p.useCallback(Y=>{N(ho({handler:m,reactEvent:Y}))},[N,m]),V=p.useCallback(Y=>{N(ho({handler:g,reactEvent:Y}))},[N,g]),F=p.useCallback(Y=>{_&&N(XK(Y)),N(ho({handler:v,reactEvent:Y}))},[N,_,v]),W=p.useCallback(Y=>{N(ho({handler:h,reactEvent:Y}))},[N,h]),te=D3e(w);return p.createElement(UG.Provider,{value:C},p.createElement(OW.Provider,{value:A},p.createElement(te,{width:L??(x==null?void 0:x.width),height:U??(x==null?void 0:x.height),className:Er("recharts-wrapper",n),style:k3e({position:"relative",cursor:"default",width:L,height:U},x),onClick:Q,onContextMenu:xe,onDoubleClick:D,onFocus:X,onKeyDown:pe,onMouseDown:M,onMouseEnter:ie,onMouseLeave:z,onMouseMove:H,onMouseUp:T,onTouchEnd:W,onTouchMove:F,onTouchStart:V,ref:q},p.createElement(P3e,null),r)))}),M3e=["width","height","responsive","children","className","style","compact","title","desc"];function F3e(e,t){if(e==null)return{};var r,n,i=$3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tY=p.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:l,compact:c,title:u,desc:d}=e,f=F3e(e,M3e),m=Xs(f);return c?p.createElement(p.Fragment,null,p.createElement(ix,{width:r,height:n}),p.createElement(iL,{otherAttributes:m,title:u,desc:d},a)):p.createElement(L3e,{className:o,style:l,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(iL,{otherAttributes:m,title:u,desc:d,ref:t},p.createElement(Y4e,null,a)))});function I4(){return I4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I4.apply(null,arguments)}var B3e={top:5,right:5,bottom:5,left:5},U3e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:B3e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},rY=p.forwardRef(function(t,r){var n,i=ji(t.categoricalChartProps,U3e),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return p.createElement(ZK,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},p.createElement(jK,{chartData:u.data}),p.createElement(QK,{layout:i.layout,margin:i.margin}),p.createElement(eY,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),p.createElement(tY,I4({},i,{ref:r})))}),z3e=["axis"],W3e=p.forwardRef((e,t)=>p.createElement(rY,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:z3e,tooltipPayloadSearcher:V3,categoricalChartProps:e,ref:t})),H3e=["axis","item"],q3e=p.forwardRef((e,t)=>p.createElement(rY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:H3e,tooltipPayloadSearcher:V3,categoricalChartProps:e,ref:t}));function V3e(e){var t=xn();return p.useEffect(()=>{t(f3e(e))},[t,e]),null}var G3e=["layout"];function D4(){return D4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D4.apply(null,arguments)}function K3e(e,t){if(e==null)return{};var r,n,i=Y3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Y3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var X3e={top:5,right:5,bottom:5,left:5},nY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:X3e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},J3e=p.forwardRef(function(t,r){var n,i=ji(t.categoricalChartProps,nY),{layout:a}=i,o=K3e(i,G3e),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return p.createElement(ZK,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:l},p.createElement(jK,{chartData:i.data}),p.createElement(QK,{layout:a,margin:i.margin}),p.createElement(eY,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),p.createElement(V3e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),p.createElement(tY,D4({},o,{ref:r})))});function sL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(r),!0).forEach(function(n){Z3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z3e(e,t,r){return(t=Q3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3e(e){var t=ePe(e,"string");return typeof t=="symbol"?t:t+""}function ePe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tPe=["item"],rPe=oL(oL({},nY),{},{layout:"centric",startAngle:0,endAngle:360}),nPe=p.forwardRef((e,t)=>{var r=ji(e,rPe);return p.createElement(J3e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:tPe,tooltipPayloadSearcher:V3,categoricalChartProps:r,ref:t})});function iPe(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,aPe(i,...t)]}function aPe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function iY(e){const t=sPe(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(lPe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function sPe(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=uPe(i),l=cPe(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oPe=Symbol("radix.slottable");function lPe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oPe}function cPe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function uPe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dPe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ro=dPe.reduce((e,t)=>{const r=iY(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function mP(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fPe=[" ","Enter","ArrowUp","ArrowDown"],hPe=[" ","Enter"],ah="Select",[ij,aj,mPe]=B2(ah),[Xp]=iPe(ah,[mPe,Fp]),sj=Fp(),[pPe,Hd]=Xp(ah),[gPe,vPe]=Xp(ah),aY=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:h,form:v}=e,g=sj(t),[x,y]=p.useState(null),[w,_]=p.useState(null),[b,N]=p.useState(!1),C=Gv(u),[S,A]=xl({prop:n,defaultProp:i??!1,onChange:a,caller:ah}),[k,R]=xl({prop:o,defaultProp:l,onChange:c,caller:ah}),O=p.useRef(null),L=x?v||!!x.closest("form"):!0,[U,q]=p.useState(new Set),Q=Array.from(U).map(ie=>ie.props.value).join(";");return s.jsx(RC,{...g,children:s.jsxs(pPe,{required:h,scope:t,trigger:x,onTriggerChange:y,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:jo(),value:k,onValueChange:R,open:S,onOpenChange:A,dir:C,triggerPointerDownPosRef:O,disabled:m,children:[s.jsx(ij.Provider,{scope:t,children:s.jsx(gPe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(ie=>{q(z=>new Set(z).add(ie))},[]),onNativeOptionRemove:p.useCallback(ie=>{q(z=>{const H=new Set(z);return H.delete(ie),H})},[]),children:r})}),L?s.jsxs(PY,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:ie=>R(ie.target.value),disabled:m,form:v,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},Q):null]})})};aY.displayName=ah;var sY="SelectTrigger",oY=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=sj(r),o=Hd(sY,r),l=o.disabled||n,c=hr(t,o.onTriggerChange),u=aj(r),d=p.useRef("touch"),[f,m,h]=OY(g=>{const x=u().filter(_=>!_.disabled),y=x.find(_=>_.value===o.value),w=RY(x,g,y);w!==void 0&&o.onValueChange(w.value)}),v=g=>{l||(o.onOpenChange(!0),h()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(IC,{asChild:!0,...a,children:s.jsx(ro.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TY(o.value)?"":void 0,...i,ref:c,onClick:ut(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:ut(i.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:ut(i.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(x&&g.key===" ")&&fPe.includes(g.key)&&(v(),g.preventDefault())})})})});oY.displayName=sY;var lY="SelectValue",cY=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=e,c=Hd(lY,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=hr(t,c.onValueNodeChange);return Qn(()=>{u(d)},[u,d]),s.jsx(ro.span,{...l,ref:f,style:{pointerEvents:"none"},children:TY(c.value)?s.jsx(s.Fragment,{children:o}):a})});cY.displayName=lY;var xPe="SelectIcon",uY=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(ro.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});uY.displayName=xPe;var yPe="SelectPortal",dY=e=>s.jsx(Dp,{asChild:!0,...e});dY.displayName=yPe;var sh="SelectContent",fY=p.forwardRef((e,t)=>{const r=Hd(sh,e.__scopeSelect),[n,i]=p.useState();if(Qn(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Ro.createPortal(s.jsx(hY,{scope:e.__scopeSelect,children:s.jsx(ij.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(mY,{...e,ref:t})});fY.displayName=sh;var el=10,[hY,qd]=Xp(sh),wPe="SelectContentImpl",bPe=iY("SelectContent.RemoveScroll"),mY=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:v,hideWhenDetached:g,avoidCollisions:x,...y}=e,w=Hd(sh,r),[_,b]=p.useState(null),[N,C]=p.useState(null),S=hr(t,W=>b(W)),[A,k]=p.useState(null),[R,O]=p.useState(null),L=aj(r),[U,q]=p.useState(!1),Q=p.useRef(!1);p.useEffect(()=>{if(_)return wC(_)},[_]),yC();const ie=p.useCallback(W=>{const[te,...Y]=L().map(ve=>ve.ref.current),[oe]=Y.slice(-1),we=document.activeElement;for(const ve of W)if(ve===we||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===te&&N&&(N.scrollTop=0),ve===oe&&N&&(N.scrollTop=N.scrollHeight),ve==null||ve.focus(),document.activeElement!==we))return},[L,N]),z=p.useCallback(()=>ie([A,_]),[ie,A,_]);p.useEffect(()=>{U&&z()},[U,z]);const{onOpenChange:H,triggerPointerDownPosRef:X}=w;p.useEffect(()=>{if(_){let W={x:0,y:0};const te=oe=>{var we,ve;W={x:Math.abs(Math.round(oe.pageX)-(((we=X.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((ve=X.current)==null?void 0:ve.y)??0))}},Y=oe=>{W.x<=10&&W.y<=10?oe.preventDefault():_.contains(oe.target)||H(!1),document.removeEventListener("pointermove",te),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",Y,{capture:!0})}}},[_,H,X]),p.useEffect(()=>{const W=()=>H(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[H]);const[pe,xe]=OY(W=>{const te=L().filter(we=>!we.disabled),Y=te.find(we=>we.ref.current===document.activeElement),oe=RY(te,W,Y);oe&&setTimeout(()=>oe.ref.current.focus())}),D=p.useCallback((W,te,Y)=>{const oe=!Q.current&&!Y;(w.value!==void 0&&w.value===te||oe)&&(k(W),oe&&(Q.current=!0))},[w.value]),M=p.useCallback(()=>_==null?void 0:_.focus(),[_]),T=p.useCallback((W,te,Y)=>{const oe=!Q.current&&!Y;(w.value!==void 0&&w.value===te||oe)&&O(W)},[w.value]),V=n==="popper"?L4:pY,F=V===L4?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return s.jsx(hY,{scope:r,content:_,viewport:N,onViewportChange:C,itemRefCallback:D,selectedItem:A,onItemLeave:M,itemTextRefCallback:T,focusSelectedItem:z,selectedItemText:R,position:n,isPositioned:U,searchRef:pe,children:s.jsx(k2,{as:bPe,allowPinchZoom:!0,children:s.jsx(S2,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ut(i,W=>{var te;(te=w.trigger)==null||te.focus({preventScroll:!0}),W.preventDefault()}),children:s.jsx(Ip,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(V,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...y,...F,onPlaced:()=>q(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ut(y.onKeyDown,W=>{const te=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!te&&W.key.length===1&&xe(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let oe=L().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(W.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const we=W.target,ve=oe.indexOf(we);oe=oe.slice(ve+1)}setTimeout(()=>ie(oe)),W.preventDefault()}})})})})})})});mY.displayName=wPe;var _Pe="SelectItemAlignedPosition",pY=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Hd(sh,r),o=qd(sh,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=hr(t,S=>d(S)),m=aj(r),h=p.useRef(!1),v=p.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:w}=o,_=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&x&&y){const S=a.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(a.dir!=="rtl"){const we=R.left-A.left,ve=k.left-we,He=S.left-ve,ze=S.width+He,ne=Math.max(ze,A.width),Be=window.innerWidth-el,qe=Ck(ve,[el,Math.max(el,Be-ne)]);l.style.minWidth=ze+"px",l.style.left=qe+"px"}else{const we=A.right-R.right,ve=window.innerWidth-k.right-we,He=window.innerWidth-S.right-ve,ze=S.width+He,ne=Math.max(ze,A.width),Be=window.innerWidth-el,qe=Ck(ve,[el,Math.max(el,Be-ne)]);l.style.minWidth=ze+"px",l.style.right=qe+"px"}const O=m(),L=window.innerHeight-el*2,U=g.scrollHeight,q=window.getComputedStyle(u),Q=parseInt(q.borderTopWidth,10),ie=parseInt(q.paddingTop,10),z=parseInt(q.borderBottomWidth,10),H=parseInt(q.paddingBottom,10),X=Q+ie+U+H+z,pe=Math.min(x.offsetHeight*5,X),xe=window.getComputedStyle(g),D=parseInt(xe.paddingTop,10),M=parseInt(xe.paddingBottom,10),T=S.top+S.height/2-el,V=L-T,F=x.offsetHeight/2,W=x.offsetTop+F,te=Q+ie+W,Y=X-te;if(te<=T){const we=O.length>0&&x===O[O.length-1].ref.current;l.style.bottom="0px";const ve=u.clientHeight-g.offsetTop-g.offsetHeight,He=Math.max(V,F+(we?M:0)+ve+z),ze=te+He;l.style.height=ze+"px"}else{const we=O.length>0&&x===O[0].ref.current;l.style.top="0px";const He=Math.max(T,Q+g.offsetTop+(we?D:0)+F)+Y;l.style.height=He+"px",g.scrollTop=te-T+g.offsetTop}l.style.margin=`${el}px 0`,l.style.minHeight=pe+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[m,a.trigger,a.valueNode,l,u,g,x,y,a.dir,n]);Qn(()=>_(),[_]);const[b,N]=p.useState();Qn(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const C=p.useCallback(S=>{S&&v.current===!0&&(_(),w==null||w(),v.current=!1)},[_,w]);return s.jsx(SPe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:s.jsx(ro.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});pY.displayName=_Pe;var jPe="SelectPopperPosition",L4=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=el,...a}=e,o=sj(r);return s.jsx(DC,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});L4.displayName=jPe;var[SPe,pP]=Xp(sh,{}),M4="SelectViewport",gY=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=qd(M4,r),o=pP(M4,r),l=hr(t,a.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(ij.Slot,{scope:r,children:s.jsx(ro.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ut(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const v=window.innerHeight-el*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(g,x);if(y<v){const w=y+h,_=Math.min(v,w),b=w-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});gY.displayName=M4;var vY="SelectGroup",[NPe,kPe]=Xp(vY),xY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=jo();return s.jsx(NPe,{scope:r,id:i,children:s.jsx(ro.div,{role:"group","aria-labelledby":i,...n,ref:t})})});xY.displayName=vY;var yY="SelectLabel",wY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=kPe(yY,r);return s.jsx(ro.div,{id:i.id,...n,ref:t})});wY.displayName=yY;var Db="SelectItem",[EPe,bY]=Xp(Db),_Y=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,l=Hd(Db,r),c=qd(Db,r),u=l.value===n,[d,f]=p.useState(a??""),[m,h]=p.useState(!1),v=hr(t,w=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,w,n,i)}),g=jo(),x=p.useRef("touch"),y=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(EPe,{scope:r,value:n,disabled:i,textId:g,isSelected:u,onItemTextChange:p.useCallback(w=>{f(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:s.jsx(ij.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:s.jsx(ro.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:ut(o.onFocus,()=>h(!0)),onBlur:ut(o.onBlur,()=>h(!1)),onClick:ut(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ut(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ut(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:ut(o.onPointerMove,w=>{var _;x.current=w.pointerType,i?(_=c.onItemLeave)==null||_.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ut(o.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:ut(o.onKeyDown,w=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&w.key===" "||(hPe.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});_Y.displayName=Db;var og="SelectItemText",jY=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=Hd(og,r),l=qd(og,r),c=bY(og,r),u=vPe(og,r),[d,f]=p.useState(null),m=hr(t,y=>f(y),c.onItemTextChange,y=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,y,c.value,c.disabled)}),h=d==null?void 0:d.textContent,v=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return Qn(()=>(g(v),()=>x(v)),[g,x,v]),s.jsxs(s.Fragment,{children:[s.jsx(ro.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ro.createPortal(a.children,o.valueNode):null]})});jY.displayName=og;var SY="SelectItemIndicator",NY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return bY(SY,r).isSelected?s.jsx(ro.span,{"aria-hidden":!0,...n,ref:t}):null});NY.displayName=SY;var F4="SelectScrollUpButton",kY=p.forwardRef((e,t)=>{const r=qd(F4,e.__scopeSelect),n=pP(F4,e.__scopeSelect),[i,a]=p.useState(!1),o=hr(t,n.onScrollButtonChange);return Qn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(CY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kY.displayName=F4;var $4="SelectScrollDownButton",EY=p.forwardRef((e,t)=>{const r=qd($4,e.__scopeSelect),n=pP($4,e.__scopeSelect),[i,a]=p.useState(!1),o=hr(t,n.onScrollButtonChange);return Qn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(CY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});EY.displayName=$4;var CY=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=qd("SelectScrollButton",r),o=p.useRef(null),l=aj(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Qn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(ro.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ut(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ut(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ut(i.onPointerLeave,()=>{c()})})}),CPe="SelectSeparator",AY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(ro.div,{"aria-hidden":!0,...n,ref:t})});AY.displayName=CPe;var B4="SelectArrow",APe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=sj(r),a=Hd(B4,r),o=qd(B4,r);return a.open&&o.position==="popper"?s.jsx(LC,{...i,...n,ref:t}):null});APe.displayName=B4;var PPe="SelectBubbleInput",PY=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=p.useRef(null),a=hr(n,i),o=mP(t);return p.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(ro.select,{...r,style:{...HB,...r.style},ref:a,defaultValue:t})});PY.displayName=PPe;function TY(e){return e===""||e===void 0}function OY(e){const t=Yn(e),r=p.useRef(""),n=p.useRef(0),i=p.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function RY(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=TPe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function TPe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var OPe=aY,IY=oY,RPe=cY,IPe=uY,DPe=dY,DY=fY,LPe=gY,MPe=xY,LY=wY,MY=_Y,FPe=jY,$Pe=NY,FY=kY,$Y=EY,BY=AY;const _t=OPe,lL=MPe,jt=RPe,wt=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(IY,{ref:n,className:ot("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(IPe,{asChild:!0,children:s.jsx(ad,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=IY.displayName;const UY=p.forwardRef(({className:e,...t},r)=>s.jsx(FY,{ref:r,className:ot("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Cf,{className:"h-4 w-4"})}));UY.displayName=FY.displayName;const zY=p.forwardRef(({className:e,...t},r)=>s.jsx($Y,{ref:r,className:ot("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ad,{className:"h-4 w-4"})}));zY.displayName=$Y.displayName;const bt=p.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>s.jsx(DPe,{children:s.jsxs(DY,{ref:i,className:ot("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(UY,{}),s.jsx(LPe,{className:ot("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(zY,{})]})}));bt.displayName=DY.displayName;const U4=p.forwardRef(({className:e,...t},r)=>s.jsx(LY,{ref:r,className:ot("px-2 py-1.5 text-sm font-semibold",e),...t}));U4.displayName=LY.displayName;const Ce=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(MY,{ref:n,className:ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx($Pe,{children:s.jsx(Uv,{className:"h-4 w-4"})})}),s.jsx(FPe,{children:t})]}));Ce.displayName=MY.displayName;const BPe=p.forwardRef(({className:e,...t},r)=>s.jsx(BY,{ref:r,className:ot("-mx-1 my-1 h-px bg-muted",e),...t}));BPe.displayName=BY.displayName;const cL=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"];function UPe(){const[e,t]=p.useState(!0),[r,n]=p.useState("30"),[i,a]=p.useState({totalRevenue:{current:0,previous:0,change:0},activeProjects:{current:0,previous:0,change:0},avgClientSatisfaction:{current:0,previous:0,change:0},reportsSubmitted:{current:0,previous:0,change:0}}),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState([]),[m,h]=p.useState([]);p.useEffect(()=>{v()},[r]);const v=async()=>{var x,y,w,_,b,N,C,S,A,k,R,O,L;try{const U=parseInt(r),q=new Date;q.setDate(q.getDate()-U);const Q=new Date;Q.setDate(Q.getDate()-U*2);const ie=new Date;ie.setDate(ie.getDate()-U);const[z,H,X,pe,xe]=await Promise.all([ge.from("weekly_reports").select("*, service_metrics(*)").gte("created_at",q.toISOString()),ge.from("weekly_reports").select("*").gte("created_at",Q.toISOString()).lt("created_at",ie.toISOString()),ge.from("clients").select("*"),ge.from("client_assignments").select("*, profiles(*), clients(*), services(*)"),ge.from("client_budgets").select("*")]),D=((x=X.data)==null?void 0:x.filter(Pe=>Pe.status==="active").length)||0,M=((y=z.data)==null?void 0:y.length)||0,T=((w=H.data)==null?void 0:w.length)||0,V=((_=xe.data)==null?void 0:_.reduce((Pe,ct)=>Pe+Number(ct.monthly_budget),0))||0,F=((b=xe.data)==null?void 0:b.reduce((Pe,ct)=>Pe+Number(ct.actual_spending),0))||0,W=((N=z.data)==null?void 0:N.filter(Pe=>Pe.status==="on_track").length)||0,te=M>0?W/M*100:0,Y=((C=H.data)==null?void 0:C.filter(Pe=>Pe.status==="on_track").length)||0,oe=T>0?Y/T*100:0,we=(Pe,ct)=>ct===0?Pe>0?100:0:(Pe-ct)/ct*100;a({totalRevenue:{current:F,previous:V*.8,change:we(F,V*.8)},activeProjects:{current:D,previous:D-2,change:we(D,D-2)},avgClientSatisfaction:{current:te,previous:oe,change:we(te,oe)},reportsSubmitted:{current:M,previous:T,change:we(M,T)}});const ve=(S=pe.data)==null?void 0:S.reduce((Pe,ct)=>{var Rt;const at=((Rt=ct.services)==null?void 0:Rt.name)||"Unknown";return Pe[at]||(Pe[at]={clients:0,revenue:0}),Pe[at].clients+=1,Pe},{}),He=(A=xe.data)==null?void 0:A.reduce((Pe,ct)=>{var Rt,It;const at=(Rt=pe.data)==null?void 0:Rt.find(Zt=>Zt.service_id===ct.service_id);if(at){const Zt=((It=at.services)==null?void 0:It.name)||"Unknown";Pe[Zt]||(Pe[Zt]=0),Pe[Zt]+=Number(ct.actual_spending)}return Pe},{}),ze=Object.entries(ve||{}).map(([Pe,ct])=>({name:Pe,clients:ct.clients,revenue:(He==null?void 0:He[Pe])||0}));l(ze);const ne=Array.from({length:8},(Pe,ct)=>{const at=new Date;return at.setDate(at.getDate()-ct*7),{week:at.toLocaleDateString("en-US",{month:"short",day:"numeric"}),reports:Math.floor(Math.random()*20)+10,clients:D-ct}}).reverse();u(ne);const Be=[{name:"Healthy",value:((k=X.data)==null?void 0:k.filter(Pe=>Pe.health_status==="healthy").length)||0},{name:"Needs Attention",value:((R=X.data)==null?void 0:R.filter(Pe=>Pe.health_status==="needs_attention").length)||0},{name:"At Risk",value:((O=X.data)==null?void 0:O.filter(Pe=>Pe.health_status==="at_risk").length)||0}];f(Be);const qe=(L=z.data)==null?void 0:L.reduce((Pe,ct)=>{const at=ct.employee_id;return Pe[at]||(Pe[at]={count:0,onTrack:0}),Pe[at].count+=1,ct.status==="on_track"&&(Pe[at].onTrack+=1),Pe},{}),rt=await Promise.all(Object.entries(qe||{}).slice(0,5).map(async([Pe,ct])=>{const{data:at}=await ge.from("profiles").select("full_name").eq("id",Pe).maybeSingle();return{name:(at==null?void 0:at.full_name)||"Unknown",reports:ct.count,performance:ct.count>0?Math.round(ct.onTrack/ct.count*100):0}}));h(rt.sort((Pe,ct)=>ct.reports-Pe.reports))}catch(U){console.error("Error loading analytics:",U)}finally{t(!1)}},g=({title:x,value:y,change:w,icon:_,prefix:b="",suffix:N=""})=>{const C=w>=0;return s.jsx(Le,{"data-testid":`card-metric-${x.toLowerCase().replace(/\s+/g,"-")}`,children:s.jsxs(Fe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:x}),s.jsx("div",{className:"rounded-lg p-2.5 bg-primary/10",children:s.jsx(_,{className:"h-5 w-5 text-primary"})})]}),s.jsx("div",{className:"flex items-end justify-between gap-4 flex-wrap",children:s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":`text-metric-${x.toLowerCase().replace(/\s+/g,"-")}`,children:[b,typeof y=="number"?y.toFixed(y%1===0?0:1):y,N]}),s.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm ${C?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[C?s.jsx(vl,{className:"h-4 w-4"}):s.jsx(Xae,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:[C?"+":"",w.toFixed(1),"%"]}),s.jsx("span",{className:"text-muted-foreground",children:"vs previous period"})]})]})})]})})};return e?s.jsxs("div",{className:"space-y-6",children:[s.jsx(ke,{className:"h-8 w-48"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(ke,{className:"h-36"}),s.jsx(ke,{className:"h-36"}),s.jsx(ke,{className:"h-36"}),s.jsx(ke,{className:"h-36"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(ke,{className:"h-80"}),s.jsx(ke,{className:"h-80"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track performance and insights"})]}),s.jsxs(_t,{value:r,onValueChange:n,children:[s.jsx(wt,{className:"w-[180px]","data-testid":"select-time-range",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"7",children:"Last 7 days"}),s.jsx(Ce,{value:"30",children:"Last 30 days"}),s.jsx(Ce,{value:"90",children:"Last 90 days"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(g,{title:"Total Revenue",value:i.totalRevenue.current,change:i.totalRevenue.change,icon:xd,prefix:"$"}),s.jsx(g,{title:"Active Projects",value:i.activeProjects.current,change:i.activeProjects.change,icon:j2}),s.jsx(g,{title:"Client Satisfaction",value:i.avgClientSatisfaction.current,change:i.avgClientSatisfaction.change,icon:Rae,suffix:"%"}),s.jsx(g,{title:"Reports Submitted",value:i.reportsSubmitted.current,change:i.reportsSubmitted.change,icon:Qi})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsx(Rr,{children:s.jsx(Ir,{children:"Weekly Trend"})}),s.jsx(Fe,{children:s.jsx(a5,{width:"100%",height:300,children:s.jsxs(W3e,{data:c,children:[s.jsx(_4,{strokeDasharray:"3 3"}),s.jsx(A4,{dataKey:"week"}),s.jsx(O4,{}),s.jsx(v5,{}),s.jsx(e4,{}),s.jsx(j4,{type:"monotone",dataKey:"reports",stroke:"#3B82F6",strokeWidth:2}),s.jsx(j4,{type:"monotone",dataKey:"clients",stroke:"#10B981",strokeWidth:2})]})})})]}),s.jsxs(Le,{children:[s.jsx(Rr,{children:s.jsx(Ir,{children:"Client Health Status"})}),s.jsx(Fe,{children:s.jsx(a5,{width:"100%",height:300,children:s.jsxs(nPe,{children:[s.jsx(wK,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,value:y})=>`${x}: ${y}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:d.map((x,y)=>s.jsx(yx,{fill:cL[y%cL.length]},`cell-${y}`))}),s.jsx(v5,{})]})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsx(Rr,{children:s.jsx(Ir,{children:"Service Performance"})}),s.jsx(Fe,{children:s.jsx(a5,{width:"100%",height:300,children:s.jsxs(q3e,{data:o,children:[s.jsx(_4,{strokeDasharray:"3 3"}),s.jsx(A4,{dataKey:"name"}),s.jsx(O4,{}),s.jsx(v5,{}),s.jsx(e4,{}),s.jsx(k4,{dataKey:"clients",fill:"#3B82F6"}),s.jsx(k4,{dataKey:"revenue",fill:"#10B981"})]})})})]}),s.jsxs(Le,{children:[s.jsx(Rr,{children:s.jsx(Ir,{children:"Top Performers"})}),s.jsx(Fe,{children:s.jsxs("div",{className:"space-y-4",children:[m.map((x,y)=>s.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-muted rounded-md flex-wrap","data-testid":`row-performer-${y}`,children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-sm",children:y+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground","data-testid":`text-performer-name-${y}`,children:x.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.reports," reports"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-foreground","data-testid":`text-performer-rate-${y}`,children:[x.performance,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On Track Rate"})]})]},y)),m.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No performance data yet"})]})})]})]})]})}function zPe({healthStatus:e,healthScore:t,showScore:r=!1,size:n="md",showLabel:i=!0}){const o=(u=>{switch(u){case"healthy":return{icon:Sn,iconColor:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-950/40",label:"Healthy",badgeClass:"bg-green-50 text-green-700 border-green-200 dark:bg-green-950/40 dark:text-green-400 dark:border-green-800"};case"needs_attention":return{icon:Us,iconColor:"text-amber-600 dark:text-amber-400",bgColor:"bg-amber-50 dark:bg-amber-950/40",label:"Needs Attention",badgeClass:"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800"};case"at_risk":return{icon:Xn,iconColor:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-950/40",label:"High Risk",badgeClass:"bg-red-50 text-red-700 border-red-200 dark:bg-red-950/40 dark:text-red-400 dark:border-red-800"};default:return{icon:Sn,iconColor:"text-muted-foreground",bgColor:"bg-muted",label:"Unknown",badgeClass:""}}})(e),l=o.icon,c={sm:"h-3.5 w-3.5",md:"h-4 w-4",lg:"h-5 w-5"};return s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs($t,{variant:"outline",className:`${o.badgeClass} no-default-active-elevate gap-1.5`,children:[s.jsx(l,{className:`${c[n]} ${o.iconColor}`}),i&&s.jsx("span",{children:o.label}),r&&t!==void 0&&s.jsxs("span",{className:"opacity-70",children:[t,"/100"]})]})})}const Ao=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ot("w-full caption-bottom text-sm",e),...t})}));Ao.displayName="Table";const Po=p.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ot("[&_tr]:border-b",e),...t}));Po.displayName="TableHeader";const To=p.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ot("[&_tr:last-child]:border-0",e),...t}));To.displayName="TableBody";const WPe=p.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ot("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));WPe.displayName="TableFooter";const $r=p.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ot("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));$r.displayName="TableRow";const St=p.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ot("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));St.displayName="TableHead";const vt=p.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ot("p-2 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));vt.displayName="TableCell";const HPe=p.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ot("mt-4 text-sm text-muted-foreground",e),...t}));HPe.displayName="TableCaption";const Zr=gB,qPe=vB,WY=p.forwardRef(({className:e,...t},r)=>s.jsx(C2,{ref:r,className:ot("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));WY.displayName=C2.displayName;const Ur=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(qPe,{children:[s.jsx(WY,{}),s.jsxs(A2,{ref:n,className:ot("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(xB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(to,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ur.displayName=A2.displayName;const Qr=({className:e,...t})=>s.jsx("div",{className:ot("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Qr.displayName="DialogHeader";const en=({className:e,...t})=>s.jsx("div",{className:ot("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});en.displayName="DialogFooter";const tn=p.forwardRef(({className:e,...t},r)=>s.jsx(P2,{ref:r,className:ot("text-lg font-semibold leading-none tracking-tight",e),...t}));tn.displayName=P2.displayName;const Vc=p.forwardRef(({className:e,...t},r)=>s.jsx(T2,{ref:r,className:ot("text-sm text-muted-foreground",e),...t}));Vc.displayName=T2.displayName;const uL=["bg-blue-600","bg-emerald-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-cyan-600","bg-indigo-600","bg-teal-600","bg-pink-600","bg-orange-600"];function VPe(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function dL(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function GPe({onViewClient:e}={}){const{showToast:t}=Cr(),[,r]=cc(),[n,i]=p.useState([]),[a,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,m]=p.useState(!1),[h,v]=p.useState(!1),[g,x]=p.useState(null),[y,w]=p.useState(null),[_,b]=p.useState(""),[N,C]=p.useState("all"),[S,A]=p.useState({name:"",industry:"",status:"active",priority:"medium",health_status:"healthy",start_date:new Date().toISOString().split("T")[0],notes:"",contact_name:"",contact_email:"",contact_phone:"",website:"",weekly_meeting_day:"",meeting_time:"10:00",selectedServices:[],selectedEmployees:[]}),[k,R]=p.useState({employee_ids:[],service_id:""});p.useEffect(()=>{O()},[]);const O=async()=>{try{const[T,V,F,W,te]=await Promise.all([ge.from("clients").select("*").order("created_at",{ascending:!1}),ge.from("services").select("*").eq("is_active",!0),ge.from("profiles").select("*").eq("role","employee").eq("status","active"),ge.from("client_assignments").select("*, profiles(*), services(*)"),ge.from("client_budgets").select("client_id, monthly_budget")]);if(T.data){const Y=T.data.map(oe=>{var ze,ne;const we=((ze=W.data)==null?void 0:ze.filter(Be=>Be.client_id===oe.id))||[],He=(((ne=te.data)==null?void 0:ne.filter(Be=>Be.client_id===oe.id))||[]).reduce((Be,qe)=>Be+Number(qe.monthly_budget),0);return{...oe,assignmentCount:we.length,assignments:we.map(Be=>({...Be,employee:Be.profiles,service:Be.services})),totalBudget:He}});i(Y)}V.data&&o(V.data),F.data&&c(F.data)}catch(T){console.error("Error loading data:",T)}finally{d(!1)}},L=p.useMemo(()=>{const T=n.length,V=n.filter(te=>te.status==="active").length,F=n.filter(te=>te.health_status==="needs_attention"||te.health_status==="at_risk").length,W=n.reduce((te,Y)=>te+(Y.totalBudget||0),0);return{totalClients:T,activeClients:V,needsAttention:F,totalBudget:W}},[n]),U=[{label:"Total Clients",value:L.totalClients,sub:`${L.activeClients} active`,icon:gs,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-950/40"},{label:"Active Clients",value:L.activeClients,sub:`of ${L.totalClients} total`,icon:Gf,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-950/40"},{label:"Needs Attention",value:L.needsAttention,sub:"at risk or flagged",icon:Xn,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-950/40"},{label:"Monthly Budget",value:dL(L.totalBudget),sub:"total across clients",icon:xd,color:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-950/40"}],q=async T=>{var V;if(T){x(T);const[{data:F},{data:W}]=await Promise.all([ge.from("client_services").select("service_id").eq("client_id",T.id),ge.from("client_assignments").select("employee_id, service_id").eq("client_id",T.id)]);A({name:T.name,industry:T.industry||"",status:T.status,priority:T.priority,health_status:T.health_status,start_date:T.start_date,notes:T.notes||"",contact_name:T.contact_name||"",contact_email:T.contact_email||"",contact_phone:T.contact_phone||"",website:T.website||"",weekly_meeting_day:((V=T.weekly_meeting_day)==null?void 0:V.toString())||"",meeting_time:T.meeting_time||"10:00",selectedServices:(F==null?void 0:F.map(te=>te.service_id))||[],selectedEmployees:W||[]})}else x(null),A({name:"",industry:"",status:"active",priority:"medium",health_status:"healthy",start_date:new Date().toISOString().split("T")[0],notes:"",contact_name:"",contact_email:"",contact_phone:"",website:"",weekly_meeting_day:"",meeting_time:"10:00",selectedServices:[],selectedEmployees:[]});m(!0)},Q=T=>{w(T),R({employee_ids:[],service_id:""}),v(!0)},ie=async T=>{if(T.preventDefault(),S.selectedEmployees.filter(F=>!F.service_id).length>0){t("Please assign a role/service to all selected employees before saving","error");return}try{const F={name:S.name,industry:S.industry||null,status:S.status,priority:S.priority,health_status:S.health_status,start_date:S.start_date,notes:S.notes||null,contact_name:S.contact_name||null,contact_email:S.contact_email||null,contact_phone:S.contact_phone||null,website:S.website||null,weekly_meeting_day:S.weekly_meeting_day?parseInt(S.weekly_meeting_day):null,meeting_time:S.meeting_time||null,updated_at:new Date().toISOString()};if(g){const{error:W}=await ge.from("clients").update(F).eq("id",g.id);if(W)throw W;if(await Promise.all([ge.from("client_services").delete().eq("client_id",g.id),ge.from("client_assignments").delete().eq("client_id",g.id)]),S.selectedServices.length>0){const te=S.selectedServices.map(Y=>({client_id:g.id,service_id:Y}));await ge.from("client_services").insert(te)}if(S.selectedEmployees.length>0){const te=S.selectedEmployees.map(Y=>({client_id:g.id,employee_id:Y.employee_id,service_id:Y.service_id}));await ge.from("client_assignments").insert(te)}}else{const{data:W,error:te}=await ge.from("clients").insert(F).select().single();if(te)throw te;if(W){if(S.selectedServices.length>0){const Y=S.selectedServices.map(oe=>({client_id:W.id,service_id:oe}));await ge.from("client_services").insert(Y)}if(S.selectedEmployees.length>0){const Y=S.selectedEmployees.map(oe=>({client_id:W.id,employee_id:oe.employee_id,service_id:oe.service_id}));await ge.from("client_assignments").insert(Y)}}}m(!1),t(g?"Client updated successfully":"Client created successfully","success"),O()}catch(F){console.error("Error saving client:",F),t("Failed to save client","error")}},z=async T=>{if(T.preventDefault(),!!y){if(k.employee_ids.length===0){t("Please select at least one employee","error");return}try{const{data:V}=await ge.from("client_services").select("service_id").eq("client_id",y.id).eq("service_id",k.service_id).maybeSingle();if(!V){t("This service is not enabled for this client. Please enable it first.","error");return}const F=k.employee_ids.map(te=>({client_id:y.id,employee_id:te,service_id:k.service_id})),{error:W}=await ge.from("client_assignments").insert(F);if(W){if(W.code==="23505")t("One or more employees are already assigned to this service for this client","error");else throw W;return}v(!1),t("Team members assigned successfully","success"),O()}catch(V){console.error("Error creating assignment:",V),t("Failed to create assignment","error")}}},H=async T=>{if(confirm("Are you sure you want to delete this client? This will also remove all related assignments and data."))try{const{error:V}=await ge.from("clients").delete().eq("id",T);if(V)throw V;O()}catch(V){console.error("Error deleting client:",V)}},X=T=>{A(V=>({...V,selectedServices:V.selectedServices.includes(T)?V.selectedServices.filter(F=>F!==T):[...V.selectedServices,T]}))},pe=T=>{switch(T){case"active":return"default";case"paused":return"secondary";case"completed":return"outline";default:return"outline"}},xe=T=>{switch(T){case"critical":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},D=p.useMemo(()=>n.filter(T=>{var W,te;const V=T.name.toLowerCase().includes(_.toLowerCase())||(((W=T.industry)==null?void 0:W.toLowerCase())||"").includes(_.toLowerCase())||(((te=T.contact_name)==null?void 0:te.toLowerCase())||"").includes(_.toLowerCase()),F=N==="all"||T.status===N;return V&&F}),[n,_,N]),M=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}];return u?s.jsxs("div",{className:"space-y-6","data-testid":"loading-skeleton",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"h-8 w-48"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(ke,{className:"h-9 w-32"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[1,2,3,4].map(T=>s.jsx(Le,{children:s.jsxs(Fe,{className:"p-6",children:[s.jsx(ke,{className:"h-4 w-24 mb-4"}),s.jsx(ke,{className:"h-9 w-20 mb-2"}),s.jsx(ke,{className:"h-3 w-16"})]})},T))}),s.jsx(ke,{className:"h-9 w-full"}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsx("div",{className:"space-y-4 p-6",children:Array.from({length:5}).map((T,V)=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ke,{className:"h-10 w-10 rounded-full"}),s.jsx(ke,{className:"h-5 w-32"}),s.jsx(ke,{className:"h-5 w-24"}),s.jsx(ke,{className:"h-5 w-16"}),s.jsx(ke,{className:"h-5 w-16"}),s.jsx(ke,{className:"h-5 w-16"}),s.jsx(ke,{className:"h-5 w-12"}),s.jsx(ke,{className:"h-5 w-20"}),s.jsx(ke,{className:"h-5 w-24"})]},V))})})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Clients"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your client accounts and team assignments"})]}),s.jsxs(je,{onClick:()=>q(),"data-testid":"button-add-client",children:[s.jsx(on,{className:"h-4 w-4"}),"Add Client"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:U.map(T=>{const V=T.icon;return s.jsx(Le,{"data-testid":`card-stat-${T.label.toLowerCase().replace(/\s/g,"-")}`,children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:T.label}),s.jsx("p",{className:"text-3xl font-semibold mt-2 tracking-tight","data-testid":`text-stat-value-${T.label.toLowerCase().replace(/\s/g,"-")}`,children:T.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.sub})]}),s.jsx("div",{className:`rounded-lg p-2.5 ${T.bg}`,children:s.jsx(V,{className:`h-5 w-5 ${T.color}`})})]})})},T.label)})}),s.jsxs("div",{className:"relative",children:[s.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(We,{type:"text",placeholder:"Search clients by name, industry, or contact...",value:_,onChange:T=>b(T.target.value),className:"pl-9","data-testid":"input-search-clients"})]}),s.jsx("div",{className:"flex items-center gap-2 flex-wrap","data-testid":"filter-status-tabs",children:M.map(T=>s.jsxs(je,{variant:N===T.value?"default":"outline",size:"sm",onClick:()=>C(T.value),className:N===T.value?"toggle-elevate toggle-elevated":"toggle-elevate","data-testid":`button-filter-${T.value}`,children:[T.label,T.value!=="all"&&s.jsx("span",{className:"ml-1.5 text-xs opacity-70",children:n.filter(V=>V.status===T.value).length})]},T.value))}),n.length===0?s.jsx(Le,{"data-testid":"empty-state",children:s.jsxs(Fe,{className:"flex flex-col items-center justify-center py-16 px-6",children:[s.jsx("div",{className:"rounded-lg bg-muted p-4 mb-4",children:s.jsx(gs,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold mb-1","data-testid":"text-empty-title",children:"No clients yet"}),s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-6 max-w-sm",children:"Get started by adding your first client. You can manage their details, assign team members, and track budgets."}),s.jsxs(je,{onClick:()=>q(),"data-testid":"button-empty-add-client",children:[s.jsx(on,{className:"h-4 w-4"}),"Add Your First Client"]})]})}):s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsxs(Ao,{children:[s.jsx(Po,{children:s.jsxs($r,{children:[s.jsx(St,{children:"Client"}),s.jsx(St,{children:"Contact"}),s.jsx(St,{children:"Status"}),s.jsx(St,{children:"Priority"}),s.jsx(St,{children:"Health"}),s.jsx(St,{children:"Team"}),s.jsx(St,{children:"Budget"}),s.jsx(St,{className:"text-right",children:"Actions"})]})}),s.jsxs(To,{children:[D.map((T,V)=>s.jsxs($r,{"data-testid":`row-client-${T.id}`,children:[s.jsx(vt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hs,{"data-testid":`avatar-client-${T.id}`,children:s.jsx(ms,{className:`${uL[V%uL.length]} text-white text-xs font-medium`,children:VPe(T.name)})}),s.jsxs("div",{children:[s.jsx(je,{variant:"ghost",className:"p-0 h-auto text-sm font-medium text-foreground text-left",onClick:()=>r(`/clients/${T.id}`),"data-testid":`link-client-name-${T.id}`,children:T.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:T.industry||"No industry"})]})]})}),s.jsx(vt,{children:T.contact_name?s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-foreground","data-testid":`text-contact-name-${T.id}`,children:T.contact_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:T.contact_email})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No contact"})}),s.jsx(vt,{children:s.jsx($t,{variant:pe(T.status),"data-testid":`badge-status-${T.id}`,children:T.status})}),s.jsx(vt,{children:s.jsx($t,{variant:xe(T.priority),"data-testid":`badge-priority-${T.id}`,children:T.priority})}),s.jsx(vt,{children:s.jsx(zPe,{healthStatus:T.health_status,healthScore:T.health_score,showScore:!0,size:"sm"})}),s.jsx(vt,{children:s.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>Q(T),"data-testid":`button-team-${T.id}`,children:[s.jsx(Qi,{className:"h-4 w-4"}),s.jsx("span",{children:T.assignmentCount||0})]})}),s.jsx(vt,{children:s.jsx("span",{className:"text-sm font-medium text-foreground","data-testid":`text-budget-${T.id}`,children:dL(T.totalBudget||0)})}),s.jsx(vt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[e&&s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(T.id),title:"View Details","data-testid":`button-view-${T.id}`,children:s.jsx(Sd,{className:"h-4 w-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>q(T),title:"Edit","data-testid":`button-edit-${T.id}`,children:s.jsx(mu,{className:"h-4 w-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>H(T.id),title:"Delete","data-testid":`button-delete-${T.id}`,children:s.jsx(Io,{className:"h-4 w-4"})})]})})]},T.id)),D.length===0&&s.jsx($r,{children:s.jsx(vt,{colSpan:8,className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(zs,{className:"h-6 w-6 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-no-results",children:_||N!=="all"?"No clients match your current filters.":"No clients yet. Add your first client to get started."}),(_||N!=="all")&&s.jsx(je,{variant:"outline",size:"sm",onClick:()=>{b(""),C("all")},"data-testid":"button-clear-filters",children:"Clear Filters"})]})})})]})]})})}),s.jsx(Zr,{open:f,onOpenChange:m,children:s.jsxs(Ur,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qr,{children:s.jsx(tn,{children:g?"Edit Client":"Add New Client"})}),s.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"client-name",children:"Client Name"}),s.jsx(We,{id:"client-name",type:"text",value:S.name,onChange:T=>A({...S,name:T.target.value}),required:!0,"data-testid":"input-client-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"client-industry",children:"Industry"}),s.jsx(We,{id:"client-industry",type:"text",value:S.industry,onChange:T=>A({...S,industry:T.target.value}),"data-testid":"input-client-industry"})]})]}),s.jsx(ul,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"contact-name",children:"Contact Name"}),s.jsx(We,{id:"contact-name",type:"text",value:S.contact_name,onChange:T=>A({...S,contact_name:T.target.value}),"data-testid":"input-contact-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"contact-email",children:"Contact Email"}),s.jsx(We,{id:"contact-email",type:"email",value:S.contact_email,onChange:T=>A({...S,contact_email:T.target.value}),"data-testid":"input-contact-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"contact-phone",children:"Contact Phone"}),s.jsx(We,{id:"contact-phone",type:"tel",value:S.contact_phone,onChange:T=>A({...S,contact_phone:T.target.value}),"data-testid":"input-contact-phone"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"client-website",children:"Website"}),s.jsx(We,{id:"client-website",type:"url",value:S.website,onChange:T=>A({...S,website:T.target.value}),"data-testid":"input-client-website"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Status"}),s.jsxs(_t,{value:S.status,onValueChange:T=>A({...S,status:T}),children:[s.jsx(wt,{"data-testid":"select-status",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"active",children:"Active"}),s.jsx(Ce,{value:"paused",children:"Paused"}),s.jsx(Ce,{value:"completed",children:"Completed"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Priority"}),s.jsxs(_t,{value:S.priority,onValueChange:T=>A({...S,priority:T}),children:[s.jsx(wt,{"data-testid":"select-priority",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"low",children:"Low"}),s.jsx(Ce,{value:"medium",children:"Medium"}),s.jsx(Ce,{value:"high",children:"High"}),s.jsx(Ce,{value:"critical",children:"Critical"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Health Status"}),s.jsxs(_t,{value:S.health_status,onValueChange:T=>A({...S,health_status:T}),children:[s.jsx(wt,{"data-testid":"select-health-status",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"healthy",children:"Healthy"}),s.jsx(Ce,{value:"needs_attention",children:"Needs Attention"}),s.jsx(Ce,{value:"at_risk",children:"At Risk"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"start-date",children:"Start Date"}),s.jsx(We,{id:"start-date",type:"date",value:S.start_date,onChange:T=>A({...S,start_date:T.target.value}),"data-testid":"input-start-date"})]})]}),s.jsx(ul,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Weekly Meeting Schedule"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Meeting Day"}),s.jsxs(_t,{value:S.weekly_meeting_day,onValueChange:T=>A({...S,weekly_meeting_day:T==="_none"?"":T}),children:[s.jsx(wt,{"data-testid":"select-meeting-day",children:s.jsx(jt,{placeholder:"No recurring meeting"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"_none",children:"No recurring meeting"}),s.jsx(Ce,{value:"0",children:"Sunday"}),s.jsx(Ce,{value:"1",children:"Monday"}),s.jsx(Ce,{value:"2",children:"Tuesday"}),s.jsx(Ce,{value:"3",children:"Wednesday"}),s.jsx(Ce,{value:"4",children:"Thursday"}),s.jsx(Ce,{value:"5",children:"Friday"}),s.jsx(Ce,{value:"6",children:"Saturday"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"meeting-time",children:"Meeting Time"}),s.jsx(We,{id:"meeting-time",type:"time",value:S.meeting_time,onChange:T=>A({...S,meeting_time:T.target.value}),"data-testid":"input-meeting-time"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Set a weekly meeting day to automatically prioritize related tasks for assigned employees."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Services Enabled"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(T=>s.jsxs("label",{className:"flex items-center gap-2 p-3 border rounded-md cursor-pointer hover-elevate","data-testid":`checkbox-service-${T.id}`,children:[s.jsx("input",{type:"checkbox",checked:S.selectedServices.includes(T.id),onChange:()=>X(T.id),className:"h-4 w-4 rounded border-input"}),s.jsx("span",{className:"text-sm text-foreground",children:T.name})]},T.id))})]}),s.jsx(ul,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Assign Team Members (",S.selectedEmployees.length," assigned)"]}),S.selectedServices.length===0?s.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-muted text-sm text-muted-foreground border",children:[s.jsx(Xn,{className:"h-4 w-4"}),"Please select at least one service above before assigning team members"]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Select employees and their roles for this client"}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:l.map(T=>{var F;const V=(F=S.selectedEmployees.find(W=>W.employee_id===T.id))==null?void 0:F.service_id;return s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-md","data-testid":`employee-assignment-${T.id}`,children:[s.jsx("input",{type:"checkbox",checked:S.selectedEmployees.some(W=>W.employee_id===T.id),onChange:W=>{W.target.checked?A({...S,selectedEmployees:[...S.selectedEmployees,{employee_id:T.id,service_id:S.selectedServices[0]}]}):A({...S,selectedEmployees:S.selectedEmployees.filter(te=>te.employee_id!==T.id)})},className:"h-4 w-4 rounded border-input"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-foreground",children:T.full_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:T.email})]}),S.selectedEmployees.some(W=>W.employee_id===T.id)&&s.jsxs(_t,{value:V||"",onValueChange:W=>{A({...S,selectedEmployees:S.selectedEmployees.map(te=>te.employee_id===T.id?{...te,service_id:W}:te)})},children:[s.jsx(wt,{className:"w-40","data-testid":`select-role-${T.id}`,children:s.jsx(jt,{placeholder:"Select role"})}),s.jsx(bt,{children:S.selectedServices.map(W=>{const te=a.find(Y=>Y.id===W);return s.jsx(Ce,{value:W,children:te==null?void 0:te.name},W)})})]})]},T.id)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"client-notes",children:"Notes"}),s.jsx("textarea",{id:"client-notes",value:S.notes,onChange:T=>A({...S,notes:T.target.value}),rows:3,className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","data-testid":"input-client-notes"})]}),s.jsxs(en,{children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>m(!1),"data-testid":"button-cancel-client",children:"Cancel"}),s.jsx(je,{type:"submit","data-testid":"button-submit-client",children:g?"Update Client":"Create Client"})]})]})]})}),s.jsx(Zr,{open:h&&!!y,onOpenChange:v,children:s.jsxs(Ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qr,{children:s.jsxs(tn,{children:["Team for ",y==null?void 0:y.name]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Current Team Assignments"}),y!=null&&y.assignments&&y.assignments.length>0?s.jsx("div",{className:"space-y-2",children:y.assignments.map(T=>{var V,F;return s.jsx("div",{className:"flex items-center justify-between gap-4 flex-wrap p-3 bg-muted rounded-md","data-testid":`text-assignment-${T.id}`,children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:(V=T.employee)==null?void 0:V.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(F=T.service)==null?void 0:F.name})]})},T.id)})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No team members assigned yet."})]}),s.jsx(ul,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Assign New Team Members"}),s.jsxs("form",{onSubmit:z,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Team Members (",k.employee_ids.length," selected)"]}),s.jsx("div",{className:"border rounded-md p-3 max-h-60 overflow-y-auto",children:s.jsx("div",{className:"space-y-2",children:l.map(T=>s.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md cursor-pointer hover-elevate","data-testid":`checkbox-assign-employee-${T.id}`,children:[s.jsx("input",{type:"checkbox",checked:k.employee_ids.includes(T.id),onChange:V=>{V.target.checked?R({...k,employee_ids:[...k.employee_ids,T.id]}):R({...k,employee_ids:k.employee_ids.filter(F=>F!==T.id)})},className:"h-4 w-4 rounded border-input"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-foreground",children:T.full_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:T.email})]})]},T.id))})}),k.employee_ids.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:k.employee_ids.map(T=>{const V=l.find(F=>F.id===T);return s.jsxs($t,{variant:"secondary",className:"gap-1","data-testid":`badge-selected-employee-${T}`,children:[V==null?void 0:V.full_name,s.jsx("button",{type:"button",onClick:()=>{R({...k,employee_ids:k.employee_ids.filter(F=>F!==T)})},className:"rounded-full p-0.5",children:s.jsx(to,{className:"h-3 w-3"})})]},T)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Service/Role"}),s.jsxs(_t,{value:k.service_id,onValueChange:T=>R({...k,service_id:T}),children:[s.jsx(wt,{"data-testid":"select-assign-service",children:s.jsx(jt,{placeholder:"Select a service"})}),s.jsx(bt,{children:a.map(T=>s.jsx(Ce,{value:T.id,children:T.name},T.id))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Only services enabled for this client can be assigned"})]}),s.jsxs(en,{children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>v(!1),"data-testid":"button-close-assign",children:"Close"}),s.jsx(je,{type:"submit","data-testid":"button-submit-assign",children:"Assign Team Members"})]})]})]})]})]})})]})}const fL=["bg-blue-600","bg-emerald-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-cyan-600","bg-indigo-600","bg-teal-600"];function KPe(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function YPe(e){switch(e){case"healthy":return"default";case"needs_attention":return"secondary";case"at_risk":return"destructive";default:return"outline"}}function XPe(e){switch(e){case"healthy":return"Healthy";case"needs_attention":return"Needs Attention";case"at_risk":return"At Risk";default:return e||"Unknown"}}function JPe(e){switch(e){case"active":return"default";case"paused":return"secondary";case"completed":return"outline";default:return"outline"}}function ZPe(e){switch(e){case"on_track":return"default";case"delayed":return"destructive";case"needs_attention":return"secondary";default:return"outline"}}function QPe({clientId:e,onBack:t}){const[r,n]=p.useState(null),[i,a]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState([]),[m,h]=p.useState(!0),[v,g]=p.useState(!1),[x,y]=p.useState({employee_id:"",service_id:""}),{showToast:w}=Cr();p.useEffect(()=>{_()},[e]);const _=async()=>{try{h(!0);const[k,R,O,L,U]=await Promise.all([ge.from("clients").select("*").eq("id",e).maybeSingle(),ge.from("client_assignments").select("*, profiles(*), services(*)").eq("client_id",e),ge.from("weekly_reports").select("*, profiles(*), services(*)").eq("client_id",e).order("week_start_date",{ascending:!1}),ge.from("profiles").select("*").eq("role","employee").eq("status","active"),ge.from("services").select("*").eq("is_active",!0)]);k.data&&n(k.data),R.data&&a(R.data.map(q=>({...q,employee:q.profiles,service:q.services}))),O.data&&l(O.data.map(q=>({...q,employee:q.profiles,service:q.services}))),L.data&&u(L.data),U.data&&f(U.data)}catch(k){console.error("Error loading client data:",k),w("Failed to load client data","error")}finally{h(!1)}},b=async k=>{if(k.preventDefault(),!x.employee_id||!x.service_id){w("Please select both employee and service","error");return}if(i.find(O=>O.employee_id===x.employee_id&&O.service_id===x.service_id)){w("This employee is already assigned to this service","error");return}try{const{error:O}=await ge.from("client_assignments").insert({client_id:e,employee_id:x.employee_id,service_id:x.service_id});if(O)throw O;w("Employee assigned successfully","success"),g(!1),y({employee_id:"",service_id:""}),_()}catch(O){console.error("Error assigning employee:",O),w("Failed to assign employee","error")}},N=async k=>{if(confirm("Are you sure you want to remove this assignment?"))try{const{error:R}=await ge.from("client_assignments").delete().eq("id",k);if(R)throw R;w("Assignment removed successfully","success"),_()}catch(R){console.error("Error removing assignment:",R),w("Failed to remove assignment","error")}},C=o.filter(k=>k.status==="on_track").length,S=o.filter(k=>k.status==="needs_attention"||k.status==="delayed").length,A=new Set(i.map(k=>{var R;return(R=k.service)==null?void 0:R.name}).filter(Boolean));return m?s.jsxs("div",{className:"space-y-6","data-testid":"loading-client-detail",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ke,{className:"h-9 w-9"}),s.jsx(ke,{className:"h-8 w-64"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(k=>s.jsx(Le,{children:s.jsxs(Fe,{className:"p-5",children:[s.jsx(ke,{className:"h-4 w-20 mb-3"}),s.jsx(ke,{className:"h-8 w-16 mb-1"}),s.jsx(ke,{className:"h-3 w-24"})]})},k))}),s.jsx(Le,{children:s.jsxs(Fe,{className:"p-6",children:[s.jsx(ke,{className:"h-5 w-40 mb-4"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(k=>s.jsx(ke,{className:"h-24"},k))})]})})]}):r?s.jsxs("div",{className:"space-y-6","data-testid":"client-detail-page",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:t,"data-testid":"button-back-to-clients",children:s.jsx(_w,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-client-name",children:r.name}),s.jsx($t,{variant:JPe(r.status),"data-testid":"badge-client-status",children:r.status}),s.jsx($t,{variant:YPe(r.health_status),"data-testid":"badge-client-health",children:XPe(r.health_status)})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[r.industry||"No industry"," ",r.start_date&&` Since ${cr(new Date(r.start_date),"MMM yyyy")}`]})]})]}),s.jsxs(je,{onClick:()=>g(!0),"data-testid":"button-assign-employee",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Assign Employee"]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Le,{"data-testid":"card-stat-team-size",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:"Team Size"}),s.jsx("p",{className:"text-3xl font-semibold mt-1 tracking-tight",children:i.length}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[A.size," service",A.size!==1?"s":""]})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:s.jsx(Qi,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),s.jsx(Le,{"data-testid":"card-stat-reports",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:"Total Reports"}),s.jsx("p",{className:"text-3xl font-semibold mt-1 tracking-tight",children:o.length}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[C," on track"]})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:s.jsx(Zn,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]})})}),s.jsx(Le,{"data-testid":"card-stat-on-track",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:"On Track"}),s.jsx("p",{className:"text-3xl font-semibold mt-1 tracking-tight",children:C}),o.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[Math.round(C/o.length*100),"% rate"]})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:s.jsx(Sn,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})}),s.jsx(Le,{"data-testid":"card-stat-attention",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:"Needs Attention"}),s.jsx("p",{className:"text-3xl font-semibold mt-1 tracking-tight",children:S}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"delayed or flagged"})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-red-50 dark:bg-red-950/40",children:s.jsx(Xn,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})})})]}),(r.contact_name||r.contact_email||r.contact_phone||r.website)&&s.jsxs(Le,{children:[s.jsx(Rr,{className:"pb-3",children:s.jsx(Ir,{className:"text-[15px] font-semibold",children:"Contact Information"})}),s.jsx(Fe,{children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.contact_name&&s.jsxs("div",{className:"flex items-center gap-3","data-testid":"text-contact-name",children:[s.jsx("div",{className:"rounded-md bg-muted p-2",children:s.jsx(Qi,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Contact"}),s.jsx("p",{className:"text-sm font-medium truncate",children:r.contact_name})]})]}),r.contact_email&&s.jsxs("div",{className:"flex items-center gap-3","data-testid":"text-contact-email",children:[s.jsx("div",{className:"rounded-md bg-muted p-2",children:s.jsx(Vf,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-sm font-medium truncate",children:r.contact_email})]})]}),r.contact_phone&&s.jsxs("div",{className:"flex items-center gap-3","data-testid":"text-contact-phone",children:[s.jsx("div",{className:"rounded-md bg-muted p-2",children:s.jsx(b9,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"text-sm font-medium truncate",children:r.contact_phone})]})]}),r.website&&s.jsxs("div",{className:"flex items-center gap-3","data-testid":"text-contact-website",children:[s.jsx("div",{className:"rounded-md bg-muted p-2",children:s.jsx(hC,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Website"}),s.jsx("p",{className:"text-sm font-medium truncate",children:r.website})]})]})]})})]}),r.notes&&s.jsxs(Le,{children:[s.jsx(Rr,{className:"pb-3",children:s.jsx(Ir,{className:"text-[15px] font-semibold",children:"Notes"})}),s.jsx(Fe,{children:s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap","data-testid":"text-client-notes",children:r.notes})})]}),s.jsxs(Le,{children:[s.jsx(Rr,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsx(Ir,{className:"text-[15px] font-semibold",children:"Assigned Team"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.length," member",i.length!==1?"s":""]})]})}),s.jsx(Fe,{children:i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Qi,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No employees assigned yet"}),s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>g(!0),"data-testid":"button-assign-first",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Assign Employee"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:i.map((k,R)=>{var L,U,q;const O=fL[R%fL.length];return s.jsxs("div",{className:"rounded-md border p-4 space-y-3","data-testid":`card-assignment-${k.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx(hs,{className:"h-9 w-9 shrink-0",children:s.jsx(ms,{className:`${O} text-white text-xs font-medium`,children:k.employee?KPe(k.employee.full_name):"??"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate","data-testid":`text-assignment-employee-${k.id}`,children:((L=k.employee)==null?void 0:L.full_name)||"Unknown"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:(U=k.employee)==null?void 0:U.email})]})]}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>N(k.id),"data-testid":`button-remove-assignment-${k.id}`,children:s.jsx(to,{className:"h-4 w-4"})})]}),s.jsx($t,{variant:"secondary","data-testid":`badge-service-${k.id}`,children:((q=k.service)==null?void 0:q.name)||"No service"})]},k.id)})})})]}),s.jsxs(Le,{children:[s.jsx(Rr,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsx(Ir,{className:"text-[15px] font-semibold",children:"Work Reports"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.length," report",o.length!==1?"s":""]})]})}),s.jsx(Fe,{className:"p-0",children:o.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(Zn,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No reports submitted yet"})]}):s.jsxs(Ao,{children:[s.jsx(Po,{children:s.jsxs($r,{children:[s.jsx(St,{children:"Date"}),s.jsx(St,{children:"Employee"}),s.jsx(St,{children:"Service"}),s.jsx(St,{children:"Status"}),s.jsx(St,{children:"Summary"})]})}),s.jsx(To,{children:o.map(k=>{var R,O,L;return s.jsxs($r,{"data-testid":`row-report-${k.id}`,children:[s.jsx(vt,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ea,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"}),s.jsx("span",{children:cr(new Date(k.week_start_date),"MMM d, yyyy")})]})}),s.jsx(vt,{children:s.jsx("span",{className:"text-sm font-medium","data-testid":`text-report-employee-${k.id}`,children:((R=k.employee)==null?void 0:R.full_name)||"Unknown"})}),s.jsx(vt,{children:s.jsx("span",{className:"text-sm",children:((O=k.service)==null?void 0:O.name)||"-"})}),s.jsx(vt,{children:s.jsx($t,{variant:ZPe(k.status),"data-testid":`badge-report-status-${k.id}`,children:((L=k.status)==null?void 0:L.replace("_"," "))||"Unknown"})}),s.jsx(vt,{children:s.jsx("p",{className:"text-sm text-muted-foreground max-w-xs truncate",children:k.work_summary||"No summary provided"})})]},k.id)})})]})})]}),s.jsx(Zr,{open:v,onOpenChange:g,children:s.jsxs(Ur,{"data-testid":"dialog-assign-employee",children:[s.jsx(Qr,{children:s.jsxs(tn,{children:["Assign Employee to ",r.name]})}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Employee"}),s.jsxs(_t,{value:x.employee_id,onValueChange:k=>y({...x,employee_id:k}),children:[s.jsx(wt,{"data-testid":"select-assign-employee",children:s.jsx(jt,{placeholder:"Select an employee"})}),s.jsx(bt,{children:c.map(k=>s.jsxs(Ce,{value:k.id,children:[k.full_name," (",k.email,")"]},k.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Service"}),s.jsxs(_t,{value:x.service_id,onValueChange:k=>y({...x,service_id:k}),children:[s.jsx(wt,{"data-testid":"select-assign-service",children:s.jsx(jt,{placeholder:"Select a service"})}),s.jsx(bt,{children:d.map(k=>s.jsx(Ce,{value:k.id,children:k.name},k.id))})]})]}),s.jsxs(en,{children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>g(!1),"data-testid":"button-cancel-assign",children:"Cancel"}),s.jsx(je,{type:"submit","data-testid":"button-submit-assign",children:"Assign"})]})]})]})})]}):s.jsx(Le,{children:s.jsxs(Fe,{className:"py-16 text-center",children:[s.jsx(Xn,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Client not found"}),s.jsxs(je,{variant:"outline",onClick:t,"data-testid":"button-go-back-not-found",children:[s.jsx(_w,{className:"h-4 w-4 mr-2"}),"Go back"]})]})})}function eTe(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,tTe(i,...t)]}function tTe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function rTe(e){const t=nTe(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(aTe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function nTe(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=oTe(i),l=sTe(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iTe=Symbol("radix.slottable");function aTe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iTe}function sTe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function oTe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gP=lTe.reduce((e,t)=>{const r=rTe(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),oj="Checkbox",[cTe]=eTe(oj),[uTe,vP]=cTe(oj);function dTe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,h]=xl({prop:r,defaultProp:i??!1,onChange:c,caller:oj}),[v,g]=p.useState(null),[x,y]=p.useState(null),w=p.useRef(!1),_=v?!!o||!!v.closest("form"):!0,b={checked:m,disabled:a,setChecked:h,control:v,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:bd(i)?!1:i,isFormControl:_,bubbleInput:x,setBubbleInput:y};return s.jsx(uTe,{scope:t,...b,children:fTe(f)?f(b):n})}var HY="CheckboxTrigger",qY=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:h,bubbleInput:v}=vP(HY,e),g=hr(i,d),x=p.useRef(c);return p.useEffect(()=>{const y=a==null?void 0:a.form;if(y){const w=()=>f(x.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[a,f]),s.jsx(gP.button,{type:"button",role:"checkbox","aria-checked":bd(c)?"mixed":c,"aria-required":u,"data-state":XY(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:ut(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ut(r,y=>{f(w=>bd(w)?!0:!w),v&&h&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});qY.displayName=HY;var xP=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(dTe,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(qY,{...f,ref:t,__scopeCheckbox:r}),m&&s.jsx(YY,{__scopeCheckbox:r})]})})});xP.displayName=oj;var VY="CheckboxIndicator",GY=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=vP(VY,r);return s.jsx(ra,{present:n||bd(a.checked)||a.checked===!0,children:s.jsx(gP.span,{"data-state":XY(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});GY.displayName=VY;var KY="CheckboxBubbleInput",YY=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:h}=vP(KY,e),v=hr(r,h),g=mP(a),x=PC(n);p.useEffect(()=>{const w=m;if(!w)return;const _=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(_,"checked").set,C=!i.current;if(g!==a&&N){const S=new Event("click",{bubbles:C});w.indeterminate=bd(a),N.call(w,bd(a)?!1:a),w.dispatchEvent(S)}},[m,g,a,i]);const y=p.useRef(bd(a)?!1:a);return s.jsx(gP.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});YY.displayName=KY;function fTe(e){return typeof e=="function"}function bd(e){return e==="indeterminate"}function XY(e){return bd(e)?"indeterminate":e?"checked":"unchecked"}const Td=p.forwardRef(({className:e,...t},r)=>s.jsx(xP,{ref:r,className:ot("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(GY,{className:ot("flex items-center justify-center text-current"),children:s.jsx(Uv,{className:"h-4 w-4"})})}));Td.displayName=xP.displayName;const hL=["bg-blue-600","bg-emerald-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-cyan-600","bg-indigo-600","bg-teal-600","bg-pink-600","bg-orange-600"],mL=[{bg:"bg-blue-50 dark:bg-blue-950/40",text:"text-blue-700 dark:text-blue-300"},{bg:"bg-emerald-50 dark:bg-emerald-950/40",text:"text-emerald-700 dark:text-emerald-300"},{bg:"bg-violet-50 dark:bg-violet-950/40",text:"text-violet-700 dark:text-violet-300"},{bg:"bg-amber-50 dark:bg-amber-950/40",text:"text-amber-700 dark:text-amber-300"},{bg:"bg-rose-50 dark:bg-rose-950/40",text:"text-rose-700 dark:text-rose-300"},{bg:"bg-cyan-50 dark:bg-cyan-950/40",text:"text-cyan-700 dark:text-cyan-300"}];function hTe(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function z4(e,t){return t<=0?0:Math.min(Math.round(e/t*100),100)}function mTe(e,t){const r=z4(e,t);return r>=75?{label:"High",variant:"destructive"}:r>=50?{label:"Medium",variant:"default"}:{label:"Low",variant:"secondary"}}function pTe(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState([]),[a,o]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(!1),[f,m]=p.useState(!1),[h,v]=p.useState(null),[g,x]=p.useState(null),[y,w]=p.useState(""),[_,b]=p.useState("all"),[N,C]=p.useState("all"),[S,A]=p.useState({email:"",password:"",full_name:"",role:"employee",status:"active",phone:"",max_capacity:"5",skills:[]}),[k,R]=p.useState({client_id:"",service_id:""});p.useEffect(()=>{O()},[]);const O=async()=>{try{const[M,T,V,F]=await Promise.all([ge.from("profiles").select("*").order("created_at",{ascending:!1}),ge.from("clients").select("*").eq("status","active"),ge.from("services").select("*").eq("is_active",!0),ge.from("client_assignments").select("*, clients(*), services(*)")]);if(M.data){const W=M.data.map(te=>{var oe;const Y=((oe=F.data)==null?void 0:oe.filter(we=>we.employee_id===te.id))||[];return{...te,assignmentCount:Y.length,assignments:Y.map(we=>({...we,client:we.clients,service:we.services}))}});r(W)}T.data&&i(T.data),V.data&&o(V.data)}catch(M){console.error("Error loading employees:",M)}finally{c(!1)}},L=M=>{var T;if(M){v(M);const V=Array.isArray(M.skills)?M.skills:[];A({email:M.email,password:"",full_name:M.full_name,role:M.role,status:M.status,phone:M.phone||"",max_capacity:((T=M.max_capacity)==null?void 0:T.toString())||"5",skills:V})}else v(null),A({email:"",password:"",full_name:"",role:"employee",status:"active",phone:"",max_capacity:"5",skills:[]});d(!0)},U=M=>{x(M),R({client_id:"",service_id:""}),m(!0)},q=async M=>{M.preventDefault();try{if(h){const{error:T}=await ge.from("profiles").update({email:S.email,full_name:S.full_name,role:S.role,status:S.status,phone:S.phone||null,max_capacity:parseInt(S.max_capacity),skills:S.skills,updated_at:new Date().toISOString()}).eq("id",h.id);if(T)throw T}else{const{data:T,error:V}=await ge.auth.signUp({email:S.email,password:S.password});if(V)throw V;if(T.user){const{error:F}=await ge.from("profiles").insert({id:T.user.id,email:S.email,full_name:S.full_name,role:S.role,status:S.status,phone:S.phone||null,max_capacity:parseInt(S.max_capacity),skills:S.skills});if(F)throw F}}d(!1),O()}catch(T){console.error("Error saving employee:",T),e(T.message||"Failed to save employee","error")}},Q=async M=>{if(M.preventDefault(),!!g)try{const{data:T}=await ge.from("client_services").select("service_id").eq("client_id",k.client_id).eq("service_id",k.service_id).maybeSingle();if(!T){e("This service is not enabled for this client. Please enable it first.","error");return}const{error:V}=await ge.from("client_assignments").insert({client_id:k.client_id,employee_id:g.id,service_id:k.service_id});if(V){if(V.code==="23505")e("This employee is already assigned to this service for this client","error");else throw V;return}m(!1),O()}catch(T){console.error("Error creating assignment:",T),e("Failed to create assignment","error")}},ie=async M=>{try{const T=M.status==="active"?"inactive":"active",{error:V}=await ge.from("profiles").update({status:T,updated_at:new Date().toISOString()}).eq("id",M.id);if(V)throw V;O()}catch(T){console.error("Error updating employee status:",T)}},z=M=>{M&&!S.skills.includes(M)&&A({...S,skills:[...S.skills,M]})},H=M=>{A({...S,skills:S.skills.filter(T=>T!==M)})},X=(M,T)=>{const V=M/T*100;return V>=100?"text-red-600 font-semibold":V>=75?"text-orange-600 font-semibold":V>=50?"text-yellow-600 font-medium":"text-green-600"},pe=p.useMemo(()=>{const M=t.length,T=t.filter(W=>W.status==="active").length,V=t.filter(W=>{const te=W.assignmentCount||0,Y=W.max_capacity||5;return te>=Y*.75}).length,F=M>0?Math.round(t.reduce((W,te)=>{const Y=te.assignmentCount||0,oe=te.max_capacity||5;return W+z4(Y,oe)},0)/M):0;return{total:M,active:T,highWorkload:V,avgCapacity:F}},[t]),xe=p.useMemo(()=>t.filter(M=>{const T=M.full_name.toLowerCase().includes(y.toLowerCase())||M.email.toLowerCase().includes(y.toLowerCase())||Array.isArray(M.skills)&&M.skills.some(W=>W.toLowerCase().includes(y.toLowerCase())),V=_==="all"||M.role===_,F=N==="all"||M.status===N;return T&&V&&F}),[t,y,_,N]),D=[{label:"Total Team Members",value:pe.total,sub:`${pe.active} active`,icon:Qi,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-950/40"},{label:"Active Members",value:pe.active,sub:`${pe.total-pe.active} inactive`,icon:Gf,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-950/40"},{label:"High Workload",value:pe.highWorkload,sub:"at 75%+ capacity",icon:Us,color:"text-red-600 dark:text-red-400",bg:"bg-red-50 dark:bg-red-950/40"},{label:"Avg Capacity Used",value:`${pe.avgCapacity}%`,sub:"across all members",icon:dC,color:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-950/40"}];return l?s.jsxs("div",{className:"space-y-6","data-testid":"employees-loading",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(ke,{className:"h-9 w-36"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[1,2,3,4].map(M=>s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"h-4 w-24"}),s.jsx(ke,{className:"h-9 w-16"}),s.jsx(ke,{className:"h-3 w-20"})]}),s.jsx(ke,{className:"h-10 w-10 rounded-lg"})]})})},M))}),s.jsx(ke,{className:"h-10 w-full"}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(M=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ke,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(ke,{className:"h-4 w-40"}),s.jsx(ke,{className:"h-3 w-56"})]}),s.jsx(ke,{className:"h-4 w-20"}),s.jsx(ke,{className:"h-6 w-16 rounded-full"}),s.jsx(ke,{className:"h-4 w-24"})]},M))})})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-employees-title",children:"Employees"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage team members, skills, and assignments"})]}),s.jsxs(je,{onClick:()=>L(),"data-testid":"button-add-employee",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Employee"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:D.map(M=>{const T=M.icon;return s.jsx(Le,{"data-testid":`card-stat-${M.label.toLowerCase().replace(/\s/g,"-")}`,children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:M.label}),s.jsx("p",{className:"text-3xl font-semibold mt-2 tracking-tight","data-testid":`text-stat-value-${M.label.toLowerCase().replace(/\s/g,"-")}`,children:M.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:M.sub})]}),s.jsx("div",{className:`rounded-lg p-2.5 ${M.bg}`,children:s.jsx(T,{className:`h-5 w-5 ${M.color}`})})]})})},M.label)})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 w-full",children:[s.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(We,{type:"text",placeholder:"Search employees by name, email, or skills...",value:y,onChange:M=>w(M.target.value),className:"pl-10","data-testid":"input-search-employees"})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-1","data-testid":"filter-role-group",children:[s.jsx(je,{variant:_==="all"?"default":"outline",size:"sm",onClick:()=>b("all"),"data-testid":"button-filter-role-all",className:_==="all"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"All"}),s.jsx(je,{variant:_==="employee"?"default":"outline",size:"sm",onClick:()=>b("employee"),"data-testid":"button-filter-role-employee",className:_==="employee"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"Employees"}),s.jsx(je,{variant:_==="admin"?"default":"outline",size:"sm",onClick:()=>b("admin"),"data-testid":"button-filter-role-admin",className:_==="admin"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"Admins"})]}),s.jsxs("div",{className:"flex items-center gap-1","data-testid":"filter-status-group",children:[s.jsx(je,{variant:N==="all"?"default":"outline",size:"sm",onClick:()=>C("all"),"data-testid":"button-filter-status-all",className:N==="all"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"All"}),s.jsx(je,{variant:N==="active"?"default":"outline",size:"sm",onClick:()=>C("active"),"data-testid":"button-filter-status-active",className:N==="active"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"Active"}),s.jsx(je,{variant:N==="inactive"?"default":"outline",size:"sm",onClick:()=>C("inactive"),"data-testid":"button-filter-status-inactive",className:N==="inactive"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"Inactive"})]})]})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsxs(Ao,{children:[s.jsx(Po,{children:s.jsxs($r,{children:[s.jsx(St,{children:"Employee"}),s.jsx(St,{children:"Skills"}),s.jsx(St,{children:"Role"}),s.jsx(St,{children:"Workload"}),s.jsx(St,{children:"Assignments"}),s.jsx(St,{children:"Status"}),s.jsx(St,{className:"text-right",children:"Actions"})]})}),s.jsxs(To,{children:[xe.map((M,T)=>{const V=hL[T%hL.length],F=z4(M.assignmentCount||0,M.max_capacity||5),W=mTe(M.assignmentCount||0,M.max_capacity||5),te=Array.isArray(M.skills)?M.skills:[];return s.jsxs($r,{"data-testid":`row-employee-${M.id}`,children:[s.jsx(vt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hs,{"data-testid":`avatar-employee-${M.id}`,children:s.jsx(ms,{className:`${V} text-white text-xs font-medium`,children:hTe(M.full_name)})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground","data-testid":`text-employee-name-${M.id}`,children:M.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:M.email})]})]})}),s.jsx(vt,{children:s.jsx("div",{className:"flex flex-wrap gap-1","data-testid":`skills-employee-${M.id}`,children:te.length>0?s.jsxs(s.Fragment,{children:[te.slice(0,3).map((Y,oe)=>{const we=mL[oe%mL.length];return s.jsx($t,{variant:"secondary",className:`text-xs ${we.bg} ${we.text}`,"data-testid":`badge-skill-${M.id}-${oe}`,children:Y},oe)}),te.length>3&&s.jsxs($t,{variant:"outline",className:"text-xs","data-testid":`badge-skills-more-${M.id}`,children:["+",te.length-3," more"]})]}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"No skills"})})}),s.jsx(vt,{children:s.jsx($t,{variant:M.role==="admin"?"destructive":"default",className:"text-xs","data-testid":`badge-role-${M.id}`,children:M.role})}),s.jsx(vt,{children:s.jsxs("div",{className:"space-y-1.5 min-w-[120px]","data-testid":`workload-employee-${M.id}`,children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[M.assignmentCount||0,"/",M.max_capacity]}),s.jsx($t,{variant:W.variant,className:"text-xs","data-testid":`badge-workload-${M.id}`,children:W.label})]}),s.jsx(Bd,{value:F,className:"h-1.5","data-testid":`progress-workload-${M.id}`})]})}),s.jsx(vt,{children:s.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>U(M),"data-testid":`button-view-assignments-${M.id}`,children:[s.jsx(gs,{className:"h-4 w-4 mr-1"}),"View (",M.assignmentCount||0,")"]})}),s.jsx(vt,{children:s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>ie(M),"data-testid":`button-toggle-status-${M.id}`,children:M.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(Sn,{className:"h-4 w-4 text-green-600 mr-1"}),s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Active"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Sw,{className:"h-4 w-4 text-muted-foreground mr-1"}),s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Inactive"})]})})}),s.jsx(vt,{className:"text-right",children:s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>L(M),"data-testid":`button-edit-employee-${M.id}`,children:s.jsx(mu,{className:"h-4 w-4"})})})]},M.id)}),xe.length===0&&s.jsx($r,{children:s.jsx(vt,{colSpan:7,className:"text-center py-12 text-muted-foreground","data-testid":"text-no-employees",children:y||_!=="all"||N!=="all"?"No employees match your filters.":"No employees yet. Add your first team member to get started."})})]})]})})}),s.jsx(Zr,{open:u,onOpenChange:d,children:s.jsxs(Ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qr,{children:s.jsx(tn,{children:h?"Edit Employee":"Add New Employee"})}),s.jsxs("form",{onSubmit:q,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Full Name"}),s.jsx(We,{type:"text",value:S.full_name,onChange:M=>A({...S,full_name:M.target.value}),required:!0,"data-testid":"input-employee-name"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Email Address"}),s.jsx(We,{type:"email",value:S.email,onChange:M=>A({...S,email:M.target.value}),required:!0,disabled:!!h,"data-testid":"input-employee-email"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Phone"}),s.jsx(We,{type:"tel",value:S.phone,onChange:M=>A({...S,phone:M.target.value}),"data-testid":"input-employee-phone"})]})]}),!h&&s.jsxs("div",{children:[s.jsx(be,{children:"Password"}),s.jsx(We,{type:"password",value:S.password,onChange:M=>A({...S,password:M.target.value}),required:!0,minLength:6,"data-testid":"input-employee-password"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum 6 characters"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Role"}),s.jsxs(_t,{value:S.role,onValueChange:M=>A({...S,role:M}),children:[s.jsx(wt,{"data-testid":"select-employee-role",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"employee",children:"Employee"}),s.jsx(Ce,{value:"admin",children:"Admin"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Status"}),s.jsxs(_t,{value:S.status,onValueChange:M=>A({...S,status:M}),children:[s.jsx(wt,{"data-testid":"select-employee-status",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"active",children:"Active"}),s.jsx(Ce,{value:"inactive",children:"Inactive"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Max Capacity"}),s.jsx(We,{type:"number",min:"1",max:"20",value:S.max_capacity,onChange:M=>A({...S,max_capacity:M.target.value}),"data-testid":"input-employee-capacity"})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Skills"}),s.jsx("div",{className:"border rounded-md p-3 max-h-60 overflow-y-auto bg-background",children:s.jsx("div",{className:"space-y-2",children:a.map(M=>s.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md cursor-pointer hover-elevate",children:[s.jsx(Td,{checked:S.skills.includes(M.name),onCheckedChange:T=>{T?z(M.name):H(M.name)},"data-testid":`checkbox-skill-${M.id}`}),s.jsx("span",{className:"text-sm text-foreground",children:M.name})]},M.id))})}),S.skills.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:S.skills.map((M,T)=>s.jsxs($t,{variant:"secondary",className:"gap-1",children:[M,s.jsx("button",{type:"button",onClick:()=>H(M),"data-testid":`button-remove-skill-${T}`,children:s.jsx(to,{className:"h-3 w-3"})})]},T))})]}),s.jsxs(en,{children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-employee",children:"Cancel"}),s.jsx(je,{type:"submit","data-testid":"button-save-employee",children:h?"Update Employee":"Create Employee"})]})]})]})}),s.jsx(Zr,{open:f&&!!g,onOpenChange:m,children:s.jsxs(Ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qr,{children:s.jsxs(tn,{children:["Assignments for ",g==null?void 0:g.full_name]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap mb-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Current Assignments"}),s.jsxs("span",{className:`text-sm ${X((g==null?void 0:g.assignmentCount)||0,(g==null?void 0:g.max_capacity)||5)}`,children:[(g==null?void 0:g.assignmentCount)||0," / ",g==null?void 0:g.max_capacity," capacity"]})]}),g!=null&&g.assignments&&g.assignments.length>0?s.jsx("div",{className:"space-y-2",children:g.assignments.map(M=>{var T,V;return s.jsx("div",{className:"flex items-center justify-between gap-3 flex-wrap p-3 bg-muted rounded-md",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:(T=M.client)==null?void 0:T.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(V=M.service)==null?void 0:V.name})]})},M.id)})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No assignments yet."})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Assign New Client"}),s.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Client"}),s.jsxs(_t,{value:k.client_id,onValueChange:M=>R({...k,client_id:M}),children:[s.jsx(wt,{"data-testid":"select-assign-client",children:s.jsx(jt,{placeholder:"Select a client"})}),s.jsx(bt,{children:n.map(M=>s.jsx(Ce,{value:M.id,children:M.name},M.id))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Service"}),s.jsxs(_t,{value:k.service_id,onValueChange:M=>R({...k,service_id:M}),children:[s.jsx(wt,{"data-testid":"select-assign-service",children:s.jsx(jt,{placeholder:"Select a service"})}),s.jsx(bt,{children:a.map(M=>s.jsx(Ce,{value:M.id,children:M.name},M.id))})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Only services enabled for the client will be accepted"})]}),s.jsxs(en,{children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>m(!1),"data-testid":"button-close-assign",children:"Close"}),s.jsx(je,{type:"submit",disabled:((g==null?void 0:g.assignmentCount)||0)>=((g==null?void 0:g.max_capacity)||5),"data-testid":"button-assign-client",children:"Assign Client"})]})]})]})]})]})})]})}function pL(e){return e?e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"?"}const k5=["bg-blue-100 text-blue-700 dark:bg-blue-950/50 dark:text-blue-400","bg-emerald-100 text-emerald-700 dark:bg-emerald-950/50 dark:text-emerald-400","bg-violet-100 text-violet-700 dark:bg-violet-950/50 dark:text-violet-400","bg-amber-100 text-amber-700 dark:bg-amber-950/50 dark:text-amber-400","bg-rose-100 text-rose-700 dark:bg-rose-950/50 dark:text-rose-400","bg-cyan-100 text-cyan-700 dark:bg-cyan-950/50 dark:text-cyan-400","bg-orange-100 text-orange-700 dark:bg-orange-950/50 dark:text-orange-400"];function gL(e){if(!e)return k5[0];let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);return k5[Math.abs(t)%k5.length]}function gTe(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState([]),[a,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,m]=p.useState(!1),[h,v]=p.useState({client_id:"",employee_ids:[],service_id:""}),[g,x]=p.useState("all"),[y,w]=p.useState("all"),[_,b]=p.useState("");p.useEffect(()=>{N()},[]);const N=async()=>{try{const[U,q,Q,ie]=await Promise.all([ge.from("client_assignments").select(`
          *,
          clients(*),
          profiles(*),
          services(*)
        `),ge.from("clients").select("*").eq("status","active"),ge.from("profiles").select("*").eq("status","active").eq("role","employee"),ge.from("services").select("*").eq("is_active",!0)]);if(U.data){const z=U.data.map(H=>({...H,client:H.clients,employee:H.profiles,service:H.services}));r(z)}q.data&&i(q.data),Q.data&&o(Q.data),ie.data&&c(ie.data)}catch(U){console.error("Error loading data:",U)}finally{d(!1)}},C=async U=>{if(U.preventDefault(),h.employee_ids.length===0){e("warning","Please select at least one employee");return}try{const{data:q}=await ge.from("client_services").select("service_id").eq("client_id",h.client_id).eq("service_id",h.service_id).maybeSingle();if(!q){e("error","This service is not enabled for this client. Please enable it in the client settings first.");return}const Q=h.employee_ids.map(z=>({client_id:h.client_id,employee_id:z,service_id:h.service_id})),{error:ie}=await ge.from("client_assignments").insert(Q);if(ie){if(ie.code==="23505")e("error","One or more assignments already exist");else throw ie;return}m(!1),v({client_id:"",employee_ids:[],service_id:""}),N()}catch(q){console.error("Error creating assignment:",q),e("error","Failed to create assignment")}},S=async U=>{if(confirm("Are you sure you want to remove this assignment?"))try{const{error:q}=await ge.from("client_assignments").delete().eq("id",U);if(q)throw q;N()}catch(q){console.error("Error deleting assignment:",q)}};let A=t;if(g!=="all"&&(A=A.filter(U=>U.client_id===g)),y!=="all"&&(A=A.filter(U=>U.employee_id===y)),_.trim()){const U=_.toLowerCase();A=A.filter(q=>{var Q,ie,z,H,X,pe;return((ie=(Q=q.client)==null?void 0:Q.name)==null?void 0:ie.toLowerCase().includes(U))||((H=(z=q.employee)==null?void 0:z.full_name)==null?void 0:H.toLowerCase().includes(U))||((pe=(X=q.service)==null?void 0:X.name)==null?void 0:pe.toLowerCase().includes(U))})}const k=A.reduce((U,q)=>{const Q=q.client_id;return U[Q]||(U[Q]=[]),U[Q].push(q),U},{}),R=p.useMemo(()=>new Set(t.map(q=>q.client_id)).size,[t]),O=p.useMemo(()=>new Set(t.map(q=>q.employee_id)).size,[t]),L=p.useMemo(()=>new Set(t.map(q=>q.service_id)).size,[t]);return u?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(ke,{className:"h-9 w-40"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((U,q)=>s.jsx(ke,{className:"h-24 w-full"},q))}),s.jsx(ke,{className:"h-12 w-full"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{className:"h-48 w-full"}),s.jsx(ke,{className:"h-48 w-full"})]})]}):s.jsxs("div",{className:"space-y-6","data-testid":"assignments-page",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-page-title",children:"Assignments"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage which team members work on each client account"})]}),s.jsxs(je,{onClick:()=>m(!0),"data-testid":"button-new-assignment",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"New Assignment"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Le,{"data-testid":"stat-total-assignments",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Total Assignments"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:t.length})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:s.jsx(Gf,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-active-clients",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Clients Covered"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:R})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:s.jsx(fs,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-assigned-employees",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Team Members"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:O})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-violet-50 dark:bg-violet-950/40",children:s.jsx(Qi,{className:"h-5 w-5 text-violet-600 dark:text-violet-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-services-used",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Services Active"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:L})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:s.jsx(gs,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(We,{placeholder:"Search clients, employees, or services...",value:_,onChange:U=>b(U.target.value),className:"pl-9","data-testid":"input-search-assignments"})]}),s.jsxs(_t,{value:g,onValueChange:x,children:[s.jsxs(wt,{className:"w-[180px]","data-testid":"select-filter-client",children:[s.jsx(fs,{className:"h-4 w-4 mr-2 text-muted-foreground flex-shrink-0"}),s.jsx(jt,{placeholder:"All Clients"})]}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"all",children:"All Clients"}),n.map(U=>s.jsx(Ce,{value:U.id,children:U.name},U.id))]})]}),s.jsxs(_t,{value:y,onValueChange:w,children:[s.jsxs(wt,{className:"w-[180px]","data-testid":"select-filter-employee",children:[s.jsx(Qi,{className:"h-4 w-4 mr-2 text-muted-foreground flex-shrink-0"}),s.jsx(jt,{placeholder:"All Employees"})]}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"all",children:"All Employees"}),a.map(U=>s.jsx(Ce,{value:U.id,children:U.full_name},U.id))]})]})]})})}),s.jsxs("div",{className:"space-y-4",children:[Object.entries(k).map(([U,q])=>{var z;const Q=(z=q[0])==null?void 0:z.client;if(!Q)return null;const ie=q.reduce((H,X)=>{const pe=X.service_id;return H[pe]||(H[pe]={service:X.service,members:[]}),H[pe].members.push(X),H},{});return s.jsxs(Le,{"data-testid":`card-client-${U}`,children:[s.jsx(Rr,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-lg p-2.5 bg-muted",children:s.jsx(fs,{className:"h-5 w-5 text-foreground"})}),s.jsxs("div",{children:[s.jsx(Ir,{className:"text-base","data-testid":`text-client-name-${U}`,children:Q.name}),Q.industry&&s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:Q.industry})]})]}),s.jsxs($t,{variant:"outline",className:"no-default-active-elevate","data-testid":`badge-member-count-${U}`,children:[q.length," ",q.length===1?"member":"members"]})]})}),s.jsx(Fe,{className:"pt-0",children:s.jsx("div",{className:"space-y-4",children:Object.entries(ie).map(([H,X])=>{var pe;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[s.jsx(gs,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground","data-testid":`text-service-${H}`,children:((pe=X.service)==null?void 0:pe.name)||"Unknown Service"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:X.members.map(xe=>{var D,M,T,V;return s.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-md border border-border","data-testid":`row-assignment-${xe.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx(hs,{className:"h-8 w-8 flex-shrink-0",children:s.jsx(ms,{className:`text-xs font-medium ${gL((D=xe.employee)==null?void 0:D.full_name)}`,children:pL((M=xe.employee)==null?void 0:M.full_name)})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate","data-testid":`text-employee-name-${xe.id}`,children:(T=xe.employee)==null?void 0:T.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:(V=xe.employee)==null?void 0:V.email})]})]}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>S(xe.id),"data-testid":`button-delete-assignment-${xe.id}`,children:s.jsx(Io,{className:"h-4 w-4"})})]},xe.id)})})]},H)})})})]},U)}),Object.keys(k).length===0&&s.jsx(Le,{"data-testid":"assignments-empty",children:s.jsxs(Fe,{className:"py-16 text-center",children:[s.jsx("div",{className:"rounded-full p-4 bg-muted/50 w-fit mx-auto mb-4",children:s.jsx(Gf,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-base font-semibold text-foreground mb-1",children:"No assignments found"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:_||g!=="all"||y!=="all"?"Try adjusting your filters or search query":"Create your first assignment to connect team members with clients"}),(_||g!=="all"||y!=="all")&&s.jsx(je,{variant:"outline",size:"sm",onClick:()=>{b(""),x("all"),w("all")},"data-testid":"button-clear-filters",children:"Clear filters"})]})})]}),s.jsx(Zr,{open:f,onOpenChange:m,children:s.jsxs(Ur,{className:"max-w-lg",children:[s.jsx(Qr,{children:s.jsx(tn,{children:"New Assignment"})}),s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Client"}),s.jsxs(_t,{value:h.client_id,onValueChange:U=>v({...h,client_id:U}),children:[s.jsx(wt,{"data-testid":"select-assignment-client",children:s.jsx(jt,{placeholder:"Select a client"})}),s.jsx(bt,{children:n.map(U=>s.jsx(Ce,{value:U.id,children:U.name},U.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Team Members (",h.employee_ids.length," selected)"]}),s.jsx("div",{className:"border rounded-md p-3 max-h-60 overflow-y-auto bg-background",children:s.jsx("div",{className:"space-y-1",children:a.map(U=>s.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md cursor-pointer hover-elevate",children:[s.jsx(Td,{checked:h.employee_ids.includes(U.id),onCheckedChange:q=>{v(q?{...h,employee_ids:[...h.employee_ids,U.id]}:{...h,employee_ids:h.employee_ids.filter(Q=>Q!==U.id)})},"data-testid":`checkbox-employee-${U.id}`}),s.jsx(hs,{className:"h-7 w-7 flex-shrink-0",children:s.jsx(ms,{className:`text-[10px] font-medium ${gL(U.full_name)}`,children:pL(U.full_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-foreground truncate",children:U.full_name}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:U.email})]})]},U.id))})}),h.employee_ids.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:h.employee_ids.map(U=>{const q=a.find(Q=>Q.id===U);return s.jsxs($t,{variant:"secondary",className:"gap-1",children:[q==null?void 0:q.full_name,s.jsx("button",{type:"button",onClick:()=>{v({...h,employee_ids:h.employee_ids.filter(Q=>Q!==U)})},"data-testid":`button-remove-employee-${U}`,children:s.jsx(to,{className:"h-3 w-3"})})]},U)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Service / Role"}),s.jsxs(_t,{value:h.service_id,onValueChange:U=>v({...h,service_id:U}),children:[s.jsx(wt,{"data-testid":"select-assignment-service",children:s.jsx(jt,{placeholder:"Select a service"})}),s.jsx(bt,{children:l.map(U=>s.jsx(Ce,{value:U.id,children:U.name},U.id))})]})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>m(!1),"data-testid":"button-cancel-assignment",children:"Cancel"}),s.jsx(je,{type:"submit","data-testid":"button-create-assignment",children:"Create Assignment"})]})]})]})})]})}const vTe="modulepreload",xTe=function(e){return"/"+e},vL={},E5=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=xTe(c),c in vL)return;vL[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":vTe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}var _l=Uint8Array,Hs=Uint16Array,yP=Int32Array,wP=new _l([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bP=new _l([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xL=new _l([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JY=function(e,t){for(var r=new Hs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new yP(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},ZY=JY(wP,2),yTe=ZY.b,W4=ZY.r;yTe[28]=258,W4[258]=28;var wTe=JY(bP,0),yL=wTe.r,H4=new Hs(32768);for(var _n=0;_n<32768;++_n){var Wu=(_n&43690)>>1|(_n&21845)<<1;Wu=(Wu&52428)>>2|(Wu&13107)<<2,Wu=(Wu&61680)>>4|(Wu&3855)<<4,H4[_n]=((Wu&65280)>>8|(Wu&255)<<8)>>1}var _g=function(e,t,r){for(var n=e.length,i=0,a=new Hs(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new Hs(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new Hs(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],d=t-e[i],f=o[e[i]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)l[H4[f]>>c]=u}else for(l=new Hs(n),i=0;i<n;++i)e[i]&&(l[i]=H4[o[e[i]-1]++]>>15-e[i]);return l},oh=new _l(288);for(var _n=0;_n<144;++_n)oh[_n]=8;for(var _n=144;_n<256;++_n)oh[_n]=9;for(var _n=256;_n<280;++_n)oh[_n]=7;for(var _n=280;_n<288;++_n)oh[_n]=8;var Lb=new _l(32);for(var _n=0;_n<32;++_n)Lb[_n]=5;var bTe=_g(oh,9,0),_Te=_g(Lb,5,0),QY=function(e){return(e+7)/8|0},jTe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new _l(e.subarray(t,r))},Pc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Y0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},C5=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:tX,l:0};if(i==1){var o=new _l(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,C){return N.f-C.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,n=1;n<i;++n)a[n].s>m&&(m=a[n].s);var h=new Hs(m+1),v=q4(r[d-1],h,0);if(v>t){var n=0,g=0,x=v-t,y=1<<x;for(a.sort(function(C,S){return h[S.s]-h[C.s]||C.f-S.f});n<i;++n){var w=a[n].s;if(h[w]>t)g+=y-(1<<v-h[w]),h[w]=t;else break}for(g>>=x;g>0;){var _=a[n].s;h[_]<t?g-=1<<t-h[_]++-1:++n}for(;n>=0&&g;--n){var b=a[n].s;h[b]==t&&(--h[b],++g)}v=t}return{t:new _l(h),l:v}},q4=function(e,t,r){return e.s==-1?Math.max(q4(e.l,t,r+1),q4(e.r,t,r+1)):t[e.s]=r},wL=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Hs(++t),n=0,i=e[0],a=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:r.subarray(0,n),n:t}},X0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},eX=function(e,t,r){var n=r.length,i=QY(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},bL=function(e,t,r,n,i,a,o,l,c,u,d){Pc(t,d++,r),++i[256];for(var f=C5(i,15),m=f.t,h=f.l,v=C5(a,15),g=v.t,x=v.l,y=wL(m),w=y.c,_=y.n,b=wL(g),N=b.c,C=b.n,S=new Hs(19),A=0;A<w.length;++A)++S[w[A]&31];for(var A=0;A<N.length;++A)++S[N[A]&31];for(var k=C5(S,7),R=k.t,O=k.l,L=19;L>4&&!R[xL[L-1]];--L);var U=u+5<<3,q=X0(i,oh)+X0(a,Lb)+o,Q=X0(i,m)+X0(a,g)+o+14+3*L+X0(S,R)+2*S[16]+3*S[17]+7*S[18];if(c>=0&&U<=q&&U<=Q)return eX(t,d,e.subarray(c,c+u));var ie,z,H,X;if(Pc(t,d,1+(Q<q)),d+=2,Q<q){ie=_g(m,h,0),z=m,H=_g(g,x,0),X=g;var pe=_g(R,O,0);Pc(t,d,_-257),Pc(t,d+5,C-1),Pc(t,d+10,L-4),d+=14;for(var A=0;A<L;++A)Pc(t,d+3*A,R[xL[A]]);d+=3*L;for(var xe=[w,N],D=0;D<2;++D)for(var M=xe[D],A=0;A<M.length;++A){var T=M[A]&31;Pc(t,d,pe[T]),d+=R[T],T>15&&(Pc(t,d,M[A]>>5&127),d+=M[A]>>12)}}else ie=bTe,z=oh,H=_Te,X=Lb;for(var A=0;A<l;++A){var V=n[A];if(V>255){var T=V>>18&31;Y0(t,d,ie[T+257]),d+=z[T+257],T>7&&(Pc(t,d,V>>23&31),d+=wP[T]);var F=V&31;Y0(t,d,H[F]),d+=X[F],F>3&&(Y0(t,d,V>>5&8191),d+=bP[F])}else Y0(t,d,ie[V]),d+=z[V]}return Y0(t,d,ie[256]),d+z[256]},STe=new yP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tX=new _l(0),NTe=function(e,t,r,n,i,a){var o=a.z||e.length,l=new _l(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=a.l,d=(a.r||0)&7;if(t){d&&(c[0]=a.r>>3);for(var f=STe[t-1],m=f>>13,h=f&8191,v=(1<<r)-1,g=a.p||new Hs(32768),x=a.h||new Hs(v+1),y=Math.ceil(r/3),w=2*y,_=function(ze){return(e[ze]^e[ze+1]<<y^e[ze+2]<<w)&v},b=new yP(25e3),N=new Hs(288),C=new Hs(32),S=0,A=0,k=a.i||0,R=0,O=a.w||0,L=0;k+2<o;++k){var U=_(k),q=k&32767,Q=x[U];if(g[q]=Q,x[U]=q,O<=k){var ie=o-k;if((S>7e3||R>24576)&&(ie>423||!u)){d=bL(e,c,0,b,N,C,A,R,L,k-L,d),R=S=A=0,L=k;for(var z=0;z<286;++z)N[z]=0;for(var z=0;z<30;++z)C[z]=0}var H=2,X=0,pe=h,xe=q-Q&32767;if(ie>2&&U==_(k-xe))for(var D=Math.min(m,ie)-1,M=Math.min(32767,k),T=Math.min(258,ie);xe<=M&&--pe&&q!=Q;){if(e[k+H]==e[k+H-xe]){for(var V=0;V<T&&e[k+V]==e[k+V-xe];++V);if(V>H){if(H=V,X=xe,V>D)break;for(var F=Math.min(xe,V-2),W=0,z=0;z<F;++z){var te=k-xe+z&32767,Y=g[te],oe=te-Y&32767;oe>W&&(W=oe,Q=te)}}}q=Q,Q=g[q],xe+=q-Q&32767}if(X){b[R++]=268435456|W4[H]<<18|yL[X];var we=W4[H]&31,ve=yL[X]&31;A+=wP[we]+bP[ve],++N[257+we],++C[ve],O=k+H,++S}else b[R++]=e[k],++N[e[k]]}}for(k=Math.max(k,O);k<o;++k)b[R++]=e[k],++N[e[k]];d=bL(e,c,u,b,N,C,A,R,L,k-L,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=x,a.p=g,a.i=k,a.w=O)}else{for(var k=a.w||0;k<o+u;k+=65535){var He=k+65535;He>=o&&(c[d/8|0]=u,He=o),d=eX(c,d+1,e.subarray(k,He))}a.i=o}return jTe(l,0,n+QY(d)+i)},rX=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},kTe=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new _l(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return NTe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},nX=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ETe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=rX();i.p(t.dictionary),nX(e,2,i.d())}};function V4(e,t){t||(t={});var r=rX();r.p(e);var n=kTe(e,t,t.dictionary?6:2,4);return ETe(n,t),nX(n,n.length-4,r.d()),n}var CTe=typeof TextDecoder<"u"&&new TextDecoder,ATe=0;try{CTe.decode(tX,{stream:!0}),ATe=1}catch{}function PTe(e){if(Array.isArray(e))return e}function TTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _L(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function OTe(e,t){if(e){if(typeof e=="string")return _L(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_L(e,t):void 0}}function RTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jL(e,t){return PTe(e)||TTe(e,t)||OTe(e,t)||RTe()}function SL(e,t="utf8"){return new TextDecoder(t).decode(e)}const ITe=new TextEncoder;function DTe(e){return ITe.encode(e)}const LTe=1024*8,MTe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),A5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class _P{constructor(t=LTe,r={}){kr(this,"buffer");kr(this,"byteLength");kr(this,"byteOffset");kr(this,"length");kr(this,"offset");kr(this,"lastWrittenByte");kr(this,"littleEndian");kr(this,"_data");kr(this,"_mark");kr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof _P)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=A5[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===MTe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new A5[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new A5[r](a);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return SL(this.readBytes(t))}decodeText(t=1,r="utf8"){return SL(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(DTe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Jp(e){let t=e.length;for(;--t>=0;)e[t]=0}const FTe=3,$Te=258,iX=29,BTe=256,UTe=BTe+1+iX,aX=30,zTe=512,WTe=new Array((UTe+2)*2);Jp(WTe);const HTe=new Array(aX*2);Jp(HTe);const qTe=new Array(zTe);Jp(qTe);const VTe=new Array($Te-FTe+1);Jp(VTe);const GTe=new Array(iX);Jp(GTe);const KTe=new Array(aX);Jp(KTe);const YTe=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var G4=YTe;const XTe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},JTe=new Uint32Array(XTe()),ZTe=(e,t,r,n)=>{const i=JTe,a=n+r;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Fl=ZTe,K4={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sX={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const QTe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var eOe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)QTe(r,n)&&(e[n]=r[n])}}return e},tOe=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];r.set(o,i),i+=o.length}return r},oX={assign:eOe,flattenChunks:tOe};let lX=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lX=!1}const Sv=new Uint8Array(256);for(let e=0;e<256;e++)Sv[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Sv[254]=Sv[254]=1;var rOe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,o=e.length,l=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const nOe=(e,t)=>{if(t<65534&&e.subarray&&lX)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var iOe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){a[i++]=o;continue}let l=Sv[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return nOe(a,i)},aOe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Sv[e[r]]>t?r:t},Y4={string2buf:rOe,buf2string:iOe,utf8border:aOe};function sOe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var oOe=sOe;const n1=16209,lOe=16191;var cOe=function(t,r){let n,i,a,o,l,c,u,d,f,m,h,v,g,x,y,w,_,b,N,C,S,A,k,R;const O=t.state;n=t.next_in,k=t.input,i=n+(t.avail_in-5),a=t.next_out,R=t.output,o=a-(r-t.avail_out),l=a+(t.avail_out-257),c=O.dmax,u=O.wsize,d=O.whave,f=O.wnext,m=O.window,h=O.hold,v=O.bits,g=O.lencode,x=O.distcode,y=(1<<O.lenbits)-1,w=(1<<O.distbits)-1;e:do{v<15&&(h+=k[n++]<<v,v+=8,h+=k[n++]<<v,v+=8),_=g[h&y];t:for(;;){if(b=_>>>24,h>>>=b,v-=b,b=_>>>16&255,b===0)R[a++]=_&65535;else if(b&16){N=_&65535,b&=15,b&&(v<b&&(h+=k[n++]<<v,v+=8),N+=h&(1<<b)-1,h>>>=b,v-=b),v<15&&(h+=k[n++]<<v,v+=8,h+=k[n++]<<v,v+=8),_=x[h&w];r:for(;;){if(b=_>>>24,h>>>=b,v-=b,b=_>>>16&255,b&16){if(C=_&65535,b&=15,v<b&&(h+=k[n++]<<v,v+=8,v<b&&(h+=k[n++]<<v,v+=8)),C+=h&(1<<b)-1,C>c){t.msg="invalid distance too far back",O.mode=n1;break e}if(h>>>=b,v-=b,b=a-o,C>b){if(b=C-b,b>d&&O.sane){t.msg="invalid distance too far back",O.mode=n1;break e}if(S=0,A=m,f===0){if(S+=u-b,b<N){N-=b;do R[a++]=m[S++];while(--b);S=a-C,A=R}}else if(f<b){if(S+=u+f-b,b-=f,b<N){N-=b;do R[a++]=m[S++];while(--b);if(S=0,f<N){b=f,N-=b;do R[a++]=m[S++];while(--b);S=a-C,A=R}}}else if(S+=f-b,b<N){N-=b;do R[a++]=m[S++];while(--b);S=a-C,A=R}for(;N>2;)R[a++]=A[S++],R[a++]=A[S++],R[a++]=A[S++],N-=3;N&&(R[a++]=A[S++],N>1&&(R[a++]=A[S++]))}else{S=a-C;do R[a++]=R[S++],R[a++]=R[S++],R[a++]=R[S++],N-=3;while(N>2);N&&(R[a++]=R[S++],N>1&&(R[a++]=R[S++]))}}else if(b&64){t.msg="invalid distance code",O.mode=n1;break e}else{_=x[(_&65535)+(h&(1<<b)-1)];continue r}break}}else if(b&64)if(b&32){O.mode=lOe;break e}else{t.msg="invalid literal/length code",O.mode=n1;break e}else{_=g[(_&65535)+(h&(1<<b)-1)];continue t}break}}while(n<i&&a<l);N=v>>3,n-=N,v-=N<<3,h&=(1<<v)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<l?257+(l-a):257-(a-l),O.hold=h,O.bits=v};const im=15,NL=852,kL=592,EL=0,P5=1,CL=2,uOe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dOe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fOe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),hOe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),mOe=(e,t,r,n,i,a,o,l)=>{const c=l.bits;let u=0,d=0,f=0,m=0,h=0,v=0,g=0,x=0,y=0,w=0,_,b,N,C,S,A=null,k;const R=new Uint16Array(im+1),O=new Uint16Array(im+1);let L=null,U,q,Q;for(u=0;u<=im;u++)R[u]=0;for(d=0;d<n;d++)R[t[r+d]]++;for(h=c,m=im;m>=1&&R[m]===0;m--);if(h>m&&(h=m),m===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<m&&R[f]===0;f++);for(h<f&&(h=f),x=1,u=1;u<=im;u++)if(x<<=1,x-=R[u],x<0)return-1;if(x>0&&(e===EL||m!==1))return-1;for(O[1]=0,u=1;u<im;u++)O[u+1]=O[u]+R[u];for(d=0;d<n;d++)t[r+d]!==0&&(o[O[t[r+d]]++]=d);if(e===EL?(A=L=o,k=20):e===P5?(A=uOe,L=dOe,k=257):(A=fOe,L=hOe,k=0),w=0,d=0,u=f,S=a,v=h,g=0,N=-1,y=1<<h,C=y-1,e===P5&&y>NL||e===CL&&y>kL)return 1;for(;;){U=u-g,o[d]+1<k?(q=0,Q=o[d]):o[d]>=k?(q=L[o[d]-k],Q=A[o[d]-k]):(q=96,Q=0),_=1<<u-g,b=1<<v,f=b;do b-=_,i[S+(w>>g)+b]=U<<24|q<<16|Q|0;while(b!==0);for(_=1<<u-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,d++,--R[u]===0){if(u===m)break;u=t[r+o[d]]}if(u>h&&(w&C)!==N){for(g===0&&(g=h),S+=f,v=u-g,x=1<<v;v+g<m&&(x-=R[v+g],!(x<=0));)v++,x<<=1;if(y+=1<<v,e===P5&&y>NL||e===CL&&y>kL)return 1;N=w&C,i[N]=h<<24|v<<16|S-a|0}}return w!==0&&(i[S+w]=u-g<<24|64<<16|0),l.bits=h,0};var jg=mOe;const pOe=0,cX=1,uX=2,{Z_FINISH:AL,Z_BLOCK:gOe,Z_TREES:i1,Z_OK:lh,Z_STREAM_END:vOe,Z_NEED_DICT:xOe,Z_STREAM_ERROR:Oo,Z_DATA_ERROR:dX,Z_MEM_ERROR:fX,Z_BUF_ERROR:yOe,Z_DEFLATED:PL}=sX,lj=16180,TL=16181,OL=16182,RL=16183,IL=16184,DL=16185,LL=16186,ML=16187,FL=16188,$L=16189,Mb=16190,Tc=16191,T5=16192,BL=16193,O5=16194,UL=16195,zL=16196,WL=16197,HL=16198,a1=16199,s1=16200,qL=16201,VL=16202,GL=16203,KL=16204,YL=16205,R5=16206,XL=16207,JL=16208,En=16209,hX=16210,mX=16211,wOe=852,bOe=592,_Oe=15,jOe=_Oe,ZL=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function SOe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<lj||t.mode>mX?1:0},pX=e=>{if(jh(e))return Oo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=lj,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(wOe),t.distcode=t.distdyn=new Int32Array(bOe),t.sane=1,t.back=-1,lh},gX=e=>{if(jh(e))return Oo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,pX(e)},vX=(e,t)=>{let r;if(jh(e))return Oo;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Oo:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,gX(e))},xX=(e,t)=>{if(!e)return Oo;const r=new SOe;e.state=r,r.strm=e,r.window=null,r.mode=lj;const n=vX(e,t);return n!==lh&&(e.state=null),n},NOe=e=>xX(e,jOe);let QL=!0,I5,D5;const kOe=e=>{if(QL){I5=new Int32Array(512),D5=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(jg(cX,e.lens,0,288,I5,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;jg(uX,e.lens,0,32,D5,0,e.work,{bits:5}),QL=!1}e.lencode=I5,e.lenbits=9,e.distcode=D5,e.distbits=5},yX=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},EOe=(e,t)=>{let r,n,i,a,o,l,c,u,d,f,m,h,v,g,x=0,y,w,_,b,N,C,S,A;const k=new Uint8Array(4);let R,O;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jh(e)||!e.output||!e.input&&e.avail_in!==0)return Oo;r=e.state,r.mode===Tc&&(r.mode=T5),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,f=l,m=c,A=lh;e:for(;;)switch(r.mode){case lj:if(r.wrap===0){r.mode=T5;break}for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=u&255,k[1]=u>>>8&255,r.check=Fl(r.check,k,2,0),u=0,d=0,r.mode=TL;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=En;break}if((u&15)!==PL){e.msg="unknown compression method",r.mode=En;break}if(u>>>=4,d-=4,S=(u&15)+8,r.wbits===0&&(r.wbits=S),S>15||S>r.wbits){e.msg="invalid window size",r.mode=En;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?$L:Tc,u=0,d=0;break;case TL:for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==PL){e.msg="unknown compression method",r.mode=En;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=En;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=Fl(r.check,k,2,0)),u=0,d=0,r.mode=OL;case OL:for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,r.check=Fl(r.check,k,4,0)),u=0,d=0,r.mode=RL;case RL:for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=Fl(r.check,k,2,0)),u=0,d=0,r.mode=IL;case IL:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=Fl(r.check,k,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=DL;case DL:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(S=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),S)),r.flags&512&&r.wrap&4&&(r.check=Fl(r.check,n,h,a)),l-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=LL;case LL:if(r.flags&2048){if(l===0)break e;h=0;do S=n[a+h++],r.head&&S&&r.length<65536&&(r.head.name+=String.fromCharCode(S));while(S&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Fl(r.check,n,h,a)),l-=h,a+=h,S)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=ML;case ML:if(r.flags&4096){if(l===0)break e;h=0;do S=n[a+h++],r.head&&S&&r.length<65536&&(r.head.comment+=String.fromCharCode(S));while(S&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Fl(r.check,n,h,a)),l-=h,a+=h,S)break e}else r.head&&(r.head.comment=null);r.mode=FL;case FL:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=En;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Tc;break;case $L:for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}e.adler=r.check=ZL(u),u=0,d=0,r.mode=Mb;case Mb:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=u,r.bits=d,xOe;e.adler=r.check=1,r.mode=Tc;case Tc:if(t===gOe||t===i1)break e;case T5:if(r.last){u>>>=d&7,d-=d&7,r.mode=R5;break}for(;d<3;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=BL;break;case 1:if(kOe(r),r.mode=a1,t===i1){u>>>=2,d-=2;break e}break;case 2:r.mode=zL;break;case 3:e.msg="invalid block type",r.mode=En}u>>>=2,d-=2;break;case BL:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=En;break}if(r.length=u&65535,u=0,d=0,r.mode=O5,t===i1)break e;case O5:r.mode=UL;case UL:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;i.set(n.subarray(a,a+h),o),l-=h,a+=h,c-=h,o+=h,r.length-=h;break}r.mode=Tc;break;case zL:for(;d<14;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=En;break}r.have=0,r.mode=WL;case WL:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.lens[L[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},A=jg(pOe,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,A){e.msg="invalid code lengths set",r.mode=En;break}r.have=0,r.mode=HL;case HL:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(_<16)u>>>=y,d-=y,r.lens[r.have++]=_;else{if(_===16){for(O=y+2;d<O;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(u>>>=y,d-=y,r.have===0){e.msg="invalid bit length repeat",r.mode=En;break}S=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(_===17){for(O=y+3;d<O;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=y,d-=y,S=0,h=3+(u&7),u>>>=3,d-=3}else{for(O=y+7;d<O;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=y,d-=y,S=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=En;break}for(;h--;)r.lens[r.have++]=S}}if(r.mode===En)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=En;break}if(r.lenbits=9,R={bits:r.lenbits},A=jg(cX,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,A){e.msg="invalid literal/lengths set",r.mode=En;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},A=jg(uX,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,A){e.msg="invalid distances set",r.mode=En;break}if(r.mode=a1,t===i1)break e;case a1:r.mode=s1;case s1:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=u,r.bits=d,cOe(e,m),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===Tc&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(w&&!(w&240)){for(b=y,N=w,C=_;x=r.lencode[C+((u&(1<<b+N)-1)>>b)],y=x>>>24,w=x>>>16&255,_=x&65535,!(b+y<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=b,d-=b,r.back+=b}if(u>>>=y,d-=y,r.back+=y,r.length=_,w===0){r.mode=YL;break}if(w&32){r.back=-1,r.mode=Tc;break}if(w&64){e.msg="invalid literal/length code",r.mode=En;break}r.extra=w&15,r.mode=qL;case qL:if(r.extra){for(O=r.extra;d<O;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=VL;case VL:for(;x=r.distcode[u&(1<<r.distbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(!(w&240)){for(b=y,N=w,C=_;x=r.distcode[C+((u&(1<<b+N)-1)>>b)],y=x>>>24,w=x>>>16&255,_=x&65535,!(b+y<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=b,d-=b,r.back+=b}if(u>>>=y,d-=y,r.back+=y,w&64){e.msg="invalid distance code",r.mode=En;break}r.offset=_,r.extra=w&15,r.mode=GL;case GL:if(r.extra){for(O=r.extra;d<O;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=En;break}r.mode=KL;case KL:if(c===0)break e;if(h=m-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=En;break}h>r.wnext?(h-=r.wnext,v=r.wsize-h):v=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=i,v=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do i[o++]=g[v++];while(--h);r.length===0&&(r.mode=s1);break;case YL:if(c===0)break e;i[o++]=r.length,c--,r.mode=s1;break;case R5:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[a++]<<d,d+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Fl(r.check,i,m,o-m):G4(r.check,i,m,o-m)),m=c,r.wrap&4&&(r.flags?u:ZL(u))!==r.check){e.msg="incorrect data check",r.mode=En;break}u=0,d=0}r.mode=XL;case XL:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=En;break}u=0,d=0}r.mode=JL;case JL:A=vOe;break e;case En:A=dX;break e;case hX:return fX;case mX:default:return Oo}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<En&&(r.mode<R5||t!==AL))&&yX(e,e.output,e.next_out,m-e.avail_out),f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Fl(r.check,i,m,e.next_out-m):G4(r.check,i,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Tc?128:0)+(r.mode===a1||r.mode===O5?256:0),(f===0&&m===0||t===AL)&&A===lh&&(A=yOe),A},COe=e=>{if(jh(e))return Oo;let t=e.state;return t.window&&(t.window=null),e.state=null,lh},AOe=(e,t)=>{if(jh(e))return Oo;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,lh):Oo},POe=(e,t)=>{const r=t.length;let n,i,a;return jh(e)||(n=e.state,n.wrap!==0&&n.mode!==Mb)?Oo:n.mode===Mb&&(i=1,i=G4(i,t,r,0),i!==n.check)?dX:(a=yX(e,t,r,r),a?(n.mode=hX,fX):(n.havedict=1,lh))};var TOe=gX,OOe=vX,ROe=pX,IOe=NOe,DOe=xX,LOe=EOe,MOe=COe,FOe=AOe,$Oe=POe,BOe="pako inflate (from Nodeca project)",Lc={inflateReset:TOe,inflateReset2:OOe,inflateResetKeep:ROe,inflateInit:IOe,inflateInit2:DOe,inflate:LOe,inflateEnd:MOe,inflateGetHeader:FOe,inflateSetDictionary:$Oe,inflateInfo:BOe};function UOe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zOe=UOe;const wX=Object.prototype.toString,{Z_NO_FLUSH:WOe,Z_FINISH:HOe,Z_OK:Nv,Z_STREAM_END:L5,Z_NEED_DICT:M5,Z_STREAM_ERROR:qOe,Z_DATA_ERROR:eM,Z_MEM_ERROR:VOe}=sX;function _x(e){this.options=oX.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oOe,this.strm.avail_out=0;let r=Lc.inflateInit2(this.strm,t.windowBits);if(r!==Nv)throw new Error(K4[r]);if(this.header=new zOe,Lc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Y4.string2buf(t.dictionary):wX.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Lc.inflateSetDictionary(this.strm,t.dictionary),r!==Nv)))throw new Error(K4[r])}_x.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?HOe:WOe,wX.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Lc.inflate(r,o),a===M5&&i&&(a=Lc.inflateSetDictionary(r,i),a===Nv?a=Lc.inflate(r,o):a===eM&&(a=M5));r.avail_in>0&&a===L5&&r.state.wrap>0&&e[r.next_in]!==0;)Lc.inflateReset(r),a=Lc.inflate(r,o);switch(a){case qOe:case eM:case M5:case VOe:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===L5))if(this.options.to==="string"){let c=Y4.utf8border(r.output,r.next_out),u=r.next_out-c,d=Y4.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Nv&&l===0)){if(a===L5)return a=Lc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};_x.prototype.onData=function(e){this.chunks.push(e)};_x.prototype.onEnd=function(e){e===Nv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=oX.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function GOe(e,t){const r=new _x(t);if(r.push(e),r.err)throw r.msg||K4[r.err];return r.result}var KOe=_x,YOe=GOe,XOe={Inflate:KOe,inflate:YOe};const{Inflate:JOe,inflate:ZOe}=XOe;var tM=JOe,QOe=ZOe;const bX=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;bX[e]=t}const rM=4294967295;function e6e(e,t,r){let n=e;for(let i=0;i<r;i++)n=bX[(n^t[i])&255]^n>>>8;return n}function t6e(e,t){return(e6e(rM,e,t)^rM)>>>0}function nM(e,t,r){const n=e.readUint32(),i=t6e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function _X(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function jX(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function SX(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function NX(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function kX(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+r6e(t[a-i],r[a],r[a-i])&255}}function r6e(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-r);return i<=a&&i<=o?e:a<=o?t:r}function n6e(e,t,r,n,i,a){switch(e){case 0:_X(t,r,i);break;case 1:jX(t,r,i,a);break;case 2:SX(t,r,n,i);break;case 3:NX(t,r,n,i,a);break;case 4:kX(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const i6e=new Uint16Array([255]),a6e=new Uint8Array(i6e.buffer),s6e=a6e[0]===255;function o6e(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=o[d],m=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(m<=0||h<=0)continue;const v=m*l,g=new Uint8Array(v);for(let x=0;x<h;x++){const y=t[u++],w=t.subarray(u,u+v);u+=v;const _=new Uint8Array(v);n6e(y,w,_,g,v,l),g.set(_);for(let b=0;b<m;b++){const N=f.x+b*f.xStep,C=f.y+x*f.yStep;if(!(N>=r||C>=n))for(let S=0;S<l;S++)c[(C*r+N)*l+S]=_[b*l+S]}}}if(a===16){const d=new Uint16Array(c.buffer);if(s6e)for(let f=0;f<d.length;f++)d[f]=l6e(d[f]);return d}else return c}function l6e(e){return(e&255)<<8|e>>8&255}const c6e=new Uint16Array([255]),u6e=new Uint8Array(c6e.buffer),d6e=u6e[0]===255,f6e=new Uint8Array(0);function iM(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let u=f6e,d=0,f,m;for(let h=0;h<n;h++){switch(f=t.subarray(d+1,d+1+l),m=c.subarray(h*l,(h+1)*l),t[d]){case 0:_X(f,m,l);break;case 1:jX(f,m,l,o);break;case 2:SX(f,m,u,l);break;case 3:NX(f,m,u,l,o);break;case 4:kX(f,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=l+1}if(a===16){const h=new Uint16Array(c.buffer);if(d6e)for(let v=0;v<h.length;v++)h[v]=h6e(h[v]);return h}else return c}function h6e(e){return(e&255)<<8|e>>8&255}const W1=Uint8Array.of(137,80,78,71,13,10,26,10);function aM(e){if(!m6e(e.readBytes(W1.length)))throw new Error("wrong PNG signature")}function m6e(e){if(e.length<W1.length)return!1;for(let t=0;t<W1.length;t++)if(e[t]!==W1[t])return!1;return!0}const p6e="tEXt",g6e=0,EX=new TextDecoder("latin1");function v6e(e){if(y6e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const x6e=/^[\u0000-\u00FF]*$/;function y6e(e){if(!x6e.test(e))throw new Error("invalid latin1 text")}function w6e(e,t,r){const n=CX(t);e[n]=b6e(t,r-n.length-1)}function CX(e){for(e.mark();e.readByte()!==g6e;);const t=e.offset;e.reset();const r=EX.decode(e.readBytes(t-e.offset-1));return e.skip(1),v6e(r),r}function b6e(e,t){return EX.decode(e.readBytes(t))}const Ps={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},F5={UNKNOWN:-1,DEFLATE:0},sM={UNKNOWN:-1,ADAPTIVE:0},$5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},o1={NONE:0,BACKGROUND:1,PREVIOUS:2},B5={SOURCE:0,OVER:1};class _6e extends _P{constructor(r,n={}){super(r);kr(this,"_checkCrc");kr(this,"_inflator");kr(this,"_png");kr(this,"_apng");kr(this,"_end");kr(this,"_hasPalette");kr(this,"_palette");kr(this,"_hasTransparency");kr(this,"_transparency");kr(this,"_compressionMethod");kr(this,"_filterMethod");kr(this,"_interlaceMethod");kr(this,"_colorType");kr(this,"_isAnimated");kr(this,"_numberOfFrames");kr(this,"_numberOfPlays");kr(this,"_frames");kr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new tM,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=F5.UNKNOWN,this._filterMethod=sM.UNKNOWN,this._interlaceMethod=$5.UNKNOWN,this._colorType=Ps.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(aM(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(aM(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case p6e:w6e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?nM(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?nM(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=j6e(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ps.GREYSCALE:i=1;break;case Ps.TRUECOLOUR:i=3;break;case Ps.INDEXED_COLOUR:i=1;break;case Ps.GREYSCALE_ALPHA:i=2;break;case Ps.TRUECOLOUR_ALPHA:i=4;break;case Ps.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==F5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ps.GREYSCALE:case Ps.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ps.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ps.UNKNOWN:case Ps.GREYSCALE_ALPHA:case Ps.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=CX(this),i=this.readUint8();if(i!==F5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:QOe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=iM({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case o1.NONE:break;case o1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case o1.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case B5.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case B5.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/i,m=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*m+(1-f)*r.data[c+d]);r.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==sM.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$5.NO_INTERLACE)this._png.data=iM({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$5.ADAM7)this._png.data=o6e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:o1.NONE,blendOp:B5.SOURCE,data:r}),this._inflator=new tM,this._writingDataChunks=!1}}function j6e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var oM;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(oM||(oM={}));function S6e(e,t){return new _6e(e,t).decode()}var ir=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function U5(){ir.console&&typeof ir.console.log=="function"&&ir.console.log.apply(ir.console,arguments)}var un={log:U5,warn:function(e){ir.console&&(typeof ir.console.warn=="function"?ir.console.warn.apply(ir.console,arguments):U5.call(null,arguments))},error:function(e){ir.console&&(typeof ir.console.error=="function"?ir.console.error.apply(ir.console,arguments):U5(e))}};function z5(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){yf(n.response,t,r)},n.onerror=function(){un.error("could not download file")},n.send()}function lM(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function l1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var yf=ir.saveAs||((typeof window>"u"?"undefined":Yr(window))!=="object"||window!==ir?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ir.URL||ir.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?lM(i.href)?z5(e,t,r):l1(i,i.target="_blank"):l1(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){l1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(lM(e))z5(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){l1(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Yr(a)!=="object"&&(un.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return z5(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(ir.HTMLElement)||ir.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Yr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=ir.URL||ir.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function AX(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var H1=ir.atob.bind(ir),cM=ir.btoa.bind(ir);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function W5(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Ea(r,n,i,a,t[0],7,-680876936),a=Ea(a,r,n,i,t[1],12,-389564586),i=Ea(i,a,r,n,t[2],17,606105819),n=Ea(n,i,a,r,t[3],22,-1044525330),r=Ea(r,n,i,a,t[4],7,-176418897),a=Ea(a,r,n,i,t[5],12,1200080426),i=Ea(i,a,r,n,t[6],17,-1473231341),n=Ea(n,i,a,r,t[7],22,-45705983),r=Ea(r,n,i,a,t[8],7,1770035416),a=Ea(a,r,n,i,t[9],12,-1958414417),i=Ea(i,a,r,n,t[10],17,-42063),n=Ea(n,i,a,r,t[11],22,-1990404162),r=Ea(r,n,i,a,t[12],7,1804603682),a=Ea(a,r,n,i,t[13],12,-40341101),i=Ea(i,a,r,n,t[14],17,-1502002290),r=Ca(r,n=Ea(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Ca(a,r,n,i,t[6],9,-1069501632),i=Ca(i,a,r,n,t[11],14,643717713),n=Ca(n,i,a,r,t[0],20,-373897302),r=Ca(r,n,i,a,t[5],5,-701558691),a=Ca(a,r,n,i,t[10],9,38016083),i=Ca(i,a,r,n,t[15],14,-660478335),n=Ca(n,i,a,r,t[4],20,-405537848),r=Ca(r,n,i,a,t[9],5,568446438),a=Ca(a,r,n,i,t[14],9,-1019803690),i=Ca(i,a,r,n,t[3],14,-187363961),n=Ca(n,i,a,r,t[8],20,1163531501),r=Ca(r,n,i,a,t[13],5,-1444681467),a=Ca(a,r,n,i,t[2],9,-51403784),i=Ca(i,a,r,n,t[7],14,1735328473),r=Aa(r,n=Ca(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Aa(a,r,n,i,t[8],11,-2022574463),i=Aa(i,a,r,n,t[11],16,1839030562),n=Aa(n,i,a,r,t[14],23,-35309556),r=Aa(r,n,i,a,t[1],4,-1530992060),a=Aa(a,r,n,i,t[4],11,1272893353),i=Aa(i,a,r,n,t[7],16,-155497632),n=Aa(n,i,a,r,t[10],23,-1094730640),r=Aa(r,n,i,a,t[13],4,681279174),a=Aa(a,r,n,i,t[0],11,-358537222),i=Aa(i,a,r,n,t[3],16,-722521979),n=Aa(n,i,a,r,t[6],23,76029189),r=Aa(r,n,i,a,t[9],4,-640364487),a=Aa(a,r,n,i,t[12],11,-421815835),i=Aa(i,a,r,n,t[15],16,530742520),r=Pa(r,n=Aa(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Pa(a,r,n,i,t[7],10,1126891415),i=Pa(i,a,r,n,t[14],15,-1416354905),n=Pa(n,i,a,r,t[5],21,-57434055),r=Pa(r,n,i,a,t[12],6,1700485571),a=Pa(a,r,n,i,t[3],10,-1894986606),i=Pa(i,a,r,n,t[10],15,-1051523),n=Pa(n,i,a,r,t[1],21,-2054922799),r=Pa(r,n,i,a,t[8],6,1873313359),a=Pa(a,r,n,i,t[15],10,-30611744),i=Pa(i,a,r,n,t[6],15,-1560198380),n=Pa(n,i,a,r,t[13],21,1309151649),r=Pa(r,n,i,a,t[4],6,-145523070),a=Pa(a,r,n,i,t[11],10,-1120210379),i=Pa(i,a,r,n,t[2],15,718787259),n=Pa(n,i,a,r,t[9],21,-343485551),e[0]=od(r,e[0]),e[1]=od(n,e[1]),e[2]=od(i,e[2]),e[3]=od(a,e[3])}function cj(e,t,r,n,i,a){return t=od(od(t,e),od(n,a)),od(t<<i|t>>>32-i,r)}function Ea(e,t,r,n,i,a,o){return cj(t&r|~t&n,e,t,i,a,o)}function Ca(e,t,r,n,i,a,o){return cj(t&n|r&~n,e,t,i,a,o)}function Aa(e,t,r,n,i,a,o){return cj(t^r^n,e,t,i,a,o)}function Pa(e,t,r,n,i,a,o){return cj(r^(t|~n),e,t,i,a,o)}function PX(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)W5(n,N6e(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(W5(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,W5(n,i),n}function N6e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var uM="0123456789abcdef".split("");function k6e(e){for(var t="",r=0;r<4;r++)t+=uM[e>>8*r+4&15]+uM[e>>8*r&15];return t}function E6e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function X4(e){return PX(e).map(E6e).join("")}var C6e=function(e){for(var t=0;t<e.length;t++)e[t]=k6e(e[t]);return e.join("")}(PX("hello"))!="5d41402abc4b2a76b9719d911017c592";function od(e,t){if(C6e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function J4(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,m=0,h=0,v="";for(c=0;c<f;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dM={print:4,modify:8,copy:16,"annot-forms":32};function mm(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(dM.perm!==void 0)throw new Error("Invalid permission: "+l);i+=dM[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=X4(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=J4(this.encryptionKey,this.padding)}function pm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function fM(e){if(Yr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(l){ir.console&&un.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Fb(e){if(!(this instanceof Fb))return new Fb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function TX(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function _f(e,t,r,n,i){if(!(this instanceof _f))return new _f(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,TX.call(this,n,i)}function Rm(e,t,r,n,i){if(!(this instanceof Rm))return new Rm(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,TX.call(this,n,i)}function Wt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",d=null;Yr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=fM;var v="1.3",g=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(P){v=P};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var y=h.__private__.getPageFormat=function(P){return x[P]};i=i||"a4";var w="compat",_="advanced",b=w;function N(){this.saveGraphicsState(),ne(new Kt(Ve,0,0,-Ve,0,Jd()*Ve).toString()+" cm"),this.setFontSize(this.getFontSize()/Ve),u="n",b=_}function C(){this.restoreGraphicsState(),u="S",b=w}var S=h.__private__.combineFontStyleAndFontWeight=function(P,G){if(P=="bold"&&G=="normal"||P=="bold"&&G==400||P=="normal"&&G=="italic"||P=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(P=G==400||G==="normal"?P==="italic"?"italic":"normal":G!=700&&G!=="bold"||P!=="normal"?(G==700?"bold":G)+""+P:"bold"),P};h.advancedAPI=function(P){var G=b===w;return G&&N.call(this),typeof P!="function"||(P(this),G&&C.call(this)),this},h.compatAPI=function(P){var G=b===_;return G&&C.call(this),typeof P!="function"||(P(this),G&&N.call(this)),this},h.isAdvancedAPI=function(){return b===_};var A,k=function(P){if(b!==_)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=h.roundToPrecision=h.__private__.roundToPrecision=function(P,G){var he=t||G;if(isNaN(P)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(he).replace(/0+$/,"")};A=h.hpf=h.__private__.hpf=typeof c=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return R(P,c)}:c==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return R(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return R(P,16)};var O=h.f2=h.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return R(P,2)},L=h.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return R(P,3)},U=h.scale=h.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return b===w?P*Ve:b===_?P:void 0},q=function(P){return U(function(G){return b===w?Jd()-G:b===_?G:void 0}(P))};h.__private__.setPrecision=h.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var Q,ie="00000000000000000000000000000000",z=h.__private__.getFileId=function(){return ie},H=h.__private__.setFileId=function(P){return ie=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ni=new mm(d.userPermissions,d.userPassword,d.ownerPassword,ie)),ie};h.setFileId=function(P){return H(P),this},h.getFileId=function(){return z()};var X=h.__private__.convertDateToPDFDate=function(P){var G=P.getTimezoneOffset(),he=G<0?"+":"-",_e=Math.floor(Math.abs(G/60)),Ee=Math.abs(G%60),Xe=[he,T(_e),"'",T(Ee),"'"].join("");return["D:",P.getFullYear(),T(P.getMonth()+1),T(P.getDate()),T(P.getHours()),T(P.getMinutes()),T(P.getSeconds()),Xe].join("")},pe=h.__private__.convertPDFDateToDate=function(P){var G=parseInt(P.substr(2,4),10),he=parseInt(P.substr(6,2),10)-1,_e=parseInt(P.substr(8,2),10),Ee=parseInt(P.substr(10,2),10),Xe=parseInt(P.substr(12,2),10),Qe=parseInt(P.substr(14,2),10);return new Date(G,he,_e,Ee,Xe,Qe,0)},xe=h.__private__.setCreationDate=function(P){var G;if(P===void 0&&(P=new Date),P instanceof Date)G=X(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=P}return Q=G},D=h.__private__.getCreationDate=function(P){var G=Q;return P==="jsDate"&&(G=pe(Q)),G};h.setCreationDate=function(P){return xe(P),this},h.getCreationDate=function(P){return D(P)};var M,T=h.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},V=h.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},F=0,W=[],te=[],Y=0,oe=[],we=[],ve=!1,He=te;h.__private__.setCustomOutputDestination=function(P){ve=!0,He=P};var ze=function(P){ve||(He=P)};h.__private__.resetCustomOutputDestination=function(){ve=!1,He=te};var ne=h.__private__.out=function(P){return P=P.toString(),Y+=P.length+1,He.push(P),He},Be=h.__private__.write=function(P){return ne(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},qe=h.__private__.getArrayBuffer=function(P){for(var G=P.length,he=new ArrayBuffer(G),_e=new Uint8Array(he);G--;)_e[G]=P.charCodeAt(G);return he},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return rt};var Pe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(P){return Pe=b===_?P/Ve:P,this};var ct,at=h.__private__.getFontSize=h.getFontSize=function(){return b===w?Pe:Pe*Ve},Rt=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(P){return Rt=P,this},h.__private__.getR2L=h.getR2L=function(){return Rt};var It,Zt=h.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))ct=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');ct=P}else ct=parseInt(P,10)};h.__private__.getZoomMode=function(){return ct};var or,Yt=h.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');It=P};h.__private__.getPageMode=function(){return It};var dr=h.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');or=P};h.__private__.getLayoutMode=function(){return or},h.__private__.setDisplayMode=h.setDisplayMode=function(P,G,he){return Zt(P),dr(G),Yt(he),this};var rr={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(P){if(Object.keys(rr).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rr[P]},h.__private__.getDocumentProperties=function(){return rr},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(P){for(var G in rr)rr.hasOwnProperty(G)&&P[G]&&(rr[G]=P[G]);return this},h.__private__.setDocumentProperty=function(P,G){if(Object.keys(rr).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rr[P]=G};var ye,Ve,tt,Qt,Dt,Vt={},Bt={},Ar=[],yt={},wr={},Gt={},er={},zr=null,Xt=0,Ht=[],Sr=new fM(h),hc=e.hotfixes||[],zi={},$o={},no=[],Kt=function P(G,he,_e,Ee,Xe,Qe){if(!(this instanceof P))return new P(G,he,_e,Ee,Xe,Qe);isNaN(G)&&(G=1),isNaN(he)&&(he=0),isNaN(_e)&&(_e=0),isNaN(Ee)&&(Ee=1),isNaN(Xe)&&(Xe=0),isNaN(Qe)&&(Qe=0),this._matrix=[G,he,_e,Ee,Xe,Qe]};Object.defineProperty(Kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Kt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(P)},Kt.prototype.multiply=function(P){var G=P.sx*this.sx+P.shy*this.shx,he=P.sx*this.shy+P.shy*this.sy,_e=P.shx*this.sx+P.sy*this.shx,Ee=P.shx*this.shy+P.sy*this.sy,Xe=P.tx*this.sx+P.ty*this.shx+this.tx,Qe=P.tx*this.shy+P.ty*this.sy+this.ty;return new Kt(G,he,_e,Ee,Xe,Qe)},Kt.prototype.decompose=function(){var P=this.sx,G=this.shy,he=this.shx,_e=this.sy,Ee=this.tx,Xe=this.ty,Qe=Math.sqrt(P*P+G*G),Lt=(P/=Qe)*he+(G/=Qe)*_e;he-=P*Lt,_e-=G*Lt;var Ut=Math.sqrt(he*he+_e*_e);return Lt/=Ut,P*(_e/=Ut)<G*(he/=Ut)&&(P=-P,G=-G,Lt=-Lt,Qe=-Qe),{scale:new Kt(Qe,0,0,Ut,0,0),translate:new Kt(1,0,0,1,Ee,Xe),rotate:new Kt(P,G,-G,P,0,0),skew:new Kt(1,0,Lt,1,0,0)}},Kt.prototype.toString=function(P){return this.join(" ")},Kt.prototype.inversed=function(){var P=this.sx,G=this.shy,he=this.shx,_e=this.sy,Ee=this.tx,Xe=this.ty,Qe=1/(P*_e-G*he),Lt=_e*Qe,Ut=-G*Qe,ar=-he*Qe,fr=P*Qe;return new Kt(Lt,Ut,ar,fr,-Lt*Ee-ar*Xe,-Ut*Ee-fr*Xe)},Kt.prototype.applyToPoint=function(P){var G=P.x*this.sx+P.y*this.shx+this.tx,he=P.x*this.shy+P.y*this.sy+this.ty;return new xc(G,he)},Kt.prototype.applyToRectangle=function(P){var G=this.applyToPoint(P),he=this.applyToPoint(new xc(P.x+P.w,P.y+P.h));return new o0(G.x,G.y,he.x-G.x,he.y-G.y)},Kt.prototype.clone=function(){var P=this.sx,G=this.shy,he=this.shx,_e=this.sy,Ee=this.tx,Xe=this.ty;return new Kt(P,G,he,_e,Ee,Xe)},h.Matrix=Kt;var Bo=h.matrixMult=function(P,G){return G.multiply(P)},Uo=new Kt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Uo;var ja=function(P,G){if(!wr[P]){var he=(G instanceof _f?"Sh":"P")+(Object.keys(yt).length+1).toString(10);G.id=he,wr[P]=he,yt[he]=G,Sr.publish("addPattern",G)}};h.ShadingPattern=_f,h.TilingPattern=Rm,h.addShadingPattern=function(P,G){return k("addShadingPattern()"),ja(P,G),this},h.beginTilingPattern=function(P){k("beginTilingPattern()"),l0(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},h.endTilingPattern=function(P,G){k("endTilingPattern()"),G.stream=we[M].join(`
`),ja(P,G),Sr.publish("endTilingPattern",G),no.pop().restore()};var rs,kn=h.__private__.newObject=function(){var P=ui();return J(P,!0),P},ui=h.__private__.newObjectDeferred=function(){return F++,W[F]=function(){return Y},F},J=function(P,G){return G=typeof G=="boolean"&&G,W[P]=Y,G&&ne(P+" 0 obj"),P},de=h.__private__.newAdditionalObject=function(){var P={objId:ui(),content:""};return oe.push(P),P},ae=ui(),le=ui(),fe=h.__private__.decodeColorString=function(P){var G=P.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var he=parseFloat(G[0]);G=[he,he,he,"r"]}for(var _e="#",Ee=0;Ee<3;Ee++)_e+=("0"+Math.floor(255*parseFloat(G[Ee])).toString(16)).slice(-2);return _e},me=h.__private__.encodeColorString=function(P){var G;typeof P=="string"&&(P={ch1:P});var he=P.ch1,_e=P.ch2,Ee=P.ch3,Xe=P.ch4,Qe=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var Lt=new AX(he);if(Lt.ok)he=Lt.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var Ut=parseInt(he.substr(1),16);he=Ut>>16&255,_e=Ut>>8&255,Ee=255&Ut}if(_e===void 0||Xe===void 0&&he===_e&&_e===Ee)G=typeof he=="string"?he+" "+Qe[0]:P.precision===2?O(he/255)+" "+Qe[0]:L(he/255)+" "+Qe[0];else if(Xe===void 0||Yr(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",Qe[1]].join(" ");G=typeof he=="string"?[he,_e,Ee,Qe[1]].join(" "):P.precision===2?[O(he/255),O(_e/255),O(Ee/255),Qe[1]].join(" "):[L(he/255),L(_e/255),L(Ee/255),Qe[1]].join(" ")}else G=typeof he=="string"?[he,_e,Ee,Xe,Qe[2]].join(" "):P.precision===2?[O(he),O(_e),O(Ee),O(Xe),Qe[2]].join(" "):[L(he),L(_e),L(Ee),L(Xe),Qe[2]].join(" ");return G},Te=h.__private__.getFilters=function(){return o},Ue=h.__private__.putStream=function(P){var G=(P=P||{}).data||"",he=P.filters||Te(),_e=P.alreadyAppliedFilters||[],Ee=P.addLength1||!1,Xe=G.length,Qe=P.objectId,Lt=function(ki){return ki};if(d!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Lt=Ni.encryptor(Qe,0));var Ut={};he===!0&&(he=["FlateEncode"]);var ar=P.additionalKeyValues||[],fr=(Ut=Wt.API.processDataByFilters!==void 0?Wt.API.processDataByFilters(G,he):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(_e)?_e.join(" "):_e.toString());if(Ut.data.length!==0&&(ar.push({key:"Length",value:Ut.data.length}),Ee===!0&&ar.push({key:"Length1",value:Xe})),fr.length!=0)if(fr.split("/").length-1==1)ar.push({key:"Filter",value:fr});else{ar.push({key:"Filter",value:"["+fr+"]"});for(var Pr=0;Pr<ar.length;Pr+=1)if(ar[Pr].key==="DecodeParms"){for(var On=[],hi=0;hi<Ut.reverseChain.split("/").length-1;hi+=1)On.push("null");On.push(ar[Pr].value),ar[Pr].value="["+On.join(" ")+"]"}}ne("<<");for(var hn=0;hn<ar.length;hn++)ne("/"+ar[hn].key+" "+ar[hn].value);ne(">>"),Ut.data.length!==0&&(ne("stream"),ne(Lt(Ut.data)),ne("endstream"))},Oe=h.__private__.putPage=function(P){var G=P.number,he=P.data,_e=P.objId,Ee=P.contentsObjId;J(_e,!0),ne("<</Type /Page"),ne("/Parent "+P.rootDictionaryObjId+" 0 R"),ne("/Resources "+P.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(A(P.mediaBox.bottomLeftX))+" "+parseFloat(A(P.mediaBox.bottomLeftY))+" "+A(P.mediaBox.topRightX)+" "+A(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&ne("/CropBox ["+A(P.cropBox.bottomLeftX)+" "+A(P.cropBox.bottomLeftY)+" "+A(P.cropBox.topRightX)+" "+A(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&ne("/BleedBox ["+A(P.bleedBox.bottomLeftX)+" "+A(P.bleedBox.bottomLeftY)+" "+A(P.bleedBox.topRightX)+" "+A(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&ne("/TrimBox ["+A(P.trimBox.bottomLeftX)+" "+A(P.trimBox.bottomLeftY)+" "+A(P.trimBox.topRightX)+" "+A(P.trimBox.topRightY)+"]"),P.artBox!==null&&ne("/ArtBox ["+A(P.artBox.bottomLeftX)+" "+A(P.artBox.bottomLeftY)+" "+A(P.artBox.topRightX)+" "+A(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&ne("/UserUnit "+P.userUnit),Sr.publish("putPage",{objId:_e,pageContext:Ht[G],pageNumber:G,page:he}),ne("/Contents "+Ee+" 0 R"),ne(">>"),ne("endobj");var Xe=he.join(`
`);return b===_&&(Xe+=`
Q`),J(Ee,!0),Ue({data:Xe,filters:Te(),objectId:Ee}),ne("endobj"),_e},Ie=h.__private__.putPages=function(){var P,G,he=[];for(P=1;P<=Xt;P++)Ht[P].objId=ui(),Ht[P].contentsObjId=ui();for(P=1;P<=Xt;P++)he.push(Oe({number:P,data:we[P],objId:Ht[P].objId,contentsObjId:Ht[P].contentsObjId,mediaBox:Ht[P].mediaBox,cropBox:Ht[P].cropBox,bleedBox:Ht[P].bleedBox,trimBox:Ht[P].trimBox,artBox:Ht[P].artBox,userUnit:Ht[P].userUnit,rootDictionaryObjId:ae,resourceDictionaryObjId:le}));J(ae,!0),ne("<</Type /Pages");var _e="/Kids [";for(G=0;G<Xt;G++)_e+=he[G]+" 0 R ";ne(_e+"]"),ne("/Count "+Xt),ne(">>"),ne("endobj"),Sr.publish("postPutPages")},$e=function(P){Sr.publish("putFont",{font:P,out:ne,newObject:kn,putStream:Ue}),P.isAlreadyPutted!==!0&&(P.objectNumber=kn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+pm(P.postScriptName)),ne("/Subtype /Type1"),typeof P.encoding=="string"&&ne("/Encoding /"+P.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},nt=function(P){P.objectNumber=kn();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[A(P.x),A(P.y),A(P.x+P.width),A(P.y+P.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var he=P.pages[1].join(`
`);Ue({data:he,additionalKeyValues:G,objectId:P.objectNumber}),ne("endobj")},dt=function(P,G){G||(G=21);var he=kn(),_e=function(Qe,Lt){var Ut,ar=[],fr=1/(Lt-1);for(Ut=0;Ut<1;Ut+=fr)ar.push(Ut);if(ar.push(1),Qe[0].offset!=0){var Pr={offset:0,color:Qe[0].color};Qe.unshift(Pr)}if(Qe[Qe.length-1].offset!=1){var On={offset:1,color:Qe[Qe.length-1].color};Qe.push(On)}for(var hi="",hn=0,ki=0;ki<ar.length;ki++){for(Ut=ar[ki];Ut>Qe[hn+1].offset;)hn++;var mi=Qe[hn].offset,aa=(Ut-mi)/(Qe[hn+1].offset-mi),bc=Qe[hn].color,Ho=Qe[hn+1].color;hi+=V(Math.round((1-aa)*bc[0]+aa*Ho[0]).toString(16))+V(Math.round((1-aa)*bc[1]+aa*Ho[1]).toString(16))+V(Math.round((1-aa)*bc[2]+aa*Ho[2]).toString(16))}return hi.trim()}(P.colors,G),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+G+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue({data:_e,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),ne("endobj"),P.objectNumber=kn(),ne("<< /ShadingType "+P.type),ne("/ColorSpace /DeviceRGB");var Xe="/Coords ["+A(parseFloat(P.coords[0]))+" "+A(parseFloat(P.coords[1]))+" ";P.type===2?Xe+=A(parseFloat(P.coords[2]))+" "+A(parseFloat(P.coords[3])):Xe+=A(parseFloat(P.coords[2]))+" "+A(parseFloat(P.coords[3]))+" "+A(parseFloat(P.coords[4]))+" "+A(parseFloat(P.coords[5])),ne(Xe+="]"),P.matrix&&ne("/Matrix ["+P.matrix.toString()+"]"),ne("/Function "+he+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},xt=function(P,G){var he=ui(),_e=kn();G.push({resourcesOid:he,objectOid:_e}),P.objectNumber=_e;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+P.boundingBox.map(A).join(" ")+"]"}),Ee.push({key:"XStep",value:A(P.xStep)}),Ee.push({key:"YStep",value:A(P.yStep)}),Ee.push({key:"Resources",value:he+" 0 R"}),P.matrix&&Ee.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Ue({data:P.stream,additionalKeyValues:Ee,objectId:P.objectNumber}),ne("endobj")},lt=function(P){for(var G in P.objectNumber=kn(),ne("<<"),P)switch(G){case"opacity":ne("/ca "+O(P[G]));break;case"stroke-opacity":ne("/CA "+O(P[G]))}ne(">>"),ne("endobj")},gt=function(P){J(P.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var G in ne("/Font <<"),Vt)Vt.hasOwnProperty(G)&&(f===!1||f===!0&&m.hasOwnProperty(G))&&ne("/"+G+" "+Vt[G].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(yt).length>0){for(var G in ne("/Shading <<"),yt)yt.hasOwnProperty(G)&&yt[G]instanceof _f&&yt[G].objectNumber>=0&&ne("/"+G+" "+yt[G].objectNumber+" 0 R");Sr.publish("putShadingPatternDict"),ne(">>")}}(),function(G){if(Object.keys(yt).length>0){for(var he in ne("/Pattern <<"),yt)yt.hasOwnProperty(he)&&yt[he]instanceof h.TilingPattern&&yt[he].objectNumber>=0&&yt[he].objectNumber<G&&ne("/"+he+" "+yt[he].objectNumber+" 0 R");Sr.publish("putTilingPatternDict"),ne(">>")}}(P.objectOid),function(){if(Object.keys(Gt).length>0){var G;for(G in ne("/ExtGState <<"),Gt)Gt.hasOwnProperty(G)&&Gt[G].objectNumber>=0&&ne("/"+G+" "+Gt[G].objectNumber+" 0 R");Sr.publish("putGStateDict"),ne(">>")}}(),function(){for(var G in ne("/XObject <<"),zi)zi.hasOwnProperty(G)&&zi[G].objectNumber>=0&&ne("/"+G+" "+zi[G].objectNumber+" 0 R");Sr.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},nr=function(P){Bt[P.fontName]=Bt[P.fontName]||{},Bt[P.fontName][P.fontStyle]=P.id},nn=function(P,G,he,_e,Ee){var Xe={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:P,fontName:G,fontStyle:he,encoding:_e,isStandardFont:Ee||!1,metadata:{}};return Sr.publish("addFont",{font:Xe,instance:this}),Vt[Xe.id]=Xe,nr(Xe),Xe.id},br=h.__private__.pdfEscape=h.pdfEscape=function(P,G){return function(he,_e){var Ee,Xe,Qe,Lt,Ut,ar,fr,Pr,On;if(Qe=(_e=_e||{}).sourceEncoding||"Unicode",Ut=_e.outputEncoding,(_e.autoencode||Ut)&&Vt[ye].metadata&&Vt[ye].metadata[Qe]&&Vt[ye].metadata[Qe].encoding&&(Lt=Vt[ye].metadata[Qe].encoding,!Ut&&Vt[ye].encoding&&(Ut=Vt[ye].encoding),!Ut&&Lt.codePages&&(Ut=Lt.codePages[0]),typeof Ut=="string"&&(Ut=Lt[Ut]),Ut)){for(fr=!1,ar=[],Ee=0,Xe=he.length;Ee<Xe;Ee++)(Pr=Ut[he.charCodeAt(Ee)])?ar.push(String.fromCharCode(Pr)):ar.push(he[Ee]),ar[Ee].charCodeAt(0)>>8&&(fr=!0);he=ar.join("")}for(Ee=he.length;fr===void 0&&Ee!==0;)he.charCodeAt(Ee-1)>>8&&(fr=!0),Ee--;if(!fr)return he;for(ar=_e.noBOM?[]:[254,255],Ee=0,Xe=he.length;Ee<Xe;Ee++){if((On=(Pr=he.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ar.push(On),ar.push(Pr-(On<<8))}return String.fromCharCode.apply(void 0,ar)}(P,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$n=h.__private__.beginPage=function(P){we[++Xt]=[],Ht[Xt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Cl(Xt),ze(we[M])},El=function(P,G){var he,_e,Ee;switch(r=G||r,typeof P=="string"&&(he=y(P.toLowerCase()),Array.isArray(he)&&(_e=he[0],Ee=he[1])),Array.isArray(P)&&(_e=P[0]*Ve,Ee=P[1]*Ve),isNaN(_e)&&(_e=i[0],Ee=i[1]),(_e>14400||Ee>14400)&&(un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_e=Math.min(14400,_e),Ee=Math.min(14400,Ee)),i=[_e,Ee],r.substr(0,1)){case"l":Ee>_e&&(i=[Ee,_e]);break;case"p":_e>Ee&&(i=[Ee,_e])}$n(i),sr(n0),ne(Rh),a0!==0&&ne(a0+" J"),s0!==0&&ne(s0+" j"),Sr.publish("addPage",{pageNumber:Xt})},zo=function(P){P>0&&P<=Xt&&(we.splice(P,1),Ht.splice(P,1),Xt--,M>Xt&&(M=Xt),this.setPage(M))},Cl=function(P){P>0&&P<=Xt&&(M=P)},io=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return we.length-1},Su=function(P,G,he){var _e,Ee=void 0;return he=he||{},P=P!==void 0?P:Vt[ye].fontName,G=G!==void 0?G:Vt[ye].fontStyle,_e=P.toLowerCase(),Bt[_e]!==void 0&&Bt[_e][G]!==void 0?Ee=Bt[_e][G]:Bt[P]!==void 0&&Bt[P][G]!==void 0?Ee=Bt[P][G]:he.disableWarning===!1&&un.warn("Unable to look up font label for font '"+P+"', '"+G+"'. Refer to getFontList() for available fonts."),Ee||he.noFallback||(Ee=Bt.times[G])==null&&(Ee=Bt.times.normal),Ee},di=h.__private__.putInfo=function(){var P=kn(),G=function(_e){return _e};for(var he in d!==null&&(G=Ni.encryptor(P,0)),ne("<<"),ne("/Producer ("+br(G("jsPDF "+Wt.version))+")"),rr)rr.hasOwnProperty(he)&&rr[he]&&ne("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+br(G(rr[he]))+")");ne("/CreationDate ("+br(G(Q))+")"),ne(">>"),ne("endobj")},Ph=h.__private__.putCatalog=function(P){var G=(P=P||{}).rootDictionaryObjId||ae;switch(kn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+G+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+ct;he.substr(he.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+O(ct)+"]")}switch(or||(or="continuous"),or){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}It&&ne("/PageMode /"+It),Sr.publish("putCatalog"),ne(">>"),ne("endobj")},jj=h.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(F+1)),ne("/Root "+F+" 0 R"),ne("/Info "+(F-1)+" 0 R"),d!==null&&ne("/Encrypt "+Ni.oid+" 0 R"),ne("/ID [ <"+ie+"> <"+ie+"> ]"),ne(">>")},fi=h.__private__.putHeader=function(){ne("%PDF-"+v),ne("%")},Ax=h.__private__.putXRef=function(){var P="0000000000";ne("xref"),ne("0 "+(F+1)),ne("0000000000 65535 f ");for(var G=1;G<=F;G++)typeof W[G]=="function"?ne((P+W[G]()).slice(-10)+" 00000 n "):W[G]!==void 0?ne((P+W[G]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Al=h.__private__.buildDocument=function(){var P;F=0,Y=0,te=[],W=[],oe=[],ae=ui(),le=ui(),ze(te),Sr.publish("buildDocument"),fi(),Ie(),function(){Sr.publish("putAdditionalObjects");for(var he=0;he<oe.length;he++){var _e=oe[he];J(_e.objId,!0),ne(_e.content),ne("endobj")}Sr.publish("postPutAdditionalObjects")}(),P=[],function(){for(var he in Vt)Vt.hasOwnProperty(he)&&(f===!1||f===!0&&m.hasOwnProperty(he))&&$e(Vt[he])}(),function(){var he;for(he in Gt)Gt.hasOwnProperty(he)&&lt(Gt[he])}(),function(){for(var he in zi)zi.hasOwnProperty(he)&&nt(zi[he])}(),function(he){var _e;for(_e in yt)yt.hasOwnProperty(_e)&&(yt[_e]instanceof _f?dt(yt[_e]):yt[_e]instanceof Rm&&xt(yt[_e],he))}(P),Sr.publish("putResources"),P.forEach(gt),gt({resourcesOid:le,objectOid:Number.MAX_SAFE_INTEGER}),Sr.publish("postPutResources"),d!==null&&(Ni.oid=kn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Ni.v),ne("/R "+Ni.r),ne("/U <"+Ni.toHexString(Ni.U)+">"),ne("/O <"+Ni.toHexString(Ni.O)+">"),ne("/P "+Ni.P),ne(">>"),ne("endobj")),di(),Ph();var G=Y;return Ax(),jj(),ne("startxref"),ne(""+G),ne("%%EOF"),ze(we[M]),te.join(`
`)},Th=h.__private__.getBlob=function(P){return new Blob([qe(P)],{type:"application/pdf"})},Px=h.output=h.__private__.output=(rs=function(P,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",P){case void 0:return Al();case"save":h.save(G.filename);break;case"arraybuffer":return qe(Al());case"blob":return Th(Al());case"bloburi":case"bloburl":if(ir.URL!==void 0&&typeof ir.URL.createObjectURL=="function")return ir.URL&&ir.URL.createObjectURL(Th(Al()))||void 0;un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",_e=Al();try{he=cM(_e)}catch{he=cM(unescape(encodeURIComponent(_e)))}return"data:application/pdf;filename="+G.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Ee=G.pdfObjectUrl,Xe="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",Lt=ir.open();return Lt!==null&&Lt.document.write(Qe),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',ar=ir.open();if(ar!==null){ar.document.write(Ut);var fr=this;ar.document.documentElement.querySelector("#pdfViewer").onload=function(){ar.document.title=G.filename,ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fr.output("bloburl"))}}return ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ir)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',On=ir.open();if(On!==null&&(On.document.write(Pr),On.document.title=G.filename),On||typeof safari>"u")return On;break;case"datauri":case"dataurl":return ir.document.location.href=this.output("datauristring",G);default:return null}},rs.foo=function(){try{return rs.apply(this,arguments)}catch(he){var P=he.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var G="Error in function "+P.split(`
`)[0].split("<")[0]+": "+he.message;if(!ir.console)throw new Error(G);ir.console.error(G,he),ir.alert&&alert(G)}},rs.foo.bar=rs,rs.foo),ao=function(P){return Array.isArray(hc)===!0&&hc.indexOf(P)>-1};switch(n){case"pt":Ve=1;break;case"mm":Ve=72/25.4;break;case"cm":Ve=72/2.54;break;case"in":Ve=72;break;case"px":Ve=ao("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ve=12;break;case"ex":Ve=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ve=n}var Ni=null;xe(),H();var mc=h.__private__.getPageInfo=h.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ht[P].objId,pageNumber:P,pageContext:Ht[P]}},Tx=h.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in Ht)if(Ht[G].objId===P)break;return mc(G)},Sj=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ht[M].objId,pageNumber:M,pageContext:Ht[M]}};h.addPage=function(){return El.apply(this,arguments),this},h.setPage=function(){return Cl.apply(this,arguments),ze.call(this,we[M]),this},h.insertPage=function(P){return this.addPage(),this.movePage(M,P),this},h.movePage=function(P,G){var he,_e;if(P>G){he=we[P],_e=Ht[P];for(var Ee=P;Ee>G;Ee--)we[Ee]=we[Ee-1],Ht[Ee]=Ht[Ee-1];we[G]=he,Ht[G]=_e,this.setPage(G)}else if(P<G){he=we[P],_e=Ht[P];for(var Xe=P;Xe<G;Xe++)we[Xe]=we[Xe+1],Ht[Xe]=Ht[Xe+1];we[G]=he,Ht[G]=_e,this.setPage(G)}return this},h.deletePage=function(){return zo.apply(this,arguments),this},h.__private__.text=h.text=function(P,G,he,_e,Ee){var Xe,Qe,Lt,Ut,ar,fr,Pr,On,hi,hn=(_e=_e||{}).scope||this;if(typeof P=="number"&&typeof G=="number"&&(typeof he=="string"||Array.isArray(he))){var ki=he;he=G,G=P,P=ki}if(arguments[3]instanceof Kt==0?(Lt=arguments[4],Ut=arguments[5],Yr(Pr=arguments[3])==="object"&&Pr!==null||(typeof Lt=="string"&&(Ut=Lt,Lt=null),typeof Pr=="string"&&(Ut=Pr,Pr=null),typeof Pr=="number"&&(Lt=Pr,Pr=null),_e={flags:Pr,angle:Lt,align:Ut})):(k("The transform parameter of text() with a Matrix value"),hi=Ee),isNaN(G)||isNaN(he)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return hn;var mi,aa="",bc=typeof _e.lineHeightFactor=="number"?_e.lineHeightFactor:Kd,Ho=hn.internal.scaleFactor;function _c(Br){return Br=Br.split("	").join(Array(_e.TabLen||9).join(" ")),br(Br,Pr)}function u0(Br){for(var ln,ri=Br.concat(),Ei=[],Nc=ri.length;Nc--;)typeof(ln=ri.shift())=="string"?Ei.push(ln):Array.isArray(Br)&&(ln.length===1||ln[1]===void 0&&ln[2]===void 0)?Ei.push(ln[0]):Ei.push([ln[0],ln[1],ln[2]]);return Ei}function Dh(Br,ln){var ri;if(typeof Br=="string")ri=ln(Br)[0];else if(Array.isArray(Br)){for(var Ei,Nc,w0=Br.concat(),Fh=[],zx=w0.length;zx--;)typeof(Ei=w0.shift())=="string"?Fh.push(ln(Ei)[0]):Array.isArray(Ei)&&typeof Ei[0]=="string"&&(Nc=ln(Ei[0],Ei[1],Ei[2]),Fh.push([Nc[0],Nc[1],Nc[2]]));ri=Fh}return ri}var Nu=!1,Zd=!0;if(typeof P=="string")Nu=!0;else if(Array.isArray(P)){var Qd=P.concat();Qe=[];for(var ku,sa=Qd.length;sa--;)(typeof(ku=Qd.shift())!="string"||Array.isArray(ku)&&typeof ku[0]!="string")&&(Zd=!1);Nu=Zd}if(Nu===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var ef=Pe/hn.internal.scaleFactor,tf=ef*(bc-1);switch(_e.baseline){case"bottom":he-=tf;break;case"top":he+=ef-tf;break;case"hanging":he+=ef-2*tf;break;case"middle":he+=ef/2-tf}if((fr=_e.maxWidth||0)>0&&(typeof P=="string"?P=hn.splitTextToSize(P,fr):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(Br,ln){return Br.concat(hn.splitTextToSize(ln,fr))},[]))),Xe={text:P,x:G,y:he,options:_e,mutex:{pdfEscape:br,activeFontKey:ye,fonts:Vt,activeFontSize:Pe}},Sr.publish("preProcessText",Xe),P=Xe.text,Lt=(_e=Xe.options).angle,hi instanceof Kt==0&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,_e.rotationDirection===0&&(Lt=-Lt),b===_&&(Lt=-Lt);var d0=Math.cos(Lt),f0=Math.sin(Lt);hi=new Kt(d0,f0,-f0,d0,0,0)}else Lt&&Lt instanceof Kt&&(hi=Lt);b!==_||hi||(hi=Uo),(ar=_e.charSpace||vc)!==void 0&&(aa+=A(U(ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(On=_e.horizontalScale)!==void 0&&(aa+=A(100*On)+` Tz
`),_e.lang;var $a=-1,jc=_e.renderingMode!==void 0?_e.renderingMode:_e.stroke,Lh=hn.internal.getCurrentPageInfo().pageContext;switch(jc){case 0:case!1:case"fill":$a=0;break;case 1:case!0:case"stroke":$a=1;break;case 2:case"fillThenStroke":$a=2;break;case 3:case"invisible":$a=3;break;case 4:case"fillAndAddForClipping":$a=4;break;case 5:case"strokeAndAddPathForClipping":$a=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$a=6;break;case 7:case"addToPathForClipping":$a=7}var Bx=Lh.usedRenderingMode!==void 0?Lh.usedRenderingMode:-1;$a!==-1?aa+=$a+` Tr
`:Bx!==-1&&(aa+=`0 Tr
`),$a!==-1&&(Lh.usedRenderingMode=$a),Ut=_e.align||"left";var so,rf=Pe*bc,h0=hn.internal.pageSize.getWidth(),m0=Vt[ye];ar=_e.charSpace||vc,fr=_e.maxWidth||0,Pr=Object.assign({autoencode:!0,noBOM:!0},_e.flags);var Eu=[],nf=function(Br){return hn.getStringUnitWidth(Br,{font:m0,charSpace:ar,fontSize:Pe,doKerning:!1})*Pe/Ho};if(Object.prototype.toString.call(P)==="[object Array]"){var _s;Qe=u0(P),Ut!=="left"&&(so=Qe.map(nf));var js,Cu=0;if(Ut==="right"){G-=so[0],P=[],sa=Qe.length;for(var Sc=0;Sc<sa;Sc++)Sc===0?(js=pc(G),_s=gc(he)):(js=U(Cu-so[Sc]),_s=-rf),P.push([Qe[Sc],js,_s]),Cu=so[Sc]}else if(Ut==="center"){G-=so[0]/2,P=[],sa=Qe.length;for(var Au=0;Au<sa;Au++)Au===0?(js=pc(G),_s=gc(he)):(js=U((Cu-so[Au])/2),_s=-rf),P.push([Qe[Au],js,_s]),Cu=so[Au]}else if(Ut==="left"){P=[],sa=Qe.length;for(var p0=0;p0<sa;p0++)P.push(Qe[p0])}else if(Ut==="justify"&&m0.encoding==="Identity-H"){P=[],sa=Qe.length,fr=fr!==0?fr:h0;for(var Mh=0,ti=0;ti<sa;ti++)if(_s=ti===0?gc(he):-rf,js=ti===0?pc(G):Mh,ti<sa-1){var Ux=U((fr-so[ti])/(Qe[ti].split(" ").length-1)),Tl=Qe[ti].split(" ");P.push([Tl[0]+" ",js,_s]),Mh=0;for(var Ol=1;Ol<Tl.length;Ol++){var g0=(nf(Tl[Ol-1]+" "+Tl[Ol])-nf(Tl[Ol]))*Ho+Ux;Ol==Tl.length-1?P.push([Tl[Ol],g0,0]):P.push([Tl[Ol]+" ",g0,0]),Mh-=g0}}else P.push([Qe[ti],js,_s]);P.push(["",Mh,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],sa=Qe.length,fr=fr!==0?fr:h0,ti=0;ti<sa;ti++){_s=ti===0?gc(he):-rf,js=ti===0?pc(G):0;var v0=Qe[ti].split(" ").length-1,x0=v0>0?(fr-so[ti])/v0:0;ti<sa-1?Eu.push(A(U(x0))):Eu.push(0),P.push([Qe[ti],js,_s])}}}(typeof _e.R2L=="boolean"?_e.R2L:Rt)===!0&&(P=Dh(P,function(Br,ln,ri){return[Br.split("").reverse().join(""),ln,ri]})),Xe={text:P,x:G,y:he,options:_e,mutex:{pdfEscape:br,activeFontKey:ye,fonts:Vt,activeFontSize:Pe}},Sr.publish("postProcessText",Xe),P=Xe.text,mi=Xe.mutex.isHex||!1;var y0=Vt[ye].encoding;y0!=="WinAnsiEncoding"&&y0!=="StandardEncoding"||(P=Dh(P,function(Br,ln,ri){return[_c(Br),ln,ri]})),Qe=u0(P),P=[];for(var Pu,Tu,Ou,af=Array.isArray(Qe[0])?1:0,Ru="",sf=function(Br,ln,ri){var Ei="";return ri instanceof Kt?(ri=typeof _e.angle=="number"?Bo(ri,new Kt(1,0,0,1,Br,ln)):Bo(new Kt(1,0,0,1,Br,ln),ri),b===_&&(ri=Bo(new Kt(1,0,0,-1,0,0),ri)),Ei=ri.join(" ")+` Tm
`):Ei=A(Br)+" "+A(ln)+` Td
`,Ei},oo=0;oo<Qe.length;oo++){switch(Ru="",af){case 1:Ou=(mi?"<":"(")+Qe[oo][0]+(mi?">":")"),Pu=parseFloat(Qe[oo][1]),Tu=parseFloat(Qe[oo][2]);break;case 0:Ou=(mi?"<":"(")+Qe[oo]+(mi?">":")"),Pu=pc(G),Tu=gc(he)}Eu!==void 0&&Eu[oo]!==void 0&&(Ru=Eu[oo]+` Tw
`),oo===0?P.push(Ru+sf(Pu,Tu,hi)+Ou):af===0?P.push(Ru+Ou):af===1&&P.push(Ru+sf(Pu,Tu,hi)+Ou)}P=af===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Rl=`BT
/`;return Rl+=ye+" "+Pe+` Tf
`,Rl+=A(Pe*bc)+` TL
`,Rl+=Yd+`
`,Rl+=aa,Rl+=P,ne(Rl+="ET"),m[ye]=!0,hn};var Nj=h.__private__.clip=h.clip=function(P){return ne(P==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Nj("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ne("n"),this};var Pl=h.__private__.isValidStyle=function(P){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(G=!0),G};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(P){return Pl(P)&&(u=P),this};var Ox=h.__private__.getStyle=h.getStyle=function(P){var G=u;switch(P){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=P}return G},Rx=h.close=function(){return ne("h"),this};h.stroke=function(){return ne("S"),this},h.fill=function(P){return Oh("f",P),this},h.fillEvenOdd=function(P){return Oh("f*",P),this},h.fillStroke=function(P){return Oh("B",P),this},h.fillStrokeEvenOdd=function(P){return Oh("B*",P),this};var Oh=function(P,G){Yr(G)==="object"?Ej(G,P):ne(P)},Gd=function(P){P===null||b===_&&P===void 0||(P=Ox(P),ne(P))};function kj(P,G,he,_e,Ee){var Xe=new Rm(G||this.boundingBox,he||this.xStep,_e||this.yStep,this.gState,Ee||this.matrix);Xe.stream=this.stream;var Qe=P+"$$"+this.cloneIndex+++"$$";return ja(Qe,Xe),Xe}var Ej=function(P,G){var he=wr[P.key],_e=yt[he];if(_e instanceof _f)ne("q"),ne(Cj(G)),_e.gState&&h.setGState(_e.gState),ne(P.matrix.toString()+" cm"),ne("/"+he+" sh"),ne("Q");else if(_e instanceof Rm){var Ee=new Kt(1,0,0,-1,0,Jd());P.matrix&&(Ee=Ee.multiply(P.matrix||Uo),he=kj.call(_e,P.key,P.boundingBox,P.xStep,P.yStep,Ee).id),ne("q"),ne("/Pattern cs"),ne("/"+he+" scn"),_e.gState&&h.setGState(_e.gState),ne(G),ne("Q")}},Cj=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},r0=h.moveTo=function(P,G){return ne(A(U(P))+" "+A(q(G))+" m"),this},Ix=h.lineTo=function(P,G){return ne(A(U(P))+" "+A(q(G))+" l"),this},Wo=h.curveTo=function(P,G,he,_e,Ee,Xe){return ne([A(U(P)),A(q(G)),A(U(he)),A(q(_e)),A(U(Ee)),A(q(Xe)),"c"].join(" ")),this};h.__private__.line=h.line=function(P,G,he,_e,Ee){if(isNaN(P)||isNaN(G)||isNaN(he)||isNaN(_e)||!Pl(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return b===w?this.lines([[he-P,_e-G]],P,G,[1,1],Ee||"S"):this.lines([[he-P,_e-G]],P,G,[1,1]).stroke()},h.__private__.lines=h.lines=function(P,G,he,_e,Ee,Xe){var Qe,Lt,Ut,ar,fr,Pr,On,hi,hn,ki,mi,aa;if(typeof P=="number"&&(aa=he,he=G,G=P,P=aa),_e=_e||[1,1],Xe=Xe||!1,isNaN(G)||isNaN(he)||!Array.isArray(P)||!Array.isArray(_e)||!Pl(Ee)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(r0(G,he),Qe=_e[0],Lt=_e[1],ar=P.length,ki=G,mi=he,Ut=0;Ut<ar;Ut++)(fr=P[Ut]).length===2?(ki=fr[0]*Qe+ki,mi=fr[1]*Lt+mi,Ix(ki,mi)):(Pr=fr[0]*Qe+ki,On=fr[1]*Lt+mi,hi=fr[2]*Qe+ki,hn=fr[3]*Lt+mi,ki=fr[4]*Qe+ki,mi=fr[5]*Lt+mi,Wo(Pr,On,hi,hn,ki,mi));return Xe&&Rx(),Gd(Ee),this},h.path=function(P){for(var G=0;G<P.length;G++){var he=P[G],_e=he.c;switch(he.op){case"m":r0(_e[0],_e[1]);break;case"l":Ix(_e[0],_e[1]);break;case"c":Wo.apply(this,_e);break;case"h":Rx()}}return this},h.__private__.rect=h.rect=function(P,G,he,_e,Ee){if(isNaN(P)||isNaN(G)||isNaN(he)||isNaN(_e)||!Pl(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return b===w&&(_e=-_e),ne([A(U(P)),A(q(G)),A(U(he)),A(U(_e)),"re"].join(" ")),Gd(Ee),this},h.__private__.triangle=h.triangle=function(P,G,he,_e,Ee,Xe,Qe){if(isNaN(P)||isNaN(G)||isNaN(he)||isNaN(_e)||isNaN(Ee)||isNaN(Xe)||!Pl(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-P,_e-G],[Ee-he,Xe-_e],[P-Ee,G-Xe]],P,G,[1,1],Qe,!0),this},h.__private__.roundedRect=h.roundedRect=function(P,G,he,_e,Ee,Xe,Qe){if(isNaN(P)||isNaN(G)||isNaN(he)||isNaN(_e)||isNaN(Ee)||isNaN(Xe)||!Pl(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*he),Xe=Math.min(Xe,.5*_e),this.lines([[he-2*Ee,0],[Ee*Lt,0,Ee,Xe-Xe*Lt,Ee,Xe],[0,_e-2*Xe],[0,Xe*Lt,-Ee*Lt,Xe,-Ee,Xe],[2*Ee-he,0],[-Ee*Lt,0,-Ee,-Xe*Lt,-Ee,-Xe],[0,2*Xe-_e],[0,-Xe*Lt,Ee*Lt,-Xe,Ee,-Xe]],P+Ee,G,[1,1],Qe,!0),this},h.__private__.ellipse=h.ellipse=function(P,G,he,_e,Ee){if(isNaN(P)||isNaN(G)||isNaN(he)||isNaN(_e)||!Pl(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*he,Qe=4/3*(Math.SQRT2-1)*_e;return r0(P+he,G),Wo(P+he,G-Qe,P+Xe,G-_e,P,G-_e),Wo(P-Xe,G-_e,P-he,G-Qe,P-he,G),Wo(P-he,G+Qe,P-Xe,G+_e,P,G+_e),Wo(P+Xe,G+_e,P+he,G+Qe,P+he,G),Gd(Ee),this},h.__private__.circle=h.circle=function(P,G,he,_e){if(isNaN(P)||isNaN(G)||isNaN(he)||!Pl(_e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,G,he,he,_e)},h.setFont=function(P,G,he){return he&&(G=S(G,he)),ye=Su(P,G,{disableWarning:!1}),this};var Aj=h.__private__.getFont=h.getFont=function(){return Vt[Su.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var P,G,he={};for(P in Bt)if(Bt.hasOwnProperty(P))for(G in he[P]=[],Bt[P])Bt[P].hasOwnProperty(G)&&he[P].push(G);return he},h.addFont=function(P,G,he,_e,Ee){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(he=S(he,_e)),nn.call(this,P,G,he,Ee=Ee||"Identity-H")};var Kd,n0=e.lineWidth||.200025,Pj=h.__private__.getLineWidth=h.getLineWidth=function(){return n0},sr=h.__private__.setLineWidth=h.setLineWidth=function(P){return n0=P,ne(A(U(P))+" w"),this};h.__private__.setLineDash=Wt.API.setLineDash=Wt.API.setLineDashPattern=function(P,G){if(P=P||[],G=G||0,isNaN(G)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(he){return A(U(he))}).join(" "),G=A(U(G)),ne("["+P+"] "+G+" d"),this};var Tj=h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Kd};h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Kd};var Oj=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Kd=P),this},Rj=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Kd};Oj(e.lineHeight);var pc=h.__private__.getHorizontalCoordinate=function(P){return U(P)},gc=h.__private__.getVerticalCoordinate=function(P){return b===_?P:Ht[M].mediaBox.topRightY-Ht[M].mediaBox.bottomLeftY-U(P)},Ij=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(P){return A(pc(P))},Dj=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(P){return A(gc(P))},Rh=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return fe(Rh)},h.__private__.setStrokeColor=h.setDrawColor=function(P,G,he,_e){return Rh=me({ch1:P,ch2:G,ch3:he,ch4:_e,pdfColorType:"draw",precision:2}),ne(Rh),this};var i0=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return fe(i0)},h.__private__.setFillColor=h.setFillColor=function(P,G,he,_e){return i0=me({ch1:P,ch2:G,ch3:he,ch4:_e,pdfColorType:"fill",precision:2}),ne(i0),this};var Yd=e.textColor||"0 g",Lj=h.__private__.getTextColor=h.getTextColor=function(){return fe(Yd)};h.__private__.setTextColor=h.setTextColor=function(P,G,he,_e){return Yd=me({ch1:P,ch2:G,ch3:he,ch4:_e,pdfColorType:"text",precision:3}),this};var vc=e.charSpace,Mj=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(vc||0)};h.__private__.setCharSpace=h.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vc=P,this};var a0=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(P){var G=h.CapJoinStyles[P];if(G===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return a0=G,ne(G+" J"),this};var s0=0;h.__private__.setLineJoin=h.setLineJoin=function(P){var G=h.CapJoinStyles[P];if(G===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return s0=G,ne(G+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(A(U(P))+" M"),this},h.GState=Fb,h.setGState=function(P){(P=typeof P=="string"?Gt[er[P]]:Dx(null,P)).equals(zr)||(ne("/"+P.id+" gs"),zr=P)};var Dx=function(P,G){if(!P||!er[P]){var he=!1;for(var _e in Gt)if(Gt.hasOwnProperty(_e)&&Gt[_e].equals(G)){he=!0;break}if(he)G=Gt[_e];else{var Ee="GS"+(Object.keys(Gt).length+1).toString(10);Gt[Ee]=G,G.id=Ee}return P&&(er[P]=G.id),Sr.publish("addGState",G),G}};h.addGState=function(P,G){return Dx(P,G),this},h.saveGraphicsState=function(){return ne("q"),Ar.push({key:ye,size:Pe,color:Yd}),this},h.restoreGraphicsState=function(){ne("Q");var P=Ar.pop();return ye=P.key,Pe=P.size,Yd=P.color,zr=null,this},h.setCurrentTransformationMatrix=function(P){return ne(P.toString()+" cm"),this},h.comment=function(P){return ne("#"+P),this};var xc=function(P,G){var he=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Xe){isNaN(Xe)||(he=parseFloat(Xe))}});var _e=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _e},set:function(Xe){isNaN(Xe)||(_e=parseFloat(Xe))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Xe){Ee=Xe.toString()}}),this},o0=function(P,G,he,_e){xc.call(this,P,G),this.type="rect";var Ee=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Qe){isNaN(Qe)||(Ee=parseFloat(Qe))}});var Xe=_e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(Qe){isNaN(Qe)||(Xe=parseFloat(Qe))}}),this},Ih=function(){this.page=Xt,this.currentPage=M,this.pages=we.slice(0),this.pagesContext=Ht.slice(0),this.x=tt,this.y=Qt,this.matrix=Dt,this.width=c0(M),this.height=Mx(M),this.outputDestination=He,this.id="",this.objectNumber=-1};Ih.prototype.restore=function(){Xt=this.page,M=this.currentPage,Ht=this.pagesContext,we=this.pages,tt=this.x,Qt=this.y,Dt=this.matrix,Lx(M,this.width),yc(M,this.height),He=this.outputDestination};var l0=function(P,G,he,_e,Ee){no.push(new Ih),Xt=M=0,we=[],tt=P,Qt=G,Dt=Ee,$n([he,_e])};for(var Xd in h.beginFormObject=function(P,G,he,_e,Ee){return l0(P,G,he,_e,Ee),this},h.endFormObject=function(P){return function(G){if($o[G])no.pop().restore();else{var he=new Ih,_e="Xo"+(Object.keys(zi).length+1).toString(10);he.id=_e,$o[G]=_e,zi[_e]=he,Sr.publish("addFormObject",he),no.pop().restore()}}(P),this},h.doFormObject=function(P,G){var he=zi[$o[P]];return ne("q"),ne(G.toString()+" cm"),ne("/"+he.id+" Do"),ne("Q"),this},h.getFormObject=function(P){var G=zi[$o[P]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},h.save=function(P,G){return P=P||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(yf(Th(Al()),P),typeof yf.unload=="function"&&ir.setTimeout&&setTimeout(yf.unload,911),this):new Promise(function(he,_e){try{var Ee=yf(Th(Al()),P);typeof yf.unload=="function"&&ir.setTimeout&&setTimeout(yf.unload,911),he(Ee)}catch(Xe){_e(Xe.message)}})},Wt.API)Wt.API.hasOwnProperty(Xd)&&(Xd==="events"&&Wt.API.events.length?function(P,G){var he,_e,Ee;for(Ee=G.length-1;Ee!==-1;Ee--)he=G[Ee][0],_e=G[Ee][1],P.subscribe.apply(P,[he].concat(typeof _e=="function"?[_e]:_e))}(Sr,Wt.API.events):h[Xd]=Wt.API[Xd]);function c0(P){return Ht[P].mediaBox.topRightX-Ht[P].mediaBox.bottomLeftX}function Lx(P,G){Ht[P].mediaBox.topRightX=G+Ht[P].mediaBox.bottomLeftX}function Mx(P){return Ht[P].mediaBox.topRightY-Ht[P].mediaBox.bottomLeftY}function yc(P,G){Ht[P].mediaBox.topRightY=G+Ht[P].mediaBox.bottomLeftY}var wc=h.getPageWidth=function(P){return c0(P=P||M)/Ve},Fx=h.setPageWidth=function(P,G){Lx(P,G*Ve)},Jd=h.getPageHeight=function(P){return Mx(P=P||M)/Ve},$x=h.setPageHeight=function(P,G){yc(P,G*Ve)};return h.internal={pdfEscape:br,getStyle:Ox,getFont:Aj,getFontSize:at,getCharSpace:Mj,getTextColor:Lj,getLineHeight:Tj,getLineHeightFactor:Rj,getLineWidth:Pj,write:Be,getHorizontalCoordinate:pc,getVerticalCoordinate:gc,getCoordinateString:Ij,getVerticalCoordinateString:Dj,collections:{},newObject:kn,newAdditionalObject:de,newObjectDeferred:ui,newObjectDeferredBegin:J,getFilters:Te,putStream:Ue,events:Sr,scaleFactor:Ve,pageSize:{getWidth:function(){return wc(M)},setWidth:function(P){Fx(M,P)},getHeight:function(){return Jd(M)},setHeight:function(P){$x(M,P)}},encryptionOptions:d,encryption:Ni,getEncryptor:function(P){return d!==null?Ni.encryptor(P,0):function(G){return G}},output:Px,getNumberOfPages:io,get pages(){return we},out:ne,f2:O,f3:L,getPageInfo:mc,getPageInfoByObjId:Tx,getCurrentPageInfo:Sj,getPDFVersion:g,Point:xc,Rectangle:o0,Matrix:Kt,hasHotfix:ao},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return wc(M)},set:function(P){Fx(M,P)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Jd(M)},set:function(P){$x(M,P)},enumerable:!0,configurable:!0}),(function(P){for(var G=0,he=rt.length;G<he;G++){var _e=nn.call(this,P[G][0],P[G][1],P[G][2],rt[G][3],!0);f===!1&&(m[_e]=!0);var Ee=P[G][0].split("-");nr({id:_e,fontName:Ee[0],fontStyle:Ee[1]||""})}Sr.publish("addFonts",{fonts:Vt,dictionary:Bt})}).call(h,rt),ye="F1",El(i,r),Sr.publish("initialized"),h}mm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},mm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},mm.prototype.processOwnerPassword=function(e,t){return J4(X4(t).substr(0,5),e)},mm.prototype.encryptor=function(e,t){var r=X4(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return J4(r,n)}},Fb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Yr(e)!==Yr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Wt.API={events:[]},Wt.version="4.1.0";var zn=Wt.API,jP=1,Sh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},am=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$b=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var r=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},lr=function(e){return e.toFixed(2)},Hu=function(e){return e.toFixed(5)};zn.__acroform__={};var bs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},hM=function(e){return e*jP},$l=function(e){var t=new RX,r=Tt.internal.getHeight(e)||0,n=Tt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(lr(n)),Number(lr(r))],t},A6e=zn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},P6e=zn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},T6e=zn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},si=zn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return T6e(e,t-1)},oi=zn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return A6e(e,t-1)},li=zn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return P6e(e,t-1)},O6e=zn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(lr(c.lowerLeft_X)),Number(lr(c.lowerLeft_Y)),Number(lr(c.upperRight_X)),Number(lr(c.upperRight_Y))]},R6e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Z4(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+lr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=$l(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Z4=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=r,o=Tt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Tt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(O,L,U){if(O+1<i.length){var q=L+" "+i[O+1][0];return c1(q,e,U).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var u,d,f=c1("3",e,a).height,m=e.multiline?o-a:(o-f)/2,h=m+=2,v=0,g=0,x=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+c1(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var y="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var b=!1;if(i[_].length!==1&&x!==i[_].length-1){if((f+2)*(w+2)+2>o)continue e;y+=i[_][x],b=!0,g=_,_--}else{y=(y+=i[_][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(_),C=c(N,y,a),S=_>=i.length-1;if(C&&!S){y+=" ",x=0;continue}if(C||S){if(S)g=N;else if(e.multiline&&(f+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>o)continue e;g=N}}for(var A="",k=v;k<=g;k++){var R=i[k];if(e.multiline){if(k===g){A+=R[x]+" ",x=(x+1)%R.length;continue}if(k===v){A+=R[R.length-1]+" ";continue}}A+=R[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=c1(A,e,a).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=lr(u)+" "+lr(h)+` Td
`,t+="("+Sh(A)+`) Tj
`,t+=-lr(u)+` 0 Td
`,h=-(a+2),d=0,v=b?g:g+1,w++,y=""}break}return n.text=t,n.fontSize=a,n},c1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},I6e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},D6e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},L6e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Nl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(I6e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new IX,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&D6e(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=O6e(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Tt.createDefaultAppearanceStream(l),Yr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=R6e(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var v=h[o];typeof v=="function"&&(v=v.call(i,l)),f+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(i,l)),f+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&function(g,x){for(var y in g)if(g.hasOwnProperty(y)){var w=y,_=g[y];x.internal.newObjectDeferredBegin(_.objId,!0),Yr(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete g[w]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},OX=zn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Yr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)==="/"?i+="/"+$b(e[a].substr(1)):(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Sh(n(e[a].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},H5=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Sh(n(e))+")"},Jl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jl.prototype.toString=function(){return this.objId+" 0 R"},Jl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Jl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:OX(i,this.objId,this.scope)}):i instanceof Jl?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var RX=function(){Jl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};bs(RX,Jl);var IX=function(){Jl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Sh(r(e))+")"}},set:function(r){e=r}})};bs(IX,Jl);var Nl=function e(){Jl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!si(t,3)},set:function(y){y?this.F=oi(t,3):this.F=li(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Bb)return;a="FieldObject"+e.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Sh(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/jP:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Bb||this instanceof $f))return H5(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Gi==0?H5(m,this.objId,this.scope):m},set:function(y){y=y.toString(),m=this instanceof Gi==0?y.substr(0,1)==="("?am(y.substr(1,y.length-2)):am(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gi==1?am(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Gi==1?"/"+$b(y):y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Gi==0?H5(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof Gi==0?y.substr(0,1)==="("?am(y.substr(1,y.length-2)):am(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gi==1?am(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Gi==1?"/"+$b(y):y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,1)},set:function(y){y?this.Ff=oi(this.Ff,1):this.Ff=li(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,2)},set:function(y){y?this.Ff=oi(this.Ff,2):this.Ff=li(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,3)},set:function(y){y?this.Ff=oi(this.Ff,3):this.Ff=li(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};bs(Nl,Jl);var Vm=function(){Nl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return OX(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,18)},set:function(r){r?this.Ff=oi(this.Ff,18):this.Ff=li(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=oi(this.Ff,19):this.Ff=li(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,20)},set:function(r){r?(this.Ff=oi(this.Ff,20),t.sort()):this.Ff=li(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,22)},set:function(r){r?this.Ff=oi(this.Ff,22):this.Ff=li(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,23)},set:function(r){r?this.Ff=oi(this.Ff,23):this.Ff=li(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,27)},set:function(r){r?this.Ff=oi(this.Ff,27):this.Ff=li(this.Ff,27)}}),this.hasAppearanceStream=!1};bs(Vm,Nl);var Gm=function(){Vm.call(this),this.fontName="helvetica",this.combo=!1};bs(Gm,Vm);var Km=function(){Gm.call(this),this.combo=!0};bs(Km,Gm);var q1=function(){Km.call(this),this.edit=!0};bs(q1,Km);var Gi=function(){Nl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,15)},set:function(r){r?this.Ff=oi(this.Ff,15):this.Ff=li(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,16)},set:function(r){r?this.Ff=oi(this.Ff,16):this.Ff=li(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,17)},set:function(r){r?this.Ff=oi(this.Ff,17):this.Ff=li(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,26)},set:function(r){r?this.Ff=oi(this.Ff,26):this.Ff=li(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Sh(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Yr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+$b(r)}})};bs(Gi,Nl);var V1=function(){Gi.call(this),this.pushButton=!0};bs(V1,Gi);var Ym=function(){Gi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};bs(Ym,Gi);var Bb=function(){var e,t;Nl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Sh(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Yr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bs(Bb,Nl),Ym.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ym.prototype.createOption=function(e){var t=new Bb;return t.Parent=this,t.optionName=e,this.Kids.push(t),M6e.call(this.scope,t),t};var G1=function(){Gi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tt.CheckBox.createAppearanceStream()};bs(G1,Gi);var $f=function(){Nl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,13)},set:function(t){t?this.Ff=oi(this.Ff,13):this.Ff=li(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,21)},set:function(t){t?this.Ff=oi(this.Ff,21):this.Ff=li(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,23)},set:function(t){t?this.Ff=oi(this.Ff,23):this.Ff=li(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,24)},set:function(t){t?this.Ff=oi(this.Ff,24):this.Ff=li(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,25)},set:function(t){t?this.Ff=oi(this.Ff,25):this.Ff=li(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,26)},set:function(t){t?this.Ff=oi(this.Ff,26):this.Ff=li(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bs($f,Nl);var K1=function(){$f.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!si(this.Ff,14)},set:function(e){e?this.Ff=oi(this.Ff,14):this.Ff=li(this.Ff,14)}}),this.password=!0};bs(K1,$f);var Tt={CheckBox:{createAppearanceStream:function(){return{N:{On:Tt.CheckBox.YesNormal},D:{On:Tt.CheckBox.YesPushDown,Off:Tt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Z4(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+lr(Tt.internal.getWidth(e))+" "+lr(Tt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+lr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=$l(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Tt.internal.getHeight(e),o=Tt.internal.getWidth(e),l=Z4(e,e.caption);return i.push("1 g"),i.push("0 0 "+lr(o)+" "+lr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+lr(o-1)+" "+lr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+lr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+lr(Tt.internal.getWidth(e))+" "+lr(Tt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Tt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Tt.RadioButton.Circle.YesNormal,t.D[e]=Tt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=$l(e);t.scope=e.scope;var r=[],n=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Tt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Hu(Tt.internal.getWidth(e)/2)+" "+Hu(Tt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=[],n=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Tt.internal.Bezier_C).toFixed(5)),o=Number((n*Tt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hu(Tt.internal.getWidth(e)/2)+" "+Hu(Tt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Hu(Tt.internal.getWidth(e)/2)+" "+Hu(Tt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=[],n=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Tt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hu(Tt.internal.getWidth(e)/2)+" "+Hu(Tt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Tt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Tt.RadioButton.Cross.YesNormal,t.D[e]=Tt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=$l(e);t.scope=e.scope;var r=[],n=Tt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+lr(Tt.internal.getWidth(e)-2)+" "+lr(Tt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(lr(n.x1.x)+" "+lr(n.x1.y)+" m"),r.push(lr(n.x2.x)+" "+lr(n.x2.y)+" l"),r.push(lr(n.x4.x)+" "+lr(n.x4.y)+" m"),r.push(lr(n.x3.x)+" "+lr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=Tt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+lr(Tt.internal.getWidth(e))+" "+lr(Tt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+lr(Tt.internal.getWidth(e)-2)+" "+lr(Tt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(lr(r.x1.x)+" "+lr(r.x1.y)+" m"),n.push(lr(r.x2.x)+" "+lr(r.x2.y)+" l"),n.push(lr(r.x4.x)+" "+lr(r.x4.y)+" m"),n.push(lr(r.x3.x)+" "+lr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=$l(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+lr(Tt.internal.getWidth(e))+" "+lr(Tt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Tt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Tt.internal.getWidth(e),r=Tt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Tt.internal.getWidth=function(e){var t=0;return Yr(e)==="object"&&(t=hM(e.Rect[2])),t},Tt.internal.getHeight=function(e){var t=0;return Yr(e)==="object"&&(t=hM(e.Rect[3])),t};var M6e=zn.addField=function(e){if(L6e(this,e),!(e instanceof Nl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};zn.AcroFormChoiceField=Vm,zn.AcroFormListBox=Gm,zn.AcroFormComboBox=Km,zn.AcroFormEditBox=q1,zn.AcroFormButton=Gi,zn.AcroFormPushButton=V1,zn.AcroFormRadioButton=Ym,zn.AcroFormCheckBox=G1,zn.AcroFormTextField=$f,zn.AcroFormPasswordField=K1,zn.AcroFormAppearance=Tt,zn.AcroForm={ChoiceField:Vm,ListBox:Gm,ComboBox:Km,EditBox:q1,Button:Gi,PushButton:V1,RadioButton:Ym,CheckBox:G1,TextField:$f,PasswordField:K1,Appearance:Tt},Wt.AcroForm={ChoiceField:Vm,ListBox:Gm,ComboBox:Km,EditBox:q1,Button:Gi,PushButton:V1,RadioButton:Ym,CheckBox:G1,TextField:$f,PasswordField:K1,Appearance:Tt};Wt.AcroForm;function DX(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(O,L){var U,q,Q,ie,z,H=r;if((L=L||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(C(O))for(z in n)for(Q=n[z],U=0;U<Q.length;U+=1){for(ie=!0,q=0;q<Q[U].length;q+=1)if(Q[U][q]!==void 0&&Q[U][q]!==O[q]){ie=!1;break}if(ie===!0){H=z;break}}else for(z in n)for(Q=n[z],U=0;U<Q.length;U+=1){for(ie=!0,q=0;q<Q[U].length;q+=1)if(Q[U][q]!==void 0&&Q[U][q]!==O.charCodeAt(q)){ie=!1;break}if(ie===!0){H=z;break}}return H===r&&L!==r&&(H=L),H},a=function O(L){for(var U=this.internal.write,q=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:L.width}),ie.push({key:"Height",value:L.height}),L.colorSpace===y.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===y.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var z="",H=0,X=L.transparency.length;H<X;H++)z+=L.transparency[H]+" "+L.transparency[H]+" ";ie.push({key:"Mask",value:"["+z+"]"})}L.sMask!==void 0&&ie.push({key:"SMask",value:L.objectId+1+" 0 R"});var pe=L.filter!==void 0?["/"+L.filter]:void 0;if(q({data:L.data,additionalKeyValues:ie,alreadyAppliedFilters:pe,objectId:L.objectId}),U("endobj"),"sMask"in L&&L.sMask!==void 0){var xe,D=(xe=L.sMaskBitsPerComponent)!==null&&xe!==void 0?xe:L.bitsPerComponent,M={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:L.sMask};"filter"in L&&(M.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(L.width),M.filter=L.filter),O.call(this,M)}if(L.colorSpace===y.INDEXED){var T=this.internal.newObject();q({data:A(new Uint8Array(L.palette)),objectId:T}),U("endobj")}},o=function(){var O=this.internal.collections[t+"images"];for(var L in O)a.call(this,O[L])},l=function(){var O,L=this.internal.collections[t+"images"],U=this.internal.write;for(var q in L)U("/I"+(O=L[q]).index,O.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var O=this.internal.collections[t+"images"];return c.call(this),O},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(O){return typeof e["process"+O.toUpperCase()]=="function"},m=function(O){return Yr(O)==="object"&&O.nodeType===1},h=function(O,L){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var U=""+O.getAttribute("src");if(U.indexOf("data:image/")===0)return H1(unescape(U).split("base64,").pop());var q=e.loadFile(U,!0);if(q!==void 0)return q}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var Q;switch(L){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;default:Q="image/jpeg"}return H1(O.toDataURL(Q,1).split("base64,").pop())}},v=function(O){var L=this.internal.collections[t+"images"];if(L){for(var U in L)if(O===L[U].alias)return L[U]}},g=function(O,L,U){return O||L||(O=-96,L=-96),O<0&&(O=-1*U.width*72/O/this.internal.scaleFactor),L<0&&(L=-1*U.height*72/L/this.internal.scaleFactor),O===0&&(O=L*U.width/U.height),L===0&&(L=O*U.height/U.width),[O,L]},x=function(O,L,U,q,Q,ie){var z=g.call(this,U,q,Q),H=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,pe=u.call(this);if(U=z[0],q=z[1],pe[Q.index]=Q,ie){ie*=Math.PI/180;var xe=Math.cos(ie),D=Math.sin(ie),M=function(V){return V.toFixed(4)},T=[M(xe),M(D),M(-1*D),M(xe),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,H(O),X(L+q),"cm"].join(" ")),this.internal.write(T.join(" ")),this.internal.write([H(U),"0","0",H(q),"0","0","cm"].join(" "))):this.internal.write([H(U),"0","0",H(q),H(O),X(L+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(O){var L,U,q=0;if(typeof O=="string")for(U=O.length,L=0;L<U;L++)q=(q<<5)-q+O.charCodeAt(L),q|=0;else if(C(O))for(U=O.byteLength/2,L=0;L<U;L++)q=(q<<5)-q+O[L],q|=0;return q},b=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var L=!0;return O.length===0&&(L=!1),O.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(L=!1),L},N=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var L=O.indexOf(",");return L<0?null:O.substring(0,L).trim().endsWith("base64")?O.substring(L+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var C=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},S=e.__addimage__.binaryStringToUint8Array=function(O){for(var L=O.length,U=new Uint8Array(L),q=0;q<L;q++)U[q]=O.charCodeAt(q);return U},A=e.__addimage__.arrayBufferToBinaryString=function(O){for(var L="",U=C(O)?O:new Uint8Array(O),q=0;q<U.length;q+=8192)L+=String.fromCharCode.apply(null,U.subarray(q,q+8192));return L};e.addImage=function(){var O,L,U,q,Q,ie,z,H,X;if(typeof arguments[1]=="number"?(L=r,U=arguments[1],q=arguments[2],Q=arguments[3],ie=arguments[4],z=arguments[5],H=arguments[6],X=arguments[7]):(L=arguments[1],U=arguments[2],q=arguments[3],Q=arguments[4],ie=arguments[5],z=arguments[6],H=arguments[7],X=arguments[8]),Yr(O=arguments[0])==="object"&&!m(O)&&"imageData"in O){var pe=O;O=pe.imageData,L=pe.format||L||r,U=pe.x||U||0,q=pe.y||q||0,Q=pe.w||pe.width||Q,ie=pe.h||pe.height||ie,z=pe.alias||z,H=pe.compression||H,X=pe.rotation||pe.angle||X}var xe=this.internal.getFilters();if(H===void 0&&xe.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(U)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=k.call(this,O,L,z,H);return x.call(this,U,q,Q,ie,D,X),this};var k=function(O,L,U,q){var Q,ie,z;if(typeof O=="string"&&i(O)===r){O=unescape(O);var H=R(O,!1);(H!==""||(H=e.loadFile(O,!0))!==void 0)&&(O=H)}if(m(O)&&(O=h(O,L)),L=i(O,L),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((z=U)==null||z.length===0)&&(U=function(X){return typeof X=="string"||C(X)?_(X):C(X.data)?_(X.data):null}(O)),(Q=v.call(this,U))||(O instanceof Uint8Array||L==="RGBA"||(ie=O,O=S(O)),Q=this["process"+L.toUpperCase()](O,d.call(this),U,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:w.NONE}(q),ie)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},R=e.__addimage__.convertBase64ToBinaryString=function(O,L){L=typeof L!="boolean"||L;var U,q="";if(typeof O=="string"){var Q;U=(Q=N(O))!==null&&Q!==void 0?Q:O;try{q=H1(U)}catch(ie){if(L)throw b(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(O){var L,U,q="";if(m(O)&&(O=h(O)),typeof O=="string"&&i(O)===r&&((q=R(O,!1))===""&&(q=e.loadFile(O)||""),O=q),U=i(O),!f(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(O instanceof Uint8Array||(O=S(O)),!(L=this["process"+U.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=U,L}})(Wt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Wt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+h(y(w))+") >>",g.content=a;var _=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(v(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var C=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,l,o,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Wt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var x=0,y=r,w="",_=0;for(x=0;x<g.length;x+=1)y[g.charCodeAt(x)]!==void 0?(_++,typeof(y=y[g.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(y),y=r,_=0),x===g.length-1&&(y=r,w+=g.charAt(x-(_-1)),x-=_-1,_=0)):(y=r,w+=g.charAt(x-_),x-=_,_=0);return w};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(g,x,y){return o(g)?a(g)===!1?-1:!u(g)||!o(x)&&!o(y)||!o(y)&&l(x)||l(g)&&!o(x)||l(g)&&c(x)||l(g)&&l(x)?0:d(g)&&o(x)&&!l(x)&&o(y)&&u(y)?3:l(g)||!o(y)?1:2:-1},h=function(g){var x=0,y=0,w=0,_="",b="",N="",C=(g=g||"").split("\\s+"),S=[];for(x=0;x<C.length;x+=1){for(S.push(""),y=0;y<C[x].length;y+=1)_=C[x][y],b=C[x][y-1],N=C[x][y+1],o(_)?(w=m(_,b,N),S[x]+=w!==-1?String.fromCharCode(t[_.charCodeAt(0)][w]):_):S[x]+=_;S[x]=f(S[x])}return S.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var w=0;for(y=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?y.push([h(x[w][0]),x[w][1],x[w][2]]):y.push([h(x[w])]);g=y}else g=h(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])}(Wt.API),Wt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Wt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,g=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,b){return _.concat(x.splitTextToSize(b,y))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)h<(g=this.getStringUnitWidth(c[w],{font:f})*d)&&(h=g);return h!==0&&(v=c.length),{w:h/=m,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,v,g,x,y=[],w=[],_=[],b={},N={},C=[],S=[],A=(m=m||{}).autoSize||!1,k=m.printHeaders!==!1,R=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,O=m.margins||Object.assign({width:this.getPageWidth()},t),L=typeof m.padding=="number"?m.padding:3,U=m.headerBackgroundColor||"#c8c8c8",q=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=q,this.setFontSize(R),f==null)w=y=Object.keys(d[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&Yr(f[0])==="object")for(y=f.map(function(pe){return pe.name}),w=f.map(function(pe){return pe.prompt||pe.name||""}),_=f.map(function(pe){return pe.align||"left"}),h=0;h<f.length;h+=1)N[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,_=y.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(b[x=y[h]]=d.map(function(pe){return pe[x]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=b[x],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)C.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[x]=Math.max.apply(null,C)+L+L,C=[]}if(k){var Q={};for(h=0;h<y.length;h+=1)Q[y[h]]={},Q[y[h]].text=w[h],Q[y[h]].align=_[h];var ie=l.call(this,Q,N);S=y.map(function(pe){return new a(c,u,N[pe],ie,Q[pe].text,void 0,Q[pe].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var z=f.reduce(function(pe,xe){return pe[xe.name]=xe.align,pe},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var H=l.call(this,d[h],N);for(g=0;g<y.length;g+=1){var X=d[h][y[g]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:g,data:X},this),o.call(this,new a(c,u,N[y[g]],H,X,h+2,z[y[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var v=c[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+d+d},this).reduce(function(h,v){return Math.max(h,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(Wt.API);var LX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},MX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Q4=DX(MX),FX=[100,200,300,400,500,600,700,800,900],F6e=DX(FX);function q5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return LX[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof Q4[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function mM(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var $6e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function vM(e){return e.trimLeft()}function B6e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function U6e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var sm,u1,xM,yM,wM,V5=["times"];function bM(e,t,r,n,i){var a=4,o=jM;switch(i){case Wt.API.image_compression.FAST:a=1,o=_M;break;case Wt.API.image_compression.MEDIUM:a=6,o=SM;break;case Wt.API.image_compression.SLOW:a=9,o=NM}e=function(c,u,d,f){for(var m,h=c.length/u,v=new Uint8Array(c.length+h),g=[z6e,_M,jM,SM,NM],x=0;x<h;x+=1){var y=x*u,w=c.subarray(y,y+u);if(f)v.set(f(w,d,m),y+x);else{for(var _=g.length,b=[],N=0;N<_;N+=1)b[N]=g[N](w,d,m);var C=H6e(b.concat());v.set(b[C],y+x)}m=w}return v}(e,t,Math.ceil(r*n/8),o);var l=V4(e,{level:a});return Wt.API.__addimage__.arrayBufferToBinaryString(l)}function z6e(e){var t=Array.apply([],e);return t.unshift(0),t}function _M(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function jM(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=e[a]-o+256&255}return i}function SM(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=e[a-t]||0,l=r&&r[a]||0;i[a+1]=e[a]+256-(o+l>>>1)&255}return i}function NM(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=W6e(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function W6e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function H6e(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function G5(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return $X(e,i)>>a&o}function kM(e,t,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var m=f>>8&255;u.setUint8(d,m)}})(e,a,$X(e,a)&~(l<<o)&65535|c)}function $X(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function q6e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,m=null,h=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],1&g||(m=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,b=e[t++],N=b>>6&1,C=1<<1+(7&b),S=l,A=c,k=!1;b>>7&&(k=!0,S=t,A=C,t+=3*C);var R=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}d.push({x,y,width:w,height:_,has_local_palette:k,palette_offset:S,palette_size:A,data_offset:R,data_length:t-R,transparent_index:m,interlaced:!!N,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,U){var q=this.frameInfo(L),Q=q.width*q.height,ie=new Uint8Array(Q);EM(e,q.data_offset,ie,Q);var z=q.palette_offset,H=q.transparent_index;H===null&&(H=256);var X=q.width,pe=r-X,xe=X,D=4*(q.y*r+q.x),M=4*((q.y+q.height)*r+q.x),T=D,V=4*pe;q.interlaced===!0&&(V+=4*r*7);for(var F=8,W=0,te=ie.length;W<te;++W){var Y=ie[W];if(xe===0&&(xe=X,(T+=V)>=M&&(V=4*pe+4*r*(F-1),T=D+(X+pe)*(F<<1),F>>=1)),Y===H)T+=4;else{var oe=e[z+3*Y],we=e[z+3*Y+1],ve=e[z+3*Y+2];U[T++]=ve,U[T++]=we,U[T++]=oe,U[T++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(L,U){var q=this.frameInfo(L),Q=q.width*q.height,ie=new Uint8Array(Q);EM(e,q.data_offset,ie,Q);var z=q.palette_offset,H=q.transparent_index;H===null&&(H=256);var X=q.width,pe=r-X,xe=X,D=4*(q.y*r+q.x),M=4*((q.y+q.height)*r+q.x),T=D,V=4*pe;q.interlaced===!0&&(V+=4*r*7);for(var F=8,W=0,te=ie.length;W<te;++W){var Y=ie[W];if(xe===0&&(xe=X,(T+=V)>=M&&(V=4*pe+4*r*(F-1),T=D+(X+pe)*(F<<1),F>>=1)),Y===H)T+=4;else{var oe=e[z+3*Y],we=e[z+3*Y+1],ve=e[z+3*Y+2];U[T++]=oe,U[T++]=we,U[T++]=ve,U[T++]=255}--xe}}}function EM(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,u=(1<<c)-1,d=0,f=0,m=0,h=e[t++],v=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==a){if(x===o)break;for(var y=x<l?x:g,w=0,_=y;_>a;)_=v[_]>>8,++w;var b=_;if(m+w+(y!==x?1:0)>n)return void un.log("Warning, gif stream longer than expected.");r[m++]=b;var N=m+=w;for(y!==x&&(r[m++]=b),_=y;w--;)_=v[_],r[--N]=255&_,_>>=8;g!==null&&l<4096&&(v[l++]=g<<8|b,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=x}else l=o+1,u=(1<<(c=i+1))-1,g=null}return m!==n&&un.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function K5(e){var t,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),v=new Array(64),g=[],x=0,y=7,w=new Array(64),_=new Array(64),b=new Array(64),N=new Array(256),C=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(D,M){for(var T=0,V=0,F=new Array,W=1;W<=16;W++){for(var te=1;te<=D[W];te++)F[M[V]]=[],F[M[V]][0]=T,F[M[V]][1]=W,V++,T++;T*=2}return F}function z(D){for(var M=D[0],T=D[1]-1;T>=0;)M&1<<T&&(x|=1<<y),T--,--y<0&&(x==255?(H(255),H(0)):H(x),y=7,x=0)}function H(D){g.push(D)}function X(D){H(D>>8&255),H(255&D)}function pe(D,M,T,V,F){for(var W,te=F[0],Y=F[240],oe=function(Pe,ct){var at,Rt,It,Zt,or,Yt,dr,rr,ye,Ve,tt=0;for(ye=0;ye<8;++ye){at=Pe[tt],Rt=Pe[tt+1],It=Pe[tt+2],Zt=Pe[tt+3],or=Pe[tt+4],Yt=Pe[tt+5],dr=Pe[tt+6];var Qt=at+(rr=Pe[tt+7]),Dt=at-rr,Vt=Rt+dr,Bt=Rt-dr,Ar=It+Yt,yt=It-Yt,wr=Zt+or,Gt=Zt-or,er=Qt+wr,zr=Qt-wr,Xt=Vt+Ar,Ht=Vt-Ar;Pe[tt]=er+Xt,Pe[tt+4]=er-Xt;var Sr=.707106781*(Ht+zr);Pe[tt+2]=zr+Sr,Pe[tt+6]=zr-Sr;var hc=.382683433*((er=Gt+yt)-(Ht=Bt+Dt)),zi=.5411961*er+hc,$o=1.306562965*Ht+hc,no=.707106781*(Xt=yt+Bt),Kt=Dt+no,Bo=Dt-no;Pe[tt+5]=Bo+zi,Pe[tt+3]=Bo-zi,Pe[tt+1]=Kt+$o,Pe[tt+7]=Kt-$o,tt+=8}for(tt=0,ye=0;ye<8;++ye){at=Pe[tt],Rt=Pe[tt+8],It=Pe[tt+16],Zt=Pe[tt+24],or=Pe[tt+32],Yt=Pe[tt+40],dr=Pe[tt+48];var Uo=at+(rr=Pe[tt+56]),ja=at-rr,rs=Rt+dr,kn=Rt-dr,ui=It+Yt,J=It-Yt,de=Zt+or,ae=Zt-or,le=Uo+de,fe=Uo-de,me=rs+ui,Te=rs-ui;Pe[tt]=le+me,Pe[tt+32]=le-me;var Ue=.707106781*(Te+fe);Pe[tt+16]=fe+Ue,Pe[tt+48]=fe-Ue;var Oe=.382683433*((le=ae+J)-(Te=kn+ja)),Ie=.5411961*le+Oe,$e=1.306562965*Te+Oe,nt=.707106781*(me=J+kn),dt=ja+nt,xt=ja-nt;Pe[tt+40]=xt+Ie,Pe[tt+24]=xt-Ie,Pe[tt+8]=dt+$e,Pe[tt+56]=dt-$e,tt++}for(ye=0;ye<64;++ye)Ve=Pe[ye]*ct[ye],h[ye]=Ve>0?Ve+.5|0:Ve-.5|0;return h}(D,M),we=0;we<64;++we)v[S[we]]=oe[we];var ve=v[0]-T;T=v[0],ve==0?z(V[0]):(z(V[m[W=32767+ve]]),z(f[W]));for(var He=63;He>0&&v[He]==0;)He--;if(He==0)return z(te),T;for(var ze,ne=1;ne<=He;){for(var Be=ne;v[ne]==0&&ne<=He;)++ne;var qe=ne-Be;if(qe>=16){ze=qe>>4;for(var rt=1;rt<=ze;++rt)z(Y);qe&=15}W=32767+v[ne],z(F[(qe<<4)+m[W]]),z(f[W]),ne++}return He!=63&&z(te),T}function xe(D){D=Math.min(Math.max(D,1),100),a!=D&&(function(M){for(var T=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var F=o((T[V]*M+50)/100);F=Math.min(Math.max(F,1),255),l[S[V]]=F}for(var W=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var Y=o((W[te]*M+50)/100);Y=Math.min(Math.max(Y,1),255),c[S[te]]=Y}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,ve=0;ve<8;ve++)for(var He=0;He<8;He++)u[we]=1/(l[S[we]]*oe[ve]*oe[He]*8),d[we]=1/(c[S[we]]*oe[ve]*oe[He]*8),we++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),a=D)}this.encode=function(D,M){M&&xe(M),g=new Array,x=0,y=7,X(65496),X(65504),X(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),X(1),X(1),H(0),H(0),function(){X(65499),X(132),H(0);for(var Rt=0;Rt<64;Rt++)H(l[Rt]);H(1);for(var It=0;It<64;It++)H(c[It])}(),function(Rt,It){X(65472),X(17),H(8),X(It),X(Rt),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(D.width,D.height),function(){X(65476),X(418),H(0);for(var Rt=0;Rt<16;Rt++)H(A[Rt+1]);for(var It=0;It<=11;It++)H(k[It]);H(16);for(var Zt=0;Zt<16;Zt++)H(R[Zt+1]);for(var or=0;or<=161;or++)H(O[or]);H(1);for(var Yt=0;Yt<16;Yt++)H(L[Yt+1]);for(var dr=0;dr<=11;dr++)H(U[dr]);H(17);for(var rr=0;rr<16;rr++)H(q[rr+1]);for(var ye=0;ye<=161;ye++)H(Q[ye])}(),X(65498),X(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var T=0,V=0,F=0;x=0,y=7,this.encode.displayName="_encode_";for(var W,te,Y,oe,we,ve,He,ze,ne,Be=D.data,qe=D.width,rt=D.height,Pe=4*qe,ct=0;ct<rt;){for(W=0;W<Pe;){for(we=Pe*ct+W,He=-1,ze=0,ne=0;ne<64;ne++)ve=we+(ze=ne>>3)*Pe+(He=4*(7&ne)),ct+ze>=rt&&(ve-=Pe*(ct+1+ze-rt)),W+He>=Pe&&(ve-=W+He-Pe+4),te=Be[ve++],Y=Be[ve++],oe=Be[ve++],w[ne]=(C[te]+C[Y+256|0]+C[oe+512|0]>>16)-128,_[ne]=(C[te+768|0]+C[Y+1024|0]+C[oe+1280|0]>>16)-128,b[ne]=(C[te+1280|0]+C[Y+1536|0]+C[oe+1792|0]>>16)-128;T=pe(w,u,T,t,n),V=pe(_,d,V,r,i),F=pe(b,d,F,r,i),W+=32}ct+=8}if(y>=0){var at=[];at[1]=y+1,at[0]=(1<<y+1)-1,z(at)}return X(65497),new Uint8Array(g)},e=e||50,function(){for(var D=String.fromCharCode,M=0;M<256;M++)N[M]=D(M)}(),t=ie(A,k),r=ie(L,U),n=ie(R,O),i=ie(q,Q),function(){for(var D=1,M=2,T=1;T<=15;T++){for(var V=D;V<M;V++)m[32767+V]=T,f[32767+V]=[],f[32767+V][1]=T,f[32767+V][0]=V;for(var F=-(M-1);F<=-D;F++)m[32767+F]=T,f[32767+F]=[],f[32767+F][1]=T,f[32767+F][0]=M-1+F;D<<=1,M<<=1}}(),function(){for(var D=0;D<256;D++)C[D]=19595*D,C[D+256|0]=38470*D,C[D+512|0]=7471*D+32768,C[D+768|0]=-11059*D,C[D+1024|0]=-21709*D,C[D+1280|0]=32768*D+8421375,C[D+1536|0]=-27439*D,C[D+1792|0]=-5329*D}(),xe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function CM(e){function t(k){if(!k)throw Error("assert :P")}function r(k,R,O){for(var L=0;4>L;L++)if(k[R+L]!=O.charCodeAt(L))return!0;return!1}function n(k,R,O,L,U){for(var q=0;q<U;q++)k[R+q]=O[L+q]}function i(k,R,O,L){for(var U=0;U<L;U++)k[R+U]=O}function a(k){return new Int32Array(k)}function o(k,R){for(var O=[],L=0;L<k;L++)O.push(new R);return O}function l(k,R){var O=[];return function L(U,q,Q){for(var ie=Q[q],z=0;z<ie&&(U.push(Q.length>q+1?[]:new R),!(Q.length<q+1));z++)L(U[z],q+1,Q)}(O,0,k),O}var c=function(){var k=this;function R(j,E){for(var I=1<<E-1>>>0;j&I;)I>>>=1;return I?(j&I-1)+I:j}function O(j,E,I,B,K){t(!(B%I));do j[E+(B-=I)]=K;while(0<B)}function L(j,E,I,B,K){if(t(2328>=K),512>=K)var Z=a(512);else if((Z=a(K))==null)return 0;return function(ee,re,se,ce,Se,Me){var ue,Ne,Ae=re,Ke=1<<se,De=a(16),Ye=a(16);for(t(Se!=0),t(ce!=null),t(ee!=null),t(0<se),Ne=0;Ne<Se;++Ne){if(15<ce[Ne])return 0;++De[ce[Ne]]}if(De[0]==Se)return 0;for(Ye[1]=0,ue=1;15>ue;++ue){if(De[ue]>1<<ue)return 0;Ye[ue+1]=Ye[ue]+De[ue]}for(Ne=0;Ne<Se;++Ne)ue=ce[Ne],0<ce[Ne]&&(Me[Ye[ue]++]=Ne);if(Ye[15]==1)return(ce=new U).g=0,ce.value=Me[0],O(ee,Ae,1,Ke,ce),Ke;var Je,it=-1,et=Ke-1,qt=0,Ct=1,mr=1,Mt=1<<se;for(Ne=0,ue=1,Se=2;ue<=se;++ue,Se<<=1){if(Ct+=mr<<=1,0>(mr-=De[ue]))return 0;for(;0<De[ue];--De[ue])(ce=new U).g=ue,ce.value=Me[Ne++],O(ee,Ae+qt,Se,Mt,ce),qt=R(qt,ue)}for(ue=se+1,Se=2;15>=ue;++ue,Se<<=1){if(Ct+=mr<<=1,0>(mr-=De[ue]))return 0;for(;0<De[ue];--De[ue]){if(ce=new U,(qt&et)!=it){for(Ae+=Mt,Je=1<<(it=ue)-se;15>it&&!(0>=(Je-=De[it]));)++it,Je<<=1;Ke+=Mt=1<<(Je=it-se),ee[re+(it=qt&et)].g=Je+se,ee[re+it].value=Ae-re-it}ce.g=ue-se,ce.value=Me[Ne++],O(ee,Ae+(qt>>se),Se,Mt,ce),qt=R(qt,ue)}}return Ct!=2*Ye[15]-1?0:Ke}(j,E,I,B,K,Z)}function U(){this.value=this.g=0}function q(){this.value=this.g=0}function Q(){this.G=o(5,U),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(nf,q)}function ie(j,E,I,B){t(j!=null),t(E!=null),t(2147483648>B),j.Ca=254,j.I=0,j.b=-8,j.Ka=0,j.oa=E,j.pa=I,j.Jd=E,j.Yc=I+B,j.Zc=4<=B?I+B-4+1:I,te(j)}function z(j,E){for(var I=0;0<E--;)I|=oe(j,128)<<E;return I}function H(j,E){var I=z(j,E);return Y(j)?-I:I}function X(j,E,I,B){var K,Z=0;for(t(j!=null),t(E!=null),t(4294967288>B),j.Sb=B,j.Ra=0,j.u=0,j.h=0,4<B&&(B=4),K=0;K<B;++K)Z+=E[I+K]<<8*K;j.Ra=Z,j.bb=B,j.oa=E,j.pa=I}function pe(j){for(;8<=j.u&&j.bb<j.Sb;)j.Ra>>>=8,j.Ra+=j.oa[j.pa+j.bb]<<Cu-8>>>0,++j.bb,j.u-=8;V(j)&&(j.h=1,j.u=0)}function xe(j,E){if(t(0<=E),!j.h&&E<=js){var I=T(j)&_s[E];return j.u+=E,pe(j),I}return j.h=1,j.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function T(j){return j.Ra>>>(j.u&Cu-1)>>>0}function V(j){return t(j.bb<=j.Sb),j.h||j.bb==j.Sb&&j.u>Cu}function F(j,E){j.u=E,j.h=V(j)}function W(j){j.u>=Sc&&(t(j.u>=Sc),pe(j))}function te(j){t(j!=null&&j.oa!=null),j.pa<j.Zc?(j.I=(j.oa[j.pa++]|j.I<<8)>>>0,j.b+=8):(t(j!=null&&j.oa!=null),j.pa<j.Yc?(j.b+=8,j.I=j.oa[j.pa++]|j.I<<8):j.Ka?j.b=0:(j.I<<=8,j.b+=8,j.Ka=1))}function Y(j){return z(j,1)}function oe(j,E){var I=j.Ca;0>j.b&&te(j);var B=j.b,K=I*E>>>8,Z=(j.I>>>B>K)+0;for(Z?(I-=K,j.I-=K+1<<B>>>0):I=K+1,B=I,K=0;256<=B;)K+=8,B>>=8;return B=7^K+Au[B],j.b-=B,j.Ca=(I<<B)-1,Z}function we(j,E,I){j[E+0]=I>>24&255,j[E+1]=I>>16&255,j[E+2]=I>>8&255,j[E+3]=255&I}function ve(j,E){return j[E+0]|j[E+1]<<8}function He(j,E){return ve(j,E)|j[E+2]<<16}function ze(j,E){return ve(j,E)|ve(j,E+2)<<16}function ne(j,E){var I=1<<E;return t(j!=null),t(0<E),j.X=a(I),j.X==null?0:(j.Mb=32-E,j.Xa=E,1)}function Be(j,E){t(j!=null),t(E!=null),t(j.Xa==E.Xa),n(E.X,0,j.X,0,1<<E.Xa)}function qe(){this.X=[],this.Xa=this.Mb=0}function rt(j,E,I,B){t(I!=null),t(B!=null);var K=I[0],Z=B[0];return K==0&&(K=(j*Z+E/2)/E),Z==0&&(Z=(E*K+j/2)/j),0>=K||0>=Z?0:(I[0]=K,B[0]=Z,1)}function Pe(j,E){return j+(1<<E)-1>>>E}function ct(j,E){return((4278255360&j)+(4278255360&E)>>>0&4278255360)+((16711935&j)+(16711935&E)>>>0&16711935)>>>0}function at(j,E){k[E]=function(I,B,K,Z,ee,re,se){var ce;for(ce=0;ce<ee;++ce){var Se=k[j](re[se+ce-1],K,Z+ce);re[se+ce]=ct(I[B+ce],Se)}}}function Rt(){this.ud=this.hd=this.jd=0}function It(j,E){return((4278124286&(j^E))>>>1)+(j&E)>>>0}function Zt(j){return 0<=j&&256>j?j:0>j?0:255<j?255:void 0}function or(j,E){return Zt(j+(j-E+.5>>1))}function Yt(j,E,I){return Math.abs(E-I)-Math.abs(j-I)}function dr(j,E,I,B,K,Z,ee){for(B=Z[ee-1],I=0;I<K;++I)Z[ee+I]=B=ct(j[E+I],B)}function rr(j,E,I,B,K){var Z;for(Z=0;Z<I;++Z){var ee=j[E+Z],re=ee>>8&255,se=16711935&(se=(se=16711935&ee)+((re<<16)+re));B[K+Z]=(4278255360&ee)+se>>>0}}function ye(j,E){E.jd=255&j,E.hd=j>>8&255,E.ud=j>>16&255}function Ve(j,E,I,B,K,Z){var ee;for(ee=0;ee<B;++ee){var re=E[I+ee],se=re>>>8,ce=re,Se=255&(Se=(Se=re>>>16)+((j.jd<<24>>24)*(se<<24>>24)>>>5));ce=255&(ce=(ce+=(j.hd<<24>>24)*(se<<24>>24)>>>5)+((j.ud<<24>>24)*(Se<<24>>24)>>>5)),K[Z+ee]=(4278255360&re)+(Se<<16)+ce}}function tt(j,E,I,B,K){k[E]=function(Z,ee,re,se,ce,Se,Me,ue,Ne){for(se=Me;se<ue;++se)for(Me=0;Me<Ne;++Me)ce[Se++]=K(re[B(Z[ee++])])},k[j]=function(Z,ee,re,se,ce,Se,Me){var ue=8>>Z.b,Ne=Z.Ea,Ae=Z.K[0],Ke=Z.w;if(8>ue)for(Z=(1<<Z.b)-1,Ke=(1<<ue)-1;ee<re;++ee){var De,Ye=0;for(De=0;De<Ne;++De)De&Z||(Ye=B(se[ce++])),Se[Me++]=K(Ae[Ye&Ke]),Ye>>=ue}else k["VP8LMapColor"+I](se,ce,Ae,Ke,Se,Me,ee,re,Ne)}}function Qt(j,E,I,B,K){for(I=E+I;E<I;){var Z=j[E++];B[K++]=Z>>16&255,B[K++]=Z>>8&255,B[K++]=255&Z}}function Dt(j,E,I,B,K){for(I=E+I;E<I;){var Z=j[E++];B[K++]=Z>>16&255,B[K++]=Z>>8&255,B[K++]=255&Z,B[K++]=Z>>24&255}}function Vt(j,E,I,B,K){for(I=E+I;E<I;){var Z=(ee=j[E++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;B[K++]=Z,B[K++]=ee}}function Bt(j,E,I,B,K){for(I=E+I;E<I;){var Z=(ee=j[E++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;B[K++]=Z,B[K++]=ee}}function Ar(j,E,I,B,K){for(I=E+I;E<I;){var Z=j[E++];B[K++]=255&Z,B[K++]=Z>>8&255,B[K++]=Z>>16&255}}function yt(j,E,I,B,K,Z){if(Z==0)for(I=E+I;E<I;)we(B,((Z=j[E++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),K+=32;else n(B,K,j,E,I)}function wr(j,E){k[E][0]=k[j+"0"],k[E][1]=k[j+"1"],k[E][2]=k[j+"2"],k[E][3]=k[j+"3"],k[E][4]=k[j+"4"],k[E][5]=k[j+"5"],k[E][6]=k[j+"6"],k[E][7]=k[j+"7"],k[E][8]=k[j+"8"],k[E][9]=k[j+"9"],k[E][10]=k[j+"10"],k[E][11]=k[j+"11"],k[E][12]=k[j+"12"],k[E][13]=k[j+"13"],k[E][14]=k[j+"0"],k[E][15]=k[j+"0"]}function Gt(j){return j==Bj||j==Uj||j==Kx||j==zj}function er(){this.eb=[],this.size=this.A=this.fb=0}function zr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new er,this.f.kb=new zr,this.sd=null}function Ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hc(j){return alert("todo:WebPSamplerProcessPlane"),j.T}function zi(j,E){var I=j.T,B=E.ba.f.RGBA,K=B.eb,Z=B.fb+j.ka*B.A,ee=co[E.ba.S],re=j.y,se=j.O,ce=j.f,Se=j.N,Me=j.ea,ue=j.W,Ne=E.cc,Ae=E.dc,Ke=E.Mc,De=E.Nc,Ye=j.ka,Je=j.ka+j.T,it=j.U,et=it+1>>1;for(Ye==0?ee(re,se,null,null,ce,Se,Me,ue,ce,Se,Me,ue,K,Z,null,null,it):(ee(E.ec,E.fc,re,se,Ne,Ae,Ke,De,ce,Se,Me,ue,K,Z-B.A,K,Z,it),++I);Ye+2<Je;Ye+=2)Ne=ce,Ae=Se,Ke=Me,De=ue,Se+=j.Rc,ue+=j.Rc,Z+=2*B.A,ee(re,(se+=2*j.fa)-j.fa,re,se,Ne,Ae,Ke,De,ce,Se,Me,ue,K,Z-B.A,K,Z,it);return se+=j.fa,j.j+Je<j.o?(n(E.ec,E.fc,re,se,it),n(E.cc,E.dc,ce,Se,et),n(E.Mc,E.Nc,Me,ue,et),I--):1&Je||ee(re,se,null,null,ce,Se,Me,ue,ce,Se,Me,ue,K,Z+B.A,null,null,it),I}function $o(j,E,I){var B=j.F,K=[j.J];if(B!=null){var Z=j.U,ee=E.ba.S,re=ee==Gx||ee==Kx;E=E.ba.f.RGBA;var se=[0],ce=j.ka;se[0]=j.T,j.Kb&&(ce==0?--se[0]:(--ce,K[0]-=j.width),j.j+j.ka+j.T==j.o&&(se[0]=j.o-j.j-ce));var Se=E.eb;ce=E.fb+ce*E.A,j=nT(B,K[0],j.width,Z,se,Se,ce+(re?0:3),E.A),t(I==se),j&&Gt(ee)&&b0(Se,ce,re,Z,se,E.A)}return 0}function no(j){var E=j.ma,I=E.ba.S,B=11>I,K=I==qx||I==Vx||I==Gx||I==$j||I==12||Gt(I);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!h0(E.Oa,j,K?11:12))return 0;if(K&&Gt(I)&&u0(),j.da)alert("todo:use_scaling");else{if(B){if(E.Ib=hc,j.Kb){if(I=j.U+1>>1,E.memory=a(j.U+2*I),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+j.U,E.Mc=E.cc,E.Nc=E.dc+I,E.Ib=zi,u0()}}else alert("todo:EmitYUV");K&&(E.Jb=$o,B&&Ho())}if(B&&!yT){for(j=0;256>j;++j)AQ[j]=89858*(j-128)+Xx>>Yx,OQ[j]=-22014*(j-128)+Xx,TQ[j]=-45773*(j-128),PQ[j]=113618*(j-128)+Xx>>Yx;for(j=j0;j<qj;++j)E=76283*(j-16)+Xx>>Yx,RQ[j-j0]=di(E,255),IQ[j-j0]=di(E+8>>4,15);yT=1}return 1}function Kt(j){var E=j.ma,I=j.U,B=j.T;return t(!(1&j.ka)),0>=I||0>=B?0:(I=E.Ib(j,E),E.Jb!=null&&E.Jb(j,E,I),E.Dc+=I,1)}function Bo(j){j.ma.memory=null}function Uo(j,E,I,B){return xe(j,8)!=47?0:(E[0]=xe(j,14)+1,I[0]=xe(j,14)+1,B[0]=xe(j,1),xe(j,3)!=0?0:!j.h)}function ja(j,E){if(4>j)return j+1;var I=j-2>>1;return(2+(1&j)<<I)+xe(E,I)+1}function rs(j,E){return 120<E?E-120:1<=(I=((I=pQ[E-1])>>4)*j+(8-(15&I)))?I:1;var I}function kn(j,E,I){var B=T(I),K=j[E+=255&B].g-8;return 0<K&&(F(I,I.u+8),B=T(I),E+=j[E].value,E+=B&(1<<K)-1),F(I,I.u+j[E].g),j[E].value}function ui(j,E,I){return I.g+=j.g,I.value+=j.value<<E>>>0,t(8>=I.g),j.g}function J(j,E,I){var B=j.xc;return t((E=B==0?0:j.vc[j.md*(I>>B)+(E>>B)])<j.Wb),j.Ya[E]}function de(j,E,I,B){var K=j.ab,Z=j.c*E,ee=j.C;E=ee+E;var re=I,se=B;for(B=j.Ta,I=j.Ua;0<K--;){var ce=j.gc[K],Se=ee,Me=E,ue=re,Ne=se,Ae=(se=B,re=I,ce.Ea);switch(t(Se<Me),t(Me<=ce.nc),ce.hc){case 2:ti(ue,Ne,(Me-Se)*Ae,se,re);break;case 0:var Ke=Se,De=Me,Ye=se,Je=re,it=(Mt=ce).Ea;Ke==0&&(p0(ue,Ne,null,null,1,Ye,Je),dr(ue,Ne+1,0,0,it-1,Ye,Je+1),Ne+=it,Je+=it,++Ke);for(var et=1<<Mt.b,qt=et-1,Ct=Pe(it,Mt.b),mr=Mt.K,Mt=Mt.w+(Ke>>Mt.b)*Ct;Ke<De;){var _r=mr,Ci=Mt,pr=1;for(Mh(ue,Ne,Ye,Je-it,1,Ye,Je);pr<it;){var Ft=(pr&~qt)+et;Ft>it&&(Ft=it),(0,v0[_r[Ci++]>>8&15])(ue,Ne+ +pr,Ye,Je+pr-it,Ft-pr,Ye,Je+pr),pr=Ft}Ne+=it,Je+=it,++Ke&qt||(Mt+=Ct)}Me!=ce.nc&&n(se,re-Ae,se,re+(Me-Se-1)*Ae,Ae);break;case 1:for(Ae=ue,De=Ne,it=(ue=ce.Ea)-(Je=ue&~(Ye=(Ne=1<<ce.b)-1)),Ke=Pe(ue,ce.b),et=ce.K,ce=ce.w+(Se>>ce.b)*Ke;Se<Me;){for(qt=et,Ct=ce,mr=new Rt,Mt=De+Je,_r=De+ue;De<Mt;)ye(qt[Ct++],mr),x0(mr,Ae,De,Ne,se,re),De+=Ne,re+=Ne;De<_r&&(ye(qt[Ct++],mr),x0(mr,Ae,De,it,se,re),De+=it,re+=it),++Se&Ye||(ce+=Ke)}break;case 3:if(ue==se&&Ne==re&&0<ce.b){for(De=se,ue=Ae=re+(Me-Se)*Ae-(Je=(Me-Se)*Pe(ce.Ea,ce.b)),Ne=se,Ye=re,Ke=[],Je=(it=Je)-1;0<=Je;--Je)Ke[Je]=Ne[Ye+Je];for(Je=it-1;0<=Je;--Je)De[ue+Je]=Ke[Je];Ux(ce,Se,Me,se,Ae,se,re)}else Ux(ce,Se,Me,ue,Ne,se,re)}re=B,se=I}se!=I&&n(B,I,re,se,Z)}function ae(j,E){var I=j.V,B=j.Ba+j.c*j.C,K=E-j.C;if(t(E<=j.l.o),t(16>=K),0<K){var Z=j.l,ee=j.Ta,re=j.Ua,se=Z.width;if(de(j,K,I,B),K=re=[re],t((I=j.C)<(B=E)),t(Z.v<Z.va),B>Z.o&&(B=Z.o),I<Z.j){var ce=Z.j-I;I=Z.j,K[0]+=ce*se}if(I>=B?I=0:(K[0]+=4*Z.v,Z.ka=I-Z.j,Z.U=Z.va-Z.v,Z.T=B-I,I=1),I){if(re=re[0],11>(I=j.ca).S){var Se=I.f.RGBA,Me=(B=I.S,K=Z.U,Z=Z.T,ce=Se.eb,Se.A),ue=Z;for(Se=Se.fb+j.Ma*Se.A;0<ue--;){var Ne=ee,Ae=re,Ke=K,De=ce,Ye=Se;switch(B){case Hx:y0(Ne,Ae,Ke,De,Ye);break;case qx:Pu(Ne,Ae,Ke,De,Ye);break;case Bj:Pu(Ne,Ae,Ke,De,Ye),b0(De,Ye,0,Ke,1,0);break;case uT:af(Ne,Ae,Ke,De,Ye);break;case Vx:yt(Ne,Ae,Ke,De,Ye,1);break;case Uj:yt(Ne,Ae,Ke,De,Ye,1),b0(De,Ye,0,Ke,1,0);break;case Gx:yt(Ne,Ae,Ke,De,Ye,0);break;case Kx:yt(Ne,Ae,Ke,De,Ye,0),b0(De,Ye,1,Ke,1,0);break;case $j:Tu(Ne,Ae,Ke,De,Ye);break;case zj:Tu(Ne,Ae,Ke,De,Ye),rT(De,Ye,Ke,1,0);break;case dT:Ou(Ne,Ae,Ke,De,Ye);break;default:t(0)}re+=se,Se+=Me}j.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(j.Ma<=I.height)}}j.C=E,t(j.C<=j.i)}function le(j){var E;if(0<j.ua)return 0;for(E=0;E<j.Wb;++E){var I=j.Ya[E].G,B=j.Ya[E].H;if(0<I[1][B[1]+0].g||0<I[2][B[2]+0].g||0<I[3][B[3]+0].g)return 0}return 1}function fe(j,E,I,B,K,Z){if(j.Z!=0){var ee=j.qd,re=j.rd;for(t(Du[j.Z]!=null);E<I;++E)Du[j.Z](ee,re,B,K,B,K,Z),ee=B,re=K,K+=Z;j.qd=ee,j.rd=re}}function me(j,E){var I=j.l.ma,B=I.Z==0||I.Z==1?j.l.j:j.C;if(B=j.C<B?B:j.C,t(E<=j.l.o),E>B){var K=j.l.width,Z=I.ca,ee=I.tb+K*B,re=j.V,se=j.Ba+j.c*B,ce=j.gc;t(j.ab==1),t(ce[0].hc==3),Ol(ce[0],B,E,re,se,Z,ee),fe(I,B,E,Z,ee,K)}j.C=j.Ma=E}function Te(j,E,I,B,K,Z,ee){var re=j.$/B,se=j.$%B,ce=j.m,Se=j.s,Me=I+j.$,ue=Me;K=I+B*K;var Ne=I+B*Z,Ae=280+Se.ua,Ke=j.Pb?re:16777216,De=0<Se.ua?Se.Wa:null,Ye=Se.wc,Je=Me<Ne?J(Se,se,re):null;t(j.C<Z),t(Ne<=K);var it=!1;e:for(;;){for(;it||Me<Ne;){var et=0;if(re>=Ke){var qt=Me-I;t((Ke=j).Pb),Ke.wd=Ke.m,Ke.xd=qt,0<Ke.s.ua&&Be(Ke.s.Wa,Ke.s.vb),Ke=re+vQ}if(se&Ye||(Je=J(Se,se,re)),t(Je!=null),Je.Qb&&(E[Me]=Je.qb,it=!0),!it)if(W(ce),Je.jc){et=ce,qt=E;var Ct=Me,mr=Je.pd[T(et)&nf-1];t(Je.jc),256>mr.g?(F(et,et.u+mr.g),qt[Ct]=mr.value,et=0):(F(et,et.u+mr.g-256),t(256<=mr.value),et=mr.value),et==0&&(it=!0)}else et=kn(Je.G[0],Je.H[0],ce);if(ce.h)break;if(it||256>et){if(!it)if(Je.nd)E[Me]=(Je.qb|et<<8)>>>0;else{if(W(ce),it=kn(Je.G[1],Je.H[1],ce),W(ce),qt=kn(Je.G[2],Je.H[2],ce),Ct=kn(Je.G[3],Je.H[3],ce),ce.h)break;E[Me]=(Ct<<24|it<<16|et<<8|qt)>>>0}if(it=!1,++Me,++se>=B&&(se=0,++re,ee!=null&&re<=Z&&!(re%16)&&ee(j,re),De!=null))for(;ue<Me;)et=E[ue++],De.X[(506832829*et&4294967295)>>>De.Mb]=et}else if(280>et){if(et=ja(et-256,ce),qt=kn(Je.G[4],Je.H[4],ce),W(ce),qt=rs(B,qt=ja(qt,ce)),ce.h)break;if(Me-I<qt||K-Me<et)break e;for(Ct=0;Ct<et;++Ct)E[Me+Ct]=E[Me+Ct-qt];for(Me+=et,se+=et;se>=B;)se-=B,++re,ee!=null&&re<=Z&&!(re%16)&&ee(j,re);if(t(Me<=K),se&Ye&&(Je=J(Se,se,re)),De!=null)for(;ue<Me;)et=E[ue++],De.X[(506832829*et&4294967295)>>>De.Mb]=et}else{if(!(et<Ae))break e;for(it=et-280,t(De!=null);ue<Me;)et=E[ue++],De.X[(506832829*et&4294967295)>>>De.Mb]=et;et=Me,t(!(it>>>(qt=De).Xa)),E[et]=qt.X[it],it=!0}it||t(ce.h==V(ce))}if(j.Pb&&ce.h&&Me<K)t(j.m.h),j.a=5,j.m=j.wd,j.$=j.xd,0<j.s.ua&&Be(j.s.vb,j.s.Wa);else{if(ce.h)break e;ee!=null&&ee(j,re>Z?Z:re),j.a=0,j.$=Me-I}return 1}return j.a=3,0}function Ue(j){t(j!=null),j.vc=null,j.yc=null,j.Ya=null;var E=j.Wa;E!=null&&(E.X=null),j.vb=null,t(j!=null)}function Oe(){var j=new ar;return j==null?null:(j.a=0,j.xb=mT,wr("Predictor","VP8LPredictors"),wr("Predictor","VP8LPredictors_C"),wr("PredictorAdd","VP8LPredictorsAdd"),wr("PredictorAdd","VP8LPredictorsAdd_C"),ti=rr,x0=Ve,y0=Qt,Pu=Dt,Tu=Vt,Ou=Bt,af=Ar,k.VP8LMapColor32b=Tl,k.VP8LMapColor8b=g0,j)}function Ie(j,E,I,B,K){var Z=1,ee=[j],re=[E],se=B.m,ce=B.s,Se=null,Me=0;e:for(;;){if(I)for(;Z&&xe(se,1);){var ue=ee,Ne=re,Ae=B,Ke=1,De=Ae.m,Ye=Ae.gc[Ae.ab],Je=xe(De,2);if(Ae.Oc&1<<Je)Z=0;else{switch(Ae.Oc|=1<<Je,Ye.hc=Je,Ye.Ea=ue[0],Ye.nc=Ne[0],Ye.K=[null],++Ae.ab,t(4>=Ae.ab),Je){case 0:case 1:Ye.b=xe(De,3)+2,Ke=Ie(Pe(Ye.Ea,Ye.b),Pe(Ye.nc,Ye.b),0,Ae,Ye.K),Ye.K=Ye.K[0];break;case 3:var it,et=xe(De,8)+1,qt=16<et?0:4<et?1:2<et?2:3;if(ue[0]=Pe(Ye.Ea,qt),Ye.b=qt,it=Ke=Ie(et,1,0,Ae,Ye.K)){var Ct,mr=et,Mt=Ye,_r=1<<(8>>Mt.b),Ci=a(_r);if(Ci==null)it=0;else{var pr=Mt.K[0],Ft=Mt.w;for(Ci[0]=Mt.K[0][0],Ct=1;Ct<1*mr;++Ct)Ci[Ct]=ct(pr[Ft+Ct],Ci[Ct-1]);for(;Ct<4*_r;++Ct)Ci[Ct]=0;Mt.K[0]=null,Mt.K[0]=Ci,it=1}}Ke=it;break;case 2:break;default:t(0)}Z=Ke}}if(ee=ee[0],re=re[0],Z&&xe(se,1)&&!(Z=1<=(Me=xe(se,4))&&11>=Me)){B.a=3;break e}var pt;if(pt=Z)t:{var ni,ur,Nr,yn=B,oa=ee,Ba=re,Bn=Me,Sa=I,Ua=yn.m,Ai=yn.s,Tr=[null],Wr=1,Un=0,Hr=gQ[Bn];r:for(;;){if(Sa&&xe(Ua,1)){var la=xe(Ua,3)+2,Vo=Pe(oa,la),ii=Pe(Ba,la),ns=Vo*ii;if(!Ie(Vo,ii,0,yn,Tr))break r;for(Tr=Tr[0],Ai.xc=la,ni=0;ni<ns;++ni){var cn=Tr[ni]>>8&65535;Tr[ni]=cn,cn>=Wr&&(Wr=cn+1)}}if(Ua.h)break r;for(ur=0;5>ur;++ur){var Pi=fT[ur];!ur&&0<Bn&&(Pi+=1<<Bn),Un<Pi&&(Un=Pi)}var Ns=o(Wr*Hr,U),za=Wr,ks=o(za,Q);if(ks==null)var Es=null;else t(65536>=za),Es=ks;var is=a(Un);if(Es==null||is==null||Ns==null){yn.a=1;break r}var Cs=Ns;for(ni=Nr=0;ni<Wr;++ni){var mn=Es[ni],As=mn.G,Go=mn.H,of=0,Ec=1,ca=0;for(ur=0;5>ur;++ur){Pi=fT[ur],As[ur]=Cs,Go[ur]=Nr,!ur&&0<Bn&&(Pi+=1<<Bn);i:{var Zx,Vj=Pi,Qx=yn,S0=is,MQ=Cs,FQ=Nr,Gj=0,Lu=Qx.m,$Q=xe(Lu,1);if(i(S0,0,0,Vj),$Q){var BQ=xe(Lu,1)+1,UQ=xe(Lu,1),_T=xe(Lu,UQ==0?1:8);S0[_T]=1,BQ==2&&(S0[_T=xe(Lu,8)]=1);var ey=1}else{var jT=a(19),ST=xe(Lu,4)+4;if(19<ST){Qx.a=3;var ty=0;break i}for(Zx=0;Zx<ST;++Zx)jT[mQ[Zx]]=xe(Lu,3);var Kj=void 0,N0=void 0,NT=Qx,zQ=jT,ry=Vj,kT=S0,Yj=0,Mu=NT.m,ET=8,CT=o(128,U);n:for(;L(CT,0,7,zQ,19);){if(xe(Mu,1)){var WQ=2+2*xe(Mu,3);if((Kj=2+xe(Mu,WQ))>ry)break n}else Kj=ry;for(N0=0;N0<ry&&Kj--;){W(Mu);var AT=CT[0+(127&T(Mu))];F(Mu,Mu.u+AT.g);var $h=AT.value;if(16>$h)kT[N0++]=$h,$h!=0&&(ET=$h);else{var HQ=$h==16,PT=$h-16,qQ=fQ[PT],TT=xe(Mu,dQ[PT])+qQ;if(N0+TT>ry)break n;for(var VQ=HQ?ET:0;0<TT--;)kT[N0++]=VQ}}Yj=1;break n}Yj||(NT.a=3),ey=Yj}(ey=ey&&!Lu.h)&&(Gj=L(MQ,FQ,8,S0,Vj)),ey&&Gj!=0?ty=Gj:(Qx.a=3,ty=0)}if(ty==0)break r;if(Ec&&hQ[ur]==1&&(Ec=Cs[Nr].g==0),of+=Cs[Nr].g,Nr+=ty,3>=ur){var k0,Xj=is[0];for(k0=1;k0<Pi;++k0)is[k0]>Xj&&(Xj=is[k0]);ca+=Xj}}if(mn.nd=Ec,mn.Qb=0,Ec&&(mn.qb=(As[3][Go[3]+0].value<<24|As[1][Go[1]+0].value<<16|As[2][Go[2]+0].value)>>>0,of==0&&256>As[0][Go[0]+0].value&&(mn.Qb=1,mn.qb+=As[0][Go[0]+0].value<<8)),mn.jc=!mn.Qb&&6>ca,mn.jc){var ny,Cc=mn;for(ny=0;ny<nf;++ny){var Fu=ny,$u=Cc.pd[Fu],iy=Cc.G[0][Cc.H[0]+Fu];256<=iy.value?($u.g=iy.g+256,$u.value=iy.value):($u.g=0,$u.value=0,Fu>>=ui(iy,8,$u),Fu>>=ui(Cc.G[1][Cc.H[1]+Fu],16,$u),Fu>>=ui(Cc.G[2][Cc.H[2]+Fu],0,$u),ui(Cc.G[3][Cc.H[3]+Fu],24,$u))}}}Ai.vc=Tr,Ai.Wb=Wr,Ai.Ya=Es,Ai.yc=Ns,pt=1;break t}pt=0}if(!(Z=pt)){B.a=3;break e}if(0<Me){if(ce.ua=1<<Me,!ne(ce.Wa,Me)){B.a=1,Z=0;break e}}else ce.ua=0;var Jj=B,OT=ee,GQ=re,Zj=Jj.s,Qj=Zj.xc;if(Jj.c=OT,Jj.i=GQ,Zj.md=Pe(OT,Qj),Zj.wc=Qj==0?-1:(1<<Qj)-1,I){B.xb=SQ;break e}if((Se=a(ee*re))==null){B.a=1,Z=0;break e}Z=(Z=Te(B,Se,0,ee,re,re,null))&&!se.h;break e}return Z?(K!=null?K[0]=Se:(t(Se==null),t(I)),B.$=0,I||Ue(ce)):Ue(ce),Z}function $e(j,E){var I=j.c*j.i,B=I+E+16*E;return t(j.c<=E),j.V=a(B),j.V==null?(j.Ta=null,j.Ua=0,j.a=1,0):(j.Ta=j.V,j.Ua=j.Ba+I+E,1)}function nt(j,E){var I=j.C,B=E-I,K=j.V,Z=j.Ba+j.c*I;for(t(E<=j.l.o);0<B;){var ee=16<B?16:B,re=j.l.ma,se=j.l.width,ce=se*ee,Se=re.ca,Me=re.tb+se*I,ue=j.Ta,Ne=j.Ua;de(j,ee,K,Z),iT(ue,Ne,Se,Me,ce),fe(re,I,I+ee,Se,Me,se),B-=ee,K+=ee*j.c,I+=ee}t(I==E),j.C=j.Ma=E}function dt(){this.ub=this.yd=this.td=this.Rb=0}function xt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function gt(){this.Yb=function(){var j=[];return function E(I,B,K){for(var Z=K[B],ee=0;ee<Z&&(I.push(K.length>B+1?[]:0),!(K.length<B+1));ee++)E(I[ee],B+1,K)}(j,0,[3,11]),j}()}function nr(){this.jb=a(3),this.Wc=l([4,8],gt),this.Xc=l([4,17],gt)}function nn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function br(){this.ld=this.La=this.dd=this.tc=0}function $n(){this.Na=this.la=0}function El(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Cl(){this.uc=this.M=this.Nb=0,this.wa=Array(new br),this.Y=0,this.ya=Array(new zo),this.aa=0,this.l=new Ph}function io(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Su(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new dt,this.Kc=new xt,this.ed=new nn,this.Qa=new lt,this.Ic=this.$c=this.Aa=0,this.D=new Cl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,El),this.Pa=new nr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new io),this.Hd=0,this.rb=Array(new $n),this.sb=0,this.wa=Array(new br),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zo),this.L=this.aa=0,this.gd=l([4,2],br),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function di(j,E){return 0>j?0:j>E?E:j}function Ph(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jj(){var j=new Su;return j!=null&&(j.a=0,j.sc="OK",j.cb=0,j.Xb=0,_0||(_0=Th)),j}function fi(j,E,I){return j.a==0&&(j.a=E,j.sc=I,j.cb=0),0}function Ax(j,E,I){return 3<=I&&j[E+0]==157&&j[E+1]==1&&j[E+2]==42}function Al(j,E){if(j==null)return 0;if(j.a=0,j.sc="OK",E==null)return fi(j,2,"null VP8Io passed to VP8GetHeaders()");var I=E.data,B=E.w,K=E.ha;if(4>K)return fi(j,7,"Truncated header.");var Z=I[B+0]|I[B+1]<<8|I[B+2]<<16,ee=j.Od;if(ee.Rb=!(1&Z),ee.td=Z>>1&7,ee.yd=Z>>4&1,ee.ub=Z>>5,3<ee.td)return fi(j,3,"Incorrect keyframe parameters.");if(!ee.yd)return fi(j,4,"Frame not displayable.");B+=3,K-=3;var re=j.Kc;if(ee.Rb){if(7>K)return fi(j,7,"cannot parse picture header");if(!Ax(I,B,K))return fi(j,3,"Bad code word");re.c=16383&(I[B+4]<<8|I[B+3]),re.Td=I[B+4]>>6,re.i=16383&(I[B+6]<<8|I[B+5]),re.Ud=I[B+6]>>6,B+=7,K-=7,j.za=re.c+15>>4,j.Ub=re.i+15>>4,E.width=re.c,E.height=re.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,i((Z=j.Pa).jb,0,255,Z.jb.length),t((Z=j.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,i(Z.Zb,0,0,Z.Zb.length),i(Z.Lb,0,0,Z.Lb)}if(ee.ub>K)return fi(j,7,"bad partition length");ie(Z=j.m,I,B,ee.ub),B+=ee.ub,K-=ee.ub,ee.Rb&&(re.Ld=Y(Z),re.Kd=Y(Z)),re=j.Qa;var se,ce=j.Pa;if(t(Z!=null),t(re!=null),re.Cb=Y(Z),re.Cb){if(re.Bb=Y(Z),Y(Z)){for(re.Fb=Y(Z),se=0;4>se;++se)re.Zb[se]=Y(Z)?H(Z,7):0;for(se=0;4>se;++se)re.Lb[se]=Y(Z)?H(Z,6):0}if(re.Bb)for(se=0;3>se;++se)ce.jb[se]=Y(Z)?z(Z,8):255}else re.Bb=0;if(Z.Ka)return fi(j,3,"cannot parse segment header");if((re=j.ed).zd=Y(Z),re.Tb=z(Z,6),re.wb=z(Z,3),re.Pc=Y(Z),re.Pc&&Y(Z)){for(ce=0;4>ce;++ce)Y(Z)&&(re.vd[ce]=H(Z,6));for(ce=0;4>ce;++ce)Y(Z)&&(re.od[ce]=H(Z,6))}if(j.L=re.Tb==0?0:re.zd?1:2,Z.Ka)return fi(j,3,"cannot parse filter header");var Se=K;if(K=se=B,B=se+Se,re=Se,j.Xb=(1<<z(j.m,2))-1,Se<3*(ce=j.Xb))I=7;else{for(se+=3*ce,re-=3*ce,Se=0;Se<ce;++Se){var Me=I[K+0]|I[K+1]<<8|I[K+2]<<16;Me>re&&(Me=re),ie(j.Jc[+Se],I,se,Me),se+=Me,re-=Me,K+=3}ie(j.Jc[+ce],I,se,re),I=se<B?0:5}if(I!=0)return fi(j,I,"cannot parse partitions");for(I=z(se=j.m,7),K=Y(se)?H(se,4):0,B=Y(se)?H(se,4):0,re=Y(se)?H(se,4):0,ce=Y(se)?H(se,4):0,se=Y(se)?H(se,4):0,Se=j.Qa,Me=0;4>Me;++Me){if(Se.Cb){var ue=Se.Zb[Me];Se.Fb||(ue+=I)}else{if(0<Me){j.pb[Me]=j.pb[0];continue}ue=I}var Ne=j.pb[Me];Ne.Sc[0]=Wj[di(ue+K,127)],Ne.Sc[1]=Hj[di(ue+0,127)],Ne.Eb[0]=2*Wj[di(ue+B,127)],Ne.Eb[1]=101581*Hj[di(ue+re,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=Wj[di(ue+ce,117)],Ne.Qc[1]=Hj[di(ue+se,127)],Ne.lc=ue+se}if(!ee.Rb)return fi(j,4,"Not a key frame.");for(Y(Z),ee=j.Pa,I=0;4>I;++I){for(K=0;8>K;++K)for(B=0;3>B;++B)for(re=0;11>re;++re)ce=oe(Z,_Q[I][K][B][re])?z(Z,8):wQ[I][K][B][re],ee.Wc[I][K].Yb[B][re]=ce;for(K=0;17>K;++K)ee.Xc[I][K]=ee.Wc[I][jQ[K]]}return j.kc=Y(Z),j.kc&&(j.Bd=z(Z,8)),j.cb=1}function Th(j,E,I,B,K,Z,ee){var re=E[K].Yb[I];for(I=0;16>K;++K){if(!oe(j,re[I+0]))return K;for(;!oe(j,re[I+1]);)if(re=E[++K].Yb[0],I=0,K==16)return 16;var se=E[K+1].Yb;if(oe(j,re[I+2])){var ce=j,Se=0;if(oe(ce,(ue=re)[(Me=I)+3]))if(oe(ce,ue[Me+6])){for(re=0,Me=2*(Se=oe(ce,ue[Me+8]))+(ue=oe(ce,ue[Me+9+Se])),Se=0,ue=xQ[Me];ue[re];++re)Se+=Se+oe(ce,ue[re]);Se+=3+(8<<Me)}else oe(ce,ue[Me+7])?(Se=7+2*oe(ce,165),Se+=oe(ce,145)):Se=5+oe(ce,159);else Se=oe(ce,ue[Me+4])?3+oe(ce,ue[Me+5]):2;re=se[2]}else Se=1,re=se[1];se=ee+yQ[K],0>(ce=j).b&&te(ce);var Me,ue=ce.b,Ne=(Me=ce.Ca>>1)-(ce.I>>ue)>>31;--ce.b,ce.Ca+=Ne,ce.Ca|=1,ce.I-=(Me+1&Ne)<<ue,Z[se]=((Se^Ne)-Ne)*B[(0<K)+0]}return 16}function Px(j){var E=j.rb[j.sb-1];E.la=0,E.Na=0,i(j.zc,0,0,j.zc.length),j.ja=0}function ao(j,E,I,B,K){K=j[E+I+32*B]+(K>>3),j[E+I+32*B]=-256&K?0>K?0:255:K}function Ni(j,E,I,B,K,Z){ao(j,E,0,I,B+K),ao(j,E,1,I,B+Z),ao(j,E,2,I,B-Z),ao(j,E,3,I,B-K)}function mc(j){return(20091*j>>16)+j}function Tx(j,E,I,B){var K,Z=0,ee=a(16);for(K=0;4>K;++K){var re=j[E+0]+j[E+8],se=j[E+0]-j[E+8],ce=(35468*j[E+4]>>16)-mc(j[E+12]),Se=mc(j[E+4])+(35468*j[E+12]>>16);ee[Z+0]=re+Se,ee[Z+1]=se+ce,ee[Z+2]=se-ce,ee[Z+3]=re-Se,Z+=4,E++}for(K=Z=0;4>K;++K)re=(j=ee[Z+0]+4)+ee[Z+8],se=j-ee[Z+8],ce=(35468*ee[Z+4]>>16)-mc(ee[Z+12]),ao(I,B,0,0,re+(Se=mc(ee[Z+4])+(35468*ee[Z+12]>>16))),ao(I,B,1,0,se+ce),ao(I,B,2,0,se-ce),ao(I,B,3,0,re-Se),Z++,B+=32}function Sj(j,E,I,B){var K=j[E+0]+4,Z=35468*j[E+4]>>16,ee=mc(j[E+4]),re=35468*j[E+1]>>16;Ni(I,B,0,K+ee,j=mc(j[E+1]),re),Ni(I,B,1,K+Z,j,re),Ni(I,B,2,K-Z,j,re),Ni(I,B,3,K-ee,j,re)}function Nj(j,E,I,B,K){Tx(j,E,I,B),K&&Tx(j,E+16,I,B+4)}function Pl(j,E,I,B){sf(j,E+0,I,B,1),sf(j,E+32,I,B+128,1)}function Ox(j,E,I,B){var K;for(j=j[E+0]+4,K=0;4>K;++K)for(E=0;4>E;++E)ao(I,B,E,K,j)}function Rx(j,E,I,B){j[E+0]&&Br(j,E+0,I,B),j[E+16]&&Br(j,E+16,I,B+4),j[E+32]&&Br(j,E+32,I,B+128),j[E+48]&&Br(j,E+48,I,B+128+4)}function Oh(j,E,I,B){var K,Z=a(16);for(K=0;4>K;++K){var ee=j[E+0+K]+j[E+12+K],re=j[E+4+K]+j[E+8+K],se=j[E+4+K]-j[E+8+K],ce=j[E+0+K]-j[E+12+K];Z[0+K]=ee+re,Z[8+K]=ee-re,Z[4+K]=ce+se,Z[12+K]=ce-se}for(K=0;4>K;++K)ee=(j=Z[0+4*K]+3)+Z[3+4*K],re=Z[1+4*K]+Z[2+4*K],se=Z[1+4*K]-Z[2+4*K],ce=j-Z[3+4*K],I[B+0]=ee+re>>3,I[B+16]=ce+se>>3,I[B+32]=ee-re>>3,I[B+48]=ce-se>>3,B+=64}function Gd(j,E,I){var B,K=E-32,Z=Ss,ee=255-j[K-1];for(B=0;B<I;++B){var re,se=Z,ce=ee+j[E-1];for(re=0;re<I;++re)j[E+re]=se[ce+j[K+re]];E+=32}}function kj(j,E){Gd(j,E,4)}function Ej(j,E){Gd(j,E,8)}function Cj(j,E){Gd(j,E,16)}function r0(j,E){var I;for(I=0;16>I;++I)n(j,E+32*I,j,E-32,16)}function Ix(j,E){var I;for(I=16;0<I;--I)i(j,E,j[E-1],16),E+=32}function Wo(j,E,I){var B;for(B=0;16>B;++B)i(E,I+32*B,j,16)}function Aj(j,E){var I,B=16;for(I=0;16>I;++I)B+=j[E-1+32*I]+j[E+I-32];Wo(B>>5,j,E)}function Kd(j,E){var I,B=8;for(I=0;16>I;++I)B+=j[E-1+32*I];Wo(B>>4,j,E)}function n0(j,E){var I,B=8;for(I=0;16>I;++I)B+=j[E+I-32];Wo(B>>4,j,E)}function Pj(j,E){Wo(128,j,E)}function sr(j,E,I){return j+2*E+I+2>>2}function Tj(j,E){var I,B=E-32;for(B=new Uint8Array([sr(j[B-1],j[B+0],j[B+1]),sr(j[B+0],j[B+1],j[B+2]),sr(j[B+1],j[B+2],j[B+3]),sr(j[B+2],j[B+3],j[B+4])]),I=0;4>I;++I)n(j,E+32*I,B,0,B.length)}function Oj(j,E){var I=j[E-1],B=j[E-1+32],K=j[E-1+64],Z=j[E-1+96];we(j,E+0,16843009*sr(j[E-1-32],I,B)),we(j,E+32,16843009*sr(I,B,K)),we(j,E+64,16843009*sr(B,K,Z)),we(j,E+96,16843009*sr(K,Z,Z))}function Rj(j,E){var I,B=4;for(I=0;4>I;++I)B+=j[E+I-32]+j[E-1+32*I];for(B>>=3,I=0;4>I;++I)i(j,E+32*I,B,4)}function pc(j,E){var I=j[E-1+0],B=j[E-1+32],K=j[E-1+64],Z=j[E-1-32],ee=j[E+0-32],re=j[E+1-32],se=j[E+2-32],ce=j[E+3-32];j[E+0+96]=sr(B,K,j[E-1+96]),j[E+1+96]=j[E+0+64]=sr(I,B,K),j[E+2+96]=j[E+1+64]=j[E+0+32]=sr(Z,I,B),j[E+3+96]=j[E+2+64]=j[E+1+32]=j[E+0+0]=sr(ee,Z,I),j[E+3+64]=j[E+2+32]=j[E+1+0]=sr(re,ee,Z),j[E+3+32]=j[E+2+0]=sr(se,re,ee),j[E+3+0]=sr(ce,se,re)}function gc(j,E){var I=j[E+1-32],B=j[E+2-32],K=j[E+3-32],Z=j[E+4-32],ee=j[E+5-32],re=j[E+6-32],se=j[E+7-32];j[E+0+0]=sr(j[E+0-32],I,B),j[E+1+0]=j[E+0+32]=sr(I,B,K),j[E+2+0]=j[E+1+32]=j[E+0+64]=sr(B,K,Z),j[E+3+0]=j[E+2+32]=j[E+1+64]=j[E+0+96]=sr(K,Z,ee),j[E+3+32]=j[E+2+64]=j[E+1+96]=sr(Z,ee,re),j[E+3+64]=j[E+2+96]=sr(ee,re,se),j[E+3+96]=sr(re,se,se)}function Ij(j,E){var I=j[E-1+0],B=j[E-1+32],K=j[E-1+64],Z=j[E-1-32],ee=j[E+0-32],re=j[E+1-32],se=j[E+2-32],ce=j[E+3-32];j[E+0+0]=j[E+1+64]=Z+ee+1>>1,j[E+1+0]=j[E+2+64]=ee+re+1>>1,j[E+2+0]=j[E+3+64]=re+se+1>>1,j[E+3+0]=se+ce+1>>1,j[E+0+96]=sr(K,B,I),j[E+0+64]=sr(B,I,Z),j[E+0+32]=j[E+1+96]=sr(I,Z,ee),j[E+1+32]=j[E+2+96]=sr(Z,ee,re),j[E+2+32]=j[E+3+96]=sr(ee,re,se),j[E+3+32]=sr(re,se,ce)}function Dj(j,E){var I=j[E+0-32],B=j[E+1-32],K=j[E+2-32],Z=j[E+3-32],ee=j[E+4-32],re=j[E+5-32],se=j[E+6-32],ce=j[E+7-32];j[E+0+0]=I+B+1>>1,j[E+1+0]=j[E+0+64]=B+K+1>>1,j[E+2+0]=j[E+1+64]=K+Z+1>>1,j[E+3+0]=j[E+2+64]=Z+ee+1>>1,j[E+0+32]=sr(I,B,K),j[E+1+32]=j[E+0+96]=sr(B,K,Z),j[E+2+32]=j[E+1+96]=sr(K,Z,ee),j[E+3+32]=j[E+2+96]=sr(Z,ee,re),j[E+3+64]=sr(ee,re,se),j[E+3+96]=sr(re,se,ce)}function Rh(j,E){var I=j[E-1+0],B=j[E-1+32],K=j[E-1+64],Z=j[E-1+96];j[E+0+0]=I+B+1>>1,j[E+2+0]=j[E+0+32]=B+K+1>>1,j[E+2+32]=j[E+0+64]=K+Z+1>>1,j[E+1+0]=sr(I,B,K),j[E+3+0]=j[E+1+32]=sr(B,K,Z),j[E+3+32]=j[E+1+64]=sr(K,Z,Z),j[E+3+64]=j[E+2+64]=j[E+0+96]=j[E+1+96]=j[E+2+96]=j[E+3+96]=Z}function i0(j,E){var I=j[E-1+0],B=j[E-1+32],K=j[E-1+64],Z=j[E-1+96],ee=j[E-1-32],re=j[E+0-32],se=j[E+1-32],ce=j[E+2-32];j[E+0+0]=j[E+2+32]=I+ee+1>>1,j[E+0+32]=j[E+2+64]=B+I+1>>1,j[E+0+64]=j[E+2+96]=K+B+1>>1,j[E+0+96]=Z+K+1>>1,j[E+3+0]=sr(re,se,ce),j[E+2+0]=sr(ee,re,se),j[E+1+0]=j[E+3+32]=sr(I,ee,re),j[E+1+32]=j[E+3+64]=sr(B,I,ee),j[E+1+64]=j[E+3+96]=sr(K,B,I),j[E+1+96]=sr(Z,K,B)}function Yd(j,E){var I;for(I=0;8>I;++I)n(j,E+32*I,j,E-32,8)}function Lj(j,E){var I;for(I=0;8>I;++I)i(j,E,j[E-1],8),E+=32}function vc(j,E,I){var B;for(B=0;8>B;++B)i(E,I+32*B,j,8)}function Mj(j,E){var I,B=8;for(I=0;8>I;++I)B+=j[E+I-32]+j[E-1+32*I];vc(B>>4,j,E)}function a0(j,E){var I,B=4;for(I=0;8>I;++I)B+=j[E+I-32];vc(B>>3,j,E)}function s0(j,E){var I,B=4;for(I=0;8>I;++I)B+=j[E-1+32*I];vc(B>>3,j,E)}function Dx(j,E){vc(128,j,E)}function xc(j,E,I){var B=j[E-I],K=j[E+0],Z=3*(K-B)+Fj[1020+j[E-2*I]-j[E+I]],ee=Wx[112+(Z+4>>3)];j[E-I]=Ss[255+B+Wx[112+(Z+3>>3)]],j[E+0]=Ss[255+K-ee]}function o0(j,E,I,B){var K=j[E+0],Z=j[E+I];return lo[255+j[E-2*I]-j[E-I]]>B||lo[255+Z-K]>B}function Ih(j,E,I,B){return 4*lo[255+j[E-I]-j[E+0]]+lo[255+j[E-2*I]-j[E+I]]<=B}function l0(j,E,I,B,K){var Z=j[E-3*I],ee=j[E-2*I],re=j[E-I],se=j[E+0],ce=j[E+I],Se=j[E+2*I],Me=j[E+3*I];return 4*lo[255+re-se]+lo[255+ee-ce]>B?0:lo[255+j[E-4*I]-Z]<=K&&lo[255+Z-ee]<=K&&lo[255+ee-re]<=K&&lo[255+Me-Se]<=K&&lo[255+Se-ce]<=K&&lo[255+ce-se]<=K}function Xd(j,E,I,B){var K=2*B+1;for(B=0;16>B;++B)Ih(j,E+B,I,K)&&xc(j,E+B,I)}function c0(j,E,I,B){var K=2*B+1;for(B=0;16>B;++B)Ih(j,E+B*I,1,K)&&xc(j,E+B*I,1)}function Lx(j,E,I,B){var K;for(K=3;0<K;--K)Xd(j,E+=4*I,I,B)}function Mx(j,E,I,B){var K;for(K=3;0<K;--K)c0(j,E+=4,I,B)}function yc(j,E,I,B,K,Z,ee,re){for(Z=2*Z+1;0<K--;){if(l0(j,E,I,Z,ee))if(o0(j,E,I,re))xc(j,E,I);else{var se=j,ce=E,Se=I,Me=se[ce-2*Se],ue=se[ce-Se],Ne=se[ce+0],Ae=se[ce+Se],Ke=se[ce+2*Se],De=27*(Je=Fj[1020+3*(Ne-ue)+Fj[1020+Me-Ae]])+63>>7,Ye=18*Je+63>>7,Je=9*Je+63>>7;se[ce-3*Se]=Ss[255+se[ce-3*Se]+Je],se[ce-2*Se]=Ss[255+Me+Ye],se[ce-Se]=Ss[255+ue+De],se[ce+0]=Ss[255+Ne-De],se[ce+Se]=Ss[255+Ae-Ye],se[ce+2*Se]=Ss[255+Ke-Je]}E+=B}}function wc(j,E,I,B,K,Z,ee,re){for(Z=2*Z+1;0<K--;){if(l0(j,E,I,Z,ee))if(o0(j,E,I,re))xc(j,E,I);else{var se=j,ce=E,Se=I,Me=se[ce-Se],ue=se[ce+0],Ne=se[ce+Se],Ae=Wx[112+(4+(Ke=3*(ue-Me))>>3)],Ke=Wx[112+(Ke+3>>3)],De=Ae+1>>1;se[ce-2*Se]=Ss[255+se[ce-2*Se]+De],se[ce-Se]=Ss[255+Me+Ke],se[ce+0]=Ss[255+ue-Ae],se[ce+Se]=Ss[255+Ne-De]}E+=B}}function Fx(j,E,I,B,K,Z){yc(j,E,I,1,16,B,K,Z)}function Jd(j,E,I,B,K,Z){yc(j,E,1,I,16,B,K,Z)}function $x(j,E,I,B,K,Z){var ee;for(ee=3;0<ee;--ee)wc(j,E+=4*I,I,1,16,B,K,Z)}function P(j,E,I,B,K,Z){var ee;for(ee=3;0<ee;--ee)wc(j,E+=4,1,I,16,B,K,Z)}function G(j,E,I,B,K,Z,ee,re){yc(j,E,K,1,8,Z,ee,re),yc(I,B,K,1,8,Z,ee,re)}function he(j,E,I,B,K,Z,ee,re){yc(j,E,1,K,8,Z,ee,re),yc(I,B,1,K,8,Z,ee,re)}function _e(j,E,I,B,K,Z,ee,re){wc(j,E+4*K,K,1,8,Z,ee,re),wc(I,B+4*K,K,1,8,Z,ee,re)}function Ee(j,E,I,B,K,Z,ee,re){wc(j,E+4,1,K,8,Z,ee,re),wc(I,B+4,1,K,8,Z,ee,re)}function Xe(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ut(){this.ua=0,this.Wa=new qe,this.vb=new qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new U}function ar(){this.xb=this.a=0,this.l=new Ph,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ut,this.ab=0,this.gc=o(4,Lt),this.Oc=0}function fr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ph,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pr(j,E,I,B,K,Z,ee){for(j=j==null?0:j[E+0],E=0;E<ee;++E)K[Z+E]=j+I[B+E]&255,j=K[Z+E]}function On(j,E,I,B,K,Z,ee){var re;if(j==null)Pr(null,null,I,B,K,Z,ee);else for(re=0;re<ee;++re)K[Z+re]=j[E+re]+I[B+re]&255}function hi(j,E,I,B,K,Z,ee){if(j==null)Pr(null,null,I,B,K,Z,ee);else{var re,se=j[E+0],ce=se,Se=se;for(re=0;re<ee;++re)ce=Se+(se=j[E+re])-ce,Se=I[B+re]+(-256&ce?0>ce?0:255:ce)&255,ce=se,K[Z+re]=Se}}function hn(j,E,I,B){var K=E.width,Z=E.o;if(t(j!=null&&E!=null),0>I||0>=B||I+B>Z)return null;if(!j.Cc){if(j.ga==null){var ee;if(j.ga=new fr,(ee=j.ga==null)||(ee=E.width*E.o,t(j.Gb.length==0),j.Gb=a(ee),j.Uc=0,j.Gb==null?ee=0:(j.mb=j.Gb,j.nb=j.Uc,j.rc=null,ee=1),ee=!ee),!ee){ee=j.ga;var re=j.Fa,se=j.P,ce=j.qc,Se=j.mb,Me=j.nb,ue=se+1,Ne=ce-1,Ae=ee.l;if(t(re!=null&&Se!=null&&E!=null),Du[0]=null,Du[1]=Pr,Du[2]=On,Du[3]=hi,ee.ca=Se,ee.tb=Me,ee.c=E.width,ee.i=E.height,t(0<ee.c&&0<ee.i),1>=ce)E=0;else if(ee.$a=3&re[se+0],ee.Z=re[se+0]>>2&3,ee.Lc=re[se+0]>>4&3,se=re[se+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||se)E=0;else if(Ae.put=Kt,Ae.ac=no,Ae.bc=Bo,Ae.ma=ee,Ae.width=E.width,Ae.height=E.height,Ae.Da=E.Da,Ae.v=E.v,Ae.va=E.va,Ae.j=E.j,Ae.o=E.o,ee.$a)e:{t(ee.$a==1),E=Oe();t:for(;;){if(E==null){E=0;break e}if(t(ee!=null),ee.mc=E,E.c=ee.c,E.i=ee.i,E.l=ee.l,E.l.ma=ee,E.l.width=ee.c,E.l.height=ee.i,E.a=0,X(E.m,re,ue,Ne),!Ie(ee.c,ee.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&le(E.s)?(ee.ic=1,re=E.c*E.i,E.Ta=null,E.Ua=0,E.V=a(re),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(ee.ic=0,E=$e(E,ee.c)),!E))break t;E=1;break e}ee.mc=null,E=0}else E=Ne>=ee.c*ee.i;ee=!E}if(ee)return null;j.ga.Lc!=1?j.Ga=0:B=Z-I}t(j.ga!=null),t(I+B<=Z);e:{if(E=(re=j.ga).c,Z=re.l.o,re.$a==0){if(ue=j.rc,Ne=j.Vc,Ae=j.Fa,se=j.P+1+I*E,ce=j.mb,Se=j.nb+I*E,t(se<=j.P+j.qc),re.Z!=0)for(t(Du[re.Z]!=null),ee=0;ee<B;++ee)Du[re.Z](ue,Ne,Ae,se,ce,Se,E),ue=ce,Ne=Se,Se+=E,se+=E;else for(ee=0;ee<B;++ee)n(ce,Se,Ae,se,E),ue=ce,Ne=Se,Se+=E,se+=E;j.rc=ue,j.Vc=Ne}else{if(t(re.mc!=null),E=I+B,t((ee=re.mc)!=null),t(E<=ee.i),ee.C>=E)E=1;else if(re.ic||Ho(),re.ic){re=ee.V,ue=ee.Ba,Ne=ee.c;var Ke=ee.i,De=(Ae=1,se=ee.$/Ne,ce=ee.$%Ne,Se=ee.m,Me=ee.s,ee.$),Ye=Ne*Ke,Je=Ne*E,it=Me.wc,et=De<Je?J(Me,ce,se):null;t(De<=Ye),t(E<=Ke),t(le(Me));t:for(;;){for(;!Se.h&&De<Je;){if(ce&it||(et=J(Me,ce,se)),t(et!=null),W(Se),256>(Ke=kn(et.G[0],et.H[0],Se)))re[ue+De]=Ke,++De,++ce>=Ne&&(ce=0,++se<=E&&!(se%16)&&me(ee,se));else{if(!(280>Ke)){Ae=0;break t}Ke=ja(Ke-256,Se);var qt,Ct=kn(et.G[4],et.H[4],Se);if(W(Se),!(De>=(Ct=rs(Ne,Ct=ja(Ct,Se)))&&Ye-De>=Ke)){Ae=0;break t}for(qt=0;qt<Ke;++qt)re[ue+De+qt]=re[ue+De+qt-Ct];for(De+=Ke,ce+=Ke;ce>=Ne;)ce-=Ne,++se<=E&&!(se%16)&&me(ee,se);De<Je&&ce&it&&(et=J(Me,ce,se))}t(Se.h==V(Se))}me(ee,se>E?E:se);break t}!Ae||Se.h&&De<Ye?(Ae=0,ee.a=Se.h?5:3):ee.$=De,E=Ae}else E=Te(ee,ee.V,ee.Ba,ee.c,ee.i,E,nt);if(!E){B=0;break e}}I+B>=Z&&(j.Cc=1),B=1}if(!B)return null;if(j.Cc&&((B=j.ga)!=null&&(B.mc=null),j.ga=null,0<j.Ga))return alert("todo:WebPDequantizeLevels"),null}return j.nb+I*K}function ki(j,E,I,B,K,Z){for(;0<K--;){var ee,re=j,se=E+(I?1:0),ce=j,Se=E+(I?0:3);for(ee=0;ee<B;++ee){var Me=ce[Se+4*ee];Me!=255&&(Me*=32897,re[se+4*ee+0]=re[se+4*ee+0]*Me>>23,re[se+4*ee+1]=re[se+4*ee+1]*Me>>23,re[se+4*ee+2]=re[se+4*ee+2]*Me>>23)}E+=Z}}function mi(j,E,I,B,K){for(;0<B--;){var Z;for(Z=0;Z<I;++Z){var ee=j[E+2*Z+0],re=15&(ce=j[E+2*Z+1]),se=4369*re,ce=(240&ce|ce>>4)*se>>16;j[E+2*Z+0]=(240&ee|ee>>4)*se>>16&240|(15&ee|ee<<4)*se>>16>>4&15,j[E+2*Z+1]=240&ce|re}E+=K}}function aa(j,E,I,B,K,Z,ee,re){var se,ce,Se=255;for(ce=0;ce<K;++ce){for(se=0;se<B;++se){var Me=j[E+se];Z[ee+4*se]=Me,Se&=Me}E+=I,ee+=re}return Se!=255}function bc(j,E,I,B,K){var Z;for(Z=0;Z<K;++Z)I[B+Z]=j[E+Z]>>8}function Ho(){b0=ki,rT=mi,nT=aa,iT=bc}function _c(j,E,I){k[j]=function(B,K,Z,ee,re,se,ce,Se,Me,ue,Ne,Ae,Ke,De,Ye,Je,it){var et,qt=it-1>>1,Ct=re[se+0]|ce[Se+0]<<16,mr=Me[ue+0]|Ne[Ae+0]<<16;t(B!=null);var Mt=3*Ct+mr+131074>>2;for(E(B[K+0],255&Mt,Mt>>16,Ke,De),Z!=null&&(Mt=3*mr+Ct+131074>>2,E(Z[ee+0],255&Mt,Mt>>16,Ye,Je)),et=1;et<=qt;++et){var _r=re[se+et]|ce[Se+et]<<16,Ci=Me[ue+et]|Ne[Ae+et]<<16,pr=Ct+_r+mr+Ci+524296,Ft=pr+2*(_r+mr)>>3;Mt=Ft+Ct>>1,Ct=(pr=pr+2*(Ct+Ci)>>3)+_r>>1,E(B[K+2*et-1],255&Mt,Mt>>16,Ke,De+(2*et-1)*I),E(B[K+2*et-0],255&Ct,Ct>>16,Ke,De+(2*et-0)*I),Z!=null&&(Mt=pr+mr>>1,Ct=Ft+Ci>>1,E(Z[ee+2*et-1],255&Mt,Mt>>16,Ye,Je+(2*et-1)*I),E(Z[ee+2*et+0],255&Ct,Ct>>16,Ye,Je+(2*et+0)*I)),Ct=_r,mr=Ci}1&it||(Mt=3*Ct+mr+131074>>2,E(B[K+it-1],255&Mt,Mt>>16,Ke,De+(it-1)*I),Z!=null&&(Mt=3*mr+Ct+131074>>2,E(Z[ee+it-1],255&Mt,Mt>>16,Ye,Je+(it-1)*I)))}}function u0(){co[Hx]=NQ,co[qx]=pT,co[uT]=kQ,co[Vx]=gT,co[Gx]=vT,co[$j]=xT,co[dT]=EQ,co[Bj]=pT,co[Uj]=gT,co[Kx]=vT,co[zj]=xT}function Dh(j){return j&-16384?0>j?0:255:j>>CQ}function Nu(j,E){return Dh((19077*j>>8)+(26149*E>>8)-14234)}function Zd(j,E,I){return Dh((19077*j>>8)-(6419*E>>8)-(13320*I>>8)+8708)}function Qd(j,E){return Dh((19077*j>>8)+(33050*E>>8)-17685)}function ku(j,E,I,B,K){B[K+0]=Nu(j,I),B[K+1]=Zd(j,E,I),B[K+2]=Qd(j,E)}function sa(j,E,I,B,K){B[K+0]=Qd(j,E),B[K+1]=Zd(j,E,I),B[K+2]=Nu(j,I)}function ef(j,E,I,B,K){var Z=Zd(j,E,I);E=Z<<3&224|Qd(j,E)>>3,B[K+0]=248&Nu(j,I)|Z>>5,B[K+1]=E}function tf(j,E,I,B,K){var Z=240&Qd(j,E)|15;B[K+0]=240&Nu(j,I)|Zd(j,E,I)>>4,B[K+1]=Z}function d0(j,E,I,B,K){B[K+0]=255,ku(j,E,I,B,K+1)}function f0(j,E,I,B,K){sa(j,E,I,B,K),B[K+3]=255}function $a(j,E,I,B,K){ku(j,E,I,B,K),B[K+3]=255}function jc(j,E,I){k[j]=function(B,K,Z,ee,re,se,ce,Se,Me){for(var ue=Se+(-2&Me)*I;Se!=ue;)E(B[K+0],Z[ee+0],re[se+0],ce,Se),E(B[K+1],Z[ee+0],re[se+0],ce,Se+I),K+=2,++ee,++se,Se+=2*I;1&Me&&E(B[K+0],Z[ee+0],re[se+0],ce,Se)}}function Lh(j,E,I){return I==0?j==0?E==0?6:5:E==0?4:0:I}function Bx(j,E,I,B,K){switch(j>>>30){case 3:sf(E,I,B,K,0);break;case 2:oo(E,I,B,K);break;case 1:Br(E,I,B,K)}}function so(j,E){var I,B,K=E.M,Z=E.Nb,ee=j.oc,re=j.pc+40,se=j.oc,ce=j.pc+584,Se=j.oc,Me=j.pc+600;for(I=0;16>I;++I)ee[re+32*I-1]=129;for(I=0;8>I;++I)se[ce+32*I-1]=129,Se[Me+32*I-1]=129;for(0<K?ee[re-1-32]=se[ce-1-32]=Se[Me-1-32]=129:(i(ee,re-32-1,127,21),i(se,ce-32-1,127,9),i(Se,Me-32-1,127,9)),B=0;B<j.za;++B){var ue=E.ya[E.aa+B];if(0<B){for(I=-1;16>I;++I)n(ee,re+32*I-4,ee,re+32*I+12,4);for(I=-1;8>I;++I)n(se,ce+32*I-4,se,ce+32*I+4,4),n(Se,Me+32*I-4,Se,Me+32*I+4,4)}var Ne=j.Gd,Ae=j.Hd+B,Ke=ue.ad,De=ue.Hc;if(0<K&&(n(ee,re-32,Ne[Ae].y,0,16),n(se,ce-32,Ne[Ae].f,0,8),n(Se,Me-32,Ne[Ae].ea,0,8)),ue.Za){var Ye=ee,Je=re-32+16;for(0<K&&(B>=j.za-1?i(Ye,Je,Ne[Ae].y[15],4):n(Ye,Je,Ne[Ae+1].y,0,4)),I=0;4>I;I++)Ye[Je+128+I]=Ye[Je+256+I]=Ye[Je+384+I]=Ye[Je+0+I];for(I=0;16>I;++I,De<<=2)Ye=ee,Je=re+wT[I],qo[ue.Ob[I]](Ye,Je),Bx(De,Ke,16*+I,Ye,Je)}else if(Ye=Lh(B,K,ue.Ob[0]),Iu[Ye](ee,re),De!=0)for(I=0;16>I;++I,De<<=2)Bx(De,Ke,16*+I,ee,re+wT[I]);for(I=ue.Gc,Ye=Lh(B,K,ue.Dd),kc[Ye](se,ce),kc[Ye](Se,Me),De=Ke,Ye=se,Je=ce,255&(ue=0|I)&&(170&ue?Rl(De,256,Ye,Je):ln(De,256,Ye,Je)),ue=Se,De=Me,255&(I>>=8)&&(170&I?Rl(Ke,320,ue,De):ln(Ke,320,ue,De)),K<j.Ub-1&&(n(Ne[Ae].y,0,ee,re+480,16),n(Ne[Ae].f,0,se,ce+224,8),n(Ne[Ae].ea,0,Se,Me+224,8)),I=8*Z*j.B,Ne=j.sa,Ae=j.ta+16*B+16*Z*j.R,Ke=j.qa,ue=j.ra+8*B+I,De=j.Ha,Ye=j.Ia+8*B+I,I=0;16>I;++I)n(Ne,Ae+I*j.R,ee,re+32*I,16);for(I=0;8>I;++I)n(Ke,ue+I*j.B,se,ce+32*I,8),n(De,Ye+I*j.B,Se,Me+32*I,8)}}function rf(j,E,I,B,K,Z,ee,re,se){var ce=[0],Se=[0],Me=0,ue=se!=null?se.kd:0,Ne=se??new Qe;if(j==null||12>I)return 7;Ne.data=j,Ne.w=E,Ne.ha=I,E=[E],I=[I],Ne.gb=[Ne.gb];e:{var Ae=E,Ke=I,De=Ne.gb;if(t(j!=null),t(Ke!=null),t(De!=null),De[0]=0,12<=Ke[0]&&!r(j,Ae[0],"RIFF")){if(r(j,Ae[0]+8,"WEBP")){De=3;break e}var Ye=ze(j,Ae[0]+4);if(12>Ye||4294967286<Ye){De=3;break e}if(ue&&Ye>Ke[0]-8){De=7;break e}De[0]=Ye,Ae[0]+=12,Ke[0]-=12}De=0}if(De!=0)return De;for(Ye=0<Ne.gb[0],I=I[0];;){e:{var Je=j;Ke=E,De=I;var it=ce,et=Se,qt=Ae=[0];if((Mt=Me=[Me])[0]=0,8>De[0])De=7;else{if(!r(Je,Ke[0],"VP8X")){if(ze(Je,Ke[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var Ct=ze(Je,Ke[0]+8),mr=1+He(Je,Ke[0]+12);if(2147483648<=mr*(Je=1+He(Je,Ke[0]+15))){De=3;break e}qt!=null&&(qt[0]=Ct),it!=null&&(it[0]=mr),et!=null&&(et[0]=Je),Ke[0]+=18,De[0]-=18,Mt[0]=1}De=0}}if(Me=Me[0],Ae=Ae[0],De!=0)return De;if(Ke=!!(2&Ae),!Ye&&Me)return 3;if(Z!=null&&(Z[0]=!!(16&Ae)),ee!=null&&(ee[0]=Ke),re!=null&&(re[0]=0),ee=ce[0],Ae=Se[0],Me&&Ke&&se==null){De=0;break}if(4>I){De=7;break}if(Ye&&Me||!Ye&&!Me&&!r(j,E[0],"ALPH")){I=[I],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{Ct=j,De=E,Ye=I;var Mt=Ne.gb;it=Ne.na,et=Ne.P,qt=Ne.Sa,mr=22,t(Ct!=null),t(Ye!=null),Je=De[0];var _r=Ye[0];for(t(it!=null),t(qt!=null),it[0]=null,et[0]=null,qt[0]=0;;){if(De[0]=Je,Ye[0]=_r,8>_r){De=7;break e}var Ci=ze(Ct,Je+4);if(4294967286<Ci){De=3;break e}var pr=8+Ci+1&-2;if(mr+=pr,0<Mt&&mr>Mt){De=3;break e}if(!r(Ct,Je,"VP8 ")||!r(Ct,Je,"VP8L")){De=0;break e}if(_r[0]<pr){De=7;break e}r(Ct,Je,"ALPH")||(it[0]=Ct,et[0]=Je+8,qt[0]=Ci),Je+=pr,_r-=pr}}if(I=I[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],De!=0)break}I=[I],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(Mt=j,De=E,Ye=I,it=Ne.gb[0],et=Ne.Ja,qt=Ne.xa,Ct=De[0],Je=!r(Mt,Ct,"VP8 "),mr=!r(Mt,Ct,"VP8L"),t(Mt!=null),t(Ye!=null),t(et!=null),t(qt!=null),8>Ye[0])De=7;else{if(Je||mr){if(Mt=ze(Mt,Ct+4),12<=it&&Mt>it-12){De=3;break e}if(ue&&Mt>Ye[0]-8){De=7;break e}et[0]=Mt,De[0]+=8,Ye[0]-=8,qt[0]=mr}else qt[0]=5<=Ye[0]&&Mt[Ct+0]==47&&!(Mt[Ct+4]>>5),et[0]=Ye[0];De=0}if(I=I[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],E=E[0],De!=0)break;if(4294967286<Ne.Ja)return 3;if(re==null||Ke||(re[0]=Ne.xa?2:1),ee=[ee],Ae=[Ae],Ne.xa){if(5>I){De=7;break}re=ee,ue=Ae,Ke=Z,j==null||5>I?j=0:5<=I&&j[E+0]==47&&!(j[E+4]>>5)?(Ye=[0],Mt=[0],it=[0],X(et=new M,j,E,I),Uo(et,Ye,Mt,it)?(re!=null&&(re[0]=Ye[0]),ue!=null&&(ue[0]=Mt[0]),Ke!=null&&(Ke[0]=it[0]),j=1):j=0):j=0}else{if(10>I){De=7;break}re=Ae,j==null||10>I||!Ax(j,E+3,I-3)?j=0:(ue=j[E+0]|j[E+1]<<8|j[E+2]<<16,Ke=16383&(j[E+7]<<8|j[E+6]),j=16383&(j[E+9]<<8|j[E+8]),1&ue||3<(ue>>1&7)||!(ue>>4&1)||ue>>5>=Ne.Ja||!Ke||!j?j=0:(ee&&(ee[0]=Ke),re&&(re[0]=j),j=1))}if(!j||(ee=ee[0],Ae=Ae[0],Me&&(ce[0]!=ee||Se[0]!=Ae)))return 3;se!=null&&(se[0]=Ne,se.offset=E-se.w,t(4294967286>E-se.w),t(se.offset==se.ha-I));break}return De==0||De==7&&Me&&se==null?(Z!=null&&(Z[0]|=Ne.na!=null&&0<Ne.na.length),B!=null&&(B[0]=ee),K!=null&&(K[0]=Ae),0):De}function h0(j,E,I){var B=E.width,K=E.height,Z=0,ee=0,re=B,se=K;if(E.Da=j!=null&&0<j.Da,E.Da&&(re=j.cd,se=j.bd,Z=j.v,ee=j.j,11>I||(Z&=-2,ee&=-2),0>Z||0>ee||0>=re||0>=se||Z+re>B||ee+se>K))return 0;if(E.v=Z,E.j=ee,E.va=Z+re,E.o=ee+se,E.U=re,E.T=se,E.da=j!=null&&0<j.da,E.da){if(!rt(re,se,I=[j.ib],Z=[j.hb]))return 0;E.ib=I[0],E.hb=Z[0]}return E.ob=j!=null&&j.ob,E.Kb=j==null||!j.Sd,E.da&&(E.ob=E.ib<3*B/4&&E.hb<3*K/4,E.Kb=0),1}function m0(j){if(j==null)return 2;if(11>j.S){var E=j.f.RGBA;E.fb+=(j.height-1)*E.A,E.A=-E.A}else E=j.f.kb,j=j.height,E.O+=(j-1)*E.fa,E.fa=-E.fa,E.N+=(j-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(j-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(j-1)*E.lb,E.lb=-E.lb);return 0}function Eu(j,E,I,B){if(B==null||0>=j||0>=E)return 2;if(I!=null){if(I.Da){var K=I.cd,Z=I.bd,ee=-2&I.v,re=-2&I.j;if(0>ee||0>re||0>=K||0>=Z||ee+K>j||re+Z>E)return 2;j=K,E=Z}if(I.da){if(!rt(j,E,K=[I.ib],Z=[I.hb]))return 2;j=K[0],E=Z[0]}}B.width=j,B.height=E;e:{var se=B.width,ce=B.height;if(j=B.S,0>=se||0>=ce||!(j>=Hx&&13>j))j=2;else{if(0>=B.Rd&&B.sd==null){ee=Z=K=E=0;var Se=(re=se*bT[j])*ce;if(11>j||(Z=(ce+1)/2*(E=(se+1)/2),j==12&&(ee=(K=se)*ce)),(ce=a(Se+2*Z+ee))==null){j=1;break e}B.sd=ce,11>j?((se=B.f.RGBA).eb=ce,se.fb=0,se.A=re,se.size=Se):((se=B.f.kb).y=ce,se.O=0,se.fa=re,se.Fd=Se,se.f=ce,se.N=0+Se,se.Ab=E,se.Cd=Z,se.ea=ce,se.W=0+Se+Z,se.Db=E,se.Ed=Z,j==12&&(se.F=ce,se.J=0+Se+2*Z),se.Tc=ee,se.lb=K)}if(E=1,K=B.S,Z=B.width,ee=B.height,K>=Hx&&13>K)if(11>K)j=B.f.RGBA,E&=(re=Math.abs(j.A))*(ee-1)+Z<=j.size,E&=re>=Z*bT[K],E&=j.eb!=null;else{j=B.f.kb,re=(Z+1)/2,Se=(ee+1)/2,se=Math.abs(j.fa),ce=Math.abs(j.Ab);var Me=Math.abs(j.Db),ue=Math.abs(j.lb),Ne=ue*(ee-1)+Z;E&=se*(ee-1)+Z<=j.Fd,E&=ce*(Se-1)+re<=j.Cd,E=(E&=Me*(Se-1)+re<=j.Ed)&se>=Z&ce>=re&Me>=re,E&=j.y!=null,E&=j.f!=null,E&=j.ea!=null,K==12&&(E&=ue>=Z,E&=Ne<=j.Tc,E&=j.F!=null)}else E=0;j=E?0:2}}return j!=0||I!=null&&I.fd&&(j=m0(B)),j}var nf=64,_s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],js=24,Cu=32,Sc=8,Au=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];at("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(j){return j},k.Predictor2=function(j,E,I){return E[I+0]},k.Predictor3=function(j,E,I){return E[I+1]},k.Predictor4=function(j,E,I){return E[I-1]},k.Predictor5=function(j,E,I){return It(It(j,E[I+1]),E[I+0])},k.Predictor6=function(j,E,I){return It(j,E[I-1])},k.Predictor7=function(j,E,I){return It(j,E[I+0])},k.Predictor8=function(j,E,I){return It(E[I-1],E[I+0])},k.Predictor9=function(j,E,I){return It(E[I+0],E[I+1])},k.Predictor10=function(j,E,I){return It(It(j,E[I-1]),It(E[I+0],E[I+1]))},k.Predictor11=function(j,E,I){var B=E[I+0];return 0>=Yt(B>>24&255,j>>24&255,(E=E[I-1])>>24&255)+Yt(B>>16&255,j>>16&255,E>>16&255)+Yt(B>>8&255,j>>8&255,E>>8&255)+Yt(255&B,255&j,255&E)?B:j},k.Predictor12=function(j,E,I){var B=E[I+0];return(Zt((j>>24&255)+(B>>24&255)-((E=E[I-1])>>24&255))<<24|Zt((j>>16&255)+(B>>16&255)-(E>>16&255))<<16|Zt((j>>8&255)+(B>>8&255)-(E>>8&255))<<8|Zt((255&j)+(255&B)-(255&E)))>>>0},k.Predictor13=function(j,E,I){var B=E[I-1];return(or((j=It(j,E[I+0]))>>24&255,B>>24&255)<<24|or(j>>16&255,B>>16&255)<<16|or(j>>8&255,B>>8&255)<<8|or(255&j,255&B))>>>0};var p0=k.PredictorAdd0;k.PredictorAdd1=dr,at("Predictor2","PredictorAdd2"),at("Predictor3","PredictorAdd3"),at("Predictor4","PredictorAdd4"),at("Predictor5","PredictorAdd5"),at("Predictor6","PredictorAdd6"),at("Predictor7","PredictorAdd7"),at("Predictor8","PredictorAdd8"),at("Predictor9","PredictorAdd9"),at("Predictor10","PredictorAdd10"),at("Predictor11","PredictorAdd11"),at("Predictor12","PredictorAdd12"),at("Predictor13","PredictorAdd13");var Mh=k.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(j){return j>>8&255},function(j){return j}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(j){return j},function(j){return j>>8&255});var ti,Ux=k.ColorIndexInverseTransform,Tl=k.MapARGB,Ol=k.VP8LColorIndexInverseTransformAlpha,g0=k.MapAlpha,v0=k.VP8LPredictorsAdd=[];v0.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var x0,y0,Pu,Tu,Ou,af,Ru,sf,oo,Rl,Br,ln,ri,Ei,Nc,w0,Fh,zx,XP,JP,ZP,QP,eT,tT,b0,rT,nT,iT,aT=a(511),sT=a(2041),oT=a(225),lT=a(767),cT=0,Fj=sT,Wx=oT,Ss=lT,lo=aT,Hx=0,qx=1,uT=2,Vx=3,Gx=4,$j=5,dT=6,Bj=7,Uj=8,Kx=9,zj=10,dQ=[2,3,7],fQ=[3,3,11],fT=[280,256,256,256,40],hQ=[0,1,1,1,0],mQ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],pQ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gQ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vQ=8,Wj=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Hj=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_0=null,xQ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yQ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],hT=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wQ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bQ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_Q=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],jQ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Iu=[],qo=[],kc=[],SQ=1,mT=2,Du=[],co=[];_c("UpsampleRgbLinePair",ku,3),_c("UpsampleBgrLinePair",sa,3),_c("UpsampleRgbaLinePair",$a,4),_c("UpsampleBgraLinePair",f0,4),_c("UpsampleArgbLinePair",d0,4),_c("UpsampleRgba4444LinePair",tf,2),_c("UpsampleRgb565LinePair",ef,2);var NQ=k.UpsampleRgbLinePair,kQ=k.UpsampleBgrLinePair,pT=k.UpsampleRgbaLinePair,gT=k.UpsampleBgraLinePair,vT=k.UpsampleArgbLinePair,xT=k.UpsampleRgba4444LinePair,EQ=k.UpsampleRgb565LinePair,Yx=16,Xx=1<<Yx-1,j0=-227,qj=482,CQ=6,yT=0,AQ=a(256),PQ=a(256),TQ=a(256),OQ=a(256),RQ=a(qj-j0),IQ=a(qj-j0);jc("YuvToRgbRow",ku,3),jc("YuvToBgrRow",sa,3),jc("YuvToRgbaRow",$a,4),jc("YuvToBgraRow",f0,4),jc("YuvToArgbRow",d0,4),jc("YuvToRgba4444Row",tf,2),jc("YuvToRgb565Row",ef,2);var wT=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jx=[0,2,8],DQ=[8,7,6,4,4,2,2,2,1,1,1,1],LQ=1;this.WebPDecodeRGBA=function(j,E,I,B,K){var Z=qx,ee=new Xe,re=new Xt;ee.ba=re,re.S=Z,re.width=[re.width],re.height=[re.height];var se=re.width,ce=re.height,Se=new Ht;if(Se==null||j==null)var Me=2;else t(Se!=null),Me=rf(j,E,I,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Me!=0?se=0:(se!=null&&(se[0]=Se.width[0]),ce!=null&&(ce[0]=Se.height[0]),se=1),se){re.width=re.width[0],re.height=re.height[0],B!=null&&(B[0]=re.width),K!=null&&(K[0]=re.height);e:{if(B=new Ph,(K=new Qe).data=j,K.w=E,K.ha=I,K.kd=1,E=[0],t(K!=null),((j=rf(K.data,K.w,K.ha,null,null,null,E,null,K))==0||j==7)&&E[0]&&(j=4),(E=j)==0){if(t(ee!=null),B.data=K.data,B.w=K.w+K.offset,B.ha=K.ha-K.offset,B.put=Kt,B.ac=no,B.bc=Bo,B.ma=ee,K.xa){if((j=Oe())==null){ee=1;break e}if(function(ue,Ne){var Ae=[0],Ke=[0],De=[0];t:for(;;){if(ue==null)return 0;if(Ne==null)return ue.a=2,0;if(ue.l=Ne,ue.a=0,X(ue.m,Ne.data,Ne.w,Ne.ha),!Uo(ue.m,Ae,Ke,De)){ue.a=3;break t}if(ue.xb=mT,Ne.width=Ae[0],Ne.height=Ke[0],!Ie(Ae[0],Ke[0],1,ue,null))break t;return 1}return t(ue.a!=0),0}(j,B)){if(B=(E=Eu(B.width,B.height,ee.Oa,ee.ba))==0){t:{B=j;r:for(;;){if(B==null){B=0;break t}if(t(B.s.yc!=null),t(B.s.Ya!=null),t(0<B.s.Wb),t((I=B.l)!=null),t((K=I.ma)!=null),B.xb!=0){if(B.ca=K.ba,B.tb=K.tb,t(B.ca!=null),!h0(K.Oa,I,Vx)){B.a=2;break r}if(!$e(B,I.width)||I.da)break r;if((I.da||Gt(B.ca.S))&&Ho(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&Ho()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!ne(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!Te(B,B.V,B.Ba,B.c,B.i,I.o,ae))break r;K.Dc=B.Ma,B=1;break t}t(B.a!=0),B=0}B=!B}B&&(E=j.a)}else E=j.a}else{if((j=new jj)==null){ee=1;break e}if(j.Fa=K.na,j.P=K.P,j.qc=K.Sa,Al(j,B)){if((E=Eu(B.width,B.height,ee.Oa,ee.ba))==0){if(j.Aa=0,I=ee.Oa,t((K=j)!=null),I!=null){if(0<(se=0>(se=I.Md)?0:100<se?255:255*se/100)){for(ce=Se=0;4>ce;++ce)12>(Me=K.pb[ce]).lc&&(Me.ia=se*DQ[0>Me.lc?0:Me.lc]>>3),Se|=Me.ia;Se&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=I.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}(function(ue,Ne){if(ue==null)return 0;if(Ne==null)return fi(ue,2,"NULL VP8Io parameter in VP8Decode().");if(!ue.cb&&!Al(ue,Ne))return 0;if(t(ue.cb),Ne.ac==null||Ne.ac(Ne)){Ne.ob&&(ue.L=0);var Ae=Jx[ue.L];if(ue.L==2?(ue.yb=0,ue.zb=0):(ue.yb=Ne.v-Ae>>4,ue.zb=Ne.j-Ae>>4,0>ue.yb&&(ue.yb=0),0>ue.zb&&(ue.zb=0)),ue.Va=Ne.o+15+Ae>>4,ue.Hb=Ne.va+15+Ae>>4,ue.Hb>ue.za&&(ue.Hb=ue.za),ue.Va>ue.Ub&&(ue.Va=ue.Ub),0<ue.L){var Ke=ue.ed;for(Ae=0;4>Ae;++Ae){var De;if(ue.Qa.Cb){var Ye=ue.Qa.Lb[Ae];ue.Qa.Fb||(Ye+=Ke.Tb)}else Ye=Ke.Tb;for(De=0;1>=De;++De){var Je=ue.gd[Ae][De],it=Ye;if(Ke.Pc&&(it+=Ke.vd[0],De&&(it+=Ke.od[0])),0<(it=0>it?0:63<it?63:it)){var et=it;0<Ke.wb&&(et=4<Ke.wb?et>>2:et>>1)>9-Ke.wb&&(et=9-Ke.wb),1>et&&(et=1),Je.dd=et,Je.tc=2*it+et,Je.ld=40<=it?2:15<=it?1:0}else Je.tc=0;Je.La=De}}}Ae=0}else fi(ue,6,"Frame setup failed"),Ae=ue.a;if(Ae=Ae==0){if(Ae){ue.$c=0,0<ue.Aa||(ue.Ic=LQ);t:{Ae=ue.Ic,Ke=4*(et=ue.za);var qt=32*et,Ct=et+1,mr=0<ue.L?et*(0<ue.Aa?2:1):0,Mt=(ue.Aa==2?2:1)*et;if((Je=Ke+832+(De=3*(16*Ae+Jx[ue.L])/2*qt)+(Ye=ue.Fa!=null&&0<ue.Fa.length?ue.Kc.c*ue.Kc.i:0))!=Je)Ae=0;else{if(Je>ue.Vb){if(ue.Vb=0,ue.Ec=a(Je),ue.Fc=0,ue.Ec==null){Ae=fi(ue,1,"no memory during frame initialization.");break t}ue.Vb=Je}Je=ue.Ec,it=ue.Fc,ue.Ac=Je,ue.Bc=it,it+=Ke,ue.Gd=o(qt,io),ue.Hd=0,ue.rb=o(Ct+1,$n),ue.sb=1,ue.wa=mr?o(mr,br):null,ue.Y=0,ue.D.Nb=0,ue.D.wa=ue.wa,ue.D.Y=ue.Y,0<ue.Aa&&(ue.D.Y+=et),t(!0),ue.oc=Je,ue.pc=it,it+=832,ue.ya=o(Mt,zo),ue.aa=0,ue.D.ya=ue.ya,ue.D.aa=ue.aa,ue.Aa==2&&(ue.D.aa+=et),ue.R=16*et,ue.B=8*et,et=(qt=Jx[ue.L])*ue.R,qt=qt/2*ue.B,ue.sa=Je,ue.ta=it+et,ue.qa=ue.sa,ue.ra=ue.ta+16*Ae*ue.R+qt,ue.Ha=ue.qa,ue.Ia=ue.ra+8*Ae*ue.B+qt,ue.$c=0,it+=De,ue.mb=Ye?Je:null,ue.nb=Ye?it:null,t(it+Ye<=ue.Fc+ue.Vb),Px(ue),i(ue.Ac,ue.Bc,0,Ke),Ae=1}}if(Ae){if(Ne.ka=0,Ne.y=ue.sa,Ne.O=ue.ta,Ne.f=ue.qa,Ne.N=ue.ra,Ne.ea=ue.Ha,Ne.Vd=ue.Ia,Ne.fa=ue.R,Ne.Rc=ue.B,Ne.F=null,Ne.J=0,!cT){for(Ae=-255;255>=Ae;++Ae)aT[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)sT[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)oT[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)lT[255+Ae]=0>Ae?0:255<Ae?255:Ae;cT=1}Ru=Oh,sf=Nj,Rl=Pl,Br=Ox,ln=Rx,oo=Sj,ri=Fx,Ei=Jd,Nc=G,w0=he,Fh=$x,zx=P,XP=_e,JP=Ee,ZP=Xd,QP=c0,eT=Lx,tT=Mx,qo[0]=Rj,qo[1]=kj,qo[2]=Tj,qo[3]=Oj,qo[4]=pc,qo[5]=Ij,qo[6]=gc,qo[7]=Dj,qo[8]=i0,qo[9]=Rh,Iu[0]=Aj,Iu[1]=Cj,Iu[2]=r0,Iu[3]=Ix,Iu[4]=Kd,Iu[5]=n0,Iu[6]=Pj,kc[0]=Mj,kc[1]=Ej,kc[2]=Yd,kc[3]=Lj,kc[4]=s0,kc[5]=a0,kc[6]=Dx,Ae=1}else Ae=0}Ae&&(Ae=function(_r,Ci){for(_r.M=0;_r.M<_r.Va;++_r.M){var pr,Ft=_r.Jc[_r.M&_r.Xb],pt=_r.m,ni=_r;for(pr=0;pr<ni.za;++pr){var ur=pt,Nr=ni,yn=Nr.Ac,oa=Nr.Bc+4*pr,Ba=Nr.zc,Bn=Nr.ya[Nr.aa+pr];if(Nr.Qa.Bb?Bn.$b=oe(ur,Nr.Pa.jb[0])?2+oe(ur,Nr.Pa.jb[2]):oe(ur,Nr.Pa.jb[1]):Bn.$b=0,Nr.kc&&(Bn.Ad=oe(ur,Nr.Bd)),Bn.Za=!oe(ur,145)+0,Bn.Za){var Sa=Bn.Ob,Ua=0;for(Nr=0;4>Nr;++Nr){var Ai,Tr=Ba[0+Nr];for(Ai=0;4>Ai;++Ai){Tr=bQ[yn[oa+Ai]][Tr];for(var Wr=hT[oe(ur,Tr[0])];0<Wr;)Wr=hT[2*Wr+oe(ur,Tr[Wr])];Tr=-Wr,yn[oa+Ai]=Tr}n(Sa,Ua,yn,oa,4),Ua+=4,Ba[0+Nr]=Tr}}else Tr=oe(ur,156)?oe(ur,128)?1:3:oe(ur,163)?2:0,Bn.Ob[0]=Tr,i(yn,oa,Tr,4),i(Ba,0,Tr,4);Bn.Dd=oe(ur,142)?oe(ur,114)?oe(ur,183)?1:3:2:0}if(ni.m.Ka)return fi(_r,7,"Premature end-of-partition0 encountered.");for(;_r.ja<_r.za;++_r.ja){if(ni=Ft,ur=(pt=_r).rb[pt.sb-1],yn=pt.rb[pt.sb+pt.ja],pr=pt.ya[pt.aa+pt.ja],oa=pt.kc?pr.Ad:0)ur.la=yn.la=0,pr.Za||(ur.Na=yn.Na=0),pr.Hc=0,pr.Gc=0,pr.ia=0;else{var Un,Hr;if(ur=yn,yn=ni,oa=pt.Pa.Xc,Ba=pt.ya[pt.aa+pt.ja],Bn=pt.pb[Ba.$b],Nr=Ba.ad,Sa=0,Ua=pt.rb[pt.sb-1],Tr=Ai=0,i(Nr,Sa,0,384),Ba.Za)var la=0,Vo=oa[3];else{Wr=a(16);var ii=ur.Na+Ua.Na;if(ii=_0(yn,oa[1],ii,Bn.Eb,0,Wr,0),ur.Na=Ua.Na=(0<ii)+0,1<ii)Ru(Wr,0,Nr,Sa);else{var ns=Wr[0]+3>>3;for(Wr=0;256>Wr;Wr+=16)Nr[Sa+Wr]=ns}la=1,Vo=oa[0]}var cn=15&ur.la,Pi=15&Ua.la;for(Wr=0;4>Wr;++Wr){var Ns=1&Pi;for(ns=Hr=0;4>ns;++ns)cn=cn>>1|(Ns=(ii=_0(yn,Vo,ii=Ns+(1&cn),Bn.Sc,la,Nr,Sa))>la)<<7,Hr=Hr<<2|(3<ii?3:1<ii?2:Nr[Sa+0]!=0),Sa+=16;cn>>=4,Pi=Pi>>1|Ns<<7,Ai=(Ai<<8|Hr)>>>0}for(Vo=cn,la=Pi>>4,Un=0;4>Un;Un+=2){for(Hr=0,cn=ur.la>>4+Un,Pi=Ua.la>>4+Un,Wr=0;2>Wr;++Wr){for(Ns=1&Pi,ns=0;2>ns;++ns)ii=Ns+(1&cn),cn=cn>>1|(Ns=0<(ii=_0(yn,oa[2],ii,Bn.Qc,0,Nr,Sa)))<<3,Hr=Hr<<2|(3<ii?3:1<ii?2:Nr[Sa+0]!=0),Sa+=16;cn>>=2,Pi=Pi>>1|Ns<<5}Tr|=Hr<<4*Un,Vo|=cn<<4<<Un,la|=(240&Pi)<<Un}ur.la=Vo,Ua.la=la,Ba.Hc=Ai,Ba.Gc=Tr,Ba.ia=43690&Tr?0:Bn.ia,oa=!(Ai|Tr)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[pr.$b][pr.Za],pt.wa[pt.Y+pt.ja].La|=!oa),ni.Ka)return fi(_r,7,"Premature end-of-file encountered.")}if(Px(_r),pt=Ci,ni=1,pr=(Ft=_r).D,ur=0<Ft.L&&Ft.M>=Ft.zb&&Ft.M<=Ft.Va,Ft.Aa==0)t:{if(pr.M=Ft.M,pr.uc=ur,so(Ft,pr),ni=1,pr=(Hr=Ft.D).Nb,ur=(Tr=Jx[Ft.L])*Ft.R,yn=Tr/2*Ft.B,Wr=16*pr*Ft.R,ns=8*pr*Ft.B,oa=Ft.sa,Ba=Ft.ta-ur+Wr,Bn=Ft.qa,Nr=Ft.ra-yn+ns,Sa=Ft.Ha,Ua=Ft.Ia-yn+ns,Pi=(cn=Hr.M)==0,Ai=cn>=Ft.Va-1,Ft.Aa==2&&so(Ft,Hr),Hr.uc)for(Ns=(ii=Ft).D.M,t(ii.D.uc),Hr=ii.yb;Hr<ii.Hb;++Hr){la=Hr,Vo=Ns;var za=(ks=(ca=ii).D).Nb;Un=ca.R;var ks=ks.wa[ks.Y+la],Es=ca.sa,is=ca.ta+16*za*Un+16*la,Cs=ks.dd,mn=ks.tc;if(mn!=0)if(t(3<=mn),ca.L==1)0<la&&QP(Es,is,Un,mn+4),ks.La&&tT(Es,is,Un,mn),0<Vo&&ZP(Es,is,Un,mn+4),ks.La&&eT(Es,is,Un,mn);else{var As=ca.B,Go=ca.qa,of=ca.ra+8*za*As+8*la,Ec=ca.Ha,ca=ca.Ia+8*za*As+8*la;za=ks.ld,0<la&&(Ei(Es,is,Un,mn+4,Cs,za),w0(Go,of,Ec,ca,As,mn+4,Cs,za)),ks.La&&(zx(Es,is,Un,mn,Cs,za),JP(Go,of,Ec,ca,As,mn,Cs,za)),0<Vo&&(ri(Es,is,Un,mn+4,Cs,za),Nc(Go,of,Ec,ca,As,mn+4,Cs,za)),ks.La&&(Fh(Es,is,Un,mn,Cs,za),XP(Go,of,Ec,ca,As,mn,Cs,za))}}if(Ft.ia&&alert("todo:DitherRow"),pt.put!=null){if(Hr=16*cn,cn=16*(cn+1),Pi?(pt.y=Ft.sa,pt.O=Ft.ta+Wr,pt.f=Ft.qa,pt.N=Ft.ra+ns,pt.ea=Ft.Ha,pt.W=Ft.Ia+ns):(Hr-=Tr,pt.y=oa,pt.O=Ba,pt.f=Bn,pt.N=Nr,pt.ea=Sa,pt.W=Ua),Ai||(cn-=Tr),cn>pt.o&&(cn=pt.o),pt.F=null,pt.J=null,Ft.Fa!=null&&0<Ft.Fa.length&&Hr<cn&&(pt.J=hn(Ft,pt,Hr,cn-Hr),pt.F=Ft.mb,pt.F==null&&pt.F.length==0)){ni=fi(Ft,3,"Could not decode alpha data.");break t}Hr<pt.j&&(Tr=pt.j-Hr,Hr=pt.j,t(!(1&Tr)),pt.O+=Ft.R*Tr,pt.N+=Ft.B*(Tr>>1),pt.W+=Ft.B*(Tr>>1),pt.F!=null&&(pt.J+=pt.width*Tr)),Hr<cn&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=Hr-pt.j,pt.U=pt.va-pt.v,pt.T=cn-Hr,ni=pt.put(pt))}pr+1!=Ft.Ic||Ai||(n(Ft.sa,Ft.ta-ur,oa,Ba+16*Ft.R,ur),n(Ft.qa,Ft.ra-yn,Bn,Nr+8*Ft.B,yn),n(Ft.Ha,Ft.Ia-yn,Sa,Ua+8*Ft.B,yn))}if(!ni)return fi(_r,6,"Output aborted.")}return 1}(ue,Ne)),Ne.bc!=null&&Ne.bc(Ne),Ae&=1}return Ae?(ue.cb=0,Ae):0})(j,B)||(E=j.a)}}else E=j.a}E==0&&ee.Oa!=null&&ee.Oa.fd&&(E=m0(ee.ba))}ee=E}Z=ee!=0?null:11>Z?re.f.RGBA.eb:re.f.kb.y}else Z=null;return Z};var bT=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,R){for(var O="",L=0;L<4;L++)O+=String.fromCharCode(k[R++]);return O}function d(k,R){return k[R+0]|k[R+1]<<8}function f(k,R){return(k[R+0]|k[R+1]<<8|k[R+2]<<16)>>>0}function m(k,R){return(k[R+0]|k[R+1]<<8|k[R+2]<<16|k[R+3]<<24)>>>0}new c;var h=[0],v=[0],g=[],x=new c,y=e,w=function(k,R){var O={},L=0,U=!1,q=0,Q=0;if(O.frames=[],!function(D,M){for(var T=0;T<4;T++)if(D[M+T]!="RIFF".charCodeAt(T))return!0;return!1}(k,R)){for(m(k,R+=4),R+=8;R<k.length;){var ie=u(k,R),z=m(k,R+=4);R+=4;var H=z+(1&z);switch(ie){case"VP8 ":case"VP8L":O.frames[L]===void 0&&(O.frames[L]={}),(xe=O.frames[L]).src_off=U?Q:R-8,xe.src_size=q+z+8,L++,U&&(U=!1,q=0,Q=0);break;case"VP8X":(xe=O.header={}).feature_flags=k[R];var X=R+4;xe.canvas_width=1+f(k,X),X+=3,xe.canvas_height=1+f(k,X),X+=3;break;case"ALPH":U=!0,q=H+8,Q=R-8;break;case"ANIM":(xe=O.header).bgcolor=m(k,R),X=R+4,xe.loop_count=d(k,X),X+=2;break;case"ANMF":var pe,xe;(xe=O.frames[L]={}).offset_x=2*f(k,R),R+=3,xe.offset_y=2*f(k,R),R+=3,xe.width=1+f(k,R),R+=3,xe.height=1+f(k,R),R+=3,xe.duration=f(k,R),R+=3,pe=k[R++],xe.dispose=1&pe,xe.blend=pe>>1&1}ie!="ANMF"&&(R+=H)}return O}}(y,0);w.response=y,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,b=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],v=[_.canvas_width];for(var N=0;N<b.length&&b[N].blend!=0;N++);}var C=b[0],S=x.WebPDecodeRGBA(y,C.src_off,C.src_size,v,h);C.rgba=S,C.imgwidth=v[0],C.imgheight=h[0];for(var A=0;A<v[0]*h[0]*4;A++)g[A]=S[A];return this.width=v,this.height=h,this.data=g,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function V6e(){var e,t=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function G6e(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,r,n,i,a,o,l,c,u,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=D;Object.defineProperty(this,"pdf",{get:function(){return M}});var T=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return T},set:function(ne){T=!!ne}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(ne){V=!!ne}});var F=0;Object.defineProperty(this,"posX",{get:function(){return F},set:function(ne){isNaN(ne)||(F=ne)}});var W=0;Object.defineProperty(this,"posY",{get:function(){return W},set:function(ne){isNaN(ne)||(W=ne)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ne){var Be;typeof ne=="number"?Be=[ne,ne,ne,ne]:((Be=new Array(4))[0]=ne[0],Be[1]=ne.length>=2?ne[1]:Be[0],Be[2]=ne.length>=3?ne[2]:Be[0],Be[3]=ne.length>=4?ne[3]:Be[1]),u.margin=Be}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(ne){te=ne}});var Y=0;Object.defineProperty(this,"lastBreak",{get:function(){return Y},set:function(ne){Y=ne}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(ne){oe=ne}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ne){ne instanceof d&&(u=ne)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ne){u.path=ne}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(ne){we=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var Be;Be=m(ne),this.ctx.fillStyle=Be.style,this.ctx.isFillTransparent=Be.a===0,this.ctx.fillOpacity=Be.a,this.pdf.setFillColor(Be.r,Be.g,Be.b,{a:Be.a}),this.pdf.setTextColor(Be.r,Be.g,Be.b,{a:Be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var Be=m(ne);this.ctx.strokeStyle=Be.style,this.ctx.isStrokeTransparent=Be.a===0,this.ctx.strokeOpacity=Be.a,Be.a===0?this.pdf.setDrawColor(255,255,255):(Be.a,this.pdf.setDrawColor(Be.r,Be.g,Be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var ve=null,He=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(ne){ve=null,He=null,ze=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var Be;if(this.ctx.font=ne,(Be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ne))!==null){var qe=Be[1];Be[2];var rt=Be[3],Pe=Be[4];Be[5];var ct=Be[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(at==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Rt=function(tt){var Qt,Dt,Vt=[],Bt=tt.trim();if(Bt==="")return V5;if(Bt in pM)return[pM[Bt]];for(;Bt!=="";){switch(Dt=null,Qt=(Bt=vM(Bt)).charAt(0)){case'"':case"'":Dt=B6e(Bt.substring(1),Qt);break;default:Dt=U6e(Bt)}if(Dt===null||(Vt.push(Dt[0]),(Bt=vM(Dt[1]))!==""&&Bt.charAt(0)!==","))return V5;Bt=Bt.replace(/^,/,"")}return Vt}(ct);if(this.fontFaces){var It=function(tt,Qt){var Dt=tt.getFontList(),Vt=JSON.stringify(Dt);if(ve===null||He!==Vt){var Bt=function(Ar){var yt=[];return Object.keys(Ar).forEach(function(wr){Ar[wr].forEach(function(Gt){var er=null;switch(Gt){case"bold":er={family:wr,weight:"bold"};break;case"italic":er={family:wr,style:"italic"};break;case"bolditalic":er={family:wr,weight:"bold",style:"italic"};break;case"":case"normal":er={family:wr}}er!==null&&(er.ref={name:wr,style:Gt},yt.push(er))})}),yt}(Dt);ve=function(Ar){for(var yt={},wr=0;wr<Ar.length;++wr){var Gt=q5(Ar[wr]),er=Gt.family,zr=Gt.stretch,Xt=Gt.style,Ht=Gt.weight;yt[er]=yt[er]||{},yt[er][zr]=yt[er][zr]||{},yt[er][zr][Xt]=yt[er][zr][Xt]||{},yt[er][zr][Xt][Ht]=Gt}return yt}(Bt.concat(Qt)),He=Vt}return ve}(this.pdf,this.fontFaces),Zt=Rt.map(function(tt){return{family:tt,stretch:"normal",weight:rt,style:qe}}),or=function(tt,Qt,Dt){for(var Vt=(Dt=Dt||{}).defaultFontFamily||"times",Bt=Object.assign({},$6e,Dt.genericFontFamilies||{}),Ar=null,yt=null,wr=0;wr<Qt.length;++wr)if(Bt[(Ar=q5(Qt[wr])).family]&&(Ar.family=Bt[Ar.family]),tt.hasOwnProperty(Ar.family)){yt=tt[Ar.family];break}if(!(yt=yt||tt[Vt]))throw new Error("Could not find a font-family for the rule '"+gM(Ar)+"' and default family '"+Vt+"'.");if(yt=function(Gt,er){if(er[Gt])return er[Gt];var zr=Q4[Gt],Xt=zr<=Q4.normal?-1:1,Ht=mM(er,MX,zr,Xt);if(!Ht)throw new Error("Could not find a matching font-stretch value for "+Gt);return Ht}(Ar.stretch,yt),yt=function(Gt,er){if(er[Gt])return er[Gt];for(var zr=LX[Gt],Xt=0;Xt<zr.length;++Xt)if(er[zr[Xt]])return er[zr[Xt]];throw new Error("Could not find a matching font-style for "+Gt)}(Ar.style,yt),!(yt=function(Gt,er){if(er[Gt])return er[Gt];if(Gt===400&&er[500])return er[500];if(Gt===500&&er[400])return er[400];var zr=F6e[Gt],Xt=mM(er,FX,zr,Gt<400?-1:1);if(!Xt)throw new Error("Could not find a matching font-weight for value "+Gt);return Xt}(Ar.weight,yt)))throw new Error("Failed to resolve a font for the rule '"+gM(Ar)+"'.");return yt}(It,Zt);this.pdf.setFont(or.ref.name,or.ref.style)}else{var Yt="";(rt==="bold"||parseInt(rt,10)>=700||qe==="bold")&&(Yt="bold"),qe==="italic"&&(Yt+="italic"),Yt.length===0&&(Yt="normal");for(var dr="",rr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ye=0;ye<Rt.length;ye++){if(this.pdf.internal.getFont(Rt[ye],Yt,{noFallback:!0,disableWarning:!0})!==void 0){dr=Rt[ye];break}if(Yt==="bolditalic"&&this.pdf.internal.getFont(Rt[ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)dr=Rt[ye],Yt="bold";else if(this.pdf.internal.getFont(Rt[ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){dr=Rt[ye],Yt="normal";break}}if(dr===""){for(var Ve=0;Ve<Rt.length;Ve++)if(rr[Rt[Ve]]){dr=rr[Rt[Ve]];break}}dr=dr===""?"Times":dr,this.pdf.setFont(dr,Yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){b.call(this,"fill",!1)},f.prototype.stroke=function(){b.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,M){if(isNaN(D)||isNaN(M))throw un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var T=this.ctx.transform.applyToPoint(new o(D,M));this.path.push({type:"mt",x:T.x,y:T.y}),this.ctx.lastPoint=new o(D,M)},f.prototype.closePath=function(){var D=new o(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Yr(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){D=new o(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},f.prototype.lineTo=function(D,M){if(isNaN(D)||isNaN(M))throw un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var T=this.ctx.transform.applyToPoint(new o(D,M));this.path.push({type:"lt",x:T.x,y:T.y}),this.ctx.lastPoint=new o(T.x,T.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,M,T,V){if(isNaN(T)||isNaN(V)||isNaN(D)||isNaN(M))throw un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var F=this.ctx.transform.applyToPoint(new o(T,V)),W=this.ctx.transform.applyToPoint(new o(D,M));this.path.push({type:"qct",x1:W.x,y1:W.y,x:F.x,y:F.y}),this.ctx.lastPoint=new o(F.x,F.y)},f.prototype.bezierCurveTo=function(D,M,T,V,F,W){if(isNaN(F)||isNaN(W)||isNaN(D)||isNaN(M)||isNaN(T)||isNaN(V))throw un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new o(F,W)),Y=this.ctx.transform.applyToPoint(new o(D,M)),oe=this.ctx.transform.applyToPoint(new o(T,V));this.path.push({type:"bct",x1:Y.x,y1:Y.y,x2:oe.x,y2:oe.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},f.prototype.arc=function(D,M,T,V,F,W){if(isNaN(D)||isNaN(M)||isNaN(T)||isNaN(V)||isNaN(F))throw un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(W=!!W,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new o(D,M));D=te.x,M=te.y;var Y=this.ctx.transform.applyToPoint(new o(0,T)),oe=this.ctx.transform.applyToPoint(new o(0,0));T=Math.sqrt(Math.pow(Y.x-oe.x,2)+Math.pow(Y.y-oe.y,2))}Math.abs(F-V)>=2*Math.PI&&(V=0,F=2*Math.PI),this.path.push({type:"arc",x:D,y:M,radius:T,startAngle:V,endAngle:F,counterclockwise:W})},f.prototype.arcTo=function(D,M,T,V,F){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,M,T,V){if(isNaN(D)||isNaN(M)||isNaN(T)||isNaN(V))throw un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,M),this.lineTo(D+T,M),this.lineTo(D+T,M+V),this.lineTo(D,M+V),this.lineTo(D,M),this.lineTo(D+T,M),this.lineTo(D,M)},f.prototype.fillRect=function(D,M,T,V){if(isNaN(D)||isNaN(M)||isNaN(T)||isNaN(V))throw un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var F={};this.lineCap!=="butt"&&(F.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(F.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,M,T,V),this.fill(),F.hasOwnProperty("lineCap")&&(this.lineCap=F.lineCap),F.hasOwnProperty("lineJoin")&&(this.lineJoin=F.lineJoin)}},f.prototype.strokeRect=function(D,M,T,V){if(isNaN(D)||isNaN(M)||isNaN(T)||isNaN(V))throw un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(D,M,T,V),this.stroke())},f.prototype.clearRect=function(D,M,T,V){if(isNaN(D)||isNaN(M)||isNaN(T)||isNaN(V))throw un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,M,T,V))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,T=0;T<this.pdf.internal.getNumberOfPages();T++)this.pdf.setPage(T+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,T=0;T<this.pdf.internal.getNumberOfPages();T++)this.pdf.setPage(T+1),this.pdf.internal.out("Q");this.pdf.setPage(M),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(D){var M,T,V,F;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))M=0,T=0,V=0,F=0;else{var W=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(W!==null)M=parseInt(W[1]),T=parseInt(W[2]),V=parseInt(W[3]),F=1;else if((W=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)M=parseInt(W[1]),T=parseInt(W[2]),V=parseInt(W[3]),F=parseFloat(W[4]);else{if(F=1,typeof D=="string"&&D.charAt(0)!=="#"){var te=new AX(D);D=te.ok?te.toHex():"#000000"}D.length===4?(M=D.substring(1,2),M+=M,T=D.substring(2,3),T+=T,V=D.substring(3,4),V+=V):(M=D.substring(1,3),T=D.substring(3,5),V=D.substring(5,7)),M=parseInt(M,16),T=parseInt(T,16),V=parseInt(V,16)}}return{r:M,g:T,b:V,a:F,style:D}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,M,T,V){if(isNaN(M)||isNaN(T)||typeof D!="string")throw un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!h.call(this)){var F=H(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;L.call(this,{text:D,x:M,y:T,scale:W,angle:F,align:this.textAlign,maxWidth:V})}},f.prototype.strokeText=function(D,M,T,V){if(isNaN(M)||isNaN(T)||typeof D!="string")throw un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){V=isNaN(V)?void 0:V;var F=H(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;L.call(this,{text:D,x:M,y:T,scale:W,renderingMode:"stroke",angle:F,align:this.textAlign,maxWidth:V})}},f.prototype.measureText=function(D){if(typeof D!="string")throw un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,T=this.pdf.internal.scaleFactor,V=M.internal.getFontSize(),F=M.getStringUnitWidth(D)*V/M.internal.scaleFactor;return new function(W){var te=(W=W||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this}({width:F*=Math.round(96*T/72*1e4)/1e4})},f.prototype.scale=function(D,M){if(isNaN(D)||isNaN(M))throw un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var T=new c(D,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(T)},f.prototype.rotate=function(D){if(isNaN(D))throw un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},f.prototype.translate=function(D,M){if(isNaN(D)||isNaN(M))throw un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var T=new c(1,0,0,1,D,M);this.ctx.transform=this.ctx.transform.multiply(T)},f.prototype.transform=function(D,M,T,V,F,W){if(isNaN(D)||isNaN(M)||isNaN(T)||isNaN(V)||isNaN(F)||isNaN(W))throw un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new c(D,M,T,V,F,W);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.setTransform=function(D,M,T,V,F,W){D=isNaN(D)?1:D,M=isNaN(M)?0:M,T=isNaN(T)?0:T,V=isNaN(V)?1:V,F=isNaN(F)?0:F,W=isNaN(W)?0:W,this.ctx.transform=new c(D,M,T,V,F,W)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,M,T,V,F,W,te,Y,oe){var we=this.pdf.getImageProperties(D),ve=1,He=1,ze=1,ne=1;V!==void 0&&Y!==void 0&&(ze=Y/V,ne=oe/F,ve=we.width/V*Y/V,He=we.height/F*oe/F),W===void 0&&(W=M,te=T,M=0,T=0),V!==void 0&&Y===void 0&&(Y=V,oe=F),V===void 0&&Y===void 0&&(Y=we.width,oe=we.height);var Be=this.ctx.transform.decompose(),qe=H(Be.rotate.shx),rt=new c,Pe=(rt=(rt=(rt=rt.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new l(W-M*ze,te-T*ne,V*ve,F*He));if(this.autoPaging){for(var ct,at=x.call(this,Pe),Rt=[],It=0;It<at.length;It+=1)Rt.indexOf(at[It])===-1&&Rt.push(at[It]);_(Rt);for(var Zt=Rt[0],or=Rt[Rt.length-1],Yt=Zt;Yt<or+1;Yt++){this.pdf.setPage(Yt);var dr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rr=Yt===1?this.posY+this.margin[0]:this.margin[0],ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Yt===1?0:ye+(Yt-2)*Ve;if(this.ctx.clip_path.length!==0){var Qt=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ct,this.posX+this.margin[3],-tt+rr+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Qt}var Dt=JSON.parse(JSON.stringify(Pe));Dt=w([Dt],this.posX+this.margin[3],-tt+rr+this.ctx.prevPageLastElemOffset)[0];var Vt=(Yt>Zt||Yt<or)&&g.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dr,Ve,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,qe),Vt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,qe)};var x=function(D,M,T){var V=[];M=M||this.pdf.internal.pageSize.width,T=T||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var F=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":V.push(Math.floor((D.y+F)/T)+1);break;case"arc":V.push(Math.floor((D.y+F-D.radius)/T)+1),V.push(Math.floor((D.y+F+D.radius)/T)+1);break;case"qct":var W=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);V.push(Math.floor((W.y+F)/T)+1),V.push(Math.floor((W.y+W.h+F)/T)+1);break;case"bct":var te=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);V.push(Math.floor((te.y+F)/T)+1),V.push(Math.floor((te.y+te.h+F)/T)+1);break;case"rect":V.push(Math.floor((D.y+F)/T)+1),V.push(Math.floor((D.y+D.h+F)/T)+1)}for(var Y=0;Y<V.length;Y+=1)for(;this.pdf.internal.getNumberOfPages()<V[Y];)y.call(this);return V},y=function(){var D=this.fillStyle,M=this.strokeStyle,T=this.font,V=this.lineCap,F=this.lineWidth,W=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=M,this.font=T,this.lineCap=V,this.lineWidth=F,this.lineJoin=W},w=function(D,M,T){for(var V=0;V<D.length;V++)switch(D[V].type){case"bct":D[V].x2+=M,D[V].y2+=T;case"qct":D[V].x1+=M,D[V].y1+=T;default:D[V].x+=M,D[V].y+=T}return D},_=function(D){return D.sort(function(M,T){return M-T})},b=function(D,M){var T=this.fillStyle,V=this.strokeStyle,F=this.lineCap,W=this.lineWidth,te=Math.abs(W*this.ctx.transform.scaleX),Y=this.lineJoin;if(this.autoPaging){for(var oe,we,ve=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),ze=[],ne=0;ne<He.length;ne++)if(He[ne].x!==void 0)for(var Be=x.call(this,He[ne]),qe=0;qe<Be.length;qe+=1)ze.indexOf(Be[qe])===-1&&ze.push(Be[qe]);for(var rt=0;rt<ze.length;rt++)for(;this.pdf.internal.getNumberOfPages()<ze[rt];)y.call(this);_(ze);for(var Pe=ze[0],ct=ze[ze.length-1],at=Pe;at<ct+1;at++){this.pdf.setPage(at),this.fillStyle=T,this.strokeStyle=V,this.lineCap=F,this.lineWidth=te,this.lineJoin=Y;var Rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=at===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],or=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Yt=at===1?0:Zt+(at-2)*or;if(this.ctx.clip_path.length!==0){var dr=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(oe,this.posX+this.margin[3],-Yt+It+this.ctx.prevPageLastElemOffset),N.call(this,D,!0),this.path=dr}if(we=JSON.parse(JSON.stringify(ve)),this.path=w(we,this.posX+this.margin[3],-Yt+It+this.ctx.prevPageLastElemOffset),M===!1||at===0){var rr=(at>Pe||at<ct)&&g.call(this);rr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,or,null).clip().discardPath()),N.call(this,D,M),rr&&this.pdf.restoreGraphicsState()}this.lineWidth=W}this.path=ve}else this.lineWidth=te,N.call(this,D,M),this.lineWidth=W},N=function(D,M){if((D!=="stroke"||M||!v.call(this))&&(D==="stroke"||M||!h.call(this))){for(var T,V,F=[],W=this.path,te=0;te<W.length;te++){var Y=W[te];switch(Y.type){case"begin":F.push({begin:!0});break;case"close":F.push({close:!0});break;case"mt":F.push({start:Y,deltas:[],abs:[]});break;case"lt":var oe=F.length;if(W[te-1]&&!isNaN(W[te-1].x)&&(T=[Y.x-W[te-1].x,Y.y-W[te-1].y],oe>0)){for(;oe>=0;oe--)if(F[oe-1].close!==!0&&F[oe-1].begin!==!0){F[oe-1].deltas.push(T),F[oe-1].abs.push(Y);break}}break;case"bct":T=[Y.x1-W[te-1].x,Y.y1-W[te-1].y,Y.x2-W[te-1].x,Y.y2-W[te-1].y,Y.x-W[te-1].x,Y.y-W[te-1].y],F[F.length-1].deltas.push(T);break;case"qct":var we=W[te-1].x+2/3*(Y.x1-W[te-1].x),ve=W[te-1].y+2/3*(Y.y1-W[te-1].y),He=Y.x+2/3*(Y.x1-Y.x),ze=Y.y+2/3*(Y.y1-Y.y),ne=Y.x,Be=Y.y;T=[we-W[te-1].x,ve-W[te-1].y,He-W[te-1].x,ze-W[te-1].y,ne-W[te-1].x,Be-W[te-1].y],F[F.length-1].deltas.push(T);break;case"arc":F.push({deltas:[],abs:[],arc:!0}),Array.isArray(F[F.length-1].abs)&&F[F.length-1].abs.push(Y)}}V=M?null:D==="stroke"?"stroke":"fill";for(var qe=!1,rt=0;rt<F.length;rt++)if(F[rt].arc)for(var Pe=F[rt].abs,ct=0;ct<Pe.length;ct++){var at=Pe[ct];at.type==="arc"?A.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,M,!qe):U.call(this,at.x,at.y),qe=!0}else if(F[rt].close===!0)this.pdf.internal.out("h"),qe=!1;else if(F[rt].begin!==!0){var Rt=F[rt].start.x,It=F[rt].start.y;q.call(this,F[rt].deltas,Rt,It),qe=!0}V&&k.call(this,V),M&&R.call(this)}},C=function(D){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,T=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-T;case"top":return D+M-T;case"hanging":return D+M-2*T;case"middle":return D+M/2-T;default:return D}},S=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(M,T){this.colorStops.push([M,T])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(D,M,T,V,F,W,te,Y,oe){for(var we=ie.call(this,T,V,F,W),ve=0;ve<we.length;ve++){var He=we[ve];ve===0&&(oe?O.call(this,He.x1+D,He.y1+M):U.call(this,He.x1+D,He.y1+M)),Q.call(this,D,M,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}Y?R.call(this):k.call(this,te)},k=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(D,M){this.pdf.internal.out(r(D)+" "+n(M)+" m")},L=function(D){var M;switch(D.align){case"right":case"end":M="right";break;case"center":M="center";break;default:M="left"}var T,V,F,W=this.pdf.getTextDimensions(D.text),te=C.call(this,D.y),Y=S.call(this,te)-W.h,oe=this.ctx.transform.applyToPoint(new o(D.x,te));if(this.autoPaging){var we=this.ctx.transform.decompose(),ve=new c;ve=(ve=(ve=ve.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var He=this.ctx.transform.applyToRectangle(new l(D.x,te,W.w,W.h)),ze=ve.applyToRectangle(new l(D.x,Y,W.w,W.h)),ne=x.call(this,ze),Be=[],qe=0;qe<ne.length;qe+=1)Be.indexOf(ne[qe])===-1&&Be.push(ne[qe]);_(Be);for(var rt=Be[0],Pe=Be[Be.length-1],ct=rt;ct<Pe+1;ct++){this.pdf.setPage(ct);var at=ct===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[2],Zt=It-this.margin[0],or=this.pdf.internal.pageSize.width-this.margin[1],Yt=or-this.margin[3],dr=ct===1?0:Rt+(ct-2)*Zt;if(this.ctx.clip_path.length!==0){var rr=this.path;T=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(T,this.posX+this.margin[3],-1*dr+at),N.call(this,"fill",!0),this.path=rr}var ye=w([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-dr+at+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*D.scale),F=this.lineWidth,this.lineWidth=F*D.scale);var Ve=this.autoPaging!=="text";if(Ve||ye.y+ye.h<=It){if(Ve||ye.y>=at&&ye.x<=or){var tt=Ve?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||or-ye.x)[0],Qt=w([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-dr+at+this.ctx.prevPageLastElemOffset)[0],Dt=Ve&&(ct>rt||ct<Pe)&&g.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,Zt,null).clip().discardPath()),this.pdf.text(tt,Qt.x,Qt.y,{angle:D.angle,align:M,renderingMode:D.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else ye.y<It&&(this.ctx.prevPageLastElemOffset+=It-ye.y);D.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=F)}}else D.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*D.scale),F=this.lineWidth,this.lineWidth=F*D.scale),this.pdf.text(D.text,oe.x+this.posX,oe.y+this.posY,{angle:D.angle,align:M,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=F)},U=function(D,M,T,V){T=T||0,V=V||0,this.pdf.internal.out(r(D+T)+" "+n(M+V)+" l")},q=function(D,M,T){return this.pdf.lines(D,M,T,null,null)},Q=function(D,M,T,V,F,W,te,Y){this.pdf.internal.out([t(i(T+D)),t(a(V+M)),t(i(F+D)),t(a(W+M)),t(i(te+D)),t(a(Y+M)),"c"].join(" "))},ie=function(D,M,T,V){for(var F=2*Math.PI,W=Math.PI/2;M>T;)M-=F;var te=Math.abs(T-M);te<F&&V&&(te=F-te);for(var Y=[],oe=V?-1:1,we=M;te>1e-5;){var ve=we+oe*Math.min(te,W);Y.push(z.call(this,D,we,ve)),te-=Math.abs(ve-we),we=ve}return Y},z=function(D,M,T){var V=(T-M)/2,F=D*Math.cos(V),W=D*Math.sin(V),te=F,Y=-W,oe=te*te+Y*Y,we=oe+te*F+Y*W,ve=4/3*(Math.sqrt(2*oe*we)-we)/(te*W-Y*F),He=te-ve*Y,ze=Y+ve*te,ne=He,Be=-ze,qe=V+M,rt=Math.cos(qe),Pe=Math.sin(qe);return{x1:D*Math.cos(M),y1:D*Math.sin(M),x2:He*rt-ze*Pe,y2:He*Pe+ze*rt,x3:ne*rt-Be*Pe,y3:ne*Pe+Be*rt,x4:D*Math.cos(T),y4:D*Math.sin(T)}},H=function(D){return 180*D/Math.PI},X=function(D,M,T,V,F,W){var te=D+.5*(T-D),Y=M+.5*(V-M),oe=F+.5*(T-F),we=W+.5*(V-W),ve=Math.min(D,F,te,oe),He=Math.max(D,F,te,oe),ze=Math.min(M,W,Y,we),ne=Math.max(M,W,Y,we);return new l(ve,ze,He-ve,ne-ze)},pe=function(D,M,T,V,F,W,te,Y){var oe,we,ve,He,ze,ne,Be,qe,rt,Pe,ct,at,Rt,It,Zt=T-D,or=V-M,Yt=F-T,dr=W-V,rr=te-F,ye=Y-W;for(we=0;we<41;we++)rt=(Be=(ve=D+(oe=we/40)*Zt)+oe*((ze=T+oe*Yt)-ve))+oe*(ze+oe*(F+oe*rr-ze)-Be),Pe=(qe=(He=M+oe*or)+oe*((ne=V+oe*dr)-He))+oe*(ne+oe*(W+oe*ye-ne)-qe),we==0?(ct=rt,at=Pe,Rt=rt,It=Pe):(ct=Math.min(ct,rt),at=Math.min(at,Pe),Rt=Math.max(Rt,rt),It=Math.max(It,Pe));return new l(Math.round(ct),Math.round(at),Math.round(Rt-ct),Math.round(It-at))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,M,T=(D=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:M}));this.prevLineDash!==T&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=T)}}})(Wt.API),function(e){var t=function(o){var l,c,u,d,f,m,h,v,g,x;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(x=f%85))/85)-(g=f%85))/85)-(v=f%85))/85)-(h=f%85))/85)%85,c.push(m+33,h+33,v+33,g+33,x+33)):c.push(122);return function(y,w){for(var _=w;_>0;_--)y.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,f,m=String,h="length",v=255,g="charCodeAt",x="slice",y="replace";for(o[x](-2),o=o[x](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[x](o[h]%5||5))[h];f>d;d+=5)c=52200625*(o[g](d)-33)+614125*(o[g](d+1)-33)+7225*(o[g](d+2)-33)+85*(o[g](d+3)-33)+(o[g](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(w,_){for(var b=_;b>0;b--)w.pop()}(u,l[h]),m.fromCharCode.apply(m,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=V4(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Wt.API),function(e){e.loadFile=function(t,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,m=0,h=function(v){var g=v.length,x=[],y=String.fromCharCode;for(m=0;m<g;m+=1)x.push(y(255&v.charCodeAt(m)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,a,o)}catch{}return l}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Wt.API),function(e){function t(){return(ir.html2canvas?Promise.resolve(ir.html2canvas):E5(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(ir.DOMPurify?Promise.resolve(ir.DOMPurify):E5(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Yr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var v=d[h],g=v.src.find(function(x){return x.format==="truetype"});g&&u.addFont(g.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(f,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Wt.getPageSize=function(l,c,u){if(Yr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var v,g=0,x=0;if(h.hasOwnProperty(m))g=h[m][1]/f,x=h[m][0]/f;else try{g=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",x>g&&(v=x,x=g,g=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>x&&(v=x,x=g,g=v)}return{width:x,height:g,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(q5):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(Wt.API),Wt.API.addJS=function(e){var t,r,n=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var f=r.internal.newObject();d.push(f);var m=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Wt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=h,t.indexOf(f.charCodeAt(x+1))!==-1){m=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:m,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(Wt.API),Wt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=S6e(e,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,u=a.palette,d=a.depth;i=u&&c===1?function(A){for(var k=A.width,R=A.height,O=A.data,L=A.palette,U=A.depth,q=!1,Q=[],ie=[],z=void 0,H=!1,X=0,pe=0;pe<L.length;pe++){var xe=jL(L[pe],4),D=xe[0],M=xe[1],T=xe[2],V=xe[3];Q.push(D,M,T),V!=null&&(V===0?(X++,ie.length<1&&ie.push(pe)):V<255&&(H=!0))}if(H||X>1){q=!0,ie=void 0;var F=k*R;z=new Uint8Array(F);for(var W=new DataView(O.buffer),te=0;te<F;te++){var Y=G5(W,te,U),oe=jL(L[Y],4)[3];z[te]=oe}}else X===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:O,alphaBytes:z,needSMask:q,palette:Q,mask:ie}}(a):c===2||c===4?function(A){for(var k=A.data,R=A.width,O=A.height,L=A.channels,U=A.depth,q=L===2?"DeviceGray":"DeviceRGB",Q=L-1,ie=R*O,z=Q,H=ie*z,X=1*ie,pe=Math.ceil(H*U/8),xe=Math.ceil(X*U/8),D=new Uint8Array(pe),M=new Uint8Array(xe),T=new DataView(k.buffer),V=new DataView(D.buffer),F=new DataView(M.buffer),W=!1,te=0;te<ie;te++){for(var Y=te*L,oe=0;oe<z;oe++)kM(V,G5(T,Y+oe,U),te*z+oe,U);var we=G5(T,Y+z,U);we<(1<<U)-1&&(W=!0),kM(F,we,1*te,U)}return{colorSpace:q,colorsPerPixel:Q,sMaskBitsPerComponent:W?U:void 0,colorBytes:D,alphaBytes:M,needSMask:W}}(a):function(A){var k=A.data,R=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(O){for(var L=O.length,U=new Uint8Array(2*L),q=new DataView(U.buffer,U.byteOffset,U.byteLength),Q=0;Q<L;Q++)q.setUint16(2*Q,O[Q],!1);return U}(k):k,needSMask:!1}}(a);var f,m,h,v=i,g=v.colorSpace,x=v.colorsPerPixel,y=v.sMaskBitsPerComponent,w=v.colorBytes,_=v.alphaBytes,b=v.needSMask,N=v.palette,C=v.mask,S=null;return n!==Wt.API.image_compression.NONE&&typeof V4=="function"?(S=function(A){var k;switch(A){case Wt.API.image_compression.FAST:k=11;break;case Wt.API.image_compression.MEDIUM:k=13;break;case Wt.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(S," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=bM(w,Math.ceil(o*x*d/8),x,d,n),b&&(h=bM(_,Math.ceil(o*y/8),1,y,n))):(f=void 0,m=void 0,e=w,b&&(h=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:m,transparency:C,palette:N,sMask:h,predictor:S,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:y,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new q6e(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new K5(100).encode(u,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(Wt.API),Xo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xo.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(r){un.log("bit decode error:"+r)}},Xo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Xo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Xo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Xo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Xo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=i*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Xo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Xo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},Xo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Xo(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new K5(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(Wt.API),CM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new CM(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new K5(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(Wt.API),Wt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=n[u],f=n[u+1],m=n[u+2],h=n[u+3];a[l++]=d,a[l++]=f,a[l++]=m,o[c++]=h}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Wt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sm=Wt.API,u1=sm.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,m=0,h=e.length,v=0,g=l[0]||c,x=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(m=f&&Yr(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,x.push((l[n]||g)/c+m)),v=n;return x},xM=sm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return sm.processArabic&&(e=sm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:u1.apply(this,arguments).reduce(function(a,o){return a+o},0)},yM=function(e,t,r,n){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<r;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},wM=function(e,t,r){r||(r={});var n,i,a,o,l,c,u,d=[],f=[d],m=r.textIndent||0,h=0,v=0,g=e.split(" "),x=u1.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),w=[];g.map(function(b){(b=b.split(/\s*\n/)).length>1?w=w.concat(b.map(function(N,C){return(C&&N.length?`
`:"")+N})):w.push(b[0])}),g=w,c=xM.apply(this,[y,r])}for(a=0,o=g.length;a<o;a++){var _=0;if(n=g[a],c&&n[0]==`
`&&(n=n.substr(1),_=1),m+h+(v=(i=u1.apply(this,[n,r])).reduce(function(b,N){return b+N},0))>t||_){if(v>t){for(l=yM.apply(this,[n,i,t-(m+h),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);v=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(b,N){return b+N},0)}else d=[n];f.push(d),m=v+c,h=x}else d.push(n),m+=h+v,h=x}return u=c?function(b,N){return(N?y:"")+b.join(" ")}:function(b){return b.join(" ")},f.map(u)},sm.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(wM.apply(this,[n[l],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var h,v,g,x,y=["{"];for(var w in m){if(h=m[w],isNaN(parseInt(w,10))?v="'"+w+"'":(w=parseInt(w,10),v=(v=o(w).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof h=="number")h<0?(g=o(h).slice(3),x="-"):(g=o(h).slice(2),x=""),g=x+g.slice(0,-1)+i[g.slice(-1)];else{if(Yr(h)!=="object")throw new Error("Don't know what to do with value type "+Yr(h)+".");g=l(h)}y.push(v+g)}return y.push("}"),y.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,v,g,x,y={},w=1,_=y,b=[],N="",C="",S=m.length-1,A=1;A<S;A+=1)(x=m[A])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(b.push([_,g]),_={},g=void 0):x=="}"?((v=b.pop())[0][v[1]]=_,g=void 0,_=v[0]):x=="-"?w=-1:g===void 0?n.hasOwnProperty(x)?(N+=n[x],g=parseInt(N,16)*w,w=1,N=""):N+=x:n.hasOwnProperty(x)?(C+=n[x],_[g]=parseInt(C,16)*w,w=1,g=void 0,C=""):C+=x;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,v=f.Unicode[h.postScriptName];v&&(h.metadata.Unicode={},h.metadata.Unicode.widths=v.widths,h.metadata.Unicode.kerning=v.kerning);var g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(Wt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(H1(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Wt),Wt.API.addSvgAsImage=function(e,t,r,n,i,a,o,l){if(isNaN(t)||isNaN(r))throw un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(ir.canvg?Promise.resolve(ir.canvg):E5(()=>import("./index.es-Cz2H29IG.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,o,l)})},Wt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Wt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function m(v,g){var x,y=!1;for(x=0;x<v.length;x+=1)v[x]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(Yr(e)==="object"){for(i in e)if(a=e[i],m(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&m(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Wt.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",G6e),this.internal.events.subscribe("postPutResources",V6e)),this},function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=a.length;f<m;++f){if(l=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(a){var o,l,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(a).sort(function(h,v){return h-v})).length;f<m;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",v=0;v<m.length;v++)h+=String.fromCharCode(m[v]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+pm(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+pm(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+pm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var v=u();d({data:m,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+pm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+pm(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,u=a.y,d=a.options||{},f=a.mutex||{},m=f.pdfEscape,h=f.activeFontKey,v=f.fonts,g=h,x="",y=0,w="",_=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(w=l,g=h,Array.isArray(l)&&(w=l[0]),y=0;y<w.length;y+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),o||w[y].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?x+=w[y]:x+="";var b="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?b=m(x,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(b=r(x,v[g])),f.isHex=!0,{text:b,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(Wt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Wt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,l,c,u,d,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var b=function(O){var L=O.charCodeAt(),U=L>>8,q=g[U];return q!==void 0?f[256*q+(255&L)]:U===252||U===253?"AL":y.test(U)?"L":U===8?"R":"N"},N=function(O){for(var L,U=0;U<O.length;U++){if((L=b(O.charAt(U)))==="L")return!1;if(L==="R")return!0}return!1},C=function(O,L,U,q){var Q,ie,z,H,X=L[q];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(X="AN");break;case"AL":w=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":q<1||q+1>=L.length||(Q=U[q-1])!=="EN"&&Q!=="AN"||(ie=L[q+1])!=="EN"&&ie!=="AN"?X="N":w&&(ie="AN"),X=ie===Q?ie:"N";break;case"ES":X=(Q=q>0?U[q-1]:"B")==="EN"&&q+1<L.length&&L[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&U[q-1]==="EN"){X="EN";break}if(w){X="N";break}for(z=q+1,H=L.length;z<H&&L[z]==="ET";)z++;X=z<H&&L[z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(H=L.length,z=q+1;z<H&&L[z]==="NSM";)z++;if(z<H){var pe=O[q],xe=pe>=1425&&pe<=2303||pe===64286;if(Q=L[z],xe&&(Q==="R"||Q==="AL")){X="R";break}}}X=q<1||(Q=L[q-1])==="B"?"N":U[q-1];break;case"B":w=!1,i=!0,X=_;break;case"S":a=!0,X="N"}return X},S=function(O,L,U){var q=O.split("");return U&&A(q,U,{hiLevel:_}),q.reverse(),L&&L.reverse(),q.join("")},A=function(O,L,U){var q,Q,ie,z,H,X=-1,pe=O.length,xe=0,D=[],M=_?h:m,T=[];for(w=!1,i=!1,a=!1,Q=0;Q<pe;Q++)T[Q]=b(O[Q]);for(ie=0;ie<pe;ie++){if(H=xe,D[ie]=C(O,T,D,ie),q=240&(xe=M[H][v[D[ie]]]),xe&=15,L[ie]=z=M[xe][5],q>0)if(q===16){for(Q=X;Q<ie;Q++)L[Q]=1;X=-1}else X=-1;if(M[xe][6])X===-1&&(X=ie);else if(X>-1){for(Q=X;Q<ie;Q++)L[Q]=z;X=-1}T[ie]==="B"&&(L[ie]=0),U.hiLevel|=z}a&&function(V,F,W){for(var te=0;te<W;te++)if(V[te]==="S"){F[te]=_;for(var Y=te-1;Y>=0&&V[Y]==="WS";Y--)F[Y]=_}}(T,L,pe)},k=function(O,L,U,q,Q){if(!(Q.hiLevel<O)){if(O===1&&_===1&&!i)return L.reverse(),void(U&&U.reverse());for(var ie,z,H,X,pe=L.length,xe=0;xe<pe;){if(q[xe]>=O){for(H=xe+1;H<pe&&q[H]>=O;)H++;for(X=xe,z=H-1;X<z;X++,z--)ie=L[X],L[X]=L[z],L[z]=ie,U&&(ie=U[X],U[X]=U[z],U[z]=ie);xe=H}xe++}}},R=function(O,L,U){var q=O.split(""),Q={hiLevel:_};return U||(U=[]),A(q,U,Q),function(ie,z,H){if(H.hiLevel!==0&&d)for(var X,pe=0;pe<ie.length;pe++)z[pe]===1&&(X=x.indexOf(ie[pe]))>=0&&(ie[pe]=x[X+1])}(q,U,Q),k(2,q,L,U,Q),k(1,q,L,U,Q),q.join("")};return this.__bidiEngine__.doBidiReorder=function(O,L,U){if(function(Q,ie){if(ie)for(var z=0;z<Q.length;z++)ie[z]=z;l===void 0&&(l=N(Q)),u===void 0&&(u=N(Q))}(O,L),o||!c||u)if(o&&c&&l^u)_=l?1:0,O=S(O,L,U);else if(!o&&c&&u)_=l?1:0,O=R(O,L,U),O=S(O,L);else if(!o||l||c||u){if(o&&!c&&l^u)O=S(O,L),l?(_=0,O=R(O,L,U)):(_=1,O=R(O,L,U),O=S(O,L));else if(o&&l&&!c&&u)_=1,O=R(O,L,U),O=S(O,L);else if(!o&&!c&&l^u){var q=d;l?(_=1,O=R(O,L,U),_=0,d=!1,O=R(O,L,U),d=q):(_=0,O=R(O,L,U),O=S(O,L),_=1,d=!1,O=R(O,L,U),d=q,O=S(O,L))}}else _=0,O=R(O,L,U);else _=l?1:0,O=R(O,L,U);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,c=O.isOutputVisual,l=O.isInputRtl,u=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Wt),Wt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Od(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new lRe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new K6e(this.contents),this.head=new X6e(this),this.name=new tRe(this),this.cmap=new BX(this),this.toUnicode={},this.hhea=new J6e(this),this.maxp=new rRe(this),this.hmtx=new nRe(this),this.post=new Q6e(this),this.os2=new Z6e(this),this.loca=new oRe(this),this.glyf=new iRe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var kl,Od=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),K6e=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,l,c,u,d,f,m,h,v,g;for(g in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(i=new Od).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(d),a=16*h,u=i.pos+a,l=null,v=[],r)for(m=r[g],i.writeString(g),i.writeInt(e(m)),i.writeInt(u),i.writeInt(m.length),v=v.concat(m),g==="head"&&(l=u),u+=m.length;u%4;)v.push(0),u++;return i.write(v),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=UX.call(r);r.length%4;)r.push(0);for(a=new Od(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),Y6e={}.hasOwnProperty,fc=function(e,t){for(var r in t)Y6e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};kl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var X6e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,kl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Od).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),AM=function(){function e(t,r){var n,i,a,o,l,c,u,d,f,m,h,v,g,x,y,w,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,a=function(){var b,N;for(N=[],c=b=0;0<=m?b<m:b>m;c=0<=m?++b:--b)N.push(t.readUInt16());return N}(),t.pos+=2,g=function(){var b,N;for(N=[],c=b=0;0<=m?b<m:b>m;c=0<=m?++b:--b)N.push(t.readUInt16());return N}(),u=function(){var b,N;for(N=[],c=b=0;0<=m?b<m:b>m;c=0<=m?++b:--b)N.push(t.readUInt16());return N}(),d=function(){var b,N;for(N=[],c=b=0;0<=m?b<m:b>m;c=0<=m?++b:--b)N.push(t.readUInt16());return N}(),i=(this.length-t.pos+this.offset)/2,l=function(){var b,N;for(N=[],c=b=0;0<=i?b<i:b>i;c=0<=i?++b:--b)N.push(t.readUInt16());return N}(),c=y=0,_=a.length;y<_;c=++y)for(x=a[c],n=w=v=g[c];v<=x?w<=x:w>=x;n=v<=x?++w:--w)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-v)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,i,a,o,l,c,u,d,f,m,h,v,g,x,y,w,_,b,N,C,S,A,k,R,O,L,U,q,Q,ie,z,H,X,pe,xe,D,M,T,V,F,W,te,Y,oe,we,ve;switch(q=new Od,o=Object.keys(t).sort(function(He,ze){return He-ze}),r){case"macroman":for(g=0,x=function(){var He=[];for(v=0;v<256;++v)He.push(0);return He}(),w={0:0},a={},Q=0,X=o.length;Q<X;Q++)w[Y=t[i=o[Q]]]==null&&(w[Y]=++g),a[i]={old:t[i],new:w[t[i]]},x[i]=w[t[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(x),{charMap:a,subtable:q.data,maxGlyphID:g+1};case"unicode":for(L=[],f=[],_=0,w={},n={},y=u=null,ie=0,pe=o.length;ie<pe;ie++)w[N=t[i=o[ie]]]==null&&(w[N]=++_),n[i]={old:N,new:w[N]},l=w[N]-i,y!=null&&l===u||(y&&f.push(y),L.push(i),u=l),y=i;for(y&&f.push(y),f.push(65535),L.push(65535),R=2*(k=L.length),A=2*Math.pow(Math.log(k)/Math.LN2,2),m=Math.log(A/2)/Math.LN2,S=2*k-A,c=[],C=[],h=[],v=z=0,xe=L.length;z<xe;v=++z){if(O=L[v],d=f[v],O===65535){c.push(0),C.push(0);break}if(O-(U=n[O].new)>=32768)for(c.push(0),C.push(2*(h.length+k-v)),i=H=O;O<=d?H<=d:H>=d;i=O<=d?++H:--H)h.push(n[i].new);else c.push(U-O),C.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*k+2*h.length),q.writeUInt16(0),q.writeUInt16(R),q.writeUInt16(A),q.writeUInt16(m),q.writeUInt16(S),W=0,D=f.length;W<D;W++)i=f[W],q.writeUInt16(i);for(q.writeUInt16(0),te=0,M=L.length;te<M;te++)i=L[te],q.writeUInt16(i);for(oe=0,T=c.length;oe<T;oe++)l=c[oe],q.writeUInt16(l);for(we=0,V=C.length;we<V;we++)b=C[we],q.writeUInt16(b);for(ve=0,F=h.length;ve<F;ve++)g=h[ve],q.writeUInt16(g);return{charMap:n,subtable:q.data,maxGlyphID:_+1}}},e}(),BX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,kl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new AM(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=AM.encode(t,r),(i=new Od).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),J6e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,kl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Z6e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,kl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Q6e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,kl),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),eRe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},tRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,kl),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,o,l,c,u,d,f,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=d=0,f=n.length;d<f;a=++d)i=n[a],t.pos=i.offset,u=t.readString(i.length),o=new eRe(u,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),rRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,kl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),nRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,kl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.metrics).length;u<d;u++)a=f[u],m.push(a.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),UX=[].slice,iRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,kl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,o,l,c,u,d,f;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Od(r.read(i))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new sRe(l,u,f,c,d):new aRe(l,o,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)i=t[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},e}(),aRe=function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),sRe=function(){function e(t,r,n,i,a){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Od(UX.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),oRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,kl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),lRe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,l,c,u,d,f,m,h,v,g,x,y;for(i in n=BX.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},y=n.charMap)h[(c=y[i]).old]=c.new;for(v in m=n.maxGlyphID,o)v in h||(h[v]=m++);return d=function(w){var _,b;for(_ in b={},w)b[w[_]]=_;return b}(h),f=Object.keys(d).sort(function(w,_){return w-_}),g=function(){var w,_,b;for(b=[],w=0,_=f.length;w<_;w++)l=f[w],b.push(d[l]);return b}(),a=this.font.glyf.encode(o,g,h),u=this.font.loca.encode(a.offsets,g),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Wt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();function zX(e,t,r,n,i){n=n||{};var a=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():a,u=l*c,d=/\r\n|\r|\n/g,f="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,m=f.length||1),r+=l*(2-a),n.valign==="middle"?r-=m/2*u:n.valign==="bottom"&&(r-=m*u),n.halign==="center"||n.halign==="right"){var h=l;if(n.halign==="center"&&(h*=.5),f&&m>=1){for(var v=0;v<f.length;v++)i.text(f[v],t-i.getStringUnitWidth(f[v])*h,r),r+=u;return i}t-=i.getStringUnitWidth(e)*h}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var PM={},Xm=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:PM=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,a;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=e.unifyColor(t.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,a){return this.jsPDFDocument.rect(t,r,n,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return PM||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),eE=function(e,t){return eE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eE(e,t)};function WX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");eE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var HX=function(e){WX(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function cRe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function uRe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Ub(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function qX(e,t,r,n){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var o=VX(i,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function VX(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function uj(e,t){var r,n,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function GX(e,t){var r=uj(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function dRe(e,t,r,n,i){var a={},o=1.3333333333333333,l=Y5(t,function(_){return i.getComputedStyle(_).backgroundColor});l!=null&&(a.fillColor=l);var c=Y5(t,function(_){return i.getComputedStyle(_).color});c!=null&&(a.textColor=c);var u=hRe(n,r);u&&(a.cellPadding=u);var d="borderTopColor",f=o*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var h=(parseFloat(m)||0)/f;h&&(a.lineWidth=h)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var v=Y5(t,function(_){return i.getComputedStyle(_)[d]});v!=null&&(a.lineColor=v);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(a.fontSize=x/o);var y=fRe(n);y&&(a.fontStyle=y);var w=(n.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(a.font=w),a}function fRe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Y5(e,t){var r=KX(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function KX(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:KX(e.parentElement,t):r}function hRe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(l){return parseInt(l||"0")/n}),o=uj(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function YX(e,t,r,n,i){var a,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],m=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:m};for(var h=0;h<l.rows.length;h++){var v=l.rows[h],g=(o=(a=v==null?void 0:v.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),x=mRe(c,u,r,v,n,i);x&&(g==="thead"?d.push(x):g==="tfoot"?m.push(x):f.push(x))}return{head:d,body:f,foot:m}}function mRe(e,t,r,n,i,a){for(var o=new HX(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(i||u.display!=="none"){var d=void 0;a&&(d=dRe(e,c,t,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:pRe(c)})}}var f=r.getComputedStyle(n);if(o.length>0&&(i||f.display!=="none"))return o}function pRe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function gRe(e,t,r){for(var n=0,i=[e,t,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function zc(e,t,r,n,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])}return a}function XX(e,t){var r=new Xm(e),n=r.getDocumentOptions(),i=r.getGlobalOptions();gRe(i,n,t);var a=zc({},i,n,t),o;typeof window<"u"&&(o=window);var l=vRe(i,n,t),c=xRe(i,n,t),u=yRe(r,a),d=bRe(r,a,o);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function vRe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],f=r[c];n.columnStyles=zc({},u,d,f)}else{var m=[e,t,r],h=m.map(function(v){return v[c]||{}});n[c]=zc({},h[0],h[1],h[2])}},a=0,o=Object.keys(n);a<o.length;a++){var l=o[a];i(l)}return n}function xRe(e,t,r){for(var n=[e,t,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=n;a<o.length;a++){var l=o[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function yRe(e,t){var r,n,i,a,o,l,c,u,d,f,m,h,v=uj(t.margin,40/e.scaleFactor()),g=(r=wRe(e,t.startY))!==null&&r!==void 0?r:v.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var w=(a=t.useCss)!==null&&a!==void 0?a:!1,_=t.theme||(w?"plain":"striped"),b=!!t.horizontalPageBreak,N=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:w,theme:_,startY:g,margin:v,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:y,showFoot:x,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(m=t.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:b,horizontalPageBreakRepeat:N,horizontalPageBreakBehaviour:(h=t.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function wRe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),a=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;a=o===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function bRe(e,t,r){var n=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=YX(e,t.html,r,o,t.useCss)||{};n=l.head||n,i=l.body||n,a=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||_Re(n,i,a);return{columns:c,head:n,body:i,foot:a}}function _Re(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,l;Array.isArray(n)?l=n[parseInt(a)]:l=n[a],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=i.length:u=a+(c>0?"_".concat(c):"");var d={dataKey:u};i.push(d)}}),i}var tE=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),jRe=function(e){WX(t,e);function t(r,n,i,a,o,l){var c=e.call(this,r,n,l)||this;return c.cell=i,c.row=a,c.column=o,c.section=a.section,c}return t}(tE),SRe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,i,a,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new jRe(t,this,n,i,a,o),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new tE(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new tE(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),JX=function(){function e(t,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof HX&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(i,a){var o=n.cells[a.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>i?u:i},0)},e}(),ZX=function(){function e(t,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=uj(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),NRe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,i=t.allRows();n<i.length;n++){var a=i[n],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function kRe(e,t){ERe(e,t);var r=[],n=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=t.getWidth(e.pageSize().width)-n;i&&(i=rE(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=rE(r,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),ARe(t),PRe(t,e),CRe(t)}function ERe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,i=GX(e,t);t.allRows().forEach(function(a){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,a,c,null);var f=u.padding("horizontal");u.contentWidth=Ub(u.text,u.styles,e)+f;var m=Ub(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/r;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function rE(e,t,r){for(var n=t,i=e.reduce(function(h,v){return h+v.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],l=o.wrappedWidth/i,c=n*l,u=o.width+c,d=r(o),f=u<d?d:u;t-=f-o.width,o.width=f}if(t=Math.round(t*1e10)/1e10,t){var m=e.filter(function(h){return t<0?h.width>r(h):!0});m.length&&(t=rE(m,t,r))}return t}function CRe(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var a=n[i],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=t[c.index];if(r>1)r--,delete a.cells[c.index];else if(u)u.cell.height+=a.height,r=u.cell.colSpan,delete a.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=a.cells[c.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var f=n.length-i,m=d.rowSpan>f?f:d.rowSpan;t[c.index]={cell:d,left:m,row:a}}}}}function ARe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,a=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])a+=c.width,delete n.cells[c.index];else if(i){var u=i;delete n.cells[c.index],i=null,u.width=c.width+a}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,a=0,u.colSpan>1){i=u,a+=c.width;continue}u.width=c.width+a}}}function PRe(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var a=i[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=TM(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=TM(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>a.height&&(a.height=m)}}r.count--}}function TM(e,t,r,n,i){return e.map(function(a){return TRe(a,t,r,n,i)})}function TRe(e,t,r,n,i){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=Ub(e,r,n))return e;for(;t<Ub(e+i,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function QX(e,t){var r=new Xm(e),n=ORe(t,r.scaleFactor()),i=new SRe(t,n);return kRe(r,i),r.applyStyles(r.userStyles),i}function ORe(e,t){var r=e.content,n=IRe(r.columns);if(r.head.length===0){var i=OM(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=OM(n,"foot");i&&r.foot.push(i)}var a=e.settings.theme,o=e.styles;return{columns:n,head:X5("head",r.head,n,o,a,t),body:X5("body",r.body,n,o,a,t),foot:X5("foot",r.foot,n,o,a,t)}}function X5(e,t,r,n,i,a){var o={},l=t.map(function(c,u){for(var d=0,f={},m=0,h=0,v=0,g=r;v<g.length;v++){var x=g[v];if(o[x.index]==null||o[x.index].left===0)if(h===0){var y=void 0;Array.isArray(c)?y=c[x.index-m-d]:y=c[x.dataKey];var w={};typeof y=="object"&&!Array.isArray(y)&&(w=(y==null?void 0:y.styles)||{});var _=DRe(e,x,u,i,n,a,w),b=new ZX(y,_,e);f[x.dataKey]=b,f[x.index]=b,h=b.colSpan-1,o[x.index]={left:b.rowSpan-1,times:h}}else h--,m++;else o[x.index].left--,h=o[x.index].times,d++}return new JX(c,u,e,f)});return l}function OM(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var i=RRe(t,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function RRe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function IRe(e){return e.map(function(t,r){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:r:i=r,new NRe(i,t,r)})}function DRe(e,t,r,n,i,a,o){var l=uRe(n),c;e==="head"?c=i.headStyles:e==="body"?c=i.bodyStyles:e==="foot"&&(c=i.footStyles);var u=zc({},l.table,l[e],i.styles,c),d=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},f=e==="body"?d:{},m=e==="body"&&r%2===0?zc({},l.alternateRow,i.alternateRowStyles):{},h=cRe(a),v=zc({},h,u,m,f);return zc(v,o)}function LRe(e,t,r){var n;r===void 0&&(r={});var i=GX(e,t),a=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var h=t.columns.find(function(v){return v.dataKey===m||v.index===m});h&&!a.has(h.index)&&(a.set(h.index,!0),o.push(h.index),l.push(t.columns[h.index]),i-=h.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(a.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||i>=f)u=!1,o.push(d),l.push(t.columns[d]),i-=f;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function MRe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var i=LRe(e,t,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function eJ(e,t){var r=t.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+i.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(m,h){return m+h.height},0);l+=u}var d=new Xm(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(rJ(d),a.y=i.top),t.callWillDrawPageHooks(d,a);var f=zc({},a);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?FRe(d,t,f,a):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(m){return cu(d,t,m,a,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(m,h){var v=h===t.body.length-1;zb(d,t,m,v,f,a,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(m){return cu(d,t,m,a,t.columns)})),qX(d,t,f,a),t.callEndPageHooks(d,a),t.finalY=a.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function FRe(e,t,r,n){var i=MRe(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?Sg(e,t,r,n,u.columns,!0):RM(e,t,n,u.columns),$Re(e,t,r,n,u.columns),J5(e,t,n,u.columns)});else for(var o=-1,l=i[0],c=function(){var u=o;if(l){e.applyStyles(e.userStyles);var d=l.columns;o>=0?Sg(e,t,r,n,d,!0):RM(e,t,n,d),u=IM(e,t,o+1,n,d),J5(e,t,n,d)}var f=u-o;i.slice(1).forEach(function(m){e.applyStyles(e.userStyles),Sg(e,t,r,n,m.columns,!0),IM(e,t,o+1,n,m.columns,f),J5(e,t,n,m.columns)}),o=u};o<t.body.length-1;)c()}function RM(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return cu(e,t,a,r,n)})}function $Re(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,o){var l=o===t.body.length-1;zb(e,t,a,l,r,n,i)})}function IM(e,t,r,n,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var o=Math.min(r+a,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,u){var d=r+u===t.body.length-1,f=tJ(e,t,d,n);c.canEntireRowFit(f,i)&&(cu(e,t,c,n,i),l=r+u)}),l}function J5(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return cu(e,t,a,r,n)})}function BRe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/n);return Math.max(0,a)}function URe(e,t,r,n){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new ZX(u.raw,u.styles,u.section);d=zc(d,u),d.text=[];var f=BRe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var m=n.scaleFactor(),h=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,h),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,h),d.contentHeight>a&&(a=d.contentHeight),i[c.index]=d}}var v=new JX(e.raw,-1,e.section,i,!0);v.height=a;for(var g=0,x=r.columns;g<x.length;g++){var c=x[g],d=v.cells[c.index];d&&(d.height=v.height);var u=e.cells[c.index];u&&(u.height=e.height)}return v}function zRe(e,t,r,n){var i=e.pageSize().height,a=n.settings.margin,o=a.top+a.bottom,l=i-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>l)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>l;return f?(d&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function zb(e,t,r,n,i,a,o){var l=tJ(e,t,n,a);if(r.canEntireRowFit(l,o))cu(e,t,r,a,o);else if(zRe(e,r,l,t)){var c=URe(r,l,t,e);cu(e,t,r,a,o),Sg(e,t,i,a,o),zb(e,t,c,n,i,a,o)}else Sg(e,t,i,a,o),zb(e,t,r,n,i,a,o)}function cu(e,t,r,n,i){n.x=t.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var l=o[a],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}WRe(e,c,n);var d=c.getTextPos();zX(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function WRe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=VX(n.lineWidth,n.fillColor);i&&e.rect(t.x,r.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),HRe(e,t,r,n.lineWidth))}function HRe(e,t,r,n){var i,a,o,l;n.top&&(i=r.x,a=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,a,o,l)),n.bottom&&(i=r.x,a=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,a,o,l)),n.left&&(i=r.x,a=r.y,o=r.x,l=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,i,a,o,l)),n.right&&(i=r.x+t.width,a=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,i,a,o,l));function c(u,d,f,m,h){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,m,h,"S")}}function tJ(e,t,r,n){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function Sg(e,t,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(l){return cu(e,t,l,n,i)}),t.callEndPageHooks(e,n);var o=t.settings.margin;qX(e,t,r,n),rJ(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return cu(e,t,l,n,i)}),e.applyStyles(e.userStyles))}function rJ(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function qRe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],i=XX(this,n),a=QX(this,i);return eJ(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,i){zX(t,r,n,i,this)},e.API.autoTableSetDefaults=function(t){return Xm.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Xm.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Xm(this),a=YX(i,t,window,r,!1),o=a.head,l=a.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var Z5;function nE(e,t){var r=XX(e,t),n=QX(e,r);eJ(e,n)}try{if(typeof window<"u"&&window){var DM=window,LM=DM.jsPDF||((Z5=DM.jspdf)===null||Z5===void 0?void 0:Z5.jsPDF);LM&&qRe(LM)}}catch(e){console.error("Could not apply autoTable plugin",e)}function VRe(e){var h,v,g,x,y,w;const{report:t,client:r,employee:n,service:i,metrics:a}=e,o=new Wt,l=o.internal.pageSize.getWidth(),c=20;let u=20;o.setFontSize(20),o.setTextColor(30,64,175),o.text("ClientFlow - Weekly Report",c,u),u+=15,o.setFontSize(10),o.setTextColor(100,100,100),o.text(`Generated: ${cr(new Date,"MMM dd, yyyy HH:mm")}`,c,u),u+=15,o.setDrawColor(200,200,200),o.line(c,u,l-c,u),u+=10,o.setFontSize(12),o.setTextColor(0,0,0);const d=[["Client",(r==null?void 0:r.name)||"N/A"],["Service",(i==null?void 0:i.name)||"N/A"],["Employee",(n==null?void 0:n.full_name)||"N/A"],["Week Start Date",cr(new Date(t.week_start_date),"MMM dd, yyyy")],["Status",t.status.replace("_"," ").toUpperCase()]];nE(o,{startY:u,head:[],body:d,theme:"plain",styles:{fontSize:10,cellPadding:3},columnStyles:{0:{fontStyle:"bold",cellWidth:40},1:{cellWidth:"auto"}},margin:{left:c}}),u=o.lastAutoTable.finalY+10,o.setFontSize(14),o.setFont(void 0,"bold"),o.text("Work Summary",c,u),u+=7,o.setFont(void 0,"normal"),o.setFontSize(10);const f=o.splitTextToSize(t.work_summary||"No summary provided",l-2*c);if(o.text(f,c,u),u+=f.length*5+10,t.key_wins){o.setFontSize(14),o.setFont(void 0,"bold"),o.text("Key Wins",c,u),u+=7,o.setFont(void 0,"normal"),o.setFontSize(10);const _=o.splitTextToSize(t.key_wins,l-2*c);o.text(_,c,u),u+=_.length*5+10}if(t.challenges){u>250&&(o.addPage(),u=20),o.setFontSize(14),o.setFont(void 0,"bold"),o.text("Challenges / Blockers",c,u),u+=7,o.setFont(void 0,"normal"),o.setFontSize(10);const _=o.splitTextToSize(t.challenges,l-2*c);o.text(_,c,u),u+=_.length*5+10}if(t.next_week_plan){u>250&&(o.addPage(),u=20),o.setFontSize(14),o.setFont(void 0,"bold"),o.text("Next Week Plan",c,u),u+=7,o.setFont(void 0,"normal"),o.setFontSize(10);const _=o.splitTextToSize(t.next_week_plan,l-2*c);o.text(_,c,u),u+=_.length*5+10}if(a){u>220&&(o.addPage(),u=20),o.setFontSize(14),o.setFont(void 0,"bold"),o.text("Metrics",c,u),u+=7;const _=[];(i==null?void 0:i.slug)==="linkedin_outreach"?_.push(["Connections Sent",((h=a.connections_sent)==null?void 0:h.toString())||"0"],["Connections Accepted",((v=a.connections_accepted)==null?void 0:v.toString())||"0"],["Responses Received",((g=a.responses_received)==null?void 0:g.toString())||"0"],["Positive Responses",((x=a.positive_responses)==null?void 0:x.toString())||"0"],["Meetings Booked",((y=a.meetings_booked)==null?void 0:y.toString())||"0"]):a.metric_data&&Object.entries(a.metric_data).forEach(([b,N])=>{const C=b.replace(/_/g," ").replace(/\b\w/g,S=>S.toUpperCase());_.push([C,String(N)])}),_.length>0&&nE(o,{startY:u,head:[],body:_,theme:"striped",styles:{fontSize:10,cellPadding:3},columnStyles:{0:{fontStyle:"bold",cellWidth:80},1:{cellWidth:"auto"}},margin:{left:c},headStyles:{fillColor:[30,64,175]}})}const m=`report-${((w=r==null?void 0:r.name)==null?void 0:w.replace(/\s+/g,"-").toLowerCase())||"unknown"}-${cr(new Date(t.week_start_date),"yyyy-MM-dd")}.pdf`;o.save(m)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Wb={};Wb.version="0.18.5";var nJ=1252,GRe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],iJ=function(e){GRe.indexOf(e)!=-1&&(nJ=e)};function KRe(){iJ(1252)}var kv=function(e){iJ(e)};function YRe(){kv(1200),KRe()}var d1=function(t){return String.fromCharCode(t)},MM=function(t){return String.fromCharCode(t)},Hb,ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ev(e){for(var t="",r=0,n=0,i=0,a=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,i=e.charCodeAt(u++),l=(n&15)<<2|i>>6,c=i&63,isNaN(n)?l=c=64:isNaN(i)&&(c=64),t+=ld.charAt(a)+ld.charAt(o)+ld.charAt(l)+ld.charAt(c);return t}function uu(e){var t="",r=0,n=0,i=0,a=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=ld.indexOf(e.charAt(u++)),o=ld.indexOf(e.charAt(u++)),r=a<<2|o>>4,t+=String.fromCharCode(r),l=ld.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=ld.indexOf(e.charAt(u++)),i=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var Fr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ju=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ch(e){return Fr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function FM(e){return Fr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var cl=function(t){return Fr?ju(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function dj(e){if(typeof ArrayBuffer>"u")return cl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function jx(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function XRe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var va=Fr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ju(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function JRe(e){for(var t=[],r=0,n=e.length+250,i=ch(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++a)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|l>>6&15|(o&3)<<4,i[r++]=128|l&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>n&&(t.push(i.slice(0,r)),r=0,i=ch(65535),n=65530)}return t.push(i.slice(0,r)),va(t)}var Ng=/\u0000/g,f1=/[\u0001-\u0006]/g;function Jm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function dl(e,t){var r=""+e;return r.length>=t?r:Kn("0",t-r.length)+r}function SP(e,t){var r=""+e;return r.length>=t?r:Kn(" ",t-r.length)+r}function qb(e,t){var r=""+e;return r.length>=t?r:r+Kn(" ",t-r.length)}function ZRe(e,t){var r=""+Math.round(e);return r.length>=t?r:Kn("0",t-r.length)+r}function QRe(e,t){var r=""+e;return r.length>=t?r:Kn("0",t-r.length)+r}var $M=Math.pow(2,32);function om(e,t){if(e>$M||e<-$M)return ZRe(e,t);var r=Math.round(e);return QRe(r,t)}function Vb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var BM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Q5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function eIe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Jn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},UM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},tIe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Gb(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(i);u<t&&(f=Math.floor(i),l=f*o+a,d=f*u+c,!(i-f<5e-8));)i=1/(i-f),a=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=a):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function h1(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,o=[],l={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=lIe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=a,l}var aJ=new Date(1899,11,31,0,0,0),rIe=aJ.getTime(),nIe=new Date(1900,2,1,0,0,0);function sJ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=nIe&&(r+=24*60*60*1e3),(r-(rIe+(e.getTimezoneOffset()-aJ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function NP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function iIe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function aIe(e){var t=e<0?12:11,r=NP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function sIe(e){var t=NP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function oIe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=aIe(e):t===10?r=e.toFixed(10).substr(0,12):r=sIe(e),NP(iIe(r.toUpperCase()))}function iE(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):oIe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Rd(14,sJ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function lIe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function cIe(e,t,r,n){var i="",a=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Q5[r.m-1][1];case 5:return Q5[r.m-1][0];default:return Q5[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return BM[r.q][0];default:return BM[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?dl(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(i=dl(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?dl(c,u):"";return d}function cd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var oJ=/%/g;function uIe(e,t,r){var n=t.replace(oJ,""),i=t.length-n.length;return Gc(e,n,r*Math.pow(10,2*i))+Kn("%",i)}function dIe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Gc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function lJ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+lJ(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var cJ=/# (\?+)( ?)\/( ?)(\d+)/;function fIe(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),o=i-a*n,l=n;return r+(a===0?"":""+a)+" "+(o===0?Kn(" ",e[1].length+1+e[4].length):SP(o,e[1].length)+e[2]+"/"+e[3]+dl(l,e[4].length))}function hIe(e,t,r){return r+(t===0?"":""+t)+Kn(" ",e[1].length+2+e[4].length)}var uJ=/^#*0*\.([0#]+)/,dJ=/\).*[0#]/,fJ=/\(###\) ###\\?-####/;function Ha(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function zM(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function WM(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function mIe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function pIe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function mo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(dJ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?mo("n",n,r):"("+mo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return dIe(e,t,r);if(t.indexOf("%")!==-1)return uIe(e,t,r);if(t.indexOf("E")!==-1)return lJ(t,r);if(t.charCodeAt(0)===36)return"$"+mo(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+om(c,t.length);if(t.match(/^[#?]+$/))return i=om(r,0),i==="0"&&(i=""),i.length>t.length?i:Ha(t.substr(0,t.length-i.length))+i;if(a=t.match(cJ))return fIe(a,c,u);if(t.match(/^#+0+$/))return u+om(c,t.length-t.indexOf("0"));if(a=t.match(uJ))return i=zM(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Ha(a[1])).replace(/\.$/,"."+Ha(a[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+Kn("0",Ha(a[1]).length-g.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+zM(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+cd(om(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+mo(e,t,-r):cd(""+(Math.floor(r)+mIe(r,a[1].length)))+"."+dl(WM(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return mo(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Jm(mo(e,t.replace(/[\\-]/g,""),r)),o=0,Jm(Jm(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(t.match(fJ))return i=mo(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),l=Gb(c,Math.pow(10,o)-1,!1),i=""+u,d=Gc("n",a[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=qb(l[2],o),d.length<a[4].length&&(d=Ha(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),l=Gb(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?SP(l[1],o)+a[2]+"/"+a[3]+qb(l[2],o):Kn(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=om(r,0),t.length<=i.length?i:Ha(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,m=t.length-i.length-f;return Ha(t.substr(0,f)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=WM(r,a[1].length),r<0?"-"+mo(e,t,-r):cd(pIe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?dl(0,3-v.length):"")+v})+"."+dl(o,a[1].length);switch(t){case"###,##0.00":return mo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=cd(om(c,0));return h!=="0"?u+h:"";case"###,###.00":return mo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return mo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function gIe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Gc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function vIe(e,t,r){var n=t.replace(oJ,""),i=t.length-n.length;return Gc(e,n,r*Math.pow(10,2*i))+Kn("%",i)}function hJ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+hJ(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Bl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(dJ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Bl("n",n,r):"("+Bl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return gIe(e,t,r);if(t.indexOf("%")!==-1)return vIe(e,t,r);if(t.indexOf("E")!==-1)return hJ(t,r);if(t.charCodeAt(0)===36)return"$"+Bl(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+dl(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:Ha(t.substr(0,t.length-i.length))+i;if(a=t.match(cJ))return hIe(a,c,u);if(t.match(/^#+0+$/))return u+dl(c,t.length-t.indexOf("0"));if(a=t.match(uJ))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ha(a[1])).replace(/\.$/,"."+Ha(a[1])),i=i.replace(/\.(\d*)$/,function(v,g){return"."+g+Kn("0",Ha(a[1]).length-g.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+cd(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Bl(e,t,-r):cd(""+r)+"."+Kn("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Bl(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Jm(Bl(e,t.replace(/[\\-]/g,""),r)),o=0,Jm(Jm(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<i.length?i.charAt(o++):v==="0"?"0":""}));if(t.match(fJ))return i=Bl(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),l=Gb(c,Math.pow(10,o)-1,!1),i=""+u,d=Gc("n",a[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=qb(l[2],o),d.length<a[4].length&&(d=Ha(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),l=Gb(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?SP(l[1],o)+a[2]+"/"+a[3]+qb(l[2],o):Kn(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:Ha(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=t.indexOf(".")-o,m=t.length-i.length-f;return Ha(t.substr(0,f)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Bl(e,t,-r):cd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?dl(0,3-v.length):"")+v})+"."+dl(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=cd(""+c);return h!=="0"?u+h:"";default:if(t.match(/\.[0#?]*$/))return Bl(e,t.slice(0,t.lastIndexOf(".")),r)+Ha(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Gc(e,t,r){return(r|0)===r?Bl(e,t,r):mo(e,t,r)}function xIe(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var mJ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function pJ(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Vb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(mJ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function yIe(e,t,r,n){for(var i=[],a="",o=0,l="",c="t",u,d,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Vb(e,o))throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(f=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++o;break;case"\\":var h=e.charAt(++o),v=h==="("||h===")"?h:"t";i[i.length]={t:v,v:h},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=h1(t,r,e.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=h1(t,r),u==null))return"";for(a=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),i[i.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=h1(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,m="h"):(g.t="t",++o),u==null&&g.t==="T")return"";i[i.length]=g,c=l;break;case"[":for(a=l;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(mJ)){if(u==null&&(u=h1(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",pJ(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=l;++o<e.length&&(l=e.charAt(o))==="0";)a+=l;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)a+=l;i[i.length]={t:"n",v:a};break;case"?":for(a=l;e.charAt(++o)===l;)a+=l;i[i.length]={t:l,v:a},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:l,v:l},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"t",v:l},++o;break}var x=0,y=0,w;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=m,c="h",x<1&&(x=1);break;case"s":(w=i[o].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":c==="s"&&(i[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[o].v.match(/[Hh]/)&&(x=1),x<2&&i[o].v.match(/[Mm]/)&&(x=2),x<3&&i[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var _="",b;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=cIe(i[o].t.charCodeAt(0),i[o].v,u,y),i[o].t="t";break;case"n":case"?":for(b=o+1;i[b]!=null&&((l=i[b].t)==="?"||l==="D"||(l===" "||l==="t")&&i[b+1]!=null&&(i[b+1].t==="?"||i[b+1].t==="t"&&i[b+1].v==="/")||i[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[b].v==="/"||i[b].v===" "&&i[b+1]!=null&&i[b+1].t=="?"));)i[o].v+=i[b].v,i[b]={v:"",t:";"},++b;_+=i[o].v,o=b-1;break;case"G":i[o].t="t",i[o].v=iE(t,r);break}var N="",C,S;if(_.length>0){_.charCodeAt(0)==40?(C=t<0&&_.charCodeAt(0)===45?-t:t,S=Gc("n",_,C)):(C=t<0&&n>1?-t:t,S=Gc("n",_,C),C<0&&i[0]&&i[0].t=="t"&&(S=S.substr(1),i[0].v="-"+i[0].v)),b=S.length-1;var A=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){A=o;break}var k=i.length;if(A===i.length&&S.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(b>=i[o].v.length-1?(b-=i[o].v.length,i[o].v=S.substr(b+1,i[o].v.length)):b<0?i[o].v="":(i[o].v=S.substr(0,b+1),b=-1),i[o].t="t",k=o);b>=0&&k<i.length&&(i[k].v=S.substr(0,b+1)+i[k].v)}else if(A!==i.length&&S.indexOf("E")===-1){for(b=S.indexOf(".")-1,o=A;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(d=i[o].v.indexOf(".")>-1&&o===A?i[o].v.indexOf(".")-1:i[o].v.length-1,N=i[o].v.substr(d+1);d>=0;--d)b>=0&&(i[o].v.charAt(d)==="0"||i[o].v.charAt(d)==="#")&&(N=S.charAt(b--)+N);i[o].v=N,i[o].t="t",k=o}for(b>=0&&k<i.length&&(i[k].v=S.substr(0,b+1)+i[k].v),b=S.indexOf(".")+1,o=A;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==A)){for(d=i[o].v.indexOf(".")>-1&&o===A?i[o].v.indexOf(".")+1:0,N=i[o].v.substr(0,d);d<i[o].v.length;++d)b<S.length&&(N+=S.charAt(b++));i[o].v=N,i[o].t="t",k=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(C=n>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=Gc(i[o].t,i[o].v,C),i[o].t="t");var R="";for(o=0;o!==i.length;++o)i[o]!=null&&(R+=i[o].v);return R}var HM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function qM(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function wIe(e,t){var r=xIe(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(HM),l=r[1].match(HM);return qM(t,o)?[n,r[0]]:qM(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,a]}function Rd(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Jn)[e],n==null&&(n=r.table&&r.table[UM[e]]||Jn[UM[e]]),n==null&&(n=tIe[e]||"General");break}if(Vb(n,0))return iE(t,r);t instanceof Date&&(t=sJ(t,r.date1904));var i=wIe(n,t);if(Vb(i[1]))return iE(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return yIe(i[1],t,r,i[0])}function gJ(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Jn[r]==null){t<0&&(t=r);continue}if(Jn[r]==e){t=r;break}}t<0&&(t=391)}return Jn[t]=e,t}function fj(e){for(var t=0;t!=392;++t)e[t]!==void 0&&gJ(e[t],t)}function hj(){Jn=eIe()}var vJ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function bIe(e){var t=typeof e=="number"?Jn[e]:e;return t=t.replace(vJ,"(\\d+)"),new RegExp("^"+t+"$")}function _Ie(e,t,r){var n=-1,i=-1,a=-1,o=-1,l=-1,c=-1;(t.match(vJ)||[]).forEach(function(f,m){var h=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":a=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:i=h;break}}),c>=0&&l==-1&&i>=0&&(l=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&i==-1&&a==-1?d:u+"T"+d}var jIe=function(){var e={};e.version="1.2.0";function t(){for(var S=0,A=new Array(256),k=0;k!=256;++k)S=k,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,A[k]=S;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(S){var A=0,k=0,R=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)O[R]=S[R];for(R=0;R!=256;++R)for(k=S[R],A=256+R;A<4096;A+=256)k=O[A]=k>>>8^S[k&255];var L=[];for(R=1;R!=16;++R)L[R-1]=typeof Int32Array<"u"?O.subarray(R*256,R*256+256):O.slice(R*256,R*256+256);return L}var i=n(r),a=i[0],o=i[1],l=i[2],c=i[3],u=i[4],d=i[5],f=i[6],m=i[7],h=i[8],v=i[9],g=i[10],x=i[11],y=i[12],w=i[13],_=i[14];function b(S,A){for(var k=A^-1,R=0,O=S.length;R<O;)k=k>>>8^r[(k^S.charCodeAt(R++))&255];return~k}function N(S,A){for(var k=A^-1,R=S.length-15,O=0;O<R;)k=_[S[O++]^k&255]^w[S[O++]^k>>8&255]^y[S[O++]^k>>16&255]^x[S[O++]^k>>>24]^g[S[O++]]^v[S[O++]]^h[S[O++]]^m[S[O++]]^f[S[O++]]^d[S[O++]]^u[S[O++]]^c[S[O++]]^l[S[O++]]^o[S[O++]]^a[S[O++]]^r[S[O++]];for(R+=15;O<R;)k=k>>>8^r[(k^S[O++])&255];return~k}function C(S,A){for(var k=A^-1,R=0,O=S.length,L=0,U=0;R<O;)L=S.charCodeAt(R++),L<128?k=k>>>8^r[(k^L)&255]:L<2048?(k=k>>>8^r[(k^(192|L>>6&31))&255],k=k>>>8^r[(k^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,U=S.charCodeAt(R++)&1023,k=k>>>8^r[(k^(240|L>>8&7))&255],k=k>>>8^r[(k^(128|L>>2&63))&255],k=k>>>8^r[(k^(128|U>>6&15|(L&3)<<4))&255],k=k>>>8^r[(k^(128|U&63))&255]):(k=k>>>8^r[(k^(224|L>>12&15))&255],k=k>>>8^r[(k^(128|L>>6&63))&255],k=k>>>8^r[(k^(128|L&63))&255]);return~k}return e.table=r,e.bstr=b,e.buf=N,e.str=C,e}(),an=function(){var t={};t.version="1.2.1";function r(J,de){for(var ae=J.split("/"),le=de.split("/"),fe=0,me=0,Te=Math.min(ae.length,le.length);fe<Te;++fe){if(me=ae[fe].length-le[fe].length)return me;if(ae[fe]!=le[fe])return ae[fe]<le[fe]?-1:1}return ae.length-le.length}function n(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:n(J.slice(0,-1));var de=J.lastIndexOf("/");return de===-1?J:J.slice(0,de+1)}function i(J){if(J.charAt(J.length-1)=="/")return i(J.slice(0,-1));var de=J.lastIndexOf("/");return de===-1?J:J.slice(de+1)}function a(J,de){typeof de=="string"&&(de=new Date(de));var ae=de.getHours();ae=ae<<6|de.getMinutes(),ae=ae<<5|de.getSeconds()>>>1,J.write_shift(2,ae);var le=de.getFullYear()-1980;le=le<<4|de.getMonth()+1,le=le<<5|de.getDate(),J.write_shift(2,le)}function o(J){var de=J.read_shift(2)&65535,ae=J.read_shift(2)&65535,le=new Date,fe=ae&31;ae>>>=5;var me=ae&15;ae>>>=4,le.setMilliseconds(0),le.setFullYear(ae+1980),le.setMonth(me-1),le.setDate(fe);var Te=de&31;de>>>=5;var Ue=de&63;return de>>>=6,le.setHours(de),le.setMinutes(Ue),le.setSeconds(Te<<1),le}function l(J){Is(J,0);for(var de={},ae=0;J.l<=J.length-4;){var le=J.read_shift(2),fe=J.read_shift(2),me=J.l+fe,Te={};switch(le){case 21589:ae=J.read_shift(1),ae&1&&(Te.mtime=J.read_shift(4)),fe>5&&(ae&2&&(Te.atime=J.read_shift(4)),ae&4&&(Te.ctime=J.read_shift(4))),Te.mtime&&(Te.mt=new Date(Te.mtime*1e3));break}J.l=me,de[le]=Te}return de}var c;function u(){return c||(c={})}function d(J,de){if(J[0]==80&&J[1]==75)return er(J,de);if((J[0]|32)==109&&(J[1]|32)==105)return Kt(J,de);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var ae=3,le=512,fe=0,me=0,Te=0,Ue=0,Oe=0,Ie=[],$e=J.slice(0,512);Is($e,0);var nt=f($e);switch(ae=nt[0],ae){case 3:le=512;break;case 4:le=4096;break;case 0:if(nt[1]==0)return er(J,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+ae)}le!==512&&($e=J.slice(0,le),Is($e,28));var dt=J.slice(0,le);m($e,ae);var xt=$e.read_shift(4,"i");if(ae===3&&xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+xt);$e.l+=4,Te=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),Ue=$e.read_shift(4,"i"),fe=$e.read_shift(4,"i"),Oe=$e.read_shift(4,"i"),me=$e.read_shift(4,"i");for(var lt=-1,gt=0;gt<109&&(lt=$e.read_shift(4,"i"),!(lt<0));++gt)Ie[gt]=lt;var nr=h(J,le);x(Oe,me,nr,le,Ie);var nn=w(nr,Te,Ie,le);nn[Te].name="!Directory",fe>0&&Ue!==U&&(nn[Ue].name="!MiniFAT"),nn[Ie[0]].name="!FAT",nn.fat_addrs=Ie,nn.ssz=le;var br={},$n=[],El=[],zo=[];_(Te,nn,nr,$n,fe,br,El,Ue),v(El,zo,$n),$n.shift();var Cl={FileIndex:El,FullPaths:zo};return de&&de.raw&&(Cl.raw={header:dt,sectors:nr}),Cl}function f(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(q,"Header Signature: "),J.l+=16;var de=J.read_shift(2,"u");return[J.read_shift(2,"u"),de]}function m(J,de){var ae=9;switch(J.l+=2,ae=J.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+ae);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+ae);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ae)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function h(J,de){for(var ae=Math.ceil(J.length/de)-1,le=[],fe=1;fe<ae;++fe)le[fe-1]=J.slice(fe*de,(fe+1)*de);return le[ae-1]=J.slice(ae*de),le}function v(J,de,ae){for(var le=0,fe=0,me=0,Te=0,Ue=0,Oe=ae.length,Ie=[],$e=[];le<Oe;++le)Ie[le]=$e[le]=le,de[le]=ae[le];for(;Ue<$e.length;++Ue)le=$e[Ue],fe=J[le].L,me=J[le].R,Te=J[le].C,Ie[le]===le&&(fe!==-1&&Ie[fe]!==fe&&(Ie[le]=Ie[fe]),me!==-1&&Ie[me]!==me&&(Ie[le]=Ie[me])),Te!==-1&&(Ie[Te]=le),fe!==-1&&le!=Ie[le]&&(Ie[fe]=Ie[le],$e.lastIndexOf(fe)<Ue&&$e.push(fe)),me!==-1&&le!=Ie[le]&&(Ie[me]=Ie[le],$e.lastIndexOf(me)<Ue&&$e.push(me));for(le=1;le<Oe;++le)Ie[le]===le&&(me!==-1&&Ie[me]!==me?Ie[le]=Ie[me]:fe!==-1&&Ie[fe]!==fe&&(Ie[le]=Ie[fe]));for(le=1;le<Oe;++le)if(J[le].type!==0){if(Ue=le,Ue!=Ie[Ue])do Ue=Ie[Ue],de[le]=de[Ue]+"/"+de[le];while(Ue!==0&&Ie[Ue]!==-1&&Ue!=Ie[Ue]);Ie[le]=-1}for(de[0]+="/",le=1;le<Oe;++le)J[le].type!==2&&(de[le]+="/")}function g(J,de,ae){for(var le=J.start,fe=J.size,me=[],Te=le;ae&&fe>0&&Te>=0;)me.push(de.slice(Te*L,Te*L+L)),fe-=L,Te=jf(ae,Te*4);return me.length===0?Ge(0):va(me).slice(0,J.size)}function x(J,de,ae,le,fe){var me=U;if(J===U){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var Te=ae[J],Ue=(le>>>2)-1;if(!Te)return;for(var Oe=0;Oe<Ue&&(me=jf(Te,Oe*4))!==U;++Oe)fe.push(me);x(jf(Te,le-4),de-1,ae,le,fe)}}function y(J,de,ae,le,fe){var me=[],Te=[];fe||(fe=[]);var Ue=le-1,Oe=0,Ie=0;for(Oe=de;Oe>=0;){fe[Oe]=!0,me[me.length]=Oe,Te.push(J[Oe]);var $e=ae[Math.floor(Oe*4/le)];if(Ie=Oe*4&Ue,le<4+Ie)throw new Error("FAT boundary crossed: "+Oe+" 4 "+le);if(!J[$e])break;Oe=jf(J[$e],Ie)}return{nodes:me,data:QM([Te])}}function w(J,de,ae,le){var fe=J.length,me=[],Te=[],Ue=[],Oe=[],Ie=le-1,$e=0,nt=0,dt=0,xt=0;for($e=0;$e<fe;++$e)if(Ue=[],dt=$e+de,dt>=fe&&(dt-=fe),!Te[dt]){Oe=[];var lt=[];for(nt=dt;nt>=0;){lt[nt]=!0,Te[nt]=!0,Ue[Ue.length]=nt,Oe.push(J[nt]);var gt=ae[Math.floor(nt*4/le)];if(xt=nt*4&Ie,le<4+xt)throw new Error("FAT boundary crossed: "+nt+" 4 "+le);if(!J[gt]||(nt=jf(J[gt],xt),lt[nt]))break}me[dt]={nodes:Ue,data:QM([Oe])}}return me}function _(J,de,ae,le,fe,me,Te,Ue){for(var Oe=0,Ie=le.length?2:0,$e=de[J].data,nt=0,dt=0,xt;nt<$e.length;nt+=128){var lt=$e.slice(nt,nt+128);Is(lt,64),dt=lt.read_shift(2),xt=PP(lt,0,dt-Ie),le.push(xt);var gt={name:xt,type:lt.read_shift(1),color:lt.read_shift(1),L:lt.read_shift(4,"i"),R:lt.read_shift(4,"i"),C:lt.read_shift(4,"i"),clsid:lt.read_shift(16),state:lt.read_shift(4,"i"),start:0,size:0},nr=lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2);nr!==0&&(gt.ct=b(lt,lt.l-8));var nn=lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2);nn!==0&&(gt.mt=b(lt,lt.l-8)),gt.start=lt.read_shift(4,"i"),gt.size=lt.read_shift(4,"i"),gt.size<0&&gt.start<0&&(gt.size=gt.type=0,gt.start=U,gt.name=""),gt.type===5?(Oe=gt.start,fe>0&&Oe!==U&&(de[Oe].name="!StreamData")):gt.size>=4096?(gt.storage="fat",de[gt.start]===void 0&&(de[gt.start]=y(ae,gt.start,de.fat_addrs,de.ssz)),de[gt.start].name=gt.name,gt.content=de[gt.start].data.slice(0,gt.size)):(gt.storage="minifat",gt.size<0?gt.size=0:Oe!==U&&gt.start!==U&&de[Oe]&&(gt.content=g(gt,de[Oe].data,(de[Ue]||{}).data))),gt.content&&Is(gt.content,0),me[xt]=gt,Te.push(gt)}}function b(J,de){return new Date((Ms(J,de+4)/1e7*Math.pow(2,32)+Ms(J,de)/1e7-11644473600)*1e3)}function N(J,de){return u(),d(c.readFileSync(J),de)}function C(J,de){var ae=de&&de.type;switch(ae||Fr&&Buffer.isBuffer(J)&&(ae="buffer"),ae||"base64"){case"file":return N(J,de);case"base64":return d(cl(uu(J)),de);case"binary":return d(cl(J),de)}return d(J,de)}function S(J,de){var ae=de||{},le=ae.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=le+"/",J.FileIndex[0]={name:le,type:5}),ae.CLSID&&(J.FileIndex[0].clsid=ae.CLSID),A(J)}function A(J){var de="Sh33tJ5";if(!an.find(J,"/"+de)){var ae=Ge(4);ae[0]=55,ae[1]=ae[3]=50,ae[2]=54,J.FileIndex.push({name:de,type:2,content:ae,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+de),k(J)}}function k(J,de){S(J);for(var ae=!1,le=!1,fe=J.FullPaths.length-1;fe>=0;--fe){var me=J.FileIndex[fe];switch(me.type){case 0:le?ae=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:le=!0,isNaN(me.R*me.L*me.C)&&(ae=!0),me.R>-1&&me.L>-1&&me.R==me.L&&(ae=!0);break;default:ae=!0;break}}if(!(!ae&&!de)){var Te=new Date(1987,1,19),Ue=0,Oe=Object.create?Object.create(null):{},Ie=[];for(fe=0;fe<J.FullPaths.length;++fe)Oe[J.FullPaths[fe]]=!0,J.FileIndex[fe].type!==0&&Ie.push([J.FullPaths[fe],J.FileIndex[fe]]);for(fe=0;fe<Ie.length;++fe){var $e=n(Ie[fe][0]);le=Oe[$e],le||(Ie.push([$e,{name:i($e).replace("/",""),type:1,clsid:ie,ct:Te,mt:Te,content:null}]),Oe[$e]=!0)}for(Ie.sort(function(xt,lt){return r(xt[0],lt[0])}),J.FullPaths=[],J.FileIndex=[],fe=0;fe<Ie.length;++fe)J.FullPaths[fe]=Ie[fe][0],J.FileIndex[fe]=Ie[fe][1];for(fe=0;fe<Ie.length;++fe){var nt=J.FileIndex[fe],dt=J.FullPaths[fe];if(nt.name=i(dt).replace("/",""),nt.L=nt.R=nt.C=-(nt.color=1),nt.size=nt.content?nt.content.length:0,nt.start=0,nt.clsid=nt.clsid||ie,fe===0)nt.C=Ie.length>1?1:-1,nt.size=0,nt.type=5;else if(dt.slice(-1)=="/"){for(Ue=fe+1;Ue<Ie.length&&n(J.FullPaths[Ue])!=dt;++Ue);for(nt.C=Ue>=Ie.length?-1:Ue,Ue=fe+1;Ue<Ie.length&&n(J.FullPaths[Ue])!=n(dt);++Ue);nt.R=Ue>=Ie.length?-1:Ue,nt.type=1}else n(J.FullPaths[fe+1]||"")==n(dt)&&(nt.R=fe+1),nt.type=2}}}function R(J,de){var ae=de||{};if(ae.fileType=="mad")return Bo(J,ae);switch(k(J),ae.fileType){case"zip":return Xt(J,ae)}var le=function(xt){for(var lt=0,gt=0,nr=0;nr<xt.FileIndex.length;++nr){var nn=xt.FileIndex[nr];if(nn.content){var br=nn.content.length;br>0&&(br<4096?lt+=br+63>>6:gt+=br+511>>9)}}for(var $n=xt.FullPaths.length+3>>2,El=lt+7>>3,zo=lt+127>>7,Cl=El+gt+$n+zo,io=Cl+127>>7,Su=io<=109?0:Math.ceil((io-109)/127);Cl+io+Su+127>>7>io;)Su=++io<=109?0:Math.ceil((io-109)/127);var di=[1,Su,io,zo,$n,gt,lt,0];return xt.FileIndex[0].size=lt<<6,di[7]=(xt.FileIndex[0].start=di[0]+di[1]+di[2]+di[3]+di[4]+di[5])+(di[6]+7>>3),di}(J),fe=Ge(le[7]<<9),me=0,Te=0;{for(me=0;me<8;++me)fe.write_shift(1,Q[me]);for(me=0;me<8;++me)fe.write_shift(2,0);for(fe.write_shift(2,62),fe.write_shift(2,3),fe.write_shift(2,65534),fe.write_shift(2,9),fe.write_shift(2,6),me=0;me<3;++me)fe.write_shift(2,0);for(fe.write_shift(4,0),fe.write_shift(4,le[2]),fe.write_shift(4,le[0]+le[1]+le[2]+le[3]-1),fe.write_shift(4,0),fe.write_shift(4,4096),fe.write_shift(4,le[3]?le[0]+le[1]+le[2]-1:U),fe.write_shift(4,le[3]),fe.write_shift(-4,le[1]?le[0]-1:U),fe.write_shift(4,le[1]),me=0;me<109;++me)fe.write_shift(-4,me<le[2]?le[1]+me:-1)}if(le[1])for(Te=0;Te<le[1];++Te){for(;me<236+Te*127;++me)fe.write_shift(-4,me<le[2]?le[1]+me:-1);fe.write_shift(-4,Te===le[1]-1?U:Te+1)}var Ue=function(xt){for(Te+=xt;me<Te-1;++me)fe.write_shift(-4,me+1);xt&&(++me,fe.write_shift(-4,U))};for(Te=me=0,Te+=le[1];me<Te;++me)fe.write_shift(-4,z.DIFSECT);for(Te+=le[2];me<Te;++me)fe.write_shift(-4,z.FATSECT);Ue(le[3]),Ue(le[4]);for(var Oe=0,Ie=0,$e=J.FileIndex[0];Oe<J.FileIndex.length;++Oe)$e=J.FileIndex[Oe],$e.content&&(Ie=$e.content.length,!(Ie<4096)&&($e.start=Te,Ue(Ie+511>>9)));for(Ue(le[6]+7>>3);fe.l&511;)fe.write_shift(-4,z.ENDOFCHAIN);for(Te=me=0,Oe=0;Oe<J.FileIndex.length;++Oe)$e=J.FileIndex[Oe],$e.content&&(Ie=$e.content.length,!(!Ie||Ie>=4096)&&($e.start=Te,Ue(Ie+63>>6)));for(;fe.l&511;)fe.write_shift(-4,z.ENDOFCHAIN);for(me=0;me<le[4]<<2;++me){var nt=J.FullPaths[me];if(!nt||nt.length===0){for(Oe=0;Oe<17;++Oe)fe.write_shift(4,0);for(Oe=0;Oe<3;++Oe)fe.write_shift(4,-1);for(Oe=0;Oe<12;++Oe)fe.write_shift(4,0);continue}$e=J.FileIndex[me],me===0&&($e.start=$e.size?$e.start-1:U);var dt=me===0&&ae.root||$e.name;if(Ie=2*(dt.length+1),fe.write_shift(64,dt,"utf16le"),fe.write_shift(2,Ie),fe.write_shift(1,$e.type),fe.write_shift(1,$e.color),fe.write_shift(-4,$e.L),fe.write_shift(-4,$e.R),fe.write_shift(-4,$e.C),$e.clsid)fe.write_shift(16,$e.clsid,"hex");else for(Oe=0;Oe<4;++Oe)fe.write_shift(4,0);fe.write_shift(4,$e.state||0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,$e.start),fe.write_shift(4,$e.size),fe.write_shift(4,0)}for(me=1;me<J.FileIndex.length;++me)if($e=J.FileIndex[me],$e.size>=4096)if(fe.l=$e.start+1<<9,Fr&&Buffer.isBuffer($e.content))$e.content.copy(fe,fe.l,0,$e.size),fe.l+=$e.size+511&-512;else{for(Oe=0;Oe<$e.size;++Oe)fe.write_shift(1,$e.content[Oe]);for(;Oe&511;++Oe)fe.write_shift(1,0)}for(me=1;me<J.FileIndex.length;++me)if($e=J.FileIndex[me],$e.size>0&&$e.size<4096)if(Fr&&Buffer.isBuffer($e.content))$e.content.copy(fe,fe.l,0,$e.size),fe.l+=$e.size+63&-64;else{for(Oe=0;Oe<$e.size;++Oe)fe.write_shift(1,$e.content[Oe]);for(;Oe&63;++Oe)fe.write_shift(1,0)}if(Fr)fe.l=fe.length;else for(;fe.l<fe.length;)fe.write_shift(1,0);return fe}function O(J,de){var ae=J.FullPaths.map(function(Oe){return Oe.toUpperCase()}),le=ae.map(function(Oe){var Ie=Oe.split("/");return Ie[Ie.length-(Oe.slice(-1)=="/"?2:1)]}),fe=!1;de.charCodeAt(0)===47?(fe=!0,de=ae[0].slice(0,-1)+de):fe=de.indexOf("/")!==-1;var me=de.toUpperCase(),Te=fe===!0?ae.indexOf(me):le.indexOf(me);if(Te!==-1)return J.FileIndex[Te];var Ue=!me.match(f1);for(me=me.replace(Ng,""),Ue&&(me=me.replace(f1,"!")),Te=0;Te<ae.length;++Te)if((Ue?ae[Te].replace(f1,"!"):ae[Te]).replace(Ng,"")==me||(Ue?le[Te].replace(f1,"!"):le[Te]).replace(Ng,"")==me)return J.FileIndex[Te];return null}var L=64,U=-2,q="d0cf11e0a1b11ae1",Q=[208,207,17,224,161,177,26,225],ie="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(J,de,ae){u();var le=R(J,ae);c.writeFileSync(de,le)}function X(J){for(var de=new Array(J.length),ae=0;ae<J.length;++ae)de[ae]=String.fromCharCode(J[ae]);return de.join("")}function pe(J,de){var ae=R(J,de);switch(de&&de.type||"buffer"){case"file":return u(),c.writeFileSync(de.filename,ae),ae;case"binary":return typeof ae=="string"?ae:X(ae);case"base64":return Ev(typeof ae=="string"?ae:X(ae));case"buffer":if(Fr)return Buffer.isBuffer(ae)?ae:ju(ae);case"array":return typeof ae=="string"?cl(ae):ae}return ae}var xe;function D(J){try{var de=J.InflateRaw,ae=new de;if(ae._processChunk(new Uint8Array([3,0]),ae._finishFlushFlag),ae.bytesRead)xe=J;else throw new Error("zlib does not expose bytesRead")}catch(le){console.error("cannot use native zlib: "+(le.message||le))}}function M(J,de){if(!xe)return wr(J,de);var ae=xe.InflateRaw,le=new ae,fe=le._processChunk(J.slice(J.l),le._finishFlushFlag);return J.l+=le.bytesRead,fe}function T(J){return xe?xe.deflateRawSync(J):Ve(J)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],W=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function te(J){var de=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(de>>16|de>>8|de)&255}for(var Y=typeof Uint8Array<"u",oe=Y?new Uint8Array(256):[],we=0;we<256;++we)oe[we]=te(we);function ve(J,de){var ae=oe[J&255];return de<=8?ae>>>8-de:(ae=ae<<8|oe[J>>8&255],de<=16?ae>>>16-de:(ae=ae<<8|oe[J>>16&255],ae>>>24-de))}function He(J,de){var ae=de&7,le=de>>>3;return(J[le]|(ae<=6?0:J[le+1]<<8))>>>ae&3}function ze(J,de){var ae=de&7,le=de>>>3;return(J[le]|(ae<=5?0:J[le+1]<<8))>>>ae&7}function ne(J,de){var ae=de&7,le=de>>>3;return(J[le]|(ae<=4?0:J[le+1]<<8))>>>ae&15}function Be(J,de){var ae=de&7,le=de>>>3;return(J[le]|(ae<=3?0:J[le+1]<<8))>>>ae&31}function qe(J,de){var ae=de&7,le=de>>>3;return(J[le]|(ae<=1?0:J[le+1]<<8))>>>ae&127}function rt(J,de,ae){var le=de&7,fe=de>>>3,me=(1<<ae)-1,Te=J[fe]>>>le;return ae<8-le||(Te|=J[fe+1]<<8-le,ae<16-le)||(Te|=J[fe+2]<<16-le,ae<24-le)||(Te|=J[fe+3]<<24-le),Te&me}function Pe(J,de,ae){var le=de&7,fe=de>>>3;return le<=5?J[fe]|=(ae&7)<<le:(J[fe]|=ae<<le&255,J[fe+1]=(ae&7)>>8-le),de+3}function ct(J,de,ae){var le=de&7,fe=de>>>3;return ae=(ae&1)<<le,J[fe]|=ae,de+1}function at(J,de,ae){var le=de&7,fe=de>>>3;return ae<<=le,J[fe]|=ae&255,ae>>>=8,J[fe+1]=ae,de+8}function Rt(J,de,ae){var le=de&7,fe=de>>>3;return ae<<=le,J[fe]|=ae&255,ae>>>=8,J[fe+1]=ae&255,J[fe+2]=ae>>>8,de+16}function It(J,de){var ae=J.length,le=2*ae>de?2*ae:de+5,fe=0;if(ae>=de)return J;if(Fr){var me=FM(le);if(J.copy)J.copy(me);else for(;fe<J.length;++fe)me[fe]=J[fe];return me}else if(Y){var Te=new Uint8Array(le);if(Te.set)Te.set(J);else for(;fe<ae;++fe)Te[fe]=J[fe];return Te}return J.length=le,J}function Zt(J){for(var de=new Array(J),ae=0;ae<J;++ae)de[ae]=0;return de}function or(J,de,ae){var le=1,fe=0,me=0,Te=0,Ue=0,Oe=J.length,Ie=Y?new Uint16Array(32):Zt(32);for(me=0;me<32;++me)Ie[me]=0;for(me=Oe;me<ae;++me)J[me]=0;Oe=J.length;var $e=Y?new Uint16Array(Oe):Zt(Oe);for(me=0;me<Oe;++me)Ie[fe=J[me]]++,le<fe&&(le=fe),$e[me]=0;for(Ie[0]=0,me=1;me<=le;++me)Ie[me+16]=Ue=Ue+Ie[me-1]<<1;for(me=0;me<Oe;++me)Ue=J[me],Ue!=0&&($e[me]=Ie[Ue+16]++);var nt=0;for(me=0;me<Oe;++me)if(nt=J[me],nt!=0)for(Ue=ve($e[me],le)>>le-nt,Te=(1<<le+4-nt)-1;Te>=0;--Te)de[Ue|Te<<nt]=nt&15|me<<4;return le}var Yt=Y?new Uint16Array(512):Zt(512),dr=Y?new Uint16Array(32):Zt(32);if(!Y){for(var rr=0;rr<512;++rr)Yt[rr]=0;for(rr=0;rr<32;++rr)dr[rr]=0}(function(){for(var J=[],de=0;de<32;de++)J.push(5);or(J,dr,32);var ae=[];for(de=0;de<=143;de++)ae.push(8);for(;de<=255;de++)ae.push(9);for(;de<=279;de++)ae.push(7);for(;de<=287;de++)ae.push(8);or(ae,Yt,288)})();var ye=function(){for(var de=Y?new Uint8Array(32768):[],ae=0,le=0;ae<W.length-1;++ae)for(;le<W[ae+1];++le)de[le]=ae;for(;le<32768;++le)de[le]=29;var fe=Y?new Uint8Array(259):[];for(ae=0,le=0;ae<F.length-1;++ae)for(;le<F[ae+1];++le)fe[le]=ae;function me(Ue,Oe){for(var Ie=0;Ie<Ue.length;){var $e=Math.min(65535,Ue.length-Ie),nt=Ie+$e==Ue.length;for(Oe.write_shift(1,+nt),Oe.write_shift(2,$e),Oe.write_shift(2,~$e&65535);$e-- >0;)Oe[Oe.l++]=Ue[Ie++]}return Oe.l}function Te(Ue,Oe){for(var Ie=0,$e=0,nt=Y?new Uint16Array(32768):[];$e<Ue.length;){var dt=Math.min(65535,Ue.length-$e);if(dt<10){for(Ie=Pe(Oe,Ie,+($e+dt==Ue.length)),Ie&7&&(Ie+=8-(Ie&7)),Oe.l=Ie/8|0,Oe.write_shift(2,dt),Oe.write_shift(2,~dt&65535);dt-- >0;)Oe[Oe.l++]=Ue[$e++];Ie=Oe.l*8;continue}Ie=Pe(Oe,Ie,+($e+dt==Ue.length)+2);for(var xt=0;dt-- >0;){var lt=Ue[$e];xt=(xt<<5^lt)&32767;var gt=-1,nr=0;if((gt=nt[xt])&&(gt|=$e&-32768,gt>$e&&(gt-=32768),gt<$e))for(;Ue[gt+nr]==Ue[$e+nr]&&nr<250;)++nr;if(nr>2){lt=fe[nr],lt<=22?Ie=at(Oe,Ie,oe[lt+1]>>1)-1:(at(Oe,Ie,3),Ie+=5,at(Oe,Ie,oe[lt-23]>>5),Ie+=3);var nn=lt<8?0:lt-4>>2;nn>0&&(Rt(Oe,Ie,nr-F[lt]),Ie+=nn),lt=de[$e-gt],Ie=at(Oe,Ie,oe[lt]>>3),Ie-=3;var br=lt<4?0:lt-2>>1;br>0&&(Rt(Oe,Ie,$e-gt-W[lt]),Ie+=br);for(var $n=0;$n<nr;++$n)nt[xt]=$e&32767,xt=(xt<<5^Ue[$e])&32767,++$e;dt-=nr-1}else lt<=143?lt=lt+48:Ie=ct(Oe,Ie,1),Ie=at(Oe,Ie,oe[lt]),nt[xt]=$e&32767,++$e}Ie=at(Oe,Ie,0)-1}return Oe.l=(Ie+7)/8|0,Oe.l}return function(Oe,Ie){return Oe.length<8?me(Oe,Ie):Te(Oe,Ie)}}();function Ve(J){var de=Ge(50+Math.floor(J.length*1.1)),ae=ye(J,de);return de.slice(0,ae)}var tt=Y?new Uint16Array(32768):Zt(32768),Qt=Y?new Uint16Array(32768):Zt(32768),Dt=Y?new Uint16Array(128):Zt(128),Vt=1,Bt=1;function Ar(J,de){var ae=Be(J,de)+257;de+=5;var le=Be(J,de)+1;de+=5;var fe=ne(J,de)+4;de+=4;for(var me=0,Te=Y?new Uint8Array(19):Zt(19),Ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Oe=1,Ie=Y?new Uint8Array(8):Zt(8),$e=Y?new Uint8Array(8):Zt(8),nt=Te.length,dt=0;dt<fe;++dt)Te[V[dt]]=me=ze(J,de),Oe<me&&(Oe=me),Ie[me]++,de+=3;var xt=0;for(Ie[0]=0,dt=1;dt<=Oe;++dt)$e[dt]=xt=xt+Ie[dt-1]<<1;for(dt=0;dt<nt;++dt)(xt=Te[dt])!=0&&(Ue[dt]=$e[xt]++);var lt=0;for(dt=0;dt<nt;++dt)if(lt=Te[dt],lt!=0){xt=oe[Ue[dt]]>>8-lt;for(var gt=(1<<7-lt)-1;gt>=0;--gt)Dt[xt|gt<<lt]=lt&7|dt<<3}var nr=[];for(Oe=1;nr.length<ae+le;)switch(xt=Dt[qe(J,de)],de+=xt&7,xt>>>=3){case 16:for(me=3+He(J,de),de+=2,xt=nr[nr.length-1];me-- >0;)nr.push(xt);break;case 17:for(me=3+ze(J,de),de+=3;me-- >0;)nr.push(0);break;case 18:for(me=11+qe(J,de),de+=7;me-- >0;)nr.push(0);break;default:nr.push(xt),Oe<xt&&(Oe=xt);break}var nn=nr.slice(0,ae),br=nr.slice(ae);for(dt=ae;dt<286;++dt)nn[dt]=0;for(dt=le;dt<30;++dt)br[dt]=0;return Vt=or(nn,tt,286),Bt=or(br,Qt,30),de}function yt(J,de){if(J[0]==3&&!(J[1]&3))return[ch(de),2];for(var ae=0,le=0,fe=FM(de||1<<18),me=0,Te=fe.length>>>0,Ue=0,Oe=0;!(le&1);){if(le=ze(J,ae),ae+=3,le>>>1)le>>1==1?(Ue=9,Oe=5):(ae=Ar(J,ae),Ue=Vt,Oe=Bt);else{ae&7&&(ae+=8-(ae&7));var Ie=J[ae>>>3]|J[(ae>>>3)+1]<<8;if(ae+=32,Ie>0)for(!de&&Te<me+Ie&&(fe=It(fe,me+Ie),Te=fe.length);Ie-- >0;)fe[me++]=J[ae>>>3],ae+=8;continue}for(;;){!de&&Te<me+32767&&(fe=It(fe,me+32767),Te=fe.length);var $e=rt(J,ae,Ue),nt=le>>>1==1?Yt[$e]:tt[$e];if(ae+=nt&15,nt>>>=4,!(nt>>>8&255))fe[me++]=nt;else{if(nt==256)break;nt-=257;var dt=nt<8?0:nt-4>>2;dt>5&&(dt=0);var xt=me+F[nt];dt>0&&(xt+=rt(J,ae,dt),ae+=dt),$e=rt(J,ae,Oe),nt=le>>>1==1?dr[$e]:Qt[$e],ae+=nt&15,nt>>>=4;var lt=nt<4?0:nt-2>>1,gt=W[nt];for(lt>0&&(gt+=rt(J,ae,lt),ae+=lt),!de&&Te<xt&&(fe=It(fe,xt+100),Te=fe.length);me<xt;)fe[me]=fe[me-gt],++me}}}return de?[fe,ae+7>>>3]:[fe.slice(0,me),ae+7>>>3]}function wr(J,de){var ae=J.slice(J.l||0),le=yt(ae,de);return J.l+=le[1],le[0]}function Gt(J,de){if(J)typeof console<"u"&&console.error(de);else throw new Error(de)}function er(J,de){var ae=J;Is(ae,0);var le=[],fe=[],me={FileIndex:le,FullPaths:fe};S(me,{root:de.root});for(var Te=ae.length-4;(ae[Te]!=80||ae[Te+1]!=75||ae[Te+2]!=5||ae[Te+3]!=6)&&Te>=0;)--Te;ae.l=Te+4,ae.l+=4;var Ue=ae.read_shift(2);ae.l+=6;var Oe=ae.read_shift(4);for(ae.l=Oe,Te=0;Te<Ue;++Te){ae.l+=20;var Ie=ae.read_shift(4),$e=ae.read_shift(4),nt=ae.read_shift(2),dt=ae.read_shift(2),xt=ae.read_shift(2);ae.l+=8;var lt=ae.read_shift(4),gt=l(ae.slice(ae.l+nt,ae.l+nt+dt));ae.l+=nt+dt+xt;var nr=ae.l;ae.l=lt+4,zr(ae,Ie,$e,me,gt),ae.l=nr}return me}function zr(J,de,ae,le,fe){J.l+=2;var me=J.read_shift(2),Te=J.read_shift(2),Ue=o(J);if(me&8257)throw new Error("Unsupported ZIP encryption");for(var Oe=J.read_shift(4),Ie=J.read_shift(4),$e=J.read_shift(4),nt=J.read_shift(2),dt=J.read_shift(2),xt="",lt=0;lt<nt;++lt)xt+=String.fromCharCode(J[J.l++]);if(dt){var gt=l(J.slice(J.l,J.l+dt));(gt[21589]||{}).mt&&(Ue=gt[21589].mt),((fe||{})[21589]||{}).mt&&(Ue=fe[21589].mt)}J.l+=dt;var nr=J.slice(J.l,J.l+Ie);switch(Te){case 8:nr=M(J,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Te)}var nn=!1;me&8&&(Oe=J.read_shift(4),Oe==134695760&&(Oe=J.read_shift(4),nn=!0),Ie=J.read_shift(4),$e=J.read_shift(4)),Ie!=de&&Gt(nn,"Bad compressed size: "+de+" != "+Ie),$e!=ae&&Gt(nn,"Bad uncompressed size: "+ae+" != "+$e),ja(le,xt,nr,{unsafe:!0,mt:Ue})}function Xt(J,de){var ae=de||{},le=[],fe=[],me=Ge(1),Te=ae.compression?8:0,Ue=0,Oe=0,Ie=0,$e=0,nt=0,dt=J.FullPaths[0],xt=dt,lt=J.FileIndex[0],gt=[],nr=0;for(Oe=1;Oe<J.FullPaths.length;++Oe)if(xt=J.FullPaths[Oe].slice(dt.length),lt=J.FileIndex[Oe],!(!lt.size||!lt.content||xt=="Sh33tJ5")){var nn=$e,br=Ge(xt.length);for(Ie=0;Ie<xt.length;++Ie)br.write_shift(1,xt.charCodeAt(Ie)&127);br=br.slice(0,br.l),gt[nt]=jIe.buf(lt.content,0);var $n=lt.content;Te==8&&($n=T($n)),me=Ge(30),me.write_shift(4,67324752),me.write_shift(2,20),me.write_shift(2,Ue),me.write_shift(2,Te),lt.mt?a(me,lt.mt):me.write_shift(4,0),me.write_shift(-4,gt[nt]),me.write_shift(4,$n.length),me.write_shift(4,lt.content.length),me.write_shift(2,br.length),me.write_shift(2,0),$e+=me.length,le.push(me),$e+=br.length,le.push(br),$e+=$n.length,le.push($n),me=Ge(46),me.write_shift(4,33639248),me.write_shift(2,0),me.write_shift(2,20),me.write_shift(2,Ue),me.write_shift(2,Te),me.write_shift(4,0),me.write_shift(-4,gt[nt]),me.write_shift(4,$n.length),me.write_shift(4,lt.content.length),me.write_shift(2,br.length),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(4,0),me.write_shift(4,nn),nr+=me.l,fe.push(me),nr+=br.length,fe.push(br),++nt}return me=Ge(22),me.write_shift(4,101010256),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,nt),me.write_shift(2,nt),me.write_shift(4,nr),me.write_shift(4,$e),me.write_shift(2,0),va([va(le),va(fe),me])}var Ht={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Sr(J,de){if(J.ctype)return J.ctype;var ae=J.name||"",le=ae.match(/\.([^\.]+)$/);return le&&Ht[le[1]]||de&&(le=(ae=de).match(/[\.\\]([^\.\\])+$/),le&&Ht[le[1]])?Ht[le[1]]:"application/octet-stream"}function hc(J){for(var de=Ev(J),ae=[],le=0;le<de.length;le+=76)ae.push(de.slice(le,le+76));return ae.join(`\r
`)+`\r
`}function zi(J){var de=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ie){var $e=Ie.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ae=[],le=de.split(`\r
`),fe=0;fe<le.length;++fe){var me=le[fe];if(me.length==0){ae.push("");continue}for(var Te=0;Te<me.length;){var Ue=76,Oe=me.slice(Te,Te+Ue);Oe.charAt(Ue-1)=="="?Ue--:Oe.charAt(Ue-2)=="="?Ue-=2:Oe.charAt(Ue-3)=="="&&(Ue-=3),Oe=me.slice(Te,Te+Ue),Te+=Ue,Te<me.length&&(Oe+="="),ae.push(Oe)}}return ae.join(`\r
`)}function $o(J){for(var de=[],ae=0;ae<J.length;++ae){for(var le=J[ae];ae<=J.length&&le.charAt(le.length-1)=="=";)le=le.slice(0,le.length-1)+J[++ae];de.push(le)}for(var fe=0;fe<de.length;++fe)de[fe]=de[fe].replace(/[=][0-9A-Fa-f]{2}/g,function(me){return String.fromCharCode(parseInt(me.slice(1),16))});return cl(de.join(`\r
`))}function no(J,de,ae){for(var le="",fe="",me="",Te,Ue=0;Ue<10;++Ue){var Oe=de[Ue];if(!Oe||Oe.match(/^\s*$/))break;var Ie=Oe.match(/^(.*?):\s*([^\s].*)$/);if(Ie)switch(Ie[1].toLowerCase()){case"content-location":le=Ie[2].trim();break;case"content-type":me=Ie[2].trim();break;case"content-transfer-encoding":fe=Ie[2].trim();break}}switch(++Ue,fe.toLowerCase()){case"base64":Te=cl(uu(de.slice(Ue).join("")));break;case"quoted-printable":Te=$o(de.slice(Ue));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+fe)}var $e=ja(J,le.slice(ae.length),Te,{unsafe:!0});me&&($e.ctype=me)}function Kt(J,de){if(X(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ae=de&&de.root||"",le=(Fr&&Buffer.isBuffer(J)?J.toString("binary"):X(J)).split(`\r
`),fe=0,me="";for(fe=0;fe<le.length;++fe)if(me=le[fe],!!/^Content-Location:/i.test(me)&&(me=me.slice(me.indexOf("file")),ae||(ae=me.slice(0,me.lastIndexOf("/")+1)),me.slice(0,ae.length)!=ae))for(;ae.length>0&&(ae=ae.slice(0,ae.length-1),ae=ae.slice(0,ae.lastIndexOf("/")+1),me.slice(0,ae.length)!=ae););var Te=(le[1]||"").match(/boundary="(.*?)"/);if(!Te)throw new Error("MAD cannot find boundary");var Ue="--"+(Te[1]||""),Oe=[],Ie=[],$e={FileIndex:Oe,FullPaths:Ie};S($e);var nt,dt=0;for(fe=0;fe<le.length;++fe){var xt=le[fe];xt!==Ue&&xt!==Ue+"--"||(dt++&&no($e,le.slice(nt,fe),ae),nt=fe)}return $e}function Bo(J,de){var ae=de||{},le=ae.boundary||"SheetJS";le="------="+le;for(var fe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+le.slice(2)+'"',"","",""],me=J.FullPaths[0],Te=me,Ue=J.FileIndex[0],Oe=1;Oe<J.FullPaths.length;++Oe)if(Te=J.FullPaths[Oe].slice(me.length),Ue=J.FileIndex[Oe],!(!Ue.size||!Ue.content||Te=="Sh33tJ5")){Te=Te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(nr){return"_x"+nr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(nr){return"_u"+nr.charCodeAt(0).toString(16)+"_"});for(var Ie=Ue.content,$e=Fr&&Buffer.isBuffer(Ie)?Ie.toString("binary"):X(Ie),nt=0,dt=Math.min(1024,$e.length),xt=0,lt=0;lt<=dt;++lt)(xt=$e.charCodeAt(lt))>=32&&xt<128&&++nt;var gt=nt>=dt*4/5;fe.push(le),fe.push("Content-Location: "+(ae.root||"file:///C:/SheetJS/")+Te),fe.push("Content-Transfer-Encoding: "+(gt?"quoted-printable":"base64")),fe.push("Content-Type: "+Sr(Ue,Te)),fe.push(""),fe.push(gt?zi($e):hc($e))}return fe.push(le+`--\r
`),fe.join(`\r
`)}function Uo(J){var de={};return S(de,J),de}function ja(J,de,ae,le){var fe=le&&le.unsafe;fe||S(J);var me=!fe&&an.find(J,de);if(!me){var Te=J.FullPaths[0];de.slice(0,Te.length)==Te?Te=de:(Te.slice(-1)!="/"&&(Te+="/"),Te=(Te+de).replace("//","/")),me={name:i(de),type:2},J.FileIndex.push(me),J.FullPaths.push(Te),fe||an.utils.cfb_gc(J)}return me.content=ae,me.size=ae?ae.length:0,le&&(le.CLSID&&(me.clsid=le.CLSID),le.mt&&(me.mt=le.mt),le.ct&&(me.ct=le.ct)),me}function rs(J,de){S(J);var ae=an.find(J,de);if(ae){for(var le=0;le<J.FileIndex.length;++le)if(J.FileIndex[le]==ae)return J.FileIndex.splice(le,1),J.FullPaths.splice(le,1),!0}return!1}function kn(J,de,ae){S(J);var le=an.find(J,de);if(le){for(var fe=0;fe<J.FileIndex.length;++fe)if(J.FileIndex[fe]==le)return J.FileIndex[fe].name=i(ae),J.FullPaths[fe]=ae,!0}return!1}function ui(J){k(J,!0)}return t.find=O,t.read=C,t.parse=d,t.write=pe,t.writeFile=H,t.utils={cfb_new:Uo,cfb_add:ja,cfb_del:rs,cfb_mov:kn,cfb_gc:ui,ReadShift:Eg,CheckField:DJ,prep_blob:Is,bconcat:va,use_zlib:D,_deflateRaw:Ve,_inflateRaw:wr,consts:z},t}();function SIe(e){return typeof e=="string"?dj(e):Array.isArray(e)?XRe(e):e}function Sx(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=dj(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Av(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([SIe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=jx(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function _a(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function VM(e,t){for(var r=[],n=_a(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function kP(e){for(var t=[],r=_a(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function mj(e){for(var t=[],r=_a(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function NIe(e){for(var t=[],r=_a(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Kb=new Date(1899,11,30,0,0,0);function vs(e,t){var r=e.getTime(),n=Kb.getTime()+(e.getTimezoneOffset()-Kb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var xJ=new Date,kIe=Kb.getTime()+(xJ.getTimezoneOffset()-Kb.getTimezoneOffset())*6e4,GM=xJ.getTimezoneOffset();function yJ(e){var t=new Date;return t.setTime(e*24*60*60*1e3+kIe),t.getTimezoneOffset()!==GM&&t.setTime(t.getTime()+(t.getTimezoneOffset()-GM)*6e4),t}var KM=new Date("2017-02-19T19:06:09.000Z"),wJ=isNaN(KM.getFullYear())?new Date("2/19/17"):KM,EIe=wJ.getFullYear()==2017;function Xa(e,t){var r=new Date(e);if(EIe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(wJ.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function pj(e,t){if(Fr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function xs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=xs(e[r]));return t}function Kn(e,t){for(var r="";r.length<t;)r+=e;return r}function Kc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var CIe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Cv(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&CIe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function gr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Fr?n=ju(r):n=JRe(r),an.utils.cfb_add(e,t,n)}an.utils.cfb_add(e,t,r)}else e.file(t,r)}function EP(){return an.utils.cfb_new()}var Si=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,AIe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},CP=kP(AIe),AP=/[&<>'"]/g,PIe=/[\u0000-\u0008\u000b-\u001f]/g;function Xr(e){var t=e+"";return t.replace(AP,function(r){return CP[r]}).replace(PIe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function YM(e){return Xr(e).replace(/ /g,"_x0020_")}var bJ=/[\u0000-\u001f]/g;function TIe(e){var t=e+"";return t.replace(AP,function(r){return CP[r]}).replace(/\n/g,"<br/>").replace(bJ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function OIe(e){var t=e+"";return t.replace(AP,function(r){return CP[r]}).replace(bJ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function RIe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function IIe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function eN(e){for(var t="",r=0,n=0,i=0,a=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function XM(e){var t=ch(2*e.length),r,n,i=1,a=0,o=0,l;for(n=0;n<e.length;n+=i)i=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),i=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function JM(e){return ju(e,"binary").toString("utf8")}var m1="foo bar baz",kg=Fr&&(JM(m1)==eN(m1)&&JM||XM(m1)==eN(m1)&&XM)||eN,Av=Fr?function(e){return ju(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},DIe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),_J=/(^\s|\s$|\n)/;function xa(e,t){return"<"+e+(t.match(_J)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Pv(e){return _a(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ft(e,t,r){return"<"+e+(r!=null?Pv(r):"")+(t!=null?(t.match(_J)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function aE(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function LIe(e,t){switch(typeof e){case"string":var r=ft("vt:lpwstr",Xr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ft((e|0)==e?"vt:i4":"vt:r8",Xr(String(e)));case"boolean":return ft("vt:bool",e?"true":"false")}if(e instanceof Date)return ft("vt:filetime",aE(e));throw new Error("Unable to serialize "+e)}var Ki={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Zp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ls={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function MIe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function FIe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,o=n?-t:t;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var l=0;l<=5;++l,a/=256)e[r+l]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var ZM=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},QM=Fr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ju(t)})):ZM(e)}:ZM,eF=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(lg(e,i)));return n.join("").replace(Ng,"")},PP=Fr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ng,""):eF(e,t,r)}:eF,tF=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},jJ=Fr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):tF(e,t,r)}:tF,rF=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(gm(e,i)));return n.join("")},Nx=Fr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):rF(t,r,n)}:rF,SJ=function(e,t){var r=Ms(e,t);return r>0?Nx(e,t+4,t+4+r-1):""},NJ=SJ,kJ=function(e,t){var r=Ms(e,t);return r>0?Nx(e,t+4,t+4+r-1):""},EJ=kJ,CJ=function(e,t){var r=2*Ms(e,t);return r>0?Nx(e,t+4,t+4+r-1):""},AJ=CJ,PJ=function(t,r){var n=Ms(t,r);return n>0?PP(t,r+4,r+4+n):""},TJ=PJ,OJ=function(e,t){var r=Ms(e,t);return r>0?Nx(e,t+4,t+4+r):""},RJ=OJ,IJ=function(e,t){return MIe(e,t)},Yb=IJ,TP=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Fr&&(NJ=function(t,r){if(!Buffer.isBuffer(t))return SJ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},EJ=function(t,r){if(!Buffer.isBuffer(t))return kJ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},AJ=function(t,r){if(!Buffer.isBuffer(t))return CJ(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},TJ=function(t,r){if(!Buffer.isBuffer(t))return PJ(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},RJ=function(t,r){if(!Buffer.isBuffer(t))return OJ(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Yb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):IJ(t,r)},TP=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var gm=function(e,t){return e[t]},lg=function(e,t){return e[t+1]*256+e[t]},$Ie=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ms=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},jf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},BIe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Eg(e,t){var r="",n,i,a=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Fr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(lg(this,u)),u+=2;e*=2;break;case"utf8":r=Nx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=PP(this,this.l,this.l+e);break;case"wstr":return Eg.call(this,e,"dbcs");case"lpstr-ansi":r=NJ(this,this.l),e=4+Ms(this,this.l);break;case"lpstr-cp":r=EJ(this,this.l),e=4+Ms(this,this.l);break;case"lpwstr":r=AJ(this,this.l),e=4+2*Ms(this,this.l);break;case"lpp4":e=4+Ms(this,this.l),r=TJ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ms(this,this.l),r=RJ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=gm(this,this.l+e++))!==0;)a.push(d1(o));r=a.join("");break;case"_wstr":for(e=0,r="";(o=lg(this,this.l+e))!==0;)a.push(d1(o)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=gm(this,u),this.l=u+1,l=Eg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(d1(lg(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=gm(this,u),this.l=u+1,l=Eg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(d1(gm(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=gm(this,this.l),this.l++,n;case 2:return n=(t==="i"?$Ie:lg)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?jf:BIe)(this,this.l),this.l+=4,n):(i=Ms(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Yb(this,this.l):i=Yb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=jJ(this,this.l,e);break}}return this.l+=e,r}var UIe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},zIe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},WIe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function HIe(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)WIe(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,UIe(this,t,this.l);break;case 8:if(n=8,r==="f"){FIe(this,t,this.l);break}case 16:break;case-4:n=4,zIe(this,t,this.l);break}return this.l+=n,this}function DJ(e,t){var r=jJ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Is(e,t){e.l=t,e.read_shift=Eg,e.chk=DJ,e.write_shift=HIe}function oc(e,t){e.l+=t}function Ge(e){var t=ch(e);return Is(t,0),t}function ps(){var e=[],t=Fr?256:2048,r=function(u){var d=Ge(u);return Is(d,0),d},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},o=function(){return i(),va(e)},l=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:l,end:o,_bufs:e}}function Ze(e,t,r,n){var i=+t,a;if(!isNaN(i)){n||(n=M7e[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&TP(r)&&e.push(r)}}function Cg(e,t,r){var n=xs(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function nF(e,t,r){var n=xs(e);return n.s=Cg(n.s,t.s,r),n.e=Cg(n.e,t.s,r),n}function Ag(e,t){if(e.cRel&&e.c<0)for(e=xs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=xs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=rn(e);return!e.cRel&&e.cRel!=null&&(r=GIe(r)),!e.rRel&&e.rRel!=null&&(r=qIe(r)),r}function tN(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Da(e.s.c)+":"+(e.e.cRel?"":"$")+Da(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+wa(e.s.r)+":"+(e.e.rRel?"":"$")+wa(e.e.r):Ag(e.s,t.biff)+":"+Ag(e.e,t.biff)}function OP(e){return parseInt(VIe(e),10)-1}function wa(e){return""+(e+1)}function qIe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function VIe(e){return e.replace(/\$(\d+)$/,"$1")}function RP(e){for(var t=KIe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Da(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function GIe(e){return e.replace(/^([A-Z])/,"$$$1")}function KIe(e){return e.replace(/^\$([A-Z])/,"$1")}function YIe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xi(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function rn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Zs(e){var t=e.indexOf(":");return t==-1?{s:Xi(e),e:Xi(e)}:{s:Xi(e.slice(0,t)),e:Xi(e.slice(t+1))}}function _i(e,t){return typeof t>"u"||typeof t=="number"?_i(e.s,e.e):(typeof e!="string"&&(e=rn(e)),typeof t!="string"&&(t=rn(t)),e==t?e:e+":"+t)}function Nn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function iF(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Rd(e.z,r?vs(t):t)}catch{}try{return e.w=Rd((e.XF||{}).numFmtId||(r?14:0),r?vs(t):t)}catch{return""+t}}function du(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?kx[e.v]||e.v:t==null?iF(e,e.v):iF(e,t))}function Nh(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function LJ(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),o=0,l=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Xi(n.origin):n.origin;o=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=Nn(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var h={v:t[f][m]},v=o+f,g=l+m;if(u.s.r>v&&(u.s.r=v),u.s.c>g&&(u.s.c=g),u.e.r<v&&(u.e.r=v),u.e.c<g&&(u.e.c=g),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))h=t[f][m];else if(Array.isArray(h.v)&&(h.f=t[f][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Jn[14],n.cellDates?(h.t="d",h.w=Rd(h.z,vs(h.v))):(h.t="n",h.v=vs(h.v),h.w=Rd(h.z,h.v))):h.t="s";if(i)a[v]||(a[v]=[]),a[v][g]&&a[v][g].z&&(h.z=a[v][g].z),a[v][g]=h;else{var x=rn({c:g,r:v});a[x]&&a[x].z&&(h.z=a[x].z),a[x]=h}}}return u.s.c<1e7&&(a["!ref"]=_i(u)),a}function Qp(e,t){return LJ(null,e,t)}function XIe(e){return e.read_shift(4,"i")}function pl(e,t){return t||(t=Ge(4)),t.write_shift(4,e),t}function La(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ji(e,t){var r=!1;return t==null&&(r=!0,t=Ge(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function JIe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ZIe(e,t){return t||(t=Ge(4)),t.write_shift(2,0),t.write_shift(2,0),t}function IP(e,t){var r=e.l,n=e.read_shift(1),i=La(e),a=[],o={t:i,h:i};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)a.push(JIe(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function QIe(e,t){var r=!1;return t==null&&(r=!0,t=Ge(15+4*e.t.length)),t.write_shift(1,0),Ji(e.t,t),r?t.slice(0,t.l):t}var eDe=IP;function tDe(e,t){var r=!1;return t==null&&(r=!0,t=Ge(23+4*e.t.length)),t.write_shift(1,1),Ji(e.t,t),t.write_shift(4,1),ZIe({},t),r?t.slice(0,t.l):t}function Fo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function kh(e,t){return t==null&&(t=Ge(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Eh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Ch(e,t){return t==null&&(t=Ge(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var rDe=La,MJ=Ji;function DP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Xb(e,t){var r=!1;return t==null&&(r=!0,t=Ge(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var nDe=La,sE=DP,LP=Xb;function FJ(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?Yb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):jf(t,0)>>2;return r?i/100:i}function $J(e,t){t==null&&(t=Ge(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function BJ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function iDe(e,t){return t||(t=Ge(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Ah=BJ,e0=iDe;function t0(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function uh(e,t){return(t||Ge(8)).write_shift(8,e,"f")}function aDe(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=mDe[i];u&&(t.rgb=pF(u));break;case 2:t.rgb=pF([o,l,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function Jb(e,t){if(t||(t=Ge(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function sDe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function oDe(e,t){t||(t=Ge(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var UJ=2,Os=3,p1=11,Zb=19,g1=64,lDe=65,cDe=71,uDe=4108,dDe=4126,ga=80,aF={1:{n:"CodePage",t:UJ},2:{n:"Category",t:ga},3:{n:"PresentationFormat",t:ga},4:{n:"ByteCount",t:Os},5:{n:"LineCount",t:Os},6:{n:"ParagraphCount",t:Os},7:{n:"SlideCount",t:Os},8:{n:"NoteCount",t:Os},9:{n:"HiddenCount",t:Os},10:{n:"MultimediaClipCount",t:Os},11:{n:"ScaleCrop",t:p1},12:{n:"HeadingPairs",t:uDe},13:{n:"TitlesOfParts",t:dDe},14:{n:"Manager",t:ga},15:{n:"Company",t:ga},16:{n:"LinksUpToDate",t:p1},17:{n:"CharacterCount",t:Os},19:{n:"SharedDoc",t:p1},22:{n:"HyperlinksChanged",t:p1},23:{n:"AppVersion",t:Os,p:"version"},24:{n:"DigSig",t:lDe},26:{n:"ContentType",t:ga},27:{n:"ContentStatus",t:ga},28:{n:"Language",t:ga},29:{n:"Version",t:ga},255:{},2147483648:{n:"Locale",t:Zb},2147483651:{n:"Behavior",t:Zb},1919054434:{}},sF={1:{n:"CodePage",t:UJ},2:{n:"Title",t:ga},3:{n:"Subject",t:ga},4:{n:"Author",t:ga},5:{n:"Keywords",t:ga},6:{n:"Comments",t:ga},7:{n:"Template",t:ga},8:{n:"LastAuthor",t:ga},9:{n:"RevNumber",t:ga},10:{n:"EditTime",t:g1},11:{n:"LastPrinted",t:g1},12:{n:"CreatedDate",t:g1},13:{n:"ModifiedDate",t:g1},14:{n:"PageCount",t:Os},15:{n:"WordCount",t:Os},16:{n:"CharCount",t:Os},17:{n:"Thumbnail",t:cDe},18:{n:"Application",t:ga},19:{n:"DocSecurity",t:Os},255:{},2147483648:{n:"Locale",t:Zb},2147483651:{n:"Behavior",t:Zb},1919054434:{}};function fDe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var hDe=fDe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),mDe=xs(hDe),kx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},pDe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},v1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function zJ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function WJ(e,t){var r=NIe(pDe),n=[],i;n[n.length]=Si,n[n.length]=ft("Types",null,{xmlns:Ki.CT,"xmlns:xsd":Ki.xsd,"xmlns:xsi":Ki.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ft("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){e[c]&&e[c].length>0&&(i=e[c][0],n[n.length]=ft("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:v1[c][t.bookType]||v1[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ft("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:v1[c][t.bookType]||v1[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ft("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Dr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function HJ(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Zm(e){var t=[Si,ft("Relationships",null,{xmlns:Ki.RELS})];return _a(e["!id"]).forEach(function(r){t[t.length]=ft("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Gr(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[Dr.HLINK,Dr.XPATH,Dr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function gDe(e){var t=[Si];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function oF(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function vDe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function xDe(e){var t=[Si];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(oF(e[r][0],e[r][1])),t.push(vDe("",e[r][0]));return t.push(oF("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function qJ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Wb.version+"</meta:generator></office:meta></office:document-meta>"}var Bf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function rN(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=Xr(t),n[n.length]=r?ft(e,t,r):xa(e,t))}function VJ(e,t){var r=t||{},n=[Si,ft("cp:coreProperties",null,{"xmlns:cp":Ki.CORE_PROPS,"xmlns:dc":Ki.dc,"xmlns:dcterms":Ki.dcterms,"xmlns:dcmitype":Ki.dcmitype,"xmlns:xsi":Ki.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&rN("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:aE(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&rN("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:aE(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Bf.length;++a){var o=Bf[a],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&rN(o[0],l,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Qm=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],GJ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function KJ(e){var t=[],r=ft;return e||(e={}),e.Application="SheetJS",t[t.length]=Si,t[t.length]=ft("Properties",null,{xmlns:Ki.EXT_PROPS,"xmlns:vt":Ki.vt}),Qm.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Xr(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Xr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function YJ(e){var t=[Si,ft("Properties",null,{xmlns:Ki.CUST_PROPS,"xmlns:vt":Ki.vt})];if(!e)return t.join("");var r=1;return _a(e).forEach(function(i){++r,t[t.length]=ft("property",LIe(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Xr(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var lF={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function yDe(e,t){var r=[];return _a(lF).map(function(n){for(var i=0;i<Bf.length;++i)if(Bf[i][1]==n)return Bf[i];for(i=0;i<Qm.length;++i)if(Qm[i][1]==n)return Qm[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(xa(lF[n[1]]||n[1],i))}}),ft("DocumentProperties",r.join(""),{xmlns:Ls.o})}function wDe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&_a(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var o=0;o<Bf.length;++o)if(a==Bf[o][1])return;for(o=0;o<Qm.length;++o)if(a==Qm[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var l=e[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),i.push(ft(YM(a),l,{"dt:dt":c}))}}),t&&_a(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),i.push(ft(YM(a),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Ls.o+'">'+i.join("")+"</"+n+">"}function bDe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var o=Ge(8);return o.write_shift(4,n),o.write_shift(4,i),o}function cF(e,t){var r=Ge(4),n=Ge(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ge(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=bDe(t);break;case 31:case 80:for(n=Ge(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return va([r,n])}var XJ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function _De(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function uF(e,t,r){var n=Ge(8),i=[],a=[],o=8,l=0,c=Ge(8),u=Ge(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),i.push(u),o+=8+c.length,!t){u=Ge(8),u.write_shift(4,0),i.unshift(u);var d=[Ge(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Ge(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=va(d),a.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(XJ.indexOf(e[l][0])>-1||GJ.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],h=0;if(t){h=+t[e[l][0]];var v=r[h];if(v.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}c=cF(v.t,m)}else{var x=_De(m);x==-1&&(x=31,m=String(m)),c=cF(x,m)}a.push(c),u=Ge(8),u.write_shift(4,t?h:2+l),i.push(u),o+=8+c.length}var y=8*(a.length+1);for(l=0;l<a.length;++l)i[l].write_shift(4,y),y+=a[l].length;return n.write_shift(4,o),n.write_shift(4,a.length),va([n].concat(i).concat(a))}function dF(e,t,r,n,i,a){var o=Ge(i?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,an.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var c=uF(e,r,n);if(l.push(c),i){var u=uF(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+c.length),l.push(u)}return va(l)}function jDe(e,t){t||(t=Ge(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function SDe(e,t){return e.read_shift(t)===1}function qa(e,t){return t||(t=Ge(2)),t.write_shift(2,+!!e),t}function JJ(e){return e.read_shift(2,"u")}function go(e,t){return t||(t=Ge(2)),t.write_shift(2,e),t}function ZJ(e,t,r){return r||(r=Ge(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function QJ(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var o=n?e.read_shift(n,i):"";return o}function NDe(e){var t=e.t||"",r=Ge(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ge(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return va(i)}function kDe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function EDe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):kDe(e,n,r)}function CDe(e,t,r){if(r.biff>5)return EDe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function eZ(e,t,r){return r||(r=Ge(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function fF(e,t){t||(t=Ge(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function ADe(e){var t=Ge(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(a==28)n=n.slice(1),fF(n,t);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),a&8&&fF(i>-1?n.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function dh(e,t,r,n){return n||(n=Ge(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function PDe(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[i,a,o]}function TDe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function tZ(e,t){return t||(t=Ge(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function MP(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Ge(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function ODe(e,t){var r=!t||t.biff==8,n=Ge(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function RDe(e,t){var r=!t||t.biff>=8?2:1,n=Ge(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function IDe(e,t){var r=Ge(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=NDe(e[i]);var a=va([r].concat(n));return a.parts=[r.length].concat(n.map(function(o){return o.length})),a}function DDe(){var e=Ge(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function LDe(e){var t=Ge(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function MDe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,a=Ge(i);return a.write_shift(2,e.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function FDe(e,t,r,n){var i=Ge(10);return dh(e,t,n,i),i.write_shift(4,r),i}function $De(e,t,r,n,i){var a=!i||i.biff==8,o=Ge(8+ +a+(1+a)*r.length);return dh(e,t,n,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function BDe(e,t,r,n){var i=r&&r.biff==5;n||(n=Ge(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function UDe(e,t){var r=t.biff==8||!t.biff?4:2,n=Ge(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function hF(e,t,r,n){var i=r&&r.biff==5;n||(n=Ge(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function zDe(e){var t=Ge(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function WDe(e,t,r,n,i,a){var o=Ge(8);return dh(e,t,n,o),ZJ(r,a,o),o}function HDe(e,t,r,n){var i=Ge(14);return dh(e,t,n,i),uh(r,i),i}function qDe(e,t,r){if(r.biff<8)return VDe(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(PDe(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function VDe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=QJ(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function GDe(e){var t=Ge(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)tZ(e[r],t);return t}function KDe(e){var t=Ge(24),r=Xi(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return va([t,ADe(e[1])])}function YDe(e){var t=e[1].Tooltip,r=Ge(10+2*(t.length+1));r.write_shift(2,2048);var n=Xi(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function XDe(e){return e||(e=Ge(4)),e.write_shift(2,1),e.write_shift(2,1),e}function JDe(e,t,r){if(!r.cellStyles)return oc(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function ZDe(e,t){var r=Ge(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function QDe(e){for(var t=Ge(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function e8e(e,t,r){var n=Ge(15);return Cx(n,e,t),n.write_shift(8,r,"f"),n}function t8e(e,t,r){var n=Ge(9);return Cx(n,e,t),n.write_shift(2,r),n}var r8e=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=kP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=ch(1);switch(c.type){case"base64":d=cl(uu(l));break;case"binary":d=cl(l);break;case"buffer":case"array":d=l;break}Is(d,0);var f=d.read_shift(1),m=!!(f&136),h=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,x=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(x=d.read_shift(2));var y=d.read_shift(2),w=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(w=e[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var _=[],b={},N=Math.min(d.length,f==2?521:x-10-(h?264:0)),C=v?32:11;d.l<N&&d[d.l]!=13;)switch(b={},b.name=Hb.utils.decode(w,d.slice(d.l,d.l+C)).replace(/[\u0000\r\n].*$/g,""),d.l+=C,b.type=String.fromCharCode(d.read_shift(1)),f!=2&&!v&&(b.offset=d.read_shift(4)),b.len=d.read_shift(1),f==2&&(b.offset=d.read_shift(2)),b.dec=d.read_shift(1),b.name.length&&_.push(b),f!=2&&(d.l+=v?13:14),b.type){case"B":(!h||b.len!=8)&&c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var S=0,A=0;for(u[0]=[],A=0;A!=_.length;++A)u[0][A]=_[A].name;for(;g-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++S]=[],A=0,A=0;A!=_.length;++A){var k=d.slice(d.l,d.l+_[A].len);d.l+=_[A].len,Is(k,0);var R=Hb.utils.decode(w,k);switch(_[A].type){case"C":R.trim().length&&(u[S][A]=R.replace(/\s+$/,""));break;case"D":R.length===8?u[S][A]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):u[S][A]=R;break;case"F":u[S][A]=parseFloat(R.trim());break;case"+":case"I":u[S][A]=v?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":u[S][A]=!0;break;case"N":case"F":u[S][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][A]="##MEMO##"+(v?parseInt(R.trim(),10):k.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(u[S][A]=+R||0);break;case"@":u[S][A]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[S][A]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[S][A]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][A]=-k.read_shift(-8,"f");break;case"B":if(h&&_[A].len==8){u[S][A]=k.read_shift(8,"f");break}case"G":case"P":k.l+=_[A].len;break;case"0":if(_[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[A].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=_,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Qp(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function i(l,c){try{return Nh(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&kv(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=ps(),f=n2(l,{header:1,raw:!0,cellDates:!0}),m=f[0],h=f.slice(1),v=l["!cols"]||[],g=0,x=0,y=0,w=1;for(g=0;g<m.length;++g){if(((v[g]||{}).DBF||{}).name){m[g]=v[g].DBF.name,++y;continue}if(m[g]!=null){if(++y,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(x=0;x<1024;++x)if(m.indexOf(m[g]+"_"+x)==-1){m[g]+="_"+x;break}}}}var _=Nn(l["!ref"]),b=[],N=[],C=[];for(g=0;g<=_.e.c-_.s.c;++g){var S="",A="",k=0,R=[];for(x=0;x<h.length;++x)h[x][g]!=null&&R.push(h[x][g]);if(R.length==0||m[g]==null){b[g]="?";continue}for(x=0;x<R.length;++x){switch(typeof R[x]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=R[x]instanceof Date?"D":"C";break;default:A="C"}k=Math.max(k,String(R[x]).length),S=S&&S!=A?"C":A}k>250&&(k=250),A=((v[g]||{}).DBF||{}).type,A=="C"&&v[g].DBF.len>k&&(k=v[g].DBF.len),S=="B"&&A=="N"&&(S="N",C[g]=v[g].DBF.dec,k=v[g].DBF.len),N[g]=S=="C"||A=="N"?k:a[S]||0,w+=N[g],b[g]=S}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,h.length),O.write_shift(2,296+32*y),O.write_shift(2,w),g=0;g<4;++g)O.write_shift(4,0);for(O.write_shift(4,0|(+t[nJ]||3)<<8),g=0,x=0;g<m.length;++g)if(m[g]!=null){var L=d.next(32),U=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,U,"sbcs"),L.write_shift(1,b[g]=="?"?"C":b[g],"sbcs"),L.write_shift(4,x),L.write_shift(1,N[g]||a[b[g]]||0),L.write_shift(1,C[g]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),x+=N[g]||a[b[g]]||0}var q=d.next(264);for(q.write_shift(4,13),g=0;g<65;++g)q.write_shift(4,0);for(g=0;g<h.length;++g){var Q=d.next(w);for(Q.write_shift(1,0),x=0;x<m.length;++x)if(m[x]!=null)switch(b[x]){case"L":Q.write_shift(1,h[g][x]==null?63:h[g][x]?84:70);break;case"B":Q.write_shift(8,h[g][x]||0,"f");break;case"N":var ie="0";for(typeof h[g][x]=="number"&&(ie=h[g][x].toFixed(C[x]||0)),y=0;y<N[x]-ie.length;++y)Q.write_shift(1,32);Q.write_shift(1,ie,"sbcs");break;case"D":h[g][x]?(Q.write_shift(4,("0000"+h[g][x].getFullYear()).slice(-4),"sbcs"),Q.write_shift(2,("00"+(h[g][x].getMonth()+1)).slice(-2),"sbcs"),Q.write_shift(2,("00"+h[g][x].getDate()).slice(-2),"sbcs")):Q.write_shift(8,"00000000","sbcs");break;case"C":var z=String(h[g][x]!=null?h[g][x]:"").slice(0,N[x]);for(Q.write_shift(1,z,"sbcs"),y=0;y<N[x]-z.length;++y)Q.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:o}}(),n8e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+_a(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var v=e[h];return typeof v=="number"?MM(v):v},n=function(m,h,v){var g=h.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?m:MM(g)};e["|"]=254;function i(m,h){switch(h.type){case"base64":return a(uu(m),h);case"binary":return a(m,h);case"buffer":return a(Fr&&Buffer.isBuffer(m)?m.toString("binary"):jx(m),h);case"array":return a(pj(m),h)}throw new Error("Unrecognized type "+h.type)}function a(m,h){var v=m.split(/[\n\r]+/),g=-1,x=-1,y=0,w=0,_=[],b=[],N=null,C={},S=[],A=[],k=[],R=0,O;for(+h.codepage>=0&&kv(+h.codepage);y!==v.length;++y){R=0;var L=v[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=L.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),q=U[0],Q;if(L.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&b.push(L.slice(3).replace(/;;/g,";"));break;case"C":var ie=!1,z=!1,H=!1,X=!1,pe=-1,xe=-1;for(w=1;w<U.length;++w)switch(U[w].charAt(0)){case"A":break;case"X":x=parseInt(U[w].slice(1))-1,z=!0;break;case"Y":for(g=parseInt(U[w].slice(1))-1,z||(x=0),O=_.length;O<=g;++O)_[O]=[];break;case"K":Q=U[w].slice(1),Q.charAt(0)==='"'?Q=Q.slice(1,Q.length-1):Q==="TRUE"?Q=!0:Q==="FALSE"?Q=!1:isNaN(Kc(Q))?isNaN(Cv(Q).getDate())||(Q=Xa(Q)):(Q=Kc(Q),N!==null&&pJ(N)&&(Q=yJ(Q))),ie=!0;break;case"E":X=!0;var D=tLe(U[w].slice(1),{r:g,c:x});_[g][x]=[_[g][x],D];break;case"S":H=!0,_[g][x]=[_[g][x],"S5S"];break;case"G":break;case"R":pe=parseInt(U[w].slice(1))-1;break;case"C":xe=parseInt(U[w].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+L)}if(ie&&(_[g][x]&&_[g][x].length==2?_[g][x][0]=Q:_[g][x]=Q,N=null),H){if(X)throw new Error("SYLK shared formula cannot have own formula");var M=pe>-1&&_[pe][xe];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");_[g][x][1]=rLe(M[1],{r:g-pe,c:x-xe})}break;case"F":var T=0;for(w=1;w<U.length;++w)switch(U[w].charAt(0)){case"X":x=parseInt(U[w].slice(1))-1,++T;break;case"Y":for(g=parseInt(U[w].slice(1))-1,O=_.length;O<=g;++O)_[O]=[];break;case"M":R=parseInt(U[w].slice(1))/20;break;case"F":break;case"G":break;case"P":N=b[parseInt(U[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=U[w].slice(1).split(" "),O=parseInt(k[0],10);O<=parseInt(k[1],10);++O)R=parseInt(k[2],10),A[O-1]=R===0?{hidden:!0}:{wch:R},FP(A[O-1]);break;case"C":x=parseInt(U[w].slice(1))-1,A[x]||(A[x]={});break;case"R":g=parseInt(U[w].slice(1))-1,S[g]||(S[g]={}),R>0?(S[g].hpt=R,S[g].hpx=sZ(R)):R===0&&(S[g].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+L)}T<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+L)}}return S.length>0&&(C["!rows"]=S),A.length>0&&(C["!cols"]=A),h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),[_,C]}function o(m,h){var v=i(m,h),g=v[0],x=v[1],y=Qp(g,h);return _a(x).forEach(function(w){y[w]=x[w]}),y}function l(m,h){return Nh(o(m,h),h)}function c(m,h,v,g){var x="C;Y"+(v+1)+";X"+(g+1)+";K";switch(m.t){case"n":x+=m.v||0,m.f&&!m.F&&(x+=";E"+BP(m.f,{r:v,c:g}));break;case"b":x+=m.v?"TRUE":"FALSE";break;case"e":x+=m.w||m.v;break;case"d":x+='"'+(m.w||m.v)+'"';break;case"s":x+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(m,h){h.forEach(function(v,g){var x="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?x+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Qb(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=e2(v.wpx)),typeof v.wch=="number"&&(x+=Math.round(v.wch))),x.charAt(x.length-1)!=" "&&m.push(x)})}function d(m,h){h.forEach(function(v,g){var x="F;";v.hidden?x+="M0;":v.hpt?x+="M"+20*v.hpt+";":v.hpx&&(x+="M"+20*t2(v.hpx)+";"),x.length>2&&m.push(x+"R"+(g+1))})}function f(m,h){var v=["ID;PWXL;N;E"],g=[],x=Nn(m["!ref"]),y,w=Array.isArray(m),_=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),m["!cols"]&&u(v,m["!cols"]),m["!rows"]&&d(v,m["!rows"]),v.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var b=x.s.r;b<=x.e.r;++b)for(var N=x.s.c;N<=x.e.c;++N){var C=rn({r:b,c:N});y=w?(m[b]||[])[N]:m[C],!(!y||y.v==null&&(!y.f||y.F))&&g.push(c(y,m,b,N))}return v.join(_)+_+g.join(_)+_+"E"+_}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),i8e=function(){function e(a,o){switch(o.type){case"base64":return t(uu(a),o);case"binary":return t(a,o);case"buffer":return t(Fr&&Buffer.isBuffer(a)?a.toString("binary"):jx(a),o);case"array":return t(pj(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var l=a.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),h=m[0],v=m[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+h){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(Kc(v))?isNaN(Cv(v).getDate())?f[c][u]=v:f[c][u]=Xa(v):f[c][u]=Kc(v),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(a,o){return Qp(e(a,o),o)}function n(a,o){return Nh(r(a,o),o)}var i=function(){var a=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Nn(c["!ref"]),f,m=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var h=d.s.r;h<=d.e.r;++h){o(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var g=rn({r:h,c:v});if(f=m?(c[h]||[])[v]:c[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,x,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Rd(f.z||Jn[14],vs(Xa(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var y=`\r
`,w=u.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),rZ=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var h=f.split(`
`),v=-1,g=-1,x=0,y=[];x!==h.length;++x){var w=h[x].trim().split(":");if(w[0]==="cell"){var _=Xi(w[1]);if(y.length<=_.r)for(v=y.length;v<=_.r;++v)y[v]||(y[v]=[]);switch(v=_.r,g=_.c,w[2]){case"t":y[v][g]=e(w[3]);break;case"v":y[v][g]=+w[3];break;case"vtf":var b=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[v][g]=!!+w[4];break;default:y[v][g]=+w[4];break}w[2]=="vtf"&&(y[v][g]=[y[v][g],b])}}}return m&&m.sheetRows&&(y=y.slice(0,m.sheetRows)),y}function n(f,m){return Qp(r(f,m),m)}function i(f,m){return Nh(n(f,m),m)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],h=[],v,g="",x=Zs(f["!ref"]),y=Array.isArray(f),w=x.s.r;w<=x.e.r;++w)for(var _=x.s.c;_<=x.e.c;++_)if(g=rn({r:w,c:_}),v=y?(f[w]||[])[_]:f[g],!(!v||v.v==null||v.t==="z")){switch(h=["cell",g,"t"],v.t){case"s":case"str":h.push(t(v.v));break;case"n":v.f?(h[2]="vtf",h[3]="n",h[4]=v.v,h[5]=t(v.f)):(h[2]="v",h[3]=v.v);break;case"b":h[2]="vt"+(v.f?"f":"c"),h[3]="nl",h[4]=v.v?"1":"0",h[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var b=vs(Xa(v.v));h[2]="vtc",h[3]="nd",h[4]=""+b,h[5]=v.w||Rd(v.z||Jn[14],b);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[a,o,l,o,u(f),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}}(),a8e=function(){function e(d,f,m,h,v){v.raw?f[m][h]=d:d===""||(d==="TRUE"?f[m][h]=!0:d==="FALSE"?f[m][h]=!1:isNaN(Kc(d))?isNaN(Cv(d).getDate())?f[m][h]=d:f[m][h]=Xa(d):f[m][h]=Kc(d))}function t(d,f){var m=f||{},h=[];if(!d||d.length===0)return h;for(var v=d.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var x=10,y=0,w=0;w<=g;++w)y=v[w].indexOf(" "),y==-1?y=v[w].length:y++,x=Math.max(x,y);for(w=0;w<=g;++w){h[w]=[];var _=0;for(e(v[w].slice(0,x).trim(),h,w,_,m),_=1;_<=(v[w].length-x)/10+1;++_)e(v[w].slice(x+(_-1)*10,x+_*10).trim(),h,w,_,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var f={},m=!1,h=0,v=0;h<d.length;++h)(v=d.charCodeAt(h))==34?m=!m:!m&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h]);if(!v.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h])}return v.sort(function(g,x){return g[0]-x[0]||n[g[1]]-n[x[1]]}),r[v.pop()[1]]||44}function a(d,f){var m=f||{},h="",v=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(h=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(h=d.charAt(4),d=d.slice(6)):h=i(d.slice(0,1024)):m&&m.FS?h=m.FS:h=i(d.slice(0,1024));var x=0,y=0,w=0,_=0,b=0,N=h.charCodeAt(0),C=!1,S=0,A=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=m.dateNF!=null?bIe(m.dateNF):null;function R(){var O=d.slice(_,b),L={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)L.t="z";else if(m.raw)L.t="s",L.v=O;else if(O.trim().length===0)L.t="s",L.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(L.t="s",L.v=O.slice(2,-1).replace(/""/g,'"')):nLe(O)?(L.t="n",L.f=O.slice(1)):(L.t="s",L.v=O);else if(O=="TRUE")L.t="b",L.v=!0;else if(O=="FALSE")L.t="b",L.v=!1;else if(!isNaN(w=Kc(O)))L.t="n",m.cellText!==!1&&(L.w=O),L.v=w;else if(!isNaN(Cv(O).getDate())||k&&O.match(k)){L.z=m.dateNF||Jn[14];var U=0;k&&O.match(k)&&(O=_Ie(O,m.dateNF,O.match(k)||[]),U=1),m.cellDates?(L.t="d",L.v=Xa(O,U)):(L.t="n",L.v=vs(Xa(O,U))),m.cellText!==!1&&(L.w=Rd(L.z,L.v instanceof Date?vs(L.v):L.v)),m.cellNF||delete L.z}else L.t="s",L.v=O;if(L.t=="z"||(m.dense?(v[x]||(v[x]=[]),v[x][y]=L):v[rn({c:y,r:x})]=L),_=b+1,A=d.charCodeAt(_),g.e.c<y&&(g.e.c=y),g.e.r<x&&(g.e.r=x),S==N)++y;else if(y=0,++x,m.sheetRows&&m.sheetRows<=x)return!0}e:for(;b<d.length;++b)switch(S=d.charCodeAt(b)){case 34:A===34&&(C=!C);break;case N:case 10:case 13:if(!C&&R())break e;break}return b-_>0&&R(),v["!ref"]=_i(g),v}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,f):Qp(t(d,f),f)}function l(d,f){var m="",h=f.type=="string"?[0,0,0,0]:v$e(d,f);switch(f.type){case"base64":m=uu(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof Hb<"u"||(m=Fr&&Buffer.isBuffer(d)?d.toString("binary"):jx(d));break;case"array":m=pj(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=kg(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=kg(m):f.type=="binary"&&typeof Hb<"u",m.slice(0,19)=="socialcalc:version:"?rZ.to_sheet(f.type=="string"?m:kg(m),f):o(m,f)}function c(d,f){return Nh(l(d,f),f)}function u(d){for(var f=[],m=Nn(d["!ref"]),h,v=Array.isArray(d),g=m.s.r;g<=m.e.r;++g){for(var x=[],y=m.s.c;y<=m.e.c;++y){var w=rn({r:g,c:y});if(h=v?(d[g]||[])[y]:d[w],!h||h.v==null){x.push("          ");continue}for(var _=(h.w||(du(h),h.w)||"").slice(0,10);_.length<10;)_+=" ";x.push(_+(y===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),mF=function(){function e(D,M,T){if(D){Is(D,D.l||0);for(var V=T.Enum||pe;D.l<D.length;){var F=D.read_shift(2),W=V[F]||V[65535],te=D.read_shift(2),Y=D.l+te,oe=W.f&&W.f(D,te,T);if(D.l=Y,M(oe,W,F))return}}}function t(D,M){switch(M.type){case"base64":return r(cl(uu(D)),M);case"binary":return r(cl(D),M);case"buffer":case"array":return r(D,M)}throw"Unsupported type "+M.type}function r(D,M){if(!D)return D;var T=M||{},V=T.dense?[]:{},F="Sheet1",W="",te=0,Y={},oe=[],we=[],ve={s:{r:0,c:0},e:{r:0,c:0}},He=T.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)T.Enum=pe,e(D,function(qe,rt,Pe){switch(Pe){case 0:T.vers=qe,qe>=4096&&(T.qpro=!0);break;case 6:ve=qe;break;case 204:qe&&(W=qe);break;case 222:W=qe;break;case 15:case 51:T.qpro||(qe[1].v=qe[1].v.slice(1));case 13:case 14:case 16:Pe==14&&(qe[2]&112)==112&&(qe[2]&15)>1&&(qe[2]&15)<15&&(qe[1].z=T.dateNF||Jn[14],T.cellDates&&(qe[1].t="d",qe[1].v=yJ(qe[1].v))),T.qpro&&qe[3]>te&&(V["!ref"]=_i(ve),Y[F]=V,oe.push(F),V=T.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},te=qe[3],F=W||"Sheet"+(te+1),W="");var ct=T.dense?(V[qe[0].r]||[])[qe[0].c]:V[rn(qe[0])];if(ct){ct.t=qe[1].t,ct.v=qe[1].v,qe[1].z!=null&&(ct.z=qe[1].z),qe[1].f!=null&&(ct.f=qe[1].f);break}T.dense?(V[qe[0].r]||(V[qe[0].r]=[]),V[qe[0].r][qe[0].c]=qe[1]):V[rn(qe[0])]=qe[1];break}},T);else if(D[2]==26||D[2]==14)T.Enum=xe,D[2]==14&&(T.qpro=!0,D.l=0),e(D,function(qe,rt,Pe){switch(Pe){case 204:F=qe;break;case 22:qe[1].v=qe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(qe[3]>te&&(V["!ref"]=_i(ve),Y[F]=V,oe.push(F),V=T.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},te=qe[3],F="Sheet"+(te+1)),He>0&&qe[0].r>=He)break;T.dense?(V[qe[0].r]||(V[qe[0].r]=[]),V[qe[0].r][qe[0].c]=qe[1]):V[rn(qe[0])]=qe[1],ve.e.c<qe[0].c&&(ve.e.c=qe[0].c),ve.e.r<qe[0].r&&(ve.e.r=qe[0].r);break;case 27:qe[14e3]&&(we[qe[14e3][0]]=qe[14e3][1]);break;case 1537:we[qe[0]]=qe[1],qe[0]==te&&(F=qe[1]);break}},T);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(V["!ref"]=_i(ve),Y[W||F]=V,oe.push(W||F),!we.length)return{SheetNames:oe,Sheets:Y};for(var ze={},ne=[],Be=0;Be<we.length;++Be)Y[oe[Be]]?(ne.push(we[Be]||oe[Be]),ze[we[Be]]=Y[we[Be]]||Y[oe[Be]]):(ne.push(we[Be]),ze[we[Be]]={"!ref":"A1"});return{SheetNames:ne,Sheets:ze}}function n(D,M){var T=M||{};if(+T.codepage>=0&&kv(+T.codepage),T.type=="string")throw new Error("Cannot write WK1 to JS string");var V=ps(),F=Nn(D["!ref"]),W=Array.isArray(D),te=[];ht(V,0,a(1030)),ht(V,6,c(F));for(var Y=Math.min(F.e.r,8191),oe=F.s.r;oe<=Y;++oe)for(var we=wa(oe),ve=F.s.c;ve<=F.e.c;++ve){oe===F.s.r&&(te[ve]=Da(ve));var He=te[ve]+we,ze=W?(D[oe]||[])[ve]:D[He];if(!(!ze||ze.t=="z"))if(ze.t=="n")(ze.v|0)==ze.v&&ze.v>=-32768&&ze.v<=32767?ht(V,13,h(oe,ve,ze.v)):ht(V,14,g(oe,ve,ze.v));else{var ne=du(ze);ht(V,15,f(oe,ve,ne.slice(0,239)))}}return ht(V,1),V.end()}function i(D,M){var T=M||{};if(+T.codepage>=0&&kv(+T.codepage),T.type=="string")throw new Error("Cannot write WK3 to JS string");var V=ps();ht(V,0,o(D));for(var F=0,W=0;F<D.SheetNames.length;++F)(D.Sheets[D.SheetNames[F]]||{})["!ref"]&&ht(V,27,X(D.SheetNames[F],W++));var te=0;for(F=0;F<D.SheetNames.length;++F){var Y=D.Sheets[D.SheetNames[F]];if(!(!Y||!Y["!ref"])){for(var oe=Nn(Y["!ref"]),we=Array.isArray(Y),ve=[],He=Math.min(oe.e.r,8191),ze=oe.s.r;ze<=He;++ze)for(var ne=wa(ze),Be=oe.s.c;Be<=oe.e.c;++Be){ze===oe.s.r&&(ve[Be]=Da(Be));var qe=ve[Be]+ne,rt=we?(Y[ze]||[])[Be]:Y[qe];if(!(!rt||rt.t=="z"))if(rt.t=="n")ht(V,23,R(ze,Be,te,rt.v));else{var Pe=du(rt);ht(V,22,S(ze,Be,te,Pe.slice(0,239)))}}++te}}return ht(V,1),V.end()}function a(D){var M=Ge(2);return M.write_shift(2,D),M}function o(D){var M=Ge(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var T=0,V=0,F=0,W=0;W<D.SheetNames.length;++W){var te=D.SheetNames[W],Y=D.Sheets[te];if(!(!Y||!Y["!ref"])){++F;var oe=Zs(Y["!ref"]);T<oe.e.r&&(T=oe.e.r),V<oe.e.c&&(V=oe.e.c)}}return T>8191&&(T=8191),M.write_shift(2,T),M.write_shift(1,F),M.write_shift(1,V),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function l(D,M,T){var V={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&T.qpro?(V.s.c=D.read_shift(1),D.l++,V.s.r=D.read_shift(2),V.e.c=D.read_shift(1),D.l++,V.e.r=D.read_shift(2),V):(V.s.c=D.read_shift(2),V.s.r=D.read_shift(2),M==12&&T.qpro&&(D.l+=2),V.e.c=D.read_shift(2),V.e.r=D.read_shift(2),M==12&&T.qpro&&(D.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function c(D){var M=Ge(8);return M.write_shift(2,D.s.c),M.write_shift(2,D.s.r),M.write_shift(2,D.e.c),M.write_shift(2,D.e.r),M}function u(D,M,T){var V=[{c:0,r:0},{t:"n",v:0},0,0];return T.qpro&&T.vers!=20768?(V[0].c=D.read_shift(1),V[3]=D.read_shift(1),V[0].r=D.read_shift(2),D.l+=2):(V[2]=D.read_shift(1),V[0].c=D.read_shift(2),V[0].r=D.read_shift(2)),V}function d(D,M,T){var V=D.l+M,F=u(D,M,T);if(F[1].t="s",T.vers==20768){D.l++;var W=D.read_shift(1);return F[1].v=D.read_shift(W,"utf8"),F}return T.qpro&&D.l++,F[1].v=D.read_shift(V-D.l,"cstr"),F}function f(D,M,T){var V=Ge(7+T.length);V.write_shift(1,255),V.write_shift(2,M),V.write_shift(2,D),V.write_shift(1,39);for(var F=0;F<V.length;++F){var W=T.charCodeAt(F);V.write_shift(1,W>=128?95:W)}return V.write_shift(1,0),V}function m(D,M,T){var V=u(D,M,T);return V[1].v=D.read_shift(2,"i"),V}function h(D,M,T){var V=Ge(7);return V.write_shift(1,255),V.write_shift(2,M),V.write_shift(2,D),V.write_shift(2,T,"i"),V}function v(D,M,T){var V=u(D,M,T);return V[1].v=D.read_shift(8,"f"),V}function g(D,M,T){var V=Ge(13);return V.write_shift(1,255),V.write_shift(2,M),V.write_shift(2,D),V.write_shift(8,T,"f"),V}function x(D,M,T){var V=D.l+M,F=u(D,M,T);if(F[1].v=D.read_shift(8,"f"),T.qpro)D.l=V;else{var W=D.read_shift(2);b(D.slice(D.l,D.l+W),F),D.l+=W}return F}function y(D,M,T){var V=M&32768;return M&=-32769,M=(V?D:0)+(M>=8192?M-16384:M),(V?"":"$")+(T?Da(M):wa(M))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(D,M){Is(D,0);for(var T=[],V=0,F="",W="",te="",Y="";D.l<D.length;){var oe=D[D.l++];switch(oe){case 0:T.push(D.read_shift(8,"f"));break;case 1:W=y(M[0].c,D.read_shift(2),!0),F=y(M[0].r,D.read_shift(2),!1),T.push(W+F);break;case 2:{var we=y(M[0].c,D.read_shift(2),!0),ve=y(M[0].r,D.read_shift(2),!1);W=y(M[0].c,D.read_shift(2),!0),F=y(M[0].r,D.read_shift(2),!1),T.push(we+ve+":"+W+F)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:T.push("("+T.pop()+")");break;case 5:T.push(D.read_shift(2));break;case 6:{for(var He="";oe=D[D.l++];)He+=String.fromCharCode(oe);T.push('"'+He.replace(/"/g,'""')+'"')}break;case 8:T.push("-"+T.pop());break;case 23:T.push("+"+T.pop());break;case 22:T.push("NOT("+T.pop()+")");break;case 20:case 21:Y=T.pop(),te=T.pop(),T.push(["AND","OR"][oe-20]+"("+te+","+Y+")");break;default:if(oe<32&&_[oe])Y=T.pop(),te=T.pop(),T.push(te+_[oe]+Y);else if(w[oe]){if(V=w[oe][1],V==69&&(V=D[D.l++]),V>T.length){console.error("WK1 bad formula parse 0x"+oe.toString(16)+":|"+T.join("|")+"|");return}var ze=T.slice(-V);T.length-=V,T.push(w[oe][0]+"("+ze.join(",")+")")}else return oe<=7?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=24?console.error("WK1 unsupported op "+oe.toString(16)):oe<=30?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=115?console.error("WK1 unsupported function opcode "+oe.toString(16)):console.error("WK1 unrecognized opcode "+oe.toString(16))}}T.length==1?M[1].f=""+T[0]:console.error("WK1 bad formula parse |"+T.join("|")+"|")}function N(D){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=D.read_shift(2),M[3]=D[D.l++],M[0].c=D[D.l++],M}function C(D,M){var T=N(D);return T[1].t="s",T[1].v=D.read_shift(M-4,"cstr"),T}function S(D,M,T,V){var F=Ge(6+V.length);F.write_shift(2,D),F.write_shift(1,T),F.write_shift(1,M),F.write_shift(1,39);for(var W=0;W<V.length;++W){var te=V.charCodeAt(W);F.write_shift(1,te>=128?95:te)}return F.write_shift(1,0),F}function A(D,M){var T=N(D);T[1].v=D.read_shift(2);var V=T[1].v>>1;if(T[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return T[1].v=V,T}function k(D,M){var T=N(D),V=D.read_shift(4),F=D.read_shift(4),W=D.read_shift(2);if(W==65535)return V===0&&F===3221225472?(T[1].t="e",T[1].v=15):V===0&&F===3489660928?(T[1].t="e",T[1].v=42):T[1].v=0,T;var te=W&32768;return W=(W&32767)-16446,T[1].v=(1-te*2)*(F*Math.pow(2,W+32)+V*Math.pow(2,W)),T}function R(D,M,T,V){var F=Ge(14);if(F.write_shift(2,D),F.write_shift(1,T),F.write_shift(1,M),V==0)return F.write_shift(4,0),F.write_shift(4,0),F.write_shift(2,65535),F;var W=0,te=0,Y=0,oe=0;return V<0&&(W=1,V=-V),te=Math.log2(V)|0,V/=Math.pow(2,te-31),oe=V>>>0,oe&2147483648||(V/=2,++te,oe=V>>>0),V-=oe,oe|=2147483648,oe>>>=0,V*=Math.pow(2,32),Y=V>>>0,F.write_shift(4,Y),F.write_shift(4,oe),te+=16383+(W?32768:0),F.write_shift(2,te),F}function O(D,M){var T=k(D);return D.l+=M-14,T}function L(D,M){var T=N(D),V=D.read_shift(4);return T[1].v=V>>6,T}function U(D,M){var T=N(D),V=D.read_shift(8,"f");return T[1].v=V,T}function q(D,M){var T=U(D);return D.l+=M-10,T}function Q(D,M){return D[D.l+M-1]==0?D.read_shift(M,"cstr"):""}function ie(D,M){var T=D[D.l++];T>M-1&&(T=M-1);for(var V="";V.length<T;)V+=String.fromCharCode(D[D.l++]);return V}function z(D,M,T){if(!(!T.qpro||M<21)){var V=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var F=D.read_shift(M-21,"cstr");return[V,F]}}function H(D,M){for(var T={},V=D.l+M;D.l<V;){var F=D.read_shift(2);if(F==14e3){for(T[F]=[0,""],T[F][0]=D.read_shift(2);D[D.l];)T[F][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return T}function X(D,M){var T=Ge(5+D.length);T.write_shift(2,14e3),T.write_shift(2,M);for(var V=0;V<D.length;++V){var F=D.charCodeAt(V);T[T.l++]=F>127?95:F}return T[T.l++]=0,T}var pe={0:{n:"BOF",f:JJ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Q},222:{n:"SHEETNAMELP",f:ie},65535:{n:""}},xe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}(),s8e=/^\s|\s$|[\t\n\r]/;function nZ(e,t){if(!t.bookSST)return"";var r=[Si];r[r.length]=ft("sst",null,{xmlns:Zp[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(s8e)&&(a+=' xml:space="preserve"'),a+=">"+Xr(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function o8e(e){return[e.read_shift(4),e.read_shift(4)]}function l8e(e,t){return t||(t=Ge(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var c8e=QIe;function u8e(e){var t=ps();Ze(t,159,l8e(e));for(var r=0;r<e.length;++r)Ze(t,19,c8e(e[r]));return Ze(t,160),t.end()}function d8e(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function iZ(e){var t=0,r,n=d8e(e),i=n.length+1,a,o,l,c,u;for(r=ch(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)o=r[a],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var f8e=function(){function e(i,a){switch(a.type){case"base64":return t(uu(i),a);case"binary":return t(i,a);case"buffer":return t(Fr&&Buffer.isBuffer(i)?i.toString("binary"):jx(i),a);case"array":return t(pj(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var o=a||{},l=o.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,h=0,v,g=-1;v=m.exec(d);){switch(v[0]){case"\\cell":var x=d.slice(h,m.lastIndex-v[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var y={v:x,t:"s"};Array.isArray(l)?l[f][g]=y:l[rn({r:f,c:g})]=y}break}h=m.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=_i(u),l}function r(i,a){return Nh(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],o=Nn(i["!ref"]),l,c=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=rn({r:u,c:d});l=c?(i[u]||[])[d]:i[f],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(du(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function pF(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var h8e=6,Yc=h8e;function Qb(e){return Math.floor((e+Math.round(128/Yc)/256)*Yc)}function e2(e){return Math.floor((e-5)/Yc*100+.5)/100}function oE(e){return Math.round((e*Yc+5)/Yc*256)/256}function FP(e){e.width?(e.wpx=Qb(e.width),e.wch=e2(e.wpx),e.MDW=Yc):e.wpx?(e.wch=e2(e.wpx),e.width=oE(e.wch),e.MDW=Yc):typeof e.wch=="number"&&(e.width=oE(e.wch),e.wpx=Qb(e.width),e.MDW=Yc),e.customWidth&&delete e.customWidth}var m8e=96,aZ=m8e;function t2(e){return e*96/aZ}function sZ(e){return e*aZ/96}function p8e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ft("numFmt",null,{numFmtId:n,formatCode:Xr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ft("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function g8e(e){var t=[];return t[t.length]=ft("cellXfs",null),e.forEach(function(r){t[t.length]=ft("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ft("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function oZ(e,t){var r=[Si,ft("styleSheet",null,{xmlns:Zp[0],"xmlns:vt":Ki.vt})],n;return e.SSF&&(n=p8e(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=g8e(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function v8e(e,t){var r=e.read_shift(2),n=La(e);return[r,n]}function x8e(e,t,r){r||(r=Ge(6+4*t.length)),r.write_shift(2,e),Ji(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function y8e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=sDe(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=aDe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=La(e),n}function w8e(e,t){t||(t=Ge(25+4*32)),t.write_shift(2,e.sz*20),oDe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Jb(e.color,t);var n=0;return n=2,t.write_shift(1,n),Ji(e.name,t),t.length>t.l?t.slice(0,t.l):t}var b8e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],nN,_8e=oc;function gF(e,t){t||(t=Ge(4*3+8*7+16*1)),nN||(nN=kP(b8e));var r=nN[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Jb({auto:1},t),Jb({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function j8e(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function lZ(e,t,r){r||(r=Ge(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function J0(e,t){return t||(t=Ge(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var S8e=oc;function N8e(e,t){return t||(t=Ge(51)),t.write_shift(1,0),J0(null,t),J0(null,t),J0(null,t),J0(null,t),J0(null,t),t.length>t.l?t.slice(0,t.l):t}function k8e(e,t){return t||(t=Ge(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Xb(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function E8e(e,t,r){var n=Ge(2052);return n.write_shift(4,e),Xb(t,n),Xb(r,n),n.length>n.l?n.slice(0,n.l):n}function C8e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(Ze(e,615,pl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Ze(e,44,x8e(i,t[i]))}),Ze(e,616))}}function A8e(e){var t=1;Ze(e,611,pl(t)),Ze(e,43,w8e({sz:12,color:{theme:1},name:"Calibri",family:2})),Ze(e,612)}function P8e(e){var t=2;Ze(e,603,pl(t)),Ze(e,45,gF({patternType:"none"})),Ze(e,45,gF({patternType:"gray125"})),Ze(e,604)}function T8e(e){var t=1;Ze(e,613,pl(t)),Ze(e,46,N8e()),Ze(e,614)}function O8e(e){var t=1;Ze(e,626,pl(t)),Ze(e,47,lZ({numFmtId:0},65535)),Ze(e,627)}function R8e(e,t){Ze(e,617,pl(t.length)),t.forEach(function(r){Ze(e,47,lZ(r,0))}),Ze(e,618)}function I8e(e){var t=1;Ze(e,619,pl(t)),Ze(e,48,k8e({xfId:0,name:"Normal"})),Ze(e,620)}function D8e(e){var t=0;Ze(e,505,pl(t)),Ze(e,506)}function L8e(e){var t=0;Ze(e,508,E8e(t,"TableStyleMedium9","PivotStyleMedium4")),Ze(e,509)}function M8e(e,t){var r=ps();return Ze(r,278),C8e(r,e.SSF),A8e(r),P8e(r),T8e(r),O8e(r),R8e(r,t.cellXfs),I8e(r),D8e(r),L8e(r),Ze(r,279),r.end()}function cZ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Si];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function F8e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:La(e)}}function $8e(e){var t=Ge(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ji(e.name,t),t.slice(0,t.l)}function B8e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function U8e(e){var t=Ge(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function z8e(e,t){var r=Ge(8+2*t.length);return r.write_shift(4,e),Ji(t,r),r.slice(0,r.l)}function W8e(e){return e.l+=4,e.read_shift(4)!=0}function H8e(e,t){var r=Ge(8);return r.write_shift(4,e),r.write_shift(4,1),r}function q8e(){var e=ps();return Ze(e,332),Ze(e,334,pl(1)),Ze(e,335,$8e({name:"XLDAPR",version:12e4,flags:3496657072})),Ze(e,336),Ze(e,339,z8e(1,"XLDAPR")),Ze(e,52),Ze(e,35,pl(514)),Ze(e,4096,pl(0)),Ze(e,4097,go(1)),Ze(e,36),Ze(e,53),Ze(e,340),Ze(e,337,H8e(1)),Ze(e,51,U8e([[1,0]])),Ze(e,338),Ze(e,333),e.end()}function uZ(){var e=[Si];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function V8e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=rn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Im=1024;function dZ(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[ft("xml",null,{"xmlns:v":Ls.v,"xmlns:o":Ls.o,"xmlns:x":Ls.x,"xmlns:mv":Ls.mv}).replace(/\/>/,">"),ft("o:shapelayout",ft("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ft("v:shapetype",[ft("v:stroke",null,{joinstyle:"miter"}),ft("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Im<e*1e3;)Im+=1e3;return t.forEach(function(a){var o=Xi(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ft("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ft("v:fill",c,l),d={on:"t",obscured:"t"};++Im,i=i.concat(["<v:shape"+Pv({id:"_x0000_s"+Im,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ft("v:shadow",null,d),ft("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",xa("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),xa("x:AutoFill","False"),xa("x:Row",String(o.r)),xa("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function fZ(e){var t=[Si,ft("comments",null,{xmlns:Zp[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var a=Xr(i.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(Xr(c.a))),a.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(xa("t",Xr(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)o+=`Reply:
    `+a[l]+`
`;t.push(xa("t",Xr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function G8e(e,t,r){var n=[Si,ft("ThreadedComments",null,{xmlns:Ki.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(ft("threadedComment",xa("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function K8e(e){var t=[Si,ft("personList",null,{xmlns:Ki.TCMNT,"xmlns:x":Zp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ft("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Y8e(e){var t={};t.iauthor=e.read_shift(4);var r=Ah(e);return t.rfx=r.s,t.ref=rn(r.s),e.l+=16,t}function X8e(e,t){return t==null&&(t=Ge(36)),t.write_shift(4,e[1].iauthor),e0(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var J8e=La;function Z8e(e){return Ji(e.slice(0,54))}function Q8e(e){var t=ps(),r=[];return Ze(t,628),Ze(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Ze(t,632,Z8e(i.a)))})}),Ze(t,631),Ze(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Xi(n[0]),e:Xi(n[0])};Ze(t,635,X8e([a,i])),i.t&&i.t.length>0&&Ze(t,637,tDe(i)),Ze(t,636),delete i.iauthor})}),Ze(t,634),Ze(t,629),t.end()}function eLe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&an.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var hZ=["xlsb","xlsm","xlam","biff8","xla"],tLe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,o){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,i+(l?"":"$")+Da(d)+(c?"":"$")+wa(u)}return function(i,a){return t=a,i.replace(e,r)}}(),$P=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,BP=function(){return function(t,r){return t.replace($P,function(n,i,a,o,l,c){var u=RP(o)-(a?0:r.c),d=OP(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":a?u+1:"["+u+"]";return i+"R"+f+"C"+m})}}();function rLe(e,t){return e.replace($P,function(r,n,i,a,o,l){return n+(i=="$"?i+a:Da(RP(a)+t.c))+(o=="$"?o+l:wa(OP(l)+t.r))})}function nLe(e){return e.length!=1}function pi(e){e.l+=1}function Id(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function mZ(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return pZ(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),o=Id(e),l=Id(e);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function pZ(e){var t=Id(e),r=Id(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function iLe(e,t,r){if(r.biff<8)return pZ(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=Id(e),o=Id(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function gZ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return aLe(e);var n=e.read_shift(r&&r.biff==12?4:2),i=Id(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function aLe(e){var t=Id(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function sLe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function oLe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return lLe(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:l}}function lLe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function cLe(e,t,r){var n=(e[e.l++]&96)>>5,i=mZ(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function uLe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=mZ(e,a,r);return[n,i,o]}function dLe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function fLe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function hLe(e,t,r){var n=(e[e.l++]&96)>>5,i=iLe(e,t-1,r);return[n,i]}function mLe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function vF(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function pLe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function gLe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function vLe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function xLe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function yLe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function vZ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function wLe(e){return e.read_shift(2),vZ(e)}function bLe(e){return e.read_shift(2),vZ(e)}function _Le(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=gZ(e,0,r);return[n,i]}function jLe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=oLe(e,0,r);return[n,i]}function SLe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=gZ(e,0,r);return[n,i,a]}function NLe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[NMe[i],wZ[i],n]}function kLe(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:ELe(e);return[i,(a[0]===0?wZ:SMe)[a[1]]]}function ELe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function CLe(e,t,r){e.l+=r&&r.biff==2?3:4}function ALe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function PLe(e){return e.l++,kx[e.read_shift(1)]}function TLe(e){return e.l++,e.read_shift(2)}function OLe(e){return e.l++,e.read_shift(1)!==0}function RLe(e){return e.l++,t0(e)}function ILe(e,t,r){return e.l++,QJ(e,t-1,r)}function DLe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=SDe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=kx[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=t0(e);break;case 2:r[1]=CDe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function LLe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Ah:TDe)(e));return i}function MLe(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var l=0;l!=i;++l)o[a][l]=DLe(e,r.biff);return o}function FLe(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function $Le(e,t,r){if(r.biff==5)return BLe(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function BLe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function ULe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function zLe(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function WLe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function HLe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var qLe=oc,VLe=oc,GLe=oc;function Ex(e,t,r){return e.l+=2,[sLe(e)]}function UP(e){return e.l+=6,[]}var KLe=Ex,YLe=UP,XLe=UP,JLe=Ex;function xZ(e){return e.l+=2,[JJ(e),e.read_shift(2)&1]}var ZLe=Ex,QLe=xZ,eMe=UP,tMe=Ex,rMe=Ex,nMe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function iMe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),o=nMe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:i,C:a}}function aMe(e){return e.l+=2,[e.read_shift(4)]}function sMe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function oMe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function lMe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function cMe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function uMe(e){return e.l+=4,[0,0]}var xF={1:{n:"PtgExp",f:ALe},2:{n:"PtgTbl",f:GLe},3:{n:"PtgAdd",f:pi},4:{n:"PtgSub",f:pi},5:{n:"PtgMul",f:pi},6:{n:"PtgDiv",f:pi},7:{n:"PtgPower",f:pi},8:{n:"PtgConcat",f:pi},9:{n:"PtgLt",f:pi},10:{n:"PtgLe",f:pi},11:{n:"PtgEq",f:pi},12:{n:"PtgGe",f:pi},13:{n:"PtgGt",f:pi},14:{n:"PtgNe",f:pi},15:{n:"PtgIsect",f:pi},16:{n:"PtgUnion",f:pi},17:{n:"PtgRange",f:pi},18:{n:"PtgUplus",f:pi},19:{n:"PtgUminus",f:pi},20:{n:"PtgPercent",f:pi},21:{n:"PtgParen",f:pi},22:{n:"PtgMissArg",f:pi},23:{n:"PtgStr",f:ILe},26:{n:"PtgSheet",f:sMe},27:{n:"PtgEndSheet",f:oMe},28:{n:"PtgErr",f:PLe},29:{n:"PtgBool",f:OLe},30:{n:"PtgInt",f:TLe},31:{n:"PtgNum",f:RLe},32:{n:"PtgArray",f:mLe},33:{n:"PtgFunc",f:NLe},34:{n:"PtgFuncVar",f:kLe},35:{n:"PtgName",f:FLe},36:{n:"PtgRef",f:_Le},37:{n:"PtgArea",f:cLe},38:{n:"PtgMemArea",f:ULe},39:{n:"PtgMemErr",f:qLe},40:{n:"PtgMemNoMem",f:VLe},41:{n:"PtgMemFunc",f:zLe},42:{n:"PtgRefErr",f:WLe},43:{n:"PtgAreaErr",f:dLe},44:{n:"PtgRefN",f:jLe},45:{n:"PtgAreaN",f:hLe},46:{n:"PtgMemAreaN",f:lMe},47:{n:"PtgMemNoMemN",f:cMe},57:{n:"PtgNameX",f:$Le},58:{n:"PtgRef3d",f:SLe},59:{n:"PtgArea3d",f:uLe},60:{n:"PtgRefErr3d",f:HLe},61:{n:"PtgAreaErr3d",f:fLe},255:{}},dMe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},fMe={1:{n:"PtgElfLel",f:xZ},2:{n:"PtgElfRw",f:tMe},3:{n:"PtgElfCol",f:KLe},6:{n:"PtgElfRwV",f:rMe},7:{n:"PtgElfColV",f:JLe},10:{n:"PtgElfRadical",f:ZLe},11:{n:"PtgElfRadicalS",f:eMe},13:{n:"PtgElfColS",f:YLe},15:{n:"PtgElfColSV",f:XLe},16:{n:"PtgElfRadicalLel",f:QLe},25:{n:"PtgList",f:iMe},29:{n:"PtgSxName",f:aMe},255:{}},hMe={0:{n:"PtgAttrNoop",f:uMe},1:{n:"PtgAttrSemi",f:yLe},2:{n:"PtgAttrIf",f:vLe},4:{n:"PtgAttrChoose",f:pLe},8:{n:"PtgAttrGoto",f:gLe},16:{n:"PtgAttrSum",f:CLe},32:{n:"PtgAttrBaxcel",f:vF},33:{n:"PtgAttrBaxcel",f:vF},64:{n:"PtgAttrSpace",f:wLe},65:{n:"PtgAttrSpaceSemi",f:bLe},128:{n:"PtgAttrIfError",f:xLe},255:{}};function mMe(e,t,r,n){if(n.biff<8)return oc(e,t);for(var i=e.l+t,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=MLe(e,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=LLe(e,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=i-e.l,t!==0&&a.push(oc(e,t)),a}function pMe(e,t,r){for(var n=e.l+t,i,a,o=[];n!=e.l;)t=n-e.l,a=e[e.l],i=xF[a]||xF[dMe[a]],(a===24||a===25)&&(i=(a===24?fMe:hMe)[e[e.l+1]]),!i||!i.f?oc(e,t):o.push([i.n,i.f(e,t,r)]);return o}function gMe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var vMe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function xMe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function yZ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function yF(e,t,r){var n=yZ(e,t,r);return n=="#REF"?n:xMe(n,r)}function _p(e,t,r,n,i){var a=i&&i.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,m=0,h,v="";if(!e[0]||!e[0][0])return"";for(var g=-1,x="",y=0,w=e[0].length;y<w;++y){var _=e[0][y];switch(_[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:x=Kn(" ",e[0][g][1][1]);break;case 1:x=Kn("\r",e[0][g][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+x,g=-1}l.push(u+vMe[_[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Cg(_[1][1],o,i),l.push(Ag(d,a));break;case"PtgRefN":d=r?Cg(_[1][1],r,i):_[1][1],l.push(Ag(d,a));break;case"PtgRef3d":f=_[1][1],d=Cg(_[1][2],o,i),v=yF(n,f,i),l.push(v+"!"+Ag(d,a));break;case"PtgFunc":case"PtgFuncVar":var b=_[1][0],N=_[1][1];b||(b=0),b&=127;var C=b==0?[]:l.slice(-b);l.length-=b,N==="User"&&(N=C.shift()),l.push(N+"("+C.join(",")+")");break;case"PtgBool":l.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(_[1]);break;case"PtgNum":l.push(String(_[1]));break;case"PtgStr":l.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(_[1]);break;case"PtgAreaN":h=nF(_[1][1],r?{s:r}:o,i),l.push(tN(h,i));break;case"PtgArea":h=nF(_[1][1],o,i),l.push(tN(h,i));break;case"PtgArea3d":f=_[1][1],h=_[1][2],v=yF(n,f,i),l.push(v+"!"+tN(h,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=_[1][2];var S=(n.names||[])[m-1]||(n[0]||[])[m],A=S?S.Name:"SH33TJSNAME"+String(m);A&&A.slice(0,6)=="_xlfn."&&!i.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var k=_[1][1];m=_[1][2];var R;if(i.biff<=5)k<0&&(k=-k),n[k]&&(R=n[k][m]);else{var O="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][m]&&n[k][m].itab>0&&(O=n.SheetNames[n[k][m].itab-1]+"!"):O=n.SheetNames[m-1]+"!"),n[k]&&n[k][m])O+=n[k][m].Name;else if(n[0]&&n[0][m])O+=n[0][m].Name;else{var L=(yZ(n,k,i)||"").split(";;");L[m-1]?O=L[m-1]:O+="SH33TJSERRX"}l.push(O);break}R||(R={Name:"SH33TJSERRY"}),l.push(R.Name);break;case"PtgParen":var U="(",q=")";if(g>=0){switch(x="",e[0][g][1][0]){case 2:U=Kn(" ",e[0][g][1][1])+U;break;case 3:U=Kn("\r",e[0][g][1][1])+U;break;case 4:q=Kn(" ",e[0][g][1][1])+q;break;case 5:q=Kn("\r",e[0][g][1][1])+q;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(U+l.pop()+q);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:_[1][1],r:_[1][0]};var Q={c:r.c,r:r.r};if(n.sharedf[rn(d)]){var ie=n.sharedf[rn(d)];l.push(_p(ie,o,Q,n,i))}else{var z=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(_p(u[1],o,Q,n,i)),z=!0;break}z||l.push(_[1])}break;case"PtgArray":l.push("{"+gMe(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&H.indexOf(e[0][y][0])==-1){_=e[0][g];var X=!0;switch(_[1][0]){case 4:X=!1;case 0:x=Kn(" ",_[1][1]);break;case 5:X=!1;case 1:x=Kn("\r",_[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}l.push((X?x:"")+l.pop()+(X?"":x)),g=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function yMe(e){if(e==null){var t=Ge(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return uh(e);return uh(0)}function wMe(e,t,r,n,i){var a=dh(t,r,i),o=yMe(e.v),l=Ge(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Ge(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=va([a,o,l,u]);return f}function gj(e,t,r){var n=e.read_shift(4),i=pMe(e,n,r),a=e.read_shift(4),o=a>0?mMe(e,a,i,r):null;return[i,o]}var bMe=gj,vj=gj,_Me=gj,jMe=gj,SMe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},wZ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},NMe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function kMe(e){var t="of:="+e.replace($P,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function EMe(e){return e.replace(/\./,"!")}var Pg=typeof Map<"u";function zP(e,t,r){var n=0,i=e.length;if(r){if(Pg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=Pg?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(Pg?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function xj(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Yc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=e2(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=oE(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function bZ(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Vd(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){gJ(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function CMe(e,t,r){if(e&&e["!ref"]){var n=Nn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function AMe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+_i(e[r])+'"/>';return t+"</mergeCells>"}function PMe(e,t,r,n,i){var a=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,o.codeName=Av(Xr(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+ft("outlinePr",null,u)}!a&&!l||(i[i.length]=ft("sheetPr",l,o))}var TMe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],OMe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function RMe(e){var t={sheet:1};return TMe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),OMe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=iZ(e.password).toString(16).toUpperCase()),ft("sheetProtection",null,t)}function IMe(e){return bZ(e),ft("pageMargins",null,e)}function DMe(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=ft("col",null,xj(i,n)));return r[r.length]="</cols>",r.join("")}function LMe(e,t,r,n){var i=typeof e.ref=="string"?e.ref:_i(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Zs(i);o.s.r==o.e.r&&(o.e.r=Zs(t["!ref"]).e.r,i=_i(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ft("autoFilter",null,{ref:i})}function MMe(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ft("sheetViews",ft("sheetView",null,i),{})}function FMe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=kx[e.v];break;case"d":n&&n.cellDates?i=Xa(e.v,-1).toISOString():(e=xs(e),e.t="n",i=""+(e.v=vs(Xa(e.v)))),typeof e.z>"u"&&(e.z=Jn[14]);break;default:i=e.v;break}var l=xa("v",Xr(i)),c={r:t},u=Vd(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=xa("v",""+zP(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ft("f",Xr(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ft("c",l,c)}function $Me(e,t,r,n){var i=[],a=[],o=Nn(e["!ref"]),l="",c,u="",d=[],f=0,m=0,h=e["!rows"],v=Array.isArray(e),g={r:u},x,y=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=Da(m);for(f=o.s.r;f<=o.e.r;++f){for(a=[],u=wa(f),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var w=v?(e[f]||[])[m]:e[c];w!==void 0&&(l=FMe(w,c,e,t))!=null&&a.push(l)}(a.length>0||h&&h[f])&&(g={r:u},h&&h[f]&&(x=h[f],x.hidden&&(g.hidden=1),y=-1,x.hpx?y=t2(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(g.ht=y,g.customHeight=1),x.level&&(g.outlineLevel=x.level)),i[i.length]=ft("row",a.join(""),g))}if(h)for(;f<h.length;++f)h&&h[f]&&(g={r:f+1},x=h[f],x.hidden&&(g.hidden=1),y=-1,x.hpx?y=t2(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(g.ht=y,g.customHeight=1),x.level&&(g.outlineLevel=x.level),i[i.length]=ft("row","",g));return i.join("")}function _Z(e,t,r,n){var i=[Si,ft("worksheet",null,{xmlns:Zp[0],"xmlns:r":Ki.r})],a=r.SheetNames[e],o=0,l="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",d=Nn(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=_i(d)}n||(n={}),c["!comments"]=[];var f=[];PMe(c,r,e,t,i),i[i.length]=ft("dimension",null,{ref:u}),i[i.length]=MMe(c,t,e,r),t.sheetFormat&&(i[i.length]=ft("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=DMe(c,c["!cols"])),i[o=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=$Me(c,t),l.length>0&&(i[i.length]=l)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),c["!protect"]&&(i[i.length]=RMe(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=LMe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=AMe(c["!merges"]));var m=-1,h,v=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(h={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=Gr(n,-1,Xr(g[1].Target).replace(/#.*$/,""),Dr.HLINK),h["r:id"]="rId"+v),(m=g[1].Target.indexOf("#"))>-1&&(h.location=Xr(g[1].Target.slice(m+1))),g[1].Tooltip&&(h.tooltip=Xr(g[1].Tooltip)),i[i.length]=ft("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=IMe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=xa("ignoredErrors",ft("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(v=Gr(n,-1,"../drawings/drawing"+(e+1)+".xml",Dr.DRAW),i[i.length]=ft("drawing",null,{"r:id":"rId"+v}),c["!drawing"]=f),c["!comments"].length>0&&(v=Gr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Dr.VML),i[i.length]=ft("legacyDrawing",null,{"r:id":"rId"+v}),c["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function BMe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function UMe(e,t,r){var n=Ge(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=t2(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,m=-1,h=d<<10;h<d+1<<10;++h){u.c=h;var v=Array.isArray(r)?(r[u.r]||[])[u.c]:r[rn(u)];v&&(f<0&&(f=h),m=h)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function zMe(e,t,r,n){var i=UMe(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&Ze(e,0,i)}var WMe=Ah,HMe=e0;function qMe(){}function VMe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=rDe(e),r}function GMe(e,t,r){r==null&&(r=Ge(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return Jb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),MJ(e,r),r.slice(0,r.l)}function KMe(e){var t=Fo(e);return[t]}function YMe(e,t,r){return r==null&&(r=Ge(8)),kh(t,r)}function XMe(e){var t=Eh(e);return[t]}function JMe(e,t,r){return r==null&&(r=Ge(4)),Ch(t,r)}function ZMe(e){var t=Fo(e),r=e.read_shift(1);return[t,r,"b"]}function QMe(e,t,r){return r==null&&(r=Ge(9)),kh(t,r),r.write_shift(1,e.v?1:0),r}function eFe(e){var t=Eh(e),r=e.read_shift(1);return[t,r,"b"]}function tFe(e,t,r){return r==null&&(r=Ge(5)),Ch(t,r),r.write_shift(1,e.v?1:0),r}function rFe(e){var t=Fo(e),r=e.read_shift(1);return[t,r,"e"]}function nFe(e,t,r){return r==null&&(r=Ge(9)),kh(t,r),r.write_shift(1,e.v),r}function iFe(e){var t=Eh(e),r=e.read_shift(1);return[t,r,"e"]}function aFe(e,t,r){return r==null&&(r=Ge(8)),Ch(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function sFe(e){var t=Fo(e),r=e.read_shift(4);return[t,r,"s"]}function oFe(e,t,r){return r==null&&(r=Ge(12)),kh(t,r),r.write_shift(4,t.v),r}function lFe(e){var t=Eh(e),r=e.read_shift(4);return[t,r,"s"]}function cFe(e,t,r){return r==null&&(r=Ge(8)),Ch(t,r),r.write_shift(4,t.v),r}function uFe(e){var t=Fo(e),r=t0(e);return[t,r,"n"]}function dFe(e,t,r){return r==null&&(r=Ge(16)),kh(t,r),uh(e.v,r),r}function fFe(e){var t=Eh(e),r=t0(e);return[t,r,"n"]}function hFe(e,t,r){return r==null&&(r=Ge(12)),Ch(t,r),uh(e.v,r),r}function mFe(e){var t=Fo(e),r=FJ(e);return[t,r,"n"]}function pFe(e,t,r){return r==null&&(r=Ge(12)),kh(t,r),$J(e.v,r),r}function gFe(e){var t=Eh(e),r=FJ(e);return[t,r,"n"]}function vFe(e,t,r){return r==null&&(r=Ge(8)),Ch(t,r),$J(e.v,r),r}function xFe(e){var t=Fo(e),r=IP(e);return[t,r,"is"]}function yFe(e){var t=Fo(e),r=La(e);return[t,r,"str"]}function wFe(e,t,r){return r==null&&(r=Ge(12+4*e.v.length)),kh(t,r),Ji(e.v,r),r.length>r.l?r.slice(0,r.l):r}function bFe(e){var t=Eh(e),r=La(e);return[t,r,"str"]}function _Fe(e,t,r){return r==null&&(r=Ge(8+4*e.v.length)),Ch(t,r),Ji(e.v,r),r.length>r.l?r.slice(0,r.l):r}function jFe(e,t,r){var n=e.l+t,i=Fo(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"b"];if(r.cellFormula){e.l+=2;var l=vj(e,n-e.l,r);o[3]=_p(l,null,i,r.supbooks,r)}else e.l=n;return o}function SFe(e,t,r){var n=e.l+t,i=Fo(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"e"];if(r.cellFormula){e.l+=2;var l=vj(e,n-e.l,r);o[3]=_p(l,null,i,r.supbooks,r)}else e.l=n;return o}function NFe(e,t,r){var n=e.l+t,i=Fo(e);i.r=r["!row"];var a=t0(e),o=[i,a,"n"];if(r.cellFormula){e.l+=2;var l=vj(e,n-e.l,r);o[3]=_p(l,null,i,r.supbooks,r)}else e.l=n;return o}function kFe(e,t,r){var n=e.l+t,i=Fo(e);i.r=r["!row"];var a=La(e),o=[i,a,"str"];if(r.cellFormula){e.l+=2;var l=vj(e,n-e.l,r);o[3]=_p(l,null,i,r.supbooks,r)}else e.l=n;return o}var EFe=Ah,CFe=e0;function AFe(e,t){return t==null&&(t=Ge(4)),t.write_shift(4,e),t}function PFe(e,t){var r=e.l+t,n=Ah(e),i=DP(e),a=La(e),o=La(e),l=La(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:l};return o&&(c.Tooltip=o),c}function TFe(e,t){var r=Ge(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));e0({s:Xi(e[0]),e:Xi(e[0])},r),LP("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return Ji(i||"",r),Ji(e[1].Tooltip||"",r),Ji("",r),r.slice(0,r.l)}function OFe(){}function RFe(e,t,r){var n=e.l+t,i=BJ(e),a=e.read_shift(1),o=[i];if(o[2]=a,r.cellFormula){var l=bMe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function IFe(e,t,r){var n=e.l+t,i=Ah(e),a=[i];if(r.cellFormula){var o=jMe(e,n-e.l,r);a[1]=o,e.l=n}else e.l=n;return a}function DFe(e,t,r){r==null&&(r=Ge(18));var n=xj(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var jZ=["left","right","top","bottom","header","footer"];function LFe(e){var t={};return jZ.forEach(function(r){t[r]=t0(e)}),t}function MFe(e,t){return t==null&&(t=Ge(6*8)),bZ(e),jZ.forEach(function(r){uh(e[r],t)}),t}function FFe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function $Fe(e,t,r){r==null&&(r=Ge(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function BFe(e){var t=Ge(24);return t.write_shift(4,4),t.write_shift(4,1),e0(e,t),t}function UFe(e,t){return t==null&&(t=Ge(16*4+2)),t.write_shift(2,e.password?iZ(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function zFe(){}function WFe(){}function HFe(e,t,r,n,i,a,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=xs(t),t.z=t.z||Jn[14],t.v=vs(Xa(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Vd(i.cellXfs,t,i),t.l&&a["!links"].push([rn(c),t.l]),t.c&&a["!comments"].push([rn(c),t.c]),t.t){case"s":case"str":return i.bookSST?(l=zP(i.Strings,t.v,i.revStrings),c.t="s",c.v=l,o?Ze(e,18,cFe(t,c)):Ze(e,7,oFe(t,c))):(c.t="str",o?Ze(e,17,_Fe(t,c)):Ze(e,6,wFe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ze(e,13,vFe(t,c)):Ze(e,2,pFe(t,c)):o?Ze(e,16,hFe(t,c)):Ze(e,5,dFe(t,c)),!0;case"b":return c.t="b",o?Ze(e,15,tFe(t,c)):Ze(e,4,QMe(t,c)),!0;case"e":return c.t="e",o?Ze(e,14,aFe(t,c)):Ze(e,3,nFe(t,c)),!0}return o?Ze(e,12,JMe(t,c)):Ze(e,1,YMe(t,c)),!0}function qFe(e,t,r,n){var i=Nn(t["!ref"]||"A1"),a,o="",l=[];Ze(e,145);var c=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var d=i.s.r;d<=u;++d){o=wa(d),zMe(e,t,i,d);var f=!1;if(d<=i.e.r)for(var m=i.s.c;m<=i.e.c;++m){d===i.s.r&&(l[m]=Da(m)),a=l[m]+o;var h=c?(t[d]||[])[m]:t[a];if(!h){f=!1;continue}f=HFe(e,h,d,m,n,t,f)}}Ze(e,146)}function VFe(e,t){!t||!t["!merges"]||(Ze(e,177,AFe(t["!merges"].length)),t["!merges"].forEach(function(r){Ze(e,176,CFe(r))}),Ze(e,178))}function GFe(e,t){!t||!t["!cols"]||(Ze(e,390),t["!cols"].forEach(function(r,n){r&&Ze(e,60,DFe(n,r))}),Ze(e,391))}function KFe(e,t){!t||!t["!ref"]||(Ze(e,648),Ze(e,649,BFe(Nn(t["!ref"]))),Ze(e,650))}function YFe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=Gr(r,-1,n[1].Target.replace(/#.*$/,""),Dr.HLINK);Ze(e,494,TFe(n,i))}}),delete t["!links"]}function XFe(e,t,r,n){if(t["!comments"].length>0){var i=Gr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Dr.VML);Ze(e,551,LP("rId"+i)),t["!legacy"]=i}}function JFe(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:_i(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Zs(a);l.s.r==l.e.r&&(l.e.r=Zs(t["!ref"]).e.r,a=_i(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ze(e,161,e0(Nn(a))),Ze(e,162)}}function ZFe(e,t,r){Ze(e,133),Ze(e,137,$Fe(t,r)),Ze(e,138),Ze(e,134)}function QFe(e,t){t["!protect"]&&Ze(e,535,UFe(t["!protect"]))}function e7e(e,t,r,n){var i=ps(),a=r.SheetNames[e],o=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Nn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ze(i,129),(r.vbaraw||o["!outline"])&&Ze(i,147,GMe(l,o["!outline"])),Ze(i,148,HMe(c)),ZFe(i,o,r.Workbook),GFe(i,o),qFe(i,o,e,t),QFe(i,o),JFe(i,o,r,e),VFe(i,o),YFe(i,o,n),o["!margins"]&&Ze(i,476,MFe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&KFe(i,o),XFe(i,o,e,n),Ze(i,130),i.end()}function t7e(e,t){e.l+=10;var r=La(e);return{name:r}}var r7e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function n7e(e){return!e.Workbook||!e.Workbook.WBProps?"false":IIe(e.Workbook.WBProps.date1904)?"true":"false"}var i7e="][*?/\\".split("");function SZ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return i7e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function a7e(e,t,r){e.forEach(function(n,i){SZ(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[i]&&t[i].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function s7e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];a7e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)CMe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function NZ(e){var t=[Si];t[t.length]=ft("workbook",null,{xmlns:Zp[0],"xmlns:r":Ki.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(r7e.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ft("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:Xr(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=ft("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=ft("definedName",Xr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function o7e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=sE(e),r.name=La(e),r}function l7e(e,t){return t||(t=Ge(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),LP(e.strRelID,t),Ji(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function c7e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?La(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function u7e(e,t){t||(t=Ge(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),MJ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function d7e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=nDe(e),o=_Me(e,0,r),l=DP(e);e.l=n;var c={Name:a,Ptg:o};return i<268435455&&(c.Sheet=i),l&&(c.Comment=l),c}function f7e(e,t){Ze(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ze(e,156,l7e(i))}Ze(e,144)}function h7e(e,t){t||(t=Ge(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ji("SheetJS",t),Ji(Wb.version,t),Ji(Wb.version,t),Ji("7262",t),t.length>t.l?t.slice(0,t.l):t}function m7e(e,t){t||(t=Ge(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function p7e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Ze(e,135),Ze(e,158,m7e(i)),Ze(e,136))}}function g7e(e,t){var r=ps();return Ze(r,131),Ze(r,128,h7e()),Ze(r,153,u7e(e.Workbook&&e.Workbook.WBProps||null)),p7e(r,e),f7e(r,e),Ze(r,132),r.end()}function v7e(e,t,r){return(t.slice(-4)===".bin"?g7e:NZ)(e)}function x7e(e,t,r,n,i){return(t.slice(-4)===".bin"?e7e:_Z)(e,r,n,i)}function y7e(e,t,r){return(t.slice(-4)===".bin"?M8e:oZ)(e,r)}function w7e(e,t,r){return(t.slice(-4)===".bin"?u8e:nZ)(e,r)}function b7e(e,t,r){return(t.slice(-4)===".bin"?Q8e:fZ)(e)}function _7e(e){return(e.slice(-4)===".bin"?q8e:uZ)()}function j7e(e,t){var r=[];return e.Props&&r.push(yDe(e.Props,t)),e.Custprops&&r.push(wDe(e.Props,e.Custprops)),r.join("")}function S7e(){return""}function N7e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(ft("NumberFormat",null,{"ss:Format":Xr(Jn[n.numFmtId])}));var o={"ss:ID":"s"+(21+i)};r.push(ft("Style",a.join(""),o))}),ft("Styles",r.join(""))}function kZ(e){return ft("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+BP(e.Ref,{r:0,c:0})})}function k7e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(kZ(i)))}return ft("Names",r.join(""))}function E7e(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],o=0;o<i.length;++o){var l=i[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(kZ(l)))}return a.join("")}function C7e(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(ft("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(ft("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(ft("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(ft("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(xa("ProtectContents","True")),e["!protect"].objects&&i.push(xa("ProtectObjects","True")),e["!protect"].scenarios&&i.push(xa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(xa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(xa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":ft("WorksheetOptions",i.join(""),{xmlns:Ls.x})}function A7e(e){return e.map(function(t){var r=RIe(t.t||""),n=ft("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ft("Comment",n,{"ss:Author":t.a})}).join("")}function P7e(e,t,r,n,i,a,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Xr(BP(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Xi(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Xr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Xr(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=kx[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Jn[14]);break;case"s":f="String",m=OIe(e.v||"");break}var h=Vd(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var v=e.v!=null?m:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(e.c||[]).length>0&&(g+=A7e(e.c)),ft("Cell",g,l)}function T7e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=sZ(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function O7e(e,t,r,n){if(!e["!ref"])return"";var i=Nn(e["!ref"]),a=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,y){FP(x);var w=!!x.width,_=xj(y,x),b={"ss:Index":y+1};w&&(b["ss:Width"]=Qb(_.width)),x.hidden&&(b["ss:Hidden"]="1"),l.push(ft("Column",null,b))});for(var c=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var d=[T7e(u,(e["!rows"]||[])[u])],f=i.s.c;f<=i.e.c;++f){var m=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>f)&&!(a[o].s.r>u)&&!(a[o].e.c<f)&&!(a[o].e.r<u)){(a[o].s.c!=f||a[o].s.r!=u)&&(m=!0);break}if(!m){var h={r:u,c:f},v=rn(h),g=c?(e[u]||[])[f]:e[v];d.push(P7e(g,v,e,t,r,n,h))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function R7e(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],o=a?E7e(a,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=a?O7e(a,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(C7e(a,t,e,r)),n.join("")}function I7e(e,t){t||(t={}),e.SSF||(e.SSF=xs(Jn)),e.SSF&&(hj(),fj(e.SSF),t.revssf=mj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Vd(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(j7e(e,t)),r.push(S7e()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ft("Worksheet",R7e(n,t,e),{"ss:Name":Xr(e.SheetNames[n])}));return r[2]=N7e(e,t),r[3]=k7e(e),Si+ft("Workbook",r.join(""),{xmlns:Ls.ss,"xmlns:o":Ls.o,"xmlns:x":Ls.x,"xmlns:ss":Ls.ss,"xmlns:dt":Ls.dt,"xmlns:html":Ls.html})}var iN={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function D7e(e,t){var r=[],n=[],i=[],a=0,o,l=VM(aF,"n"),c=VM(sF,"n");if(e.Props)for(o=_a(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(l,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:i).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=_a(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(l,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:i).push([o[a],e.Custprops[o[a]]]);var u=[];for(a=0;a<i.length;++a)XJ.indexOf(i[a][0])>-1||GJ.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&an.utils.cfb_add(t,"/SummaryInformation",dF(n,iN.SI,c,sF)),(r.length||u.length)&&an.utils.cfb_add(t,"/DocumentSummaryInformation",dF(r,iN.DSI,l,aF,u.length?u:null,iN.UDI))}function L7e(e,t){var r=t||{},n=an.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return an.utils.cfb_add(n,i,EZ(e,r)),r.biff==8&&(e.Props||e.Custprops)&&D7e(e,n),r.biff==8&&e.vbaraw&&eLe(n,an.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var M7e={0:{f:BMe},1:{f:KMe},2:{f:mFe},3:{f:rFe},4:{f:ZMe},5:{f:uFe},6:{f:yFe},7:{f:sFe},8:{f:kFe},9:{f:NFe},10:{f:jFe},11:{f:SFe},12:{f:XMe},13:{f:gFe},14:{f:iFe},15:{f:eFe},16:{f:fFe},17:{f:bFe},18:{f:lFe},19:{f:IP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:d7e},40:{},42:{},43:{f:y8e},44:{f:v8e},45:{f:_8e},46:{f:S8e},47:{f:j8e},48:{},49:{f:XIe},50:{},51:{f:B8e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:JDe},62:{f:xFe},63:{f:V8e},64:{f:zFe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:oc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:FFe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:VMe},148:{f:WMe,p:16},151:{f:OFe},152:{},153:{f:c7e},154:{},155:{},156:{f:o7e},157:{},158:{},159:{T:1,f:o8e},160:{T:-1},161:{T:1,f:Ah},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:EFe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:F8e},336:{T:-1},337:{f:W8e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:sE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:qDe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:RFe},427:{f:IFe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:LFe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:qMe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:PFe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:sE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:J8e},633:{T:1},634:{T:-1},635:{T:1,f:Y8e},636:{T:-1},637:{f:eDe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:t7e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:WFe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ht(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&TP(r)&&e.push(r)}}function F7e(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return ht(e,t,r,i);var a=t;if(!isNaN(a)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,a),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<i;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Cx(e,t,r){return e||(e=Ge(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function $7e(e,t,r,n){var i=Ge(9);return Cx(i,e,t),ZJ(r,n||"b",i),i}function B7e(e,t,r){var n=Ge(8+2*r.length);return Cx(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function U7e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?vs(Xa(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?ht(e,2,t8e(r,n,i)):ht(e,3,e8e(r,n,i));return;case"b":case"e":ht(e,5,$7e(r,n,t.v,t.t));return;case"s":case"str":ht(e,4,B7e(r,n,(t.v||"").slice(0,255)));return}ht(e,1,Cx(null,r,n))}function z7e(e,t,r,n){var i=Array.isArray(t),a=Nn(t["!ref"]||"A1"),o,l="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=_i(a)}for(var u=a.s.r;u<=a.e.r;++u){l=wa(u);for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(c[d]=Da(d)),o=c[d]+l;var f=i?(t[u]||[])[d]:t[o];f&&U7e(e,f,u,d)}}}function W7e(e,t){for(var r=t||{},n=ps(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ht(n,r.biff==4?1033:r.biff==3?521:9,MP(e,16,r)),z7e(n,e.Sheets[e.SheetNames[i]],i,r),ht(n,10),n.end()}function H7e(e,t,r){ht(e,49,MDe({sz:12,name:"Arial"},r))}function q7e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&ht(e,1054,BDe(i,t[i],r))})}function V7e(e,t){var r=Ge(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ht(e,2151,r),r=Ge(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),tZ(Nn(t["!ref"]||"A1"),r),r.write_shift(4,4),ht(e,2152,r)}function G7e(e,t){for(var r=0;r<16;++r)ht(e,224,hF({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ht(e,224,hF(n,0,t))})}function K7e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ht(e,440,KDe(n)),n[1].Tooltip&&ht(e,2048,YDe(n))}delete t["!links"]}function Y7e(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&ht(e,125,ZDe(xj(i,n),i))})}}function X7e(e,t,r,n,i){var a=16+Vd(i.cellXfs,t,i);if(t.v==null&&!t.bf){ht(e,513,dh(r,n,a));return}if(t.bf)ht(e,6,wMe(t,r,n,i,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?vs(Xa(t.v)):t.v;ht(e,515,HDe(r,n,o,a));break;case"b":case"e":ht(e,517,WDe(r,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var l=zP(i.Strings,t.v,i.revStrings);ht(e,253,FDe(r,n,l,a))}else ht(e,516,$De(r,n,(t.v||"").slice(0,255),a,i));break;default:ht(e,513,dh(r,n,a))}}function J7e(e,t,r){var n=ps(),i=r.SheetNames[e],a=r.Sheets[i]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(a),u=t.biff==8,d,f="",m=[],h=Nn(a["!ref"]||"A1"),v=u?65536:16384;if(h.e.c>255||h.e.r>=v){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,v-1)}ht(n,2057,MP(r,16,t)),ht(n,13,go(1)),ht(n,12,go(100)),ht(n,15,qa(!0)),ht(n,17,qa(!1)),ht(n,16,uh(.001)),ht(n,95,qa(!0)),ht(n,42,qa(!1)),ht(n,43,qa(!1)),ht(n,130,go(1)),ht(n,128,zDe()),ht(n,131,qa(!1)),ht(n,132,qa(!1)),u&&Y7e(n,a["!cols"]),ht(n,512,UDe(h,t)),u&&(a["!links"]=[]);for(var g=h.s.r;g<=h.e.r;++g){f=wa(g);for(var x=h.s.c;x<=h.e.c;++x){g===h.s.r&&(m[x]=Da(x)),d=m[x]+f;var y=c?(a[g]||[])[x]:a[d];y&&(X7e(n,y,g,x,t),u&&y.l&&a["!links"].push([d,y.l]))}}var w=l.CodeName||l.name||i;return u&&ht(n,574,LDe((o.Views||[])[0])),u&&(a["!merges"]||[]).length&&ht(n,229,GDe(a["!merges"])),u&&K7e(n,a),ht(n,442,eZ(w)),u&&V7e(n,a),ht(n,10),n.end()}function Z7e(e,t,r){var n=ps(),i=(e||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},l=r.biff==8,c=r.biff==5;if(ht(n,2057,MP(e,5,r)),r.bookType=="xla"&&ht(n,135),ht(n,225,l?go(1200):null),ht(n,193,jDe(2)),c&&ht(n,191),c&&ht(n,192),ht(n,226),ht(n,92,ODe("SheetJS",r)),ht(n,66,go(l?1200:1252)),l&&ht(n,353,go(0)),l&&ht(n,448),ht(n,317,QDe(e.SheetNames.length)),l&&e.vbaraw&&ht(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";ht(n,442,eZ(u))}ht(n,156,go(17)),ht(n,25,qa(!1)),ht(n,18,qa(!1)),ht(n,19,go(0)),l&&ht(n,431,qa(!1)),l&&ht(n,444,go(0)),ht(n,61,DDe()),ht(n,64,qa(!1)),ht(n,141,go(0)),ht(n,34,qa(n7e(e)=="true")),ht(n,14,qa(!0)),l&&ht(n,439,qa(!1)),ht(n,218,go(0)),H7e(n,e,r),q7e(n,e.SSF,r),G7e(n,r),l&&ht(n,352,qa(!1));var d=n.end(),f=ps();l&&ht(f,140,XDe()),l&&r.Strings&&F7e(f,252,IDe(r.Strings)),ht(f,10);var m=f.end(),h=ps(),v=0,g=0;for(g=0;g<e.SheetNames.length;++g)v+=(l?12:11)+(l?2:1)*e.SheetNames[g].length;var x=d.length+v+m.length;for(g=0;g<e.SheetNames.length;++g){var y=a[g]||{};ht(h,133,RDe({pos:x,hs:y.Hidden||0,dt:0,name:e.SheetNames[g]},r)),x+=t[g].length}var w=h.end();if(v!=w.length)throw new Error("BS8 "+v+" != "+w.length);var _=[];return d.length&&_.push(d),w.length&&_.push(w),m.length&&_.push(m),va(_)}function Q7e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=xs(Jn)),e&&e.SSF&&(hj(),fj(e.SSF),r.revssf=mj(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,WP(r),r.cellXfs=[],Vd(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=J7e(i,r,e);return n.unshift(Z7e(e,n,r)),va(n)}function EZ(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Zs(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return Q7e(e,t);case 4:case 3:case 2:return W7e(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function e$e(e,t,r,n){for(var i=e["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>o)&&!(i[u].e.r<r||i[u].e.c<o)){if(i[u].s.r<r||i[u].s.c<o){l=-1;break}l=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(l<0)){var d=rn({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],m=f&&f.v!=null&&(f.h||TIe(f.w||(du(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),h.id=(n.id||"sjs")+"-"+d,a.push(ft("td",m,h))}}var v="<tr>";return v+a.join("")+"</tr>"}var t$e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',r$e="</body></html>";function n$e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function CZ(e,t){var r=t||{},n=r.header!=null?r.header:t$e,i=r.footer!=null?r.footer:r$e,a=[n],o=Zs(e["!ref"]);r.dense=Array.isArray(e),a.push(n$e(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)a.push(e$e(e,o,l,r));return a.push("</table>"+i),a.join("")}function AZ(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var o=typeof n.origin=="string"?Xi(n.origin):n.origin;i=o.r,a=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var d=Zs(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var f=[],m=0,h=e["!rows"]||(e["!rows"]=[]),v=0,g=0,x=0,y=0,w=0,_=0;for(e["!cols"]||(e["!cols"]=[]);v<l.length&&g<c;++v){var b=l[v];if(wF(b)){if(n.display)continue;h[g]={hidden:!0}}var N=b.children;for(x=y=0;x<N.length;++x){var C=N[x];if(!(n.display&&wF(C))){var S=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):DIe(C.innerHTML),A=C.getAttribute("data-z")||C.getAttribute("z");for(m=0;m<f.length;++m){var k=f[m];k.s.c==y+a&&k.s.r<g+i&&g+i<=k.e.r&&(y=k.e.c+1-a,m=-1)}_=+C.getAttribute("colspan")||1,((w=+C.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:g+i,c:y+a},e:{r:g+i+(w||1)-1,c:y+a+(_||1)-1}});var R={t:"s",v:S},O=C.getAttribute("data-t")||C.getAttribute("t")||"";S!=null&&(S.length==0?R.t=O||"z":n.raw||S.trim().length==0||O=="s"||(S==="TRUE"?R={t:"b",v:!0}:S==="FALSE"?R={t:"b",v:!1}:isNaN(Kc(S))?isNaN(Cv(S).getDate())||(R={t:"d",v:Xa(S)},n.cellDates||(R={t:"n",v:vs(R.v)}),R.z=n.dateNF||Jn[14]):R={t:"n",v:Kc(S)})),R.z===void 0&&A!=null&&(R.z=A);var L="",U=C.getElementsByTagName("A");if(U&&U.length)for(var q=0;q<U.length&&!(U[q].hasAttribute("href")&&(L=U[q].getAttribute("href"),L.charAt(0)!="#"));++q);L&&L.charAt(0)!="#"&&(R.l={Target:L}),n.dense?(e[g+i]||(e[g+i]=[]),e[g+i][y+a]=R):e[rn({c:y+a,r:g+i})]=R,u.e.c<y+a&&(u.e.c=y+a),y+=_}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+i),e["!ref"]=_i(u),g>=c&&(e["!fullref"]=_i((u.e.r=l.length-v+g-1+i,u))),e}function PZ(e,t){var r=t||{},n=r.dense?[]:{};return AZ(n,e,t)}function i$e(e,t){return Nh(PZ(e,t),t)}function wF(e){var t="",r=a$e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function a$e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var s$e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Pv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Si+t}}(),bF=function(){var e=function(a){return Xr(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,o,l){var c=[];c.push('      <table:table table:name="'+Xr(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Zs(a["!ref"]||"A1"),m=a["!merges"]||[],h=0,v=Array.isArray(a);if(a["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(a["!cols"][d]?' table:style-name="co'+a["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",x=a["!rows"]||[];for(u=0;u<f.s.r;++u)g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var y=!1,w={},_="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>d)&&!(m[h].s.r>u)&&!(m[h].e.c<d)&&!(m[h].e.r<u)){(m[h].s.c!=d||m[h].s.r!=u)&&(y=!0),w["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,w["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(y){c.push(r);continue}var b=rn({r:u,c:d}),N=v?(a[u]||[])[d]:a[b];if(N&&N.f&&(w["table:formula"]=Xr(kMe(N.f)),N.F&&N.F.slice(0,b.length)==b)){var C=Zs(N.F);w["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,w["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":_=N.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=N.v?"true":"false";break;case"n":_=N.w||String(N.v||0),w["office:value-type"]="float",w["office:value"]=N.v||0;break;case"s":case"str":_=N.v==null?"":N.v,w["office:value-type"]="string";break;case"d":_=N.w||Xa(N.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Xa(N.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(_);if(N.l&&N.l.Target){var A=N.l.Target;A=A.charAt(0)=="#"?"#"+EMe(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),S=ft("text:a",S,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+ft("table:table-cell",ft("text:p",S,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;FP(f),f.ods=l;var m=u["!cols"][d].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),a.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Si],u=Pv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Pv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(qJ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function TZ(e,t){if(t.bookType=="fods")return bF(e,t);var r=EP(),n="",i=[],a=[];return n="mimetype",gr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",gr(r,n,bF(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",gr(r,n,s$e(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",gr(r,n,Si+qJ()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",gr(r,n,xDe(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",gr(r,n,gDe(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function r2(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function o$e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):cl(Av(e))}function l$e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Dd(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function c$e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=r>=0?0:128}function Tv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function qr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ep(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ri(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=Tv(e,r),a=i&7;i=Math.floor(i/8);var o=0,l;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Tv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:l,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function fa(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(qr(n*8+i.type)),i.type==2&&t.push(qr(i.data.length)),t.push(i.data))})}),Dd(t)}function Jo(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=Tv(e,n),a=Ri(e.slice(n[0],n[0]+i));n[0]+=i;var o={id:ep(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=Ri(l.data),u=ep(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(o.merge=ep(a[3][0].data)>>>0>0),r.push(o)}return r}function lm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:qr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:qr(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:qr(o.data.length)}],n[2].push({data:fa(o.meta),type:2})});var a=fa(n);t.push(qr(a.length)),t.push(a),i.forEach(function(o){return t.push(o)})}),Dd(t)}function u$e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Tv(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}i.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Dd(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var d=Dd(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Zo(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(u$e(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Dd(t)}function cm(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=qr(n),o=a.length;t.push(a),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,r+=n}return Dd(t)}function aN(e,t){var r=new Uint8Array(32),n=r2(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,c$e(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function sN(e,t){var r=new Uint8Array(32),n=r2(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function qu(e){var t=Ri(e);return Tv(t[1][0].data)}function d$e(e,t,r){var n,i,a,o;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(a=e[8])==null?void 0:a[0])==null?void 0:o.data)&&ep(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=r2(e[7][0].data),d=0,f=[],m=r2(e[4][0].data),h=0,v=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),m.setUint16(g*2,h,!0);var x,y;switch(typeof t[g]){case"string":x=aN({t:"s",v:t[g]},r),y=sN({t:"s",v:t[g]},r);break;case"number":x=aN({t:"n",v:t[g]},r),y=sN({t:"n",v:t[g]},r);break;case"boolean":x=aN({t:"b",v:t[g]},r),y=sN({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(x),d+=x.length,v.push(y),h+=y.length,++c}for(e[2][0].data=qr(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return e[6][0].data=Dd(f),e[3][0].data=Dd(v),c}function f$e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Zs(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(_i(n)));var a=n2(r,{range:n,header:1}),o=["~Sh33tJ5~"];a.forEach(function(M){return M.forEach(function(T){typeof T=="string"&&o.push(T)})});var l={},c=[],u=an.read(t.numbers,{type:"base64"});u.FileIndex.map(function(M,T){return[M,u.FullPaths[T]]}).forEach(function(M){var T=M[0],V=M[1];if(T.type==2&&T.name.match(/\.iwa/)){var F=T.content,W=Zo(F),te=Jo(W);te.forEach(function(Y){c.push(Y.id),l[Y.id]={deps:[],location:V,type:ep(Y.messages[0].meta[1][0].data)}})}}),c.sort(function(M,T){return M-T});var d=c.filter(function(M){return M>1}).map(function(M){return[M,qr(M)]});u.FileIndex.map(function(M,T){return[M,u.FullPaths[T]]}).forEach(function(M){var T=M[0];if(M[1],!!T.name.match(/\.iwa/)){var V=Jo(Zo(T.content));V.forEach(function(F){F.messages.forEach(function(W){d.forEach(function(te){F.messages.some(function(Y){return ep(Y.meta[1][0].data)!=11006&&l$e(Y.data,te[1])})&&l[te[0]].deps.push(F.id)})})})}});for(var f=an.find(u,l[1].location),m=Jo(Zo(f.content)),h,v=0;v<m.length;++v){var g=m[v];g.id==1&&(h=g)}var x=qu(Ri(h.messages[0].data)[1][0].data);for(f=an.find(u,l[x].location),m=Jo(Zo(f.content)),v=0;v<m.length;++v)g=m[v],g.id==x&&(h=g);for(x=qu(Ri(h.messages[0].data)[2][0].data),f=an.find(u,l[x].location),m=Jo(Zo(f.content)),v=0;v<m.length;++v)g=m[v],g.id==x&&(h=g);for(x=qu(Ri(h.messages[0].data)[2][0].data),f=an.find(u,l[x].location),m=Jo(Zo(f.content)),v=0;v<m.length;++v)g=m[v],g.id==x&&(h=g);var y=Ri(h.messages[0].data);{y[6][0].data=qr(n.e.r+1),y[7][0].data=qr(n.e.c+1);var w=qu(y[46][0].data),_=an.find(u,l[w].location),b=Jo(Zo(_.content));{for(var N=0;N<b.length&&b[N].id!=w;++N);if(b[N].id!=w)throw"Bad ColumnRowUIDMapArchive";var C=Ri(b[N].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var S=0;S<=n.e.c;++S){var A=[];A[1]=A[2]=[{type:0,data:qr(S+420690)}],C[1].push({type:2,data:fa(A)}),C[2].push({type:0,data:qr(S)}),C[3].push({type:0,data:qr(S)})}C[4]=[],C[5]=[],C[6]=[];for(var k=0;k<=n.e.r;++k)A=[],A[1]=A[2]=[{type:0,data:qr(k+726270)}],C[4].push({type:2,data:fa(A)}),C[5].push({type:0,data:qr(k)}),C[6].push({type:0,data:qr(k)});b[N].messages[0].data=fa(C)}_.content=cm(lm(b)),_.size=_.content.length,delete y[46];var R=Ri(y[4][0].data);{R[7][0].data=qr(n.e.r+1);var O=Ri(R[1][0].data),L=qu(O[2][0].data);_=an.find(u,l[L].location),b=Jo(Zo(_.content));{if(b[0].id!=L)throw"Bad HeaderStorageBucket";var U=Ri(b[0].messages[0].data);for(k=0;k<a.length;++k){var q=Ri(U[2][0].data);q[1][0].data=qr(k),q[4][0].data=qr(a[k].length),U[2][k]={type:U[2][0].type,data:fa(q)}}b[0].messages[0].data=fa(U)}_.content=cm(lm(b)),_.size=_.content.length;var Q=qu(R[2][0].data);_=an.find(u,l[Q].location),b=Jo(Zo(_.content));{if(b[0].id!=Q)throw"Bad HeaderStorageBucket";for(U=Ri(b[0].messages[0].data),S=0;S<=n.e.c;++S)q=Ri(U[2][0].data),q[1][0].data=qr(S),q[4][0].data=qr(n.e.r+1),U[2][S]={type:U[2][0].type,data:fa(q)};b[0].messages[0].data=fa(U)}_.content=cm(lm(b)),_.size=_.content.length;var ie=qu(R[4][0].data);(function(){for(var M=an.find(u,l[ie].location),T=Jo(Zo(M.content)),V,F=0;F<T.length;++F){var W=T[F];W.id==ie&&(V=W)}var te=Ri(V.messages[0].data);{te[3]=[];var Y=[];o.forEach(function(ve,He){Y[1]=[{type:0,data:qr(He)}],Y[2]=[{type:0,data:qr(1)}],Y[3]=[{type:2,data:o$e(ve)}],te[3].push({type:2,data:fa(Y)})})}V.messages[0].data=fa(te);var oe=lm(T),we=cm(oe);M.content=we,M.size=M.content.length})();var z=Ri(R[3][0].data);{var H=z[1][0];delete z[2];var X=Ri(H.data);{var pe=qu(X[2][0].data);(function(){for(var M=an.find(u,l[pe].location),T=Jo(Zo(M.content)),V,F=0;F<T.length;++F){var W=T[F];W.id==pe&&(V=W)}var te=Ri(V.messages[0].data);{delete te[6],delete z[7];var Y=new Uint8Array(te[5][0].data);te[5]=[];for(var oe=0,we=0;we<=n.e.r;++we){var ve=Ri(Y);oe+=d$e(ve,a[we],o),ve[1][0].data=qr(we),te[5].push({data:fa(ve),type:2})}te[1]=[{type:0,data:qr(n.e.c+1)}],te[2]=[{type:0,data:qr(n.e.r+1)}],te[3]=[{type:0,data:qr(oe)}],te[4]=[{type:0,data:qr(n.e.r+1)}]}V.messages[0].data=fa(te);var He=lm(T),ze=cm(He);M.content=ze,M.size=M.content.length})()}H.data=fa(X)}R[3][0].data=fa(z)}y[4][0].data=fa(R)}h.messages[0].data=fa(y);var xe=lm(m),D=cm(xe);return f.content=D,f.size=f.content.length,u}function h$e(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function WP(e){h$e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function m$e(e,t){return t.bookType=="ods"?TZ(e,t):t.bookType=="numbers"?f$e(e,t):t.bookType=="xlsb"?p$e(e,t):g$e(e,t)}function p$e(e,t){Im=1024,e&&!e.SSF&&(e.SSF=xs(Jn)),e&&e.SSF&&(hj(),fj(e.SSF),t.revssf=mj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Pg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=hZ.indexOf(t.bookType)>-1,i=zJ();WP(t=t||{});var a=EP(),o="",l=0;if(t.cellXfs=[],Vd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",gr(a,o,VJ(e.Props,t)),i.coreprops.push(o),Gr(t.rels,2,o,Dr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,gr(a,o,KJ(e.Props)),i.extprops.push(o),Gr(t.rels,3,o,Dr.EXT_PROPS),e.Custprops!==e.Props&&_a(e.Custprops||{}).length>0&&(o="docProps/custom.xml",gr(a,o,YJ(e.Custprops)),i.custprops.push(o),Gr(t.rels,4,o,Dr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,gr(a,o,x7e(l-1,o,t,e,d)),i.sheets.push(o),Gr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Dr.WS[0])}if(f){var h=f["!comments"],v=!1,g="";h&&h.length>0&&(g="xl/comments"+l+"."+r,gr(a,g,b7e(h,g)),i.comments.push(g),Gr(d,-1,"../comments"+l+"."+r,Dr.CMNT),v=!0),f["!legacy"]&&v&&gr(a,"xl/drawings/vmlDrawing"+l+".vml",dZ(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&gr(a,HJ(o),Zm(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,gr(a,o,w7e(t.Strings,o,t)),i.strs.push(o),Gr(t.wbrels,-1,"sharedStrings."+r,Dr.SST)),o="xl/workbook."+r,gr(a,o,v7e(e,o)),i.workbooks.push(o),Gr(t.rels,1,o,Dr.WB),o="xl/theme/theme1.xml",gr(a,o,cZ(e.Themes,t)),i.themes.push(o),Gr(t.wbrels,-1,"theme/theme1.xml",Dr.THEME),o="xl/styles."+r,gr(a,o,y7e(e,o,t)),i.styles.push(o),Gr(t.wbrels,-1,"styles."+r,Dr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",gr(a,o,e.vbaraw),i.vba.push(o),Gr(t.wbrels,-1,"vbaProject.bin",Dr.VBA)),o="xl/metadata."+r,gr(a,o,_7e(o)),i.metadata.push(o),Gr(t.wbrels,-1,"metadata."+r,Dr.XLMETA),gr(a,"[Content_Types].xml",WJ(i,t)),gr(a,"_rels/.rels",Zm(t.rels)),gr(a,"xl/_rels/workbook."+r+".rels",Zm(t.wbrels)),delete t.revssf,delete t.ssf,a}function g$e(e,t){Im=1024,e&&!e.SSF&&(e.SSF=xs(Jn)),e&&e.SSF&&(hj(),fj(e.SSF),t.revssf=mj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Pg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=hZ.indexOf(t.bookType)>-1,i=zJ();WP(t=t||{});var a=EP(),o="",l=0;if(t.cellXfs=[],Vd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",gr(a,o,VJ(e.Props,t)),i.coreprops.push(o),Gr(t.rels,2,o,Dr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,gr(a,o,KJ(e.Props)),i.extprops.push(o),Gr(t.rels,3,o,Dr.EXT_PROPS),e.Custprops!==e.Props&&_a(e.Custprops||{}).length>0&&(o="docProps/custom.xml",gr(a,o,YJ(e.Custprops)),i.custprops.push(o),Gr(t.rels,4,o,Dr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,gr(a,o,_Z(l-1,t,e,f)),i.sheets.push(o),Gr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Dr.WS[0])}if(m){var v=m["!comments"],g=!1,x="";if(v&&v.length>0){var y=!1;v.forEach(function(w){w[1].forEach(function(_){_.T==!0&&(y=!0)})}),y&&(x="xl/threadedComments/threadedComment"+l+"."+r,gr(a,x,G8e(v,d,t)),i.threadedcomments.push(x),Gr(f,-1,"../threadedComments/threadedComment"+l+"."+r,Dr.TCMNT)),x="xl/comments"+l+"."+r,gr(a,x,fZ(v)),i.comments.push(x),Gr(f,-1,"../comments"+l+"."+r,Dr.CMNT),g=!0}m["!legacy"]&&g&&gr(a,"xl/drawings/vmlDrawing"+l+".vml",dZ(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&gr(a,HJ(o),Zm(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,gr(a,o,nZ(t.Strings,t)),i.strs.push(o),Gr(t.wbrels,-1,"sharedStrings."+r,Dr.SST)),o="xl/workbook."+r,gr(a,o,NZ(e)),i.workbooks.push(o),Gr(t.rels,1,o,Dr.WB),o="xl/theme/theme1.xml",gr(a,o,cZ(e.Themes,t)),i.themes.push(o),Gr(t.wbrels,-1,"theme/theme1.xml",Dr.THEME),o="xl/styles."+r,gr(a,o,oZ(e,t)),i.styles.push(o),Gr(t.wbrels,-1,"styles."+r,Dr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",gr(a,o,e.vbaraw),i.vba.push(o),Gr(t.wbrels,-1,"vbaProject.bin",Dr.VBA)),o="xl/metadata."+r,gr(a,o,uZ()),i.metadata.push(o),Gr(t.wbrels,-1,"metadata."+r,Dr.XLMETA),d.length>1&&(o="xl/persons/person.xml",gr(a,o,K8e(d)),i.people.push(o),Gr(t.wbrels,-1,"persons/person.xml",Dr.PEOPLE)),gr(a,"[Content_Types].xml",WJ(i,t)),gr(a,"_rels/.rels",Zm(t.rels)),gr(a,"xl/_rels/workbook."+r+".rels",Zm(t.wbrels)),delete t.revssf,delete t.ssf,a}function v$e(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=uu(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function OZ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Sx(t.file,an.write(e,{type:Fr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return an.write(e,t)}function x$e(e,t){var r=xs(t||{}),n=m$e(e,r);return y$e(n,r)}function y$e(e,t){var r={},n=Fr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?an.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(dj(i))}return t.password&&typeof encrypt_agile<"u"?OZ(encrypt_agile(i,t.password),t):t.type==="file"?Sx(t.file,i):t.type=="string"?kg(i):i}function w$e(e,t){var r=t||{},n=L7e(e,r);return OZ(n,r)}function Ul(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Ev(Av(n));case"binary":return Av(n);case"string":return e;case"file":return Sx(t.file,n,"utf8");case"buffer":return Fr?ju(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ul(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function b$e(e,t){switch(t.type){case"base64":return Ev(e);case"binary":return e;case"string":return e;case"file":return Sx(t.file,e,"binary");case"buffer":return Fr?ju(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function x1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Ev(r):t.type=="string"?kg(r):r;case"file":return Sx(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function RZ(e,t){YRe(),s7e(e);var r=xs(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=RZ(e,r);return r.type="array",dj(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ul(I7e(e,r),r);case"slk":case"sylk":return Ul(n8e.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return Ul(CZ(e.Sheets[e.SheetNames[i]],r),r);case"txt":return b$e(IZ(e.Sheets[e.SheetNames[i]],r),r);case"csv":return Ul(HP(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return Ul(i8e.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return x1(r8e.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return Ul(a8e.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return Ul(f8e.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return Ul(rZ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return Ul(TZ(e,r),r);case"wk1":return x1(mF.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return x1(mF.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),x1(EZ(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),w$e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return x$e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function _$e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function j$e(e,t,r){var n={};return n.type="file",n.file=t,_$e(n),RZ(e,n)}function S$e(e,t,r,n,i,a,o,l){var c=wa(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var v=o?e[r][h]:e[n[h]+c];if(v===void 0||v.t===void 0){if(u===void 0)continue;a[h]!=null&&(m[a[h]]=u);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(a[h]!=null){if(g==null)if(v.t=="e"&&g===null)m[a[h]]=null;else if(u!==void 0)m[a[h]]=u;else if(d&&g===null)m[a[h]]=null;else continue;else m[a[h]]=d&&(v.t!=="n"||v.t==="n"&&l.rawNumbers!==!1)?g:du(v,g,l);g!=null&&(f=!1)}}return{row:m,isempty:f}}function n2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Nn(d);break;case"number":c=Nn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(i=0);var f=wa(c.s.r),m=[],h=[],v=0,g=0,x=Array.isArray(e),y=c.s.r,w=0,_={};x&&!e[y]&&(e[y]=[]);var b=u.skipHidden&&e["!cols"]||[],N=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(b[w]||{}).hidden)switch(m[w]=Da(w),r=x?e[y][w]:e[m[w]+f],n){case 1:a[w]=w-c.s.c;break;case 2:a[w]=m[w];break;case 3:a[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=du(r,null,u),g=_[o]||0,!g)_[o]=1;else{do l=o+"_"+g++;while(_[l]);_[o]=g,_[l]=1}a[w]=l}for(y=c.s.r+i;y<=c.e.r;++y)if(!(N[y]||{}).hidden){var C=S$e(e,c,y,m,n,a,x,u);(C.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[v++]=C.row)}return h.length=v,h}var _F=/"/g;function N$e(e,t,r,n,i,a,o,l){for(var c=!0,u=[],d="",f=wa(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var h=l.dense?(e[r]||[])[m]:e[n[m]+f];if(h==null)d="";else if(h.v!=null){c=!1,d=""+(l.rawNumbers&&h.t=="n"?h.v:du(h,null,l));for(var v=0,g=0;v!==d.length;++v)if((g=d.charCodeAt(v))===i||g===a||g===34||l.forceQuotes){d='"'+d.replace(_F,'""')+'"';break}d=="ID"&&(d='"ID"')}else h.f!=null&&!h.F?(c=!1,d="="+h.f,d.indexOf(",")>=0&&(d='"'+d.replace(_F,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function HP(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=Nn(e["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(m[v]||{}).hidden||(f[v]=Da(v));for(var g=0,x=i.s.r;x<=i.e.r;++x)(h[x]||{}).hidden||(d=N$e(e,i,x,f,o,c,a,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function IZ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=HP(e,t);return r}function k$e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Nn(e["!ref"]),a="",o=[],l,c=[],u=Array.isArray(e);for(l=i.s.c;l<=i.e.c;++l)o[l]=Da(l);for(var d=i.s.r;d<=i.e.r;++d)for(a=wa(d),l=i.s.c;l<=i.e.c;++l)if(t=o[l]+a,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function DZ(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},o=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Xi(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+i}};if(a["!ref"]){var f=Nn(a["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+i)}else o==-1&&(o=0,d.e.r=t.length-1+i);var m=n.header||[],h=0;t.forEach(function(g,x){_a(g).forEach(function(y){(h=m.indexOf(y))==-1&&(m[h=m.length]=y);var w=g[y],_="z",b="",N=rn({c:l+h,r:o+x+i});u=Ov(a,N),w&&typeof w=="object"&&!(w instanceof Date)?a[N]=w:(typeof w=="number"?_="n":typeof w=="boolean"?_="b":typeof w=="string"?_="s":w instanceof Date?(_="d",n.cellDates||(_="n",w=vs(w)),b=n.dateNF||Jn[14]):w===null&&n.nullError&&(_="e",w=0),u?(u.t=_,u.v=w,delete u.w,delete u.R,b&&(u.z=b)):a[N]=u={t:_,v:w},b&&(u.z=b))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var v=wa(o);if(i)for(h=0;h<m.length;++h)a[Da(h+l)+v]={t:"s",v:m[h]};return a["!ref"]=_i(d),a}function E$e(e,t){return DZ(null,e,t)}function Ov(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Xi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Ov(e,rn(t)):Ov(e,rn({r:t,c:r||0}))}function C$e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function A$e(){return{SheetNames:[],Sheets:{}}}function P$e(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=o+i)!=-1;++i);}if(SZ(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function T$e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=C$e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function O$e(e,t){return e.z=t,e}function LZ(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function R$e(e,t,r){return LZ(e,"#"+t,r)}function I$e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function D$e(e,t,r,n){for(var i=typeof t!="string"?t:Nn(t),a=typeof t=="string"?t:_i(t),o=i.s.r;o<=i.e.r;++o)for(var l=i.s.c;l<=i.e.c;++l){var c=Ov(e,o,l);c.t="n",c.F=a,delete c.v,o==i.s.r&&l==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var oN={encode_col:Da,encode_row:wa,encode_cell:rn,encode_range:_i,decode_col:RP,decode_row:OP,split_cell:YIe,decode_cell:Xi,decode_range:Zs,format_cell:du,sheet_add_aoa:LJ,sheet_add_json:DZ,sheet_add_dom:AZ,aoa_to_sheet:Qp,json_to_sheet:E$e,table_to_sheet:PZ,table_to_book:i$e,sheet_to_csv:HP,sheet_to_txt:IZ,sheet_to_json:n2,sheet_to_html:CZ,sheet_to_formulae:k$e,sheet_to_row_object_array:n2,sheet_get_cell:Ov,book_new:A$e,book_append_sheet:P$e,book_set_sheet_visibility:T$e,cell_set_number_format:O$e,cell_set_hyperlink:LZ,cell_set_internal_link:R$e,cell_add_comment:I$e,sheet_set_array_formula:D$e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const L$e=e=>{const{filename:t,title:r,columns:n,data:i}=e,a=n.map(f=>f.label),o=i.map(f=>n.map(m=>{const h=f[m.key];return m.format?m.format(h):h||""})),l=[a,...o],c=oN.aoa_to_sheet(l),u=n.map(f=>{const m=Math.max(f.label.length,...o.map((h,v)=>String(h[n.indexOf(f)]).length));return{wch:Math.min(m+2,50)}});c["!cols"]=u;const d=oN.book_new();oN.book_append_sheet(d,c,r||"Data"),j$e(d,`${t}.xlsx`)},M$e=e=>{const{filename:t,title:r,columns:n,data:i}=e,a=new Wt;r&&(a.setFontSize(16),a.text(r,14,15));const o=n.map(c=>c.label),l=i.map(c=>n.map(u=>{const d=c[u.key];return u.format?u.format(d):d!=null?String(d):""}));nE(a,{head:[o],body:l,startY:r?25:15,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:[255,255,255],fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},columnStyles:n.reduce((c,u,d)=>(c[d]={cellWidth:"auto"},c),{})}),a.save(`${t}.pdf`)},F$e=e=>{const{filename:t,columns:r,data:n}=e,i=r.map(u=>u.label).join(","),a=n.map(u=>r.map(d=>{const f=u[d.key],m=d.format?d.format(f):f||"";return`"${String(m).replace(/"/g,'""')}"`}).join(",")),o=[i,...a].join(`
`),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.href=URL.createObjectURL(l),c.download=`${t}.csv`,c.click()};function $$e({open:e,onOpenChange:t,title:r,data:n,columns:i,filename:a,onDateRangeFilter:o}){const[l,c]=p.useState("csv"),[u,d]=p.useState(""),[f,m]=p.useState(""),v=u&&f&&o?o(u,f):n,g=v.length,x=()=>{const y={filename:a,title:r,columns:i,data:v};switch(l){case"xlsx":L$e(y);break;case"pdf":M$e(y);break;case"csv":default:F$e(y);break}t(!1)};return s.jsx(Zr,{open:e,onOpenChange:t,children:s.jsxs(Ur,{className:"sm:max-w-md",children:[s.jsxs(Qr,{children:[s.jsx(tn,{children:"Export Data"}),s.jsx(Vc,{children:"Choose a format and optional date range to export your data."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"format-select",children:"Export Format"}),s.jsxs(_t,{value:l,onValueChange:y=>c(y),children:[s.jsx(wt,{id:"format-select","data-testid":"select-format",children:s.jsx(jt,{placeholder:"Select format"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"csv","data-testid":"option-csv",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zn,{className:"h-4 w-4"}),"CSV"]})}),s.jsx(Ce,{value:"xlsx","data-testid":"option-xlsx",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lae,{className:"h-4 w-4"}),"Excel (XLSX)"]})}),s.jsx(Ce,{value:"pdf","data-testid":"option-pdf",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zn,{className:"h-4 w-4"}),"PDF"]})})]})]})]}),o&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(be,{className:"text-foreground",children:"Date Range (Optional)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(be,{htmlFor:"start-date",className:"text-xs text-muted-foreground",children:"From"}),s.jsx(We,{id:"start-date",type:"date",value:u,onChange:y=>d(y.target.value),"data-testid":"input-start-date"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(be,{htmlFor:"end-date",className:"text-xs text-muted-foreground",children:"To"}),s.jsx(We,{id:"end-date",type:"date",value:f,onChange:y=>m(y.target.value),"data-testid":"input-end-date"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-md bg-secondary/50 p-3",children:[s.jsx("span",{className:"text-sm text-foreground",children:"Items to export:"}),s.jsxs($t,{variant:"secondary","data-testid":"badge-item-count",children:[g," ",g===1?"item":"items"]})]})]}),s.jsxs(en,{className:"gap-2 sm:gap-0",children:[s.jsx(je,{variant:"outline",onClick:()=>t(!1),"data-testid":"button-cancel",children:"Cancel"}),s.jsxs(je,{onClick:x,className:"gap-2","data-testid":"button-export",children:[s.jsx(cp,{className:"h-4 w-4"}),"Export"]})]})]})})}function B$e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState([]),[a,o]=p.useState(!0),[l,c]=p.useState("_all"),[u,d]=p.useState("_all"),[f,m]=p.useState(!1);p.useEffect(()=>{h()},[]);const h=async()=>{try{const[_,b]=await Promise.all([ge.from("weekly_reports").select(`
          *,
          clients(*),
          profiles(*),
          services(*),
          service_metrics(*)
        `).order("week_start_date",{ascending:!1}),ge.from("clients").select("*").order("name")]);if(_.data){const N=_.data.map(C=>{var S;return{...C,client:C.clients,employee:C.profiles,service:C.services,metrics:((S=C.service_metrics)==null?void 0:S[0])||void 0}});r(N)}b.data&&i(b.data)}catch(_){console.error("Error loading reports:",_)}finally{o(!1)}},v=async(_,b)=>{const N=t.filter(S=>S.client_id===_&&S.week_start_date===b);if(N.length===0){e("error","No reports found for this week");return}const C=N[0];if(C)try{VRe({report:C,client:C.client,employee:C.employee,service:C.service,metrics:C.metrics}),e("success","PDF downloaded successfully")}catch(S){console.error("Error generating PDF:",S),e("error","Failed to generate PDF")}},g=t.filter(_=>!(l!=="_all"&&_.client_id!==l||u!=="_all"&&_.week_start_date!==u)),x=g.reduce((_,b)=>{const N=`${b.client_id}_${b.week_start_date}`;return _[N]||(_[N]={client:b.client,week:b.week_start_date,reports:[]}),_[N].reports.push(b),_},{}),y=Array.from(new Set(t.map(_=>_.week_start_date))).sort().reverse(),w=_=>{switch(_){case"on_track":return"default";case"needs_attention":return"secondary";case"delayed":return"destructive";default:return"outline"}};return a?s.jsxs("div",{"data-testid":"reports-loading",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"h-8 w-64"}),s.jsx(ke,{className:"h-4 w-80"})]}),s.jsx(ke,{className:"h-16 w-full"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{className:"h-48 w-full"}),s.jsx(ke,{className:"h-48 w-full"}),s.jsx(ke,{className:"h-48 w-full"})]})]}):s.jsxs("div",{"data-testid":"reports-page",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-page-title",children:"Reports Overview"}),s.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-page-description",children:"View and download client weekly reports"})]}),s.jsxs(je,{"data-testid":"button-export-reports",variant:"outline",onClick:()=>m(!0),children:[s.jsx(cp,{className:"h-4 w-4 mr-2"}),"Export Reports"]})]}),s.jsx($$e,{open:f,onOpenChange:m,title:"Export Reports",data:g,columns:[{key:"week_start_date",label:"Week"},{key:"client",label:"Client",format:_=>(_==null?void 0:_.name)||"N/A"},{key:"employee",label:"Employee",format:_=>(_==null?void 0:_.full_name)||"N/A"},{key:"service",label:"Service",format:_=>(_==null?void 0:_.name)||"N/A"},{key:"status",label:"Status"},{key:"work_summary",label:"Summary"}],filename:"reports-export",onDateRangeFilter:(_,b)=>g.filter(N=>{const C=N.week_start_date;return C>=_&&C<=b})}),s.jsx(Le,{"data-testid":"reports-filter-card",children:s.jsx(Fe,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsx(x9,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs(_t,{value:l,onValueChange:c,children:[s.jsx(wt,{className:"w-[200px]","data-testid":"select-client-filter",children:s.jsx(jt,{placeholder:"All Clients"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"_all",children:"All Clients"}),n.map(_=>s.jsx(Ce,{value:_.id,children:_.name},_.id))]})]}),s.jsxs(_t,{value:u,onValueChange:d,children:[s.jsx(wt,{className:"w-[220px]","data-testid":"select-week-filter",children:s.jsx(jt,{placeholder:"All Weeks"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"_all",children:"All Weeks"}),y.map(_=>s.jsxs(Ce,{value:_,children:["Week of ",new Date(_).toLocaleDateString()]},_))]})]})]})})}),s.jsx(rA,{children:s.jsxs("div",{className:"space-y-6",children:[Object.values(x).map(({client:_,week:b,reports:N})=>_?s.jsxs(Le,{"data-testid":`card-report-group-${_.id}`,children:[s.jsxs(Rr,{className:"flex flex-row items-center justify-between gap-4 flex-wrap space-y-0 pb-4",children:[s.jsxs("div",{children:[s.jsx(Ir,{className:"text-lg","data-testid":`text-client-name-${_.id}`,children:_.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Week of ",new Date(b).toLocaleDateString()]})]}),s.jsxs(je,{onClick:()=>v(_.id,b),"data-testid":`button-download-pdf-${_.id}`,children:[s.jsx(cp,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]}),s.jsx(ul,{}),s.jsx(Fe,{className:"pt-4",children:s.jsx("div",{className:"space-y-4",children:N.map(C=>{var S,A;return s.jsx(Le,{className:"bg-muted/50","data-testid":`card-report-${C.id}`,children:s.jsxs(Fe,{className:"pt-4 pb-4",children:[s.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground","data-testid":`text-service-name-${C.id}`,children:(S=C.service)==null?void 0:S.name}),s.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-employee-name-${C.id}`,children:(A=C.employee)==null?void 0:A.full_name})]}),s.jsx($t,{variant:w(C.status),"data-testid":`badge-status-${C.id}`,children:C.status.replace("_"," ")})]}),s.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-work-summary-${C.id}`,children:C.work_summary})]})},C.id)})})})]},`${_.id}_${b}`):null),Object.keys(x).length===0&&s.jsx(Le,{"data-testid":"reports-empty-state",children:s.jsxs(Fe,{className:"py-12 text-center",children:[s.jsx(Zn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground","data-testid":"text-empty-message",children:"No reports found for the selected filters."})]})})]})})]})}function U$e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState([]),[a,o]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(!1),[f,m]=p.useState(null),[h,v]=p.useState({client_id:"",service_id:"",monthly_budget:"",actual_spending:"",currency:"USD",start_date:new Date().toISOString().split("T")[0],end_date:"",notes:""});p.useEffect(()=>{g()},[]);const g=async()=>{try{const[b,N,C]=await Promise.all([ge.from("client_budgets").select(`
          *,
          clients(*),
          services(*)
        `).order("created_at",{ascending:!1}),ge.from("clients").select("*").eq("status","active"),ge.from("services").select("*").eq("is_active",!0)]);if(b.data){const S=b.data.map(A=>({...A,client:A.clients,service:A.services}));r(S)}N.data&&i(N.data),C.data&&o(C.data)}catch(b){console.error("Error loading data:",b)}finally{c(!1)}},x=b=>{var N;b?(m(b),v({client_id:b.client_id,service_id:b.service_id,monthly_budget:b.monthly_budget.toString(),actual_spending:((N=b.actual_spending)==null?void 0:N.toString())||"0",currency:b.currency,start_date:b.start_date,end_date:b.end_date||"",notes:b.notes||""})):(m(null),v({client_id:"",service_id:"",monthly_budget:"",actual_spending:"0",currency:"USD",start_date:new Date().toISOString().split("T")[0],end_date:"",notes:""})),d(!0)},y=async b=>{b.preventDefault();try{const N={client_id:h.client_id,service_id:h.service_id,monthly_budget:parseFloat(h.monthly_budget),actual_spending:parseFloat(h.actual_spending)||0,currency:h.currency,start_date:h.start_date,end_date:h.end_date||null,notes:h.notes||null};if(f){const{error:C}=await ge.from("client_budgets").update({...N,updated_at:new Date().toISOString()}).eq("id",f.id);if(C)throw C}else{const{error:C}=await ge.from("client_budgets").insert(N);if(C)throw C}d(!1),g()}catch(N){console.error("Error saving budget:",N),e("Failed to save budget","error")}},w=async b=>{if(confirm("Are you sure you want to delete this budget?"))try{const{error:N}=await ge.from("client_budgets").delete().eq("id",b);if(N)throw N;g()}catch(N){console.error("Error deleting budget:",N)}},_=t.reduce((b,N)=>b+Number(N.monthly_budget),0);return l?s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{className:"h-8 w-48"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(ke,{className:"h-28"}),s.jsx(ke,{className:"h-28"}),s.jsx(ke,{className:"h-28"})]}),s.jsx(ke,{className:"h-64 w-full"})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Budget Tracking"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage client budgets and spending"})]}),s.jsxs(je,{onClick:()=>x(),"data-testid":"button-add-budget",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Budget"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Monthly Budget"}),s.jsxs("p",{className:"text-3xl font-bold text-foreground mt-2","data-testid":"text-total-budget",children:["$",_.toLocaleString()]})]}),s.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-md",children:s.jsx(xd,{className:"h-8 w-8 text-green-600"})})]})})}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Budgets"}),s.jsx("p",{className:"text-3xl font-bold text-foreground mt-2","data-testid":"text-active-budgets",children:t.length})]}),s.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-md",children:s.jsx(xd,{className:"h-8 w-8 text-blue-600"})})]})})}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg per Client"}),s.jsxs("p",{className:"text-3xl font-bold text-foreground mt-2","data-testid":"text-avg-budget",children:["$",n.length>0?(_/n.length).toFixed(0):0]})]}),s.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-md",children:s.jsx(xd,{className:"h-8 w-8 text-purple-600"})})]})})})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsxs(Ao,{children:[s.jsx(Po,{children:s.jsxs($r,{children:[s.jsx(St,{children:"Client"}),s.jsx(St,{children:"Service"}),s.jsx(St,{children:"Monthly Budget"}),s.jsx(St,{children:"Actual Spending"}),s.jsx(St,{children:"Utilization"}),s.jsx(St,{children:"Period"}),s.jsx(St,{className:"text-right",children:"Actions"})]})}),s.jsxs(To,{children:[t.map(b=>{var N,C;return s.jsxs($r,{"data-testid":`row-budget-${b.id}`,children:[s.jsx(vt,{className:"font-medium text-foreground",children:(N=b.client)==null?void 0:N.name}),s.jsx(vt,{className:"text-muted-foreground",children:(C=b.service)==null?void 0:C.name}),s.jsxs(vt,{className:"font-semibold text-foreground",children:[b.currency," ",Number(b.monthly_budget).toLocaleString()]}),s.jsxs(vt,{className:"text-foreground",children:[b.currency," ",Number(b.actual_spending).toLocaleString()]}),s.jsx(vt,{children:s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsxs("span",{className:`text-sm font-medium ${b.budget_utilization>=100?"text-red-600":b.budget_utilization>=75?"text-orange-600":b.budget_utilization>=50?"text-yellow-600":"text-green-600"}`,children:[Number(b.budget_utilization).toFixed(0),"%"]})}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${b.budget_utilization>=100?"bg-red-600":b.budget_utilization>=75?"bg-orange-500":b.budget_utilization>=50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(b.budget_utilization,100)}%`}})})]})}),s.jsxs(vt,{className:"text-sm text-muted-foreground",children:[new Date(b.start_date).toLocaleDateString()," -"," ",b.end_date?new Date(b.end_date).toLocaleDateString():"Ongoing"]}),s.jsx(vt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>x(b),"data-testid":`button-edit-budget-${b.id}`,children:s.jsx(mu,{className:"h-4 w-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>w(b.id),"data-testid":`button-delete-budget-${b.id}`,children:s.jsx(Io,{className:"h-4 w-4"})})]})})]},b.id)}),t.length===0&&s.jsx($r,{children:s.jsx(vt,{colSpan:7,className:"text-center py-12 text-muted-foreground",children:"No budgets configured yet. Add your first budget to get started."})})]})]})})}),s.jsx(Zr,{open:u,onOpenChange:d,children:s.jsxs(Ur,{className:"max-w-lg",children:[s.jsx(Qr,{children:s.jsx(tn,{children:f?"Edit Budget":"Add New Budget"})}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Client"}),s.jsxs(_t,{value:h.client_id,onValueChange:b=>v({...h,client_id:b}),children:[s.jsx(wt,{"data-testid":"select-budget-client",children:s.jsx(jt,{placeholder:"Select a client"})}),s.jsx(bt,{children:n.map(b=>s.jsx(Ce,{value:b.id,children:b.name},b.id))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Service"}),s.jsxs(_t,{value:h.service_id,onValueChange:b=>v({...h,service_id:b}),children:[s.jsx(wt,{"data-testid":"select-budget-service",children:s.jsx(jt,{placeholder:"Select a service"})}),s.jsx(bt,{children:a.map(b=>s.jsx(Ce,{value:b.id,children:b.name},b.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Monthly Budget"}),s.jsx(We,{type:"number",step:"0.01",value:h.monthly_budget,onChange:b=>v({...h,monthly_budget:b.target.value}),required:!0,"data-testid":"input-monthly-budget"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Actual Spending"}),s.jsx(We,{type:"number",step:"0.01",value:h.actual_spending,onChange:b=>v({...h,actual_spending:b.target.value}),required:!0,"data-testid":"input-actual-spending"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Currency"}),s.jsxs(_t,{value:h.currency,onValueChange:b=>v({...h,currency:b}),children:[s.jsx(wt,{"data-testid":"select-budget-currency",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"USD",children:"USD"}),s.jsx(Ce,{value:"EUR",children:"EUR"}),s.jsx(Ce,{value:"GBP",children:"GBP"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Start Date"}),s.jsx(We,{type:"date",value:h.start_date,onChange:b=>v({...h,start_date:b.target.value}),required:!0,"data-testid":"input-budget-start-date"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"End Date (Optional)"}),s.jsx(We,{type:"date",value:h.end_date,onChange:b=>v({...h,end_date:b.target.value}),"data-testid":"input-budget-end-date"})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Notes"}),s.jsx("textarea",{value:h.notes,onChange:b=>v({...h,notes:b.target.value}),rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","data-testid":"input-budget-notes"})]}),s.jsxs(en,{children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-budget",children:"Cancel"}),s.jsx(je,{type:"submit","data-testid":"button-save-budget",children:f?"Update Budget":"Create Budget"})]})]})]})})]})}function z$e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState([]),[a,o]=p.useState(new Set),[l,c]=p.useState(new Set),[u,d]=p.useState(""),[f,m]=p.useState(!0),[h,v]=p.useState(!1);p.useEffect(()=>{g()},[]);const g=async()=>{try{const[N,C]=await Promise.all([ge.from("clients").select("*").order("name"),ge.from("profiles").select("*").eq("role","employee").eq("status","active")]);N.data&&r(N.data),C.data&&i(C.data)}catch(N){console.error("Error loading data:",N)}finally{m(!1)}},x=N=>{const C=new Set(a);C.has(N)?C.delete(N):C.add(N),o(C)},y=N=>{const C=new Set(l);C.has(N)?C.delete(N):C.add(N),c(C)},w=()=>{a.size===t.length?o(new Set):o(new Set(t.map(N=>N.id)))},_=()=>{l.size===n.length?c(new Set):c(new Set(n.map(N=>N.id)))},b=async()=>{if(!u){e("Please select an operation","warning");return}if(a.size===0&&u!=="assign_employees"){e("Please select at least one client","warning");return}v(!0);try{switch(u){case"archive_clients":await Promise.all(Array.from(a).map(N=>ge.from("clients").update({status:"completed",updated_at:new Date().toISOString()}).eq("id",N))),e(`${a.size} clients archived successfully`,"success");break;case"activate_clients":await Promise.all(Array.from(a).map(N=>ge.from("clients").update({status:"active",updated_at:new Date().toISOString()}).eq("id",N))),e(`${a.size} clients activated successfully`,"success");break;case"pause_clients":await Promise.all(Array.from(a).map(N=>ge.from("clients").update({status:"paused",updated_at:new Date().toISOString()}).eq("id",N))),e(`${a.size} clients paused successfully`,"success");break;case"delete_clients":if(!confirm(`Are you sure you want to delete ${a.size} clients? This cannot be undone.`))break;await Promise.all(Array.from(a).map(N=>ge.from("clients").delete().eq("id",N))),e(`${a.size} clients deleted successfully`,"success");break;case"deactivate_employees":await Promise.all(Array.from(l).map(N=>ge.from("profiles").update({status:"inactive",updated_at:new Date().toISOString()}).eq("id",N))),e(`${l.size} employees deactivated successfully`,"success");break;default:e("Invalid operation","error")}o(new Set),c(new Set),g()}catch(N){console.error("Error performing bulk operation:",N),e("Failed to complete bulk operation","error")}finally{v(!1)}};return f?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(ke,{className:"h-24 w-full"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(ke,{className:"h-96 w-full"}),s.jsx(ke,{className:"h-96 w-full"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Bulk Operations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Perform actions on multiple items at once"})]})}),s.jsxs(Le,{children:[s.jsx(Rr,{children:s.jsx(Ir,{children:"Select Operation"})}),s.jsx(Fe,{children:s.jsxs(_t,{value:u,onValueChange:N=>d(N),children:[s.jsx(wt,{"data-testid":"select-operation",children:s.jsx(jt,{placeholder:"Choose an operation..."})}),s.jsxs(bt,{children:[s.jsxs(lL,{children:[s.jsx(U4,{children:"Client Operations"}),s.jsx(Ce,{value:"activate_clients",children:"Activate Selected Clients"}),s.jsx(Ce,{value:"pause_clients",children:"Pause Selected Clients"}),s.jsx(Ce,{value:"archive_clients",children:"Archive Selected Clients"}),s.jsx(Ce,{value:"delete_clients",children:"Delete Selected Clients"})]}),s.jsxs(lL,{children:[s.jsx(U4,{children:"Employee Operations"}),s.jsx(Ce,{value:"deactivate_employees",children:"Deactivate Selected Employees"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsxs(Rr,{className:"flex flex-row items-center justify-between gap-2 flex-wrap space-y-0",children:[s.jsx(Ir,{children:"Clients"}),s.jsxs(je,{variant:"ghost",size:"sm",onClick:w,"data-testid":"button-select-all-clients",children:[s.jsx(tv,{className:"h-4 w-4 mr-1"}),a.size===t.length?"Deselect All":"Select All"]})]}),s.jsx(Fe,{className:"max-h-96 overflow-y-auto",children:s.jsxs("div",{className:"space-y-2",children:[t.map(N=>s.jsxs("label",{className:"flex items-center gap-3 p-3 hover-elevate rounded-md cursor-pointer","data-testid":`checkbox-client-${N.id}`,children:[s.jsx(Td,{checked:a.has(N.id),onCheckedChange:()=>x(N.id)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:N.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.industry,"  ",N.status]})]})]},N.id)),t.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No clients available"})]})}),s.jsx("div",{className:"p-4 border-t border-border bg-muted/50",children:s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-clients-selected",children:[a.size," of ",t.length," selected"]})})]}),s.jsxs(Le,{children:[s.jsxs(Rr,{className:"flex flex-row items-center justify-between gap-2 flex-wrap space-y-0",children:[s.jsx(Ir,{children:"Employees"}),s.jsxs(je,{variant:"ghost",size:"sm",onClick:_,"data-testid":"button-select-all-employees",children:[s.jsx(tv,{className:"h-4 w-4 mr-1"}),l.size===n.length?"Deselect All":"Select All"]})]}),s.jsx(Fe,{className:"max-h-96 overflow-y-auto",children:s.jsxs("div",{className:"space-y-2",children:[n.map(N=>s.jsxs("label",{className:"flex items-center gap-3 p-3 hover-elevate rounded-md cursor-pointer","data-testid":`checkbox-employee-${N.id}`,children:[s.jsx(Td,{checked:l.has(N.id),onCheckedChange:()=>y(N.id)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:N.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.email})]})]},N.id)),n.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No employees available"})]})}),s.jsx("div",{className:"p-4 border-t border-border bg-muted/50",children:s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-employees-selected",children:[l.size," of ",n.length," selected"]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 flex-wrap",children:[s.jsx(je,{variant:"outline",onClick:()=>{o(new Set),c(new Set),d("")},"data-testid":"button-clear-selection",children:"Clear Selection"}),s.jsxs(je,{onClick:b,disabled:h||!u,"data-testid":"button-execute-operation",children:[h&&s.jsx(Ya,{className:"h-4 w-4 mr-2 animate-spin"}),h?"Processing...":"Execute Operation"]})]}),u&&s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Xn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium text-foreground",children:"Warning:"})," This operation will affect"," ",u.includes("client")?a.size:l.size," items. Please review your selection carefully."]})]})})})]})}function W$e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState([]),[a,o]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState({client_id:"",email:"",full_name:"",password:""});p.useEffect(()=>{f()},[]);const f=async()=>{try{const[g,x]=await Promise.all([ge.from("client_portal_users").select("*").order("created_at",{ascending:!1}),ge.from("clients").select("*").order("name")]);if(g.data){const y=await Promise.all(g.data.map(async w=>{const{data:_}=await ge.from("clients").select("*").eq("id",w.client_id).single();return{...w,client:_||void 0}}));r(y)}x.data&&i(x.data)}catch(g){console.error("Error loading data:",g)}finally{o(!1)}},m=async g=>{g.preventDefault();try{const{data:x,error:y}=await ge.auth.signUp({email:u.email,password:u.password});if(y)throw y;if(x.user){const{error:w}=await ge.from("client_portal_users").insert({client_id:u.client_id,email:u.email,full_name:u.full_name,auth_user_id:x.user.id,is_active:!0});if(w)throw w}c(!1),d({client_id:"",email:"",full_name:"",password:""}),f(),e("Portal user created successfully","success")}catch(x){console.error("Error creating portal user:",x),e(x.message||"Failed to create portal user","error")}},h=async g=>{try{const{error:x}=await ge.from("client_portal_users").update({is_active:!g.is_active,updated_at:new Date().toISOString()}).eq("id",g.id);if(x)throw x;f()}catch(x){console.error("Error updating user status:",x)}},v=async g=>{if(confirm("Are you sure you want to delete this portal user?"))try{const{error:x}=await ge.from("client_portal_users").delete().eq("id",g);if(x)throw x;f()}catch(x){console.error("Error deleting user:",x)}};return a?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-40 mb-2"}),s.jsx(ke,{className:"h-4 w-64"})]}),s.jsx(ke,{className:"h-9 w-36"})]}),s.jsx(ke,{className:"h-24 w-full"}),s.jsx(ke,{className:"h-64 w-full"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Client Portal"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage client-side user access"})]}),s.jsxs(je,{onClick:()=>c(!0),"data-testid":"button-add-portal-user",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Portal User"]})]}),s.jsx(Le,{children:s.jsxs(Fe,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"About Client Portal"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Client portal users have read-only access to view their reports and performance data. They cannot edit anything or view other clients' information."})]})}),s.jsx(Le,{children:s.jsxs(Ao,{children:[s.jsx(Po,{children:s.jsxs($r,{children:[s.jsx(St,{children:"Name"}),s.jsx(St,{children:"Email"}),s.jsx(St,{children:"Client"}),s.jsx(St,{children:"Status"}),s.jsx(St,{className:"text-right",children:"Actions"})]})}),s.jsxs(To,{children:[t.map(g=>{var x;return s.jsxs($r,{"data-testid":`row-user-${g.id}`,children:[s.jsx(vt,{className:"font-medium text-foreground","data-testid":`text-name-${g.id}`,children:g.full_name}),s.jsx(vt,{className:"text-muted-foreground","data-testid":`text-email-${g.id}`,children:g.email}),s.jsx(vt,{className:"text-foreground","data-testid":`text-client-${g.id}`,children:(x=g.client)==null?void 0:x.name}),s.jsx(vt,{children:s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>h(g),className:"p-0 h-auto","data-testid":`button-toggle-status-${g.id}`,children:g.is_active?s.jsxs($t,{variant:"secondary",className:"no-default-active-elevate",children:[s.jsx(Sd,{className:"h-3 w-3 mr-1"}),"Active"]}):s.jsxs($t,{variant:"outline",className:"no-default-active-elevate",children:[s.jsx(up,{className:"h-3 w-3 mr-1"}),"Inactive"]})})}),s.jsx(vt,{className:"text-right",children:s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>v(g.id),"data-testid":`button-delete-user-${g.id}`,children:s.jsx(Io,{className:"h-4 w-4 text-destructive"})})})]},g.id)}),t.length===0&&s.jsx($r,{children:s.jsx(vt,{colSpan:5,className:"text-center text-muted-foreground py-12",children:"No portal users yet. Add your first portal user to get started."})})]})]})}),s.jsx(Zr,{open:l,onOpenChange:c,children:s.jsxs(Ur,{children:[s.jsxs(Qr,{children:[s.jsx(tn,{children:"Add Portal User"}),s.jsx(Vc,{children:"Create a new portal user with client access."})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"portal-client",children:"Client"}),s.jsxs(_t,{value:u.client_id,onValueChange:g=>d({...u,client_id:g}),children:[s.jsx(wt,{"data-testid":"select-portal-client",children:s.jsx(jt,{placeholder:"Select a client"})}),s.jsx(bt,{children:n.map(g=>s.jsx(Ce,{value:g.id,children:g.name},g.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"portal-full-name",children:"Full Name"}),s.jsx(We,{id:"portal-full-name",type:"text",value:u.full_name,onChange:g=>d({...u,full_name:g.target.value}),required:!0,"data-testid":"input-portal-full-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"portal-email",children:"Email"}),s.jsx(We,{id:"portal-email",type:"email",value:u.email,onChange:g=>d({...u,email:g.target.value}),required:!0,"data-testid":"input-portal-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"portal-password",children:"Password"}),s.jsx(We,{id:"portal-password",type:"password",value:u.password,onChange:g=>d({...u,password:g.target.value}),required:!0,minLength:6,"data-testid":"input-portal-password"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel-portal-user",children:"Cancel"}),s.jsx(je,{type:"submit","data-testid":"button-create-portal-user",children:"Create User"})]})]})]})})]})}function H$e(e,t){if(e.length===0)return;const r=Object.keys(e[0]),n=[r.join(","),...e.map(l=>r.map(c=>{const u=l[c];if(u==null)return"";const d=String(u);return d.includes(",")||d.includes('"')||d.includes(`
`)?`"${d.replace(/"/g,'""')}"`:d}).join(","))].join(`
`),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),o=URL.createObjectURL(i);a.setAttribute("href",o),a.setAttribute("download",`${t}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function q$e(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[i,a]=p.useState("all"),[o,l]=p.useState("all"),[c,u]=p.useState("");p.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:v,error:g}=await ge.from("activity_logs").select(`
          *,
          profiles(*)
        `).order("created_at",{ascending:!1}).limit(500);if(g)throw g;if(v){const x=v.map(y=>({...y,user:y.profiles||void 0}));t(x)}}catch(v){console.error("Error loading logs:",v)}finally{n(!1)}},f=e.filter(v=>!(i!=="all"&&v.action!==i||o!=="all"&&v.entity_type!==o||c&&!JSON.stringify(v).toLowerCase().includes(c.toLowerCase()))),m=()=>{const v=f.map(g=>{var x;return{timestamp:new Date(g.created_at).toLocaleString(),user:((x=g.user)==null?void 0:x.full_name)||"System",action:g.action,entity_type:g.entity_type,entity_id:g.entity_id,ip_address:g.ip_address}});H$e(v,`activity_logs_${new Date().toISOString().split("T")[0]}`)},h=v=>{switch(v){case"INSERT":return"default";case"UPDATE":return"secondary";case"DELETE":return"destructive";default:return"outline"}};return r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ke,{className:"h-9 w-full"}),s.jsx(ke,{className:"h-9 w-full"}),s.jsx(ke,{className:"h-9 w-full"})]})})}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsx("div",{className:"space-y-2 p-4",children:Array.from({length:8}).map((v,g)=>s.jsx(ke,{className:"h-12 w-full"},g))})})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Activity Logs"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Audit trail of all system activities"})]}),s.jsxs(je,{"data-testid":"button-export-logs",onClick:m,children:[s.jsx(cp,{className:"h-4 w-4"}),"Export Logs"]})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Search"}),s.jsx(We,{"data-testid":"input-search-logs",type:"text",value:c,onChange:v=>u(v.target.value),placeholder:"Search logs..."})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Action"}),s.jsxs(_t,{value:i,onValueChange:a,children:[s.jsx(wt,{"data-testid":"select-filter-action",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"all",children:"All Actions"}),s.jsx(Ce,{value:"INSERT",children:"Create"}),s.jsx(Ce,{value:"UPDATE",children:"Update"}),s.jsx(Ce,{value:"DELETE",children:"Delete"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Entity Type"}),s.jsxs(_t,{value:o,onValueChange:l,children:[s.jsx(wt,{"data-testid":"select-filter-entity",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"all",children:"All Types"}),s.jsx(Ce,{value:"clients",children:"Clients"}),s.jsx(Ce,{value:"profiles",children:"Employees"}),s.jsx(Ce,{value:"client_assignments",children:"Assignments"}),s.jsx(Ce,{value:"weekly_reports",children:"Reports"})]})]})]})]})})}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:s.jsxs(Ao,{children:[s.jsx(Po,{className:"sticky top-0 bg-muted z-10",children:s.jsxs($r,{children:[s.jsx(St,{children:"Timestamp"}),s.jsx(St,{children:"User"}),s.jsx(St,{children:"Action"}),s.jsx(St,{children:"Entity"}),s.jsx(St,{children:"IP Address"})]})}),s.jsxs(To,{children:[f.map(v=>{var g;return s.jsxs($r,{"data-testid":`row-log-${v.id}`,children:[s.jsx(vt,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[s.jsx(wi,{className:"h-4 w-4 text-muted-foreground"}),new Date(v.created_at).toLocaleString()]})}),s.jsx(vt,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[s.jsx($d,{className:"h-4 w-4 text-muted-foreground"}),((g=v.user)==null?void 0:g.full_name)||"System"]})}),s.jsx(vt,{children:s.jsx($t,{variant:h(v.action),className:"no-default-hover-elevate no-default-active-elevate",children:v.action})}),s.jsx(vt,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[s.jsx(Zn,{className:"h-4 w-4 text-muted-foreground"}),v.entity_type]})}),s.jsx(vt,{className:"text-sm text-muted-foreground",children:v.ip_address||"-"})]},v.id)}),f.length===0&&s.jsx($r,{children:s.jsx(vt,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:"No activity logs found"})})]})]})})})}),s.jsxs("p",{className:"text-sm text-muted-foreground text-center","data-testid":"text-log-count",children:["Showing ",f.length," of ",e.length," logs"]})]})}function V$e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState(new Date),[a,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState([]),[h,v]=p.useState({title:"",description:"",event_type:"meeting",start_time:"",end_time:"",client_id:"",location:""});p.useEffect(()=>{g(),x()},[n]);const g=async()=>{const S=dR(n),A=uR(n),{data:k,error:R}=await ge.from("calendar_events").select("*, clients(name)").gte("start_time",S.toISOString()).lte("start_time",A.toISOString()).order("start_time");R?(console.error("Error loading events:",R),e("Failed to load events","error")):r(k||[])},x=async()=>{const{data:S}=await ge.from("clients").select("id, name").eq("status","active").order("name");S&&m(S)},y=(S,A)=>{if(S)d(S),v({title:S.title,description:S.description||"",event_type:S.event_type,start_time:cr(new Date(S.start_time),"yyyy-MM-dd'T'HH:mm"),end_time:S.end_time?cr(new Date(S.end_time),"yyyy-MM-dd'T'HH:mm"):"",client_id:S.client_id||"",location:S.location||""});else{d(null);const k=A||new Date;k.setHours(9,0),v({title:"",description:"",event_type:"meeting",start_time:cr(k,"yyyy-MM-dd'T'HH:mm"),end_time:"",client_id:"",location:""})}c(!0)},w=async S=>{S.preventDefault();const{data:{user:A}}=await ge.auth.getUser();if(!A)return;const k={...h,client_id:h.client_id||null,end_time:h.end_time||null,location:h.location||null,created_by:A.id,attendees:[]};try{if(u){const{error:R}=await ge.from("calendar_events").update(k).eq("id",u.id);if(R)throw R;e("Event updated successfully","success")}else{const{error:R}=await ge.from("calendar_events").insert(k);if(R)throw R;e("Event created successfully","success")}c(!1),g()}catch(R){console.error("Error saving event:",R),e("Failed to save event","error")}},_=async S=>{if(!confirm("Are you sure you want to delete this event?"))return;const{error:A}=await ge.from("calendar_events").delete().eq("id",S);A?e("Failed to delete event","error"):(e("Event deleted successfully","success"),g())},b=S=>{switch(S){case"deadline":return"destructive";case"meeting":return"default";case"milestone":return"secondary";case"reminder":return"outline";default:return"secondary"}},N=mhe({start:dR(n),end:uR(n)}),C=S=>t.filter(A=>lz(new Date(A.start_time),S));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Calendar"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage deadlines, meetings, and milestones"})]}),s.jsxs(je,{onClick:()=>y(),"data-testid":"button-add-event",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Event"]})]}),s.jsx(Le,{children:s.jsxs(Fe,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap mb-6",children:[s.jsx(je,{variant:"outline",onClick:()=>i(new Date(n.getFullYear(),n.getMonth()-1)),"data-testid":"button-previous-month",children:"Previous"}),s.jsx("h2",{className:"text-xl font-semibold text-foreground","data-testid":"text-current-month",children:cr(n,"MMMM yyyy")}),s.jsx(je,{variant:"outline",onClick:()=>i(new Date(n.getFullYear(),n.getMonth()+1)),"data-testid":"button-next-month",children:"Next"})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(S=>s.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:S},S)),N.map(S=>{const A=C(S),k=pme(S,n),R=Pm(S);return s.jsxs("div",{onClick:()=>y(void 0,S),className:`min-h-32 p-2 border rounded-md cursor-pointer transition ${k?"hover-elevate":"bg-muted"} ${R?"border-primary border-2":"border-border"}`,children:[s.jsx("div",{className:`text-sm font-medium mb-1 ${R?"text-primary":"text-foreground"}`,children:cr(S,"d")}),s.jsxs("div",{className:"space-y-1",children:[A.slice(0,3).map(O=>s.jsx("div",{onClick:L=>{L.stopPropagation(),y(O)},"data-testid":`card-event-${O.id}`,children:s.jsx($t,{variant:b(O.event_type),className:"text-xs w-full justify-start truncate",children:O.title})},O.id)),A.length>3&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",A.length-3," more"]})]})]},S.toISOString())})]})]})}),s.jsx(Zr,{open:l,onOpenChange:c,children:s.jsxs(Ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qr,{children:s.jsx(tn,{children:u?"Edit Event":"Add Event"})}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Title"}),s.jsx(We,{type:"text",value:h.title,onChange:S=>v({...h,title:S.target.value}),required:!0,"data-testid":"input-title"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Event Type"}),s.jsxs(_t,{value:h.event_type,onValueChange:S=>v({...h,event_type:S}),children:[s.jsx(wt,{"data-testid":"select-event-type",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"meeting",children:"Meeting"}),s.jsx(Ce,{value:"deadline",children:"Deadline"}),s.jsx(Ce,{value:"milestone",children:"Milestone"}),s.jsx(Ce,{value:"reminder",children:"Reminder"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Start Time"}),s.jsx(We,{type:"datetime-local",value:h.start_time,onChange:S=>v({...h,start_time:S.target.value}),required:!0,"data-testid":"input-start-time"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"End Time"}),s.jsx(We,{type:"datetime-local",value:h.end_time,onChange:S=>v({...h,end_time:S.target.value}),"data-testid":"input-end-time"})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Client (Optional)"}),s.jsxs(_t,{value:h.client_id||"none",onValueChange:S=>v({...h,client_id:S==="none"?"":S}),children:[s.jsx(wt,{"data-testid":"select-client",children:s.jsx(jt,{placeholder:"No client"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"none",children:"No client"}),f.map(S=>s.jsx(Ce,{value:S.id,children:S.name},S.id))]})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Location"}),s.jsx(We,{type:"text",value:h.location,onChange:S=>v({...h,location:S.target.value}),placeholder:"Office, Zoom, etc.","data-testid":"input-location"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Description"}),s.jsx("textarea",{value:h.description,onChange:S=>v({...h,description:S.target.value}),rows:3,className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring md:text-sm","data-testid":"input-description"})]}),s.jsxs(en,{className:"gap-2 flex-wrap pt-4 border-t border-border",children:[u&&s.jsx(je,{type:"button",variant:"destructive",onClick:()=>_(u.id),className:"mr-auto","data-testid":"button-delete-event",children:"Delete Event"}),s.jsx(je,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),s.jsxs(je,{type:"submit","data-testid":"button-submit-event",children:[u?"Update":"Create"," Event"]})]})]})]})})]})}function G$e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState([]),[a,o]=p.useState([]),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState("all"),[h,v]=p.useState({client_id:"",service_id:"",title:"",description:"",target_value:"",current_value:"0",unit:"",start_date:new Date().toISOString().split("T")[0],target_date:"",status:"active",priority:"medium"});p.useEffect(()=>{g(),x(),y()},[]);const g=async()=>{const{data:A,error:k}=await ge.from("goals").select("*, clients(name), services(name)").order("created_at",{ascending:!1});k?(console.error("Error loading goals:",k),e("Failed to load goals","error")):r(A||[])},x=async()=>{const{data:A}=await ge.from("clients").select("id, name").eq("status","active").order("name");A&&i(A)},y=async()=>{const{data:A}=await ge.from("services").select("id, name").eq("is_active",!0).order("name");A&&o(A)},w=A=>{var k;A?(d(A),v({client_id:A.client_id,service_id:A.service_id||"",title:A.title,description:A.description||"",target_value:((k=A.target_value)==null?void 0:k.toString())||"",current_value:A.current_value.toString(),unit:A.unit||"",start_date:A.start_date,target_date:A.target_date,status:A.status,priority:A.priority})):(d(null),v({client_id:"",service_id:"",title:"",description:"",target_value:"",current_value:"0",unit:"",start_date:new Date().toISOString().split("T")[0],target_date:"",status:"active",priority:"medium"})),c(!0)},_=async A=>{A.preventDefault();const{data:{user:k}}=await ge.auth.getUser();if(!k)return;const R={...h,service_id:h.service_id||null,target_value:h.target_value?Number(h.target_value):null,current_value:Number(h.current_value),unit:h.unit||null,created_by:u?void 0:k.id};try{if(u){const{error:O}=await ge.from("goals").update(R).eq("id",u.id);if(O)throw O;e("Goal updated successfully","success")}else{const{error:O}=await ge.from("goals").insert(R);if(O)throw O;e("Goal created successfully","success")}c(!1),g()}catch(O){console.error("Error saving goal:",O),e("Failed to save goal","error")}},b=A=>{switch(A){case"completed":return s.jsx(Sn,{className:"h-5 w-5 text-green-600 dark:text-green-400"});case"active":return s.jsx(vl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"on_hold":return s.jsx(wi,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"cancelled":return s.jsx(Xn,{className:"h-5 w-5 text-red-600 dark:text-red-400"});default:return null}},N=A=>{switch(A){case"critical":return"destructive";case"high":return"default";case"medium":return"secondary";default:return"outline"}},C=A=>A.target_value?Math.min(A.current_value/A.target_value*100,100):0,S=f==="all"?t:t.filter(A=>A.status===f);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Goals"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track client objectives and milestones"})]}),s.jsxs(je,{onClick:()=>w(),"data-testid":"button-add-goal",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Goal"]})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","active","completed","on_hold","cancelled"].map(A=>s.jsx(je,{variant:f===A?"default":"outline",onClick:()=>m(A),className:f===A?"toggle-elevate toggle-elevated":"","data-testid":`button-filter-${A}`,children:A.replace("_"," ")},A))}),s.jsxs("div",{className:"grid gap-6 max-h-[600px] overflow-y-auto",children:[S.map(A=>{var k;return s.jsx(Le,{"data-testid":`card-goal-${A.id}`,children:s.jsxs(Fe,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[b(A.status),s.jsx("h3",{className:"text-lg font-semibold text-foreground","data-testid":`text-goal-title-${A.id}`,children:A.title}),s.jsx($t,{variant:N(A.priority),"data-testid":`text-goal-priority-${A.id}`,children:A.priority})]}),s.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground flex-wrap",children:[s.jsx("span",{children:(k=A.clients)==null?void 0:k.name}),A.services&&s.jsxs("span",{children:["- ",A.services.name]}),s.jsxs("span",{children:["- ",cr(new Date(A.start_date),"MMM d")," - ",cr(new Date(A.target_date),"MMM d, yyyy")]})]})]}),s.jsx(je,{variant:"ghost",onClick:()=>w(A),"data-testid":`button-edit-goal-${A.id}`,children:"Edit"})]}),A.description&&s.jsx("p",{className:"text-muted-foreground mb-4",children:A.description}),A.target_value&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between gap-4 flex-wrap text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[A.current_value," / ",A.target_value," ",A.unit]})]}),s.jsx(Bd,{value:C(A),className:"h-3"}),s.jsxs("div",{className:"text-right text-sm text-muted-foreground mt-1","data-testid":`text-goal-progress-${A.id}`,children:[C(A).toFixed(0),"% complete"]})]})]})},A.id)}),S.length===0&&s.jsx(Le,{children:s.jsxs(Fe,{className:"text-center py-12",children:[s.jsx(j2,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No goals found"}),s.jsx("p",{className:"text-muted-foreground",children:"Create your first goal to start tracking progress"})]})})]}),s.jsx(Zr,{open:l,onOpenChange:c,children:s.jsxs(Ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qr,{children:s.jsx(tn,{children:u?"Edit Goal":"Add Goal"})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Title"}),s.jsx(We,{type:"text",value:h.title,onChange:A=>v({...h,title:A.target.value}),required:!0,"data-testid":"input-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Client"}),s.jsxs(_t,{value:h.client_id||"none",onValueChange:A=>v({...h,client_id:A==="none"?"":A}),children:[s.jsx(wt,{"data-testid":"select-client",children:s.jsx(jt,{placeholder:"Select client"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"none",children:"Select client"}),n.map(A=>s.jsx(Ce,{value:A.id,children:A.name},A.id))]})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Service"}),s.jsxs(_t,{value:h.service_id||"none",onValueChange:A=>v({...h,service_id:A==="none"?"":A}),children:[s.jsx(wt,{"data-testid":"select-service",children:s.jsx(jt,{placeholder:"All services"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"none",children:"All services"}),a.map(A=>s.jsx(Ce,{value:A.id,children:A.name},A.id))]})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Description"}),s.jsx("textarea",{value:h.description,onChange:A=>v({...h,description:A.target.value}),rows:3,className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring md:text-sm","data-testid":"input-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Target Value"}),s.jsx(We,{type:"number",value:h.target_value,onChange:A=>v({...h,target_value:A.target.value}),step:"0.01","data-testid":"input-target-value"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Current Value"}),s.jsx(We,{type:"number",value:h.current_value,onChange:A=>v({...h,current_value:A.target.value}),step:"0.01","data-testid":"input-current-value"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Unit"}),s.jsx(We,{type:"text",value:h.unit,onChange:A=>v({...h,unit:A.target.value}),placeholder:"leads, $, %","data-testid":"input-unit"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Start Date"}),s.jsx(We,{type:"date",value:h.start_date,onChange:A=>v({...h,start_date:A.target.value}),required:!0,"data-testid":"input-start-date"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Target Date"}),s.jsx(We,{type:"date",value:h.target_date,onChange:A=>v({...h,target_date:A.target.value}),required:!0,"data-testid":"input-target-date"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Status"}),s.jsxs(_t,{value:h.status,onValueChange:A=>v({...h,status:A}),children:[s.jsx(wt,{"data-testid":"select-status",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"active",children:"Active"}),s.jsx(Ce,{value:"completed",children:"Completed"}),s.jsx(Ce,{value:"on_hold",children:"On Hold"}),s.jsx(Ce,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Priority"}),s.jsxs(_t,{value:h.priority,onValueChange:A=>v({...h,priority:A}),children:[s.jsx(wt,{"data-testid":"select-priority",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"low",children:"Low"}),s.jsx(Ce,{value:"medium",children:"Medium"}),s.jsx(Ce,{value:"high",children:"High"}),s.jsx(Ce,{value:"critical",children:"Critical"})]})]})]})]}),s.jsxs(en,{className:"gap-2 flex-wrap pt-4 border-t border-border",children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),s.jsxs(je,{type:"submit","data-testid":"button-submit-goal",children:[u?"Update":"Create"," Goal"]})]})]})]})})]})}const Mi=p.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ot("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Mi.displayName="Textarea";function K$e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState([]),[a,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,m]=p.useState(!1),[h,v]=p.useState({employee_id:"",client_id:"",service_id:"",description:"",hours:"",date:new Date().toISOString().split("T")[0],is_billable:!0,hourly_rate:""});p.useEffect(()=>{g(),x(),y(),w()},[]);const g=async()=>{const{data:C,error:S}=await ge.from("time_entries").select("*, profiles(full_name), clients(name), services(name)").order("date",{ascending:!1}).limit(100);S?(console.error("Error loading time entries:",S),e("Failed to load time entries","error")):r(C||[]),d(!1)},x=async()=>{const{data:C}=await ge.from("profiles").select("id, full_name").eq("status","active");C&&i(C)},y=async()=>{const{data:C}=await ge.from("clients").select("id, name").eq("status","active");C&&o(C)},w=async()=>{const{data:C}=await ge.from("services").select("id, name").eq("is_active",!0);C&&c(C)},_=async C=>{C.preventDefault();const S={...h,hours:Number(h.hours),hourly_rate:h.hourly_rate?Number(h.hourly_rate):null};try{const{error:A}=await ge.from("time_entries").insert(S);if(A)throw A;e("Time entry logged successfully","success"),m(!1),g()}catch(A){console.error("Error saving time entry:",A),e("Failed to save time entry","error")}},b=()=>t.reduce((C,S)=>C+S.hours,0),N=()=>t.reduce((C,S)=>S.is_billable&&S.hourly_rate?C+S.hours*S.hourly_rate:C,0);return u?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(ke,{className:"h-9 w-28"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ke,{className:"h-24"}),s.jsx(ke,{className:"h-24"})]}),s.jsx(ke,{className:"h-64 w-full"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Time Tracking"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Log and track time spent on client work"})]}),s.jsxs(je,{onClick:()=>m(!0),"data-testid":"button-log-time",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Log Time"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Hours"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-total-hours",children:b().toFixed(1)})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:s.jsx(wi,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Billable Revenue"}),s.jsxs("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-total-revenue",children:["$",N().toLocaleString()]})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:s.jsx(xd,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]})})})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsxs(Ao,{children:[s.jsx(Po,{children:s.jsxs($r,{children:[s.jsx(St,{children:"Date"}),s.jsx(St,{children:"Employee"}),s.jsx(St,{children:"Client"}),s.jsx(St,{children:"Service"}),s.jsx(St,{children:"Hours"}),s.jsx(St,{children:"Billable"}),s.jsx(St,{children:"Description"})]})}),s.jsx(To,{children:t.length===0?s.jsx($r,{children:s.jsxs(vt,{colSpan:7,className:"text-center py-12",children:[s.jsx(wi,{className:"h-16 w-16 text-muted-foreground/30 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No time entries yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Log your first time entry to get started"})]})}):t.map(C=>{var S,A,k;return s.jsxs($r,{"data-testid":`row-time-entry-${C.id}`,children:[s.jsx(vt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ea,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-foreground",children:cr(new Date(C.date),"MMM d, yyyy")})]})}),s.jsx(vt,{children:s.jsx("span",{className:"text-sm font-medium text-foreground",children:(S=C.profiles)==null?void 0:S.full_name})}),s.jsx(vt,{children:s.jsx("span",{className:"text-sm text-foreground",children:(A=C.clients)==null?void 0:A.name})}),s.jsx(vt,{children:s.jsx("span",{className:"text-sm text-foreground",children:(k=C.services)==null?void 0:k.name})}),s.jsx(vt,{children:s.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[C.hours,"h"]})}),s.jsx(vt,{children:s.jsx($t,{variant:C.is_billable?"default":"secondary",className:"text-xs",children:C.is_billable?"Billable":"Non-billable"})}),s.jsx(vt,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:C.description||"-"})})]},C.id)})})]})})}),s.jsx(Zr,{open:f,onOpenChange:m,children:s.jsxs(Ur,{className:"max-w-2xl",children:[s.jsx(Qr,{children:s.jsx(tn,{children:"Log Time Entry"})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Employee"}),s.jsxs(_t,{value:h.employee_id,onValueChange:C=>v({...h,employee_id:C}),children:[s.jsx(wt,{"data-testid":"select-time-employee",children:s.jsx(jt,{placeholder:"Select employee"})}),s.jsx(bt,{children:n.map(C=>s.jsx(Ce,{value:C.id,children:C.full_name},C.id))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Date"}),s.jsx(We,{type:"date",value:h.date,onChange:C=>v({...h,date:C.target.value}),required:!0,"data-testid":"input-time-date"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Client"}),s.jsxs(_t,{value:h.client_id,onValueChange:C=>v({...h,client_id:C}),children:[s.jsx(wt,{"data-testid":"select-time-client",children:s.jsx(jt,{placeholder:"Select client"})}),s.jsx(bt,{children:a.map(C=>s.jsx(Ce,{value:C.id,children:C.name},C.id))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Service"}),s.jsxs(_t,{value:h.service_id,onValueChange:C=>v({...h,service_id:C}),children:[s.jsx(wt,{"data-testid":"select-time-service",children:s.jsx(jt,{placeholder:"Select service"})}),s.jsx(bt,{children:l.map(C=>s.jsx(Ce,{value:C.id,children:C.name},C.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Hours"}),s.jsx(We,{type:"number",value:h.hours,onChange:C=>v({...h,hours:C.target.value}),step:"0.25",min:"0",required:!0,"data-testid":"input-time-hours"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Hourly Rate"}),s.jsx(We,{type:"number",value:h.hourly_rate,onChange:C=>v({...h,hourly_rate:C.target.value}),step:"0.01",min:"0","data-testid":"input-time-rate"})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Td,{id:"billable",checked:h.is_billable,onCheckedChange:C=>v({...h,is_billable:C===!0}),"data-testid":"checkbox-billable"}),s.jsx(be,{htmlFor:"billable",className:"cursor-pointer",children:"Billable"})]})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Description"}),s.jsx(Mi,{value:h.description,onChange:C=>v({...h,description:C.target.value}),rows:3,placeholder:"What did you work on?","data-testid":"input-time-description"})]}),s.jsxs(en,{children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>m(!1),"data-testid":"button-cancel-time",children:"Cancel"}),s.jsx(je,{type:"submit","data-testid":"button-save-time",children:"Log Time"})]})]})]})})]})}function Y$e(){const{showToast:e}=Cr(),[t,r]=p.useState("timeline"),[n,i]=p.useState([]),[a,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState([]),[f,m]=p.useState(!1),[h,v]=p.useState(!1),[g,x]=p.useState(""),[y,w]=p.useState("all"),[_,b]=p.useState({client_id:"",type:"email",direction:"outbound",subject:"",summary:"",content:""}),[N,C]=p.useState({client_id:"",title:"",date:new Date().toISOString().slice(0,16),attendees:[],agenda:"",notes:"",action_items:[],next_meeting:""});p.useEffect(()=>{S()},[]);const S=async()=>{await Promise.all([A(),k(),R(),O()])},A=async()=>{const{data:z,error:H}=await ge.from("communications").select("*, clients(name), profiles(full_name)").order("created_at",{ascending:!1}).limit(100);H?(console.error("Error loading communications:",H),e("Failed to load communications","error")):i(z||[])},k=async()=>{const{data:z,error:H}=await ge.from("meeting_notes").select("*, clients(name), profiles(full_name)").order("date",{ascending:!1}).limit(50);H?(console.error("Error loading meetings:",H),e("Failed to load meetings","error")):o(z||[])},R=async()=>{const{data:z}=await ge.from("clients").select("id, name").eq("status","active");z&&c(z)},O=async()=>{const{data:z}=await ge.from("profiles").select("id, full_name").eq("status","active");z&&d(z)},L=async z=>{z.preventDefault();const{data:{user:H}}=await ge.auth.getUser();if(H)try{const{error:X}=await ge.from("communications").insert({..._,created_by:H.id});if(X)throw X;e("Communication logged successfully","success"),m(!1),A()}catch(X){console.error("Error saving communication:",X),e("Failed to log communication","error")}},U=async z=>{z.preventDefault();const{data:{user:H}}=await ge.auth.getUser();if(H)try{const{error:X}=await ge.from("meeting_notes").insert({...N,attendees:N.attendees,action_items:N.action_items,next_meeting:N.next_meeting||null,created_by:H.id});if(X)throw X;e("Meeting notes saved successfully","success"),v(!1),k()}catch(X){console.error("Error saving meeting notes:",X),e("Failed to save meeting notes","error")}},q=z=>{switch(z){case"email":return s.jsx(Vf,{className:"h-5 w-5"});case"call":return s.jsx(b9,{className:"h-5 w-5"});case"meeting":return s.jsx(Zae,{className:"h-5 w-5"});case"message":return s.jsx(_o,{className:"h-5 w-5"});default:return s.jsx(_o,{className:"h-5 w-5"})}},Q=z=>{switch(z){case"email":return"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40 text-blue-600 dark:text-blue-400";case"call":return"rounded-lg p-2.5 bg-green-50 dark:bg-green-950/40 text-green-600 dark:text-green-400";case"meeting":return"rounded-lg p-2.5 bg-purple-50 dark:bg-purple-950/40 text-purple-600 dark:text-purple-400";case"message":return"rounded-lg p-2.5 bg-yellow-50 dark:bg-yellow-950/40 text-yellow-600 dark:text-yellow-400";default:return"rounded-lg p-2.5 bg-muted text-muted-foreground"}},ie=n.filter(z=>{var pe;const H=z.summary.toLowerCase().includes(g.toLowerCase())||((pe=z.clients)==null?void 0:pe.name.toLowerCase().includes(g.toLowerCase())),X=y==="all"||z.type===y;return H&&X});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Communication Hub"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track all client interactions and meetings"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(je,{"data-testid":"button-log-communication",onClick:()=>m(!0),children:[s.jsx(on,{className:"h-4 w-4"}),"Log Communication"]}),s.jsxs(je,{"data-testid":"button-meeting-notes",variant:"outline",onClick:()=>v(!0),children:[s.jsx(on,{className:"h-4 w-4"}),"Meeting Notes"]})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(je,{"data-testid":"tab-timeline",variant:t==="timeline"?"default":"outline",onClick:()=>r("timeline"),children:"Timeline"}),s.jsx(je,{"data-testid":"tab-meetings",variant:t==="meetings"?"default":"outline",onClick:()=>r("meetings"),children:"Meeting Notes"})]}),t==="timeline"&&s.jsxs(s.Fragment,{children:[s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex-1 relative min-w-[200px]",children:[s.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(We,{"data-testid":"input-search-communications",type:"text",placeholder:"Search communications...",value:g,onChange:z=>x(z.target.value),className:"pl-10"})]}),s.jsxs(_t,{value:y,onValueChange:w,children:[s.jsx(wt,{"data-testid":"select-filter-type",className:"w-[160px]",children:s.jsx(jt,{placeholder:"All Types"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"all",children:"All Types"}),s.jsx(Ce,{value:"email",children:"Email"}),s.jsx(Ce,{value:"call",children:"Call"}),s.jsx(Ce,{value:"meeting",children:"Meeting"}),s.jsx(Ce,{value:"message",children:"Message"})]})]})]})})}),s.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[ie.map(z=>{var H,X;return s.jsx(Le,{"data-testid":`card-communication-${z.id}`,children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:Q(z.type),children:q(z.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:(H=z.clients)==null?void 0:H.name}),z.subject&&s.jsx("p",{className:"text-sm text-muted-foreground",children:z.subject})]}),s.jsxs("div",{className:"text-right",children:[s.jsx($t,{variant:z.direction==="inbound"?"secondary":"outline",className:"no-default-active-elevate no-default-hover-elevate",children:z.direction==="inbound"?"Inbound":"Outbound"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:cr(new Date(z.created_at),"MMM d, yyyy h:mm a")})]})]}),s.jsx("p",{className:"text-foreground mb-2",children:z.summary}),z.content&&s.jsxs("details",{className:"text-sm text-muted-foreground mt-2",children:[s.jsx("summary",{className:"cursor-pointer text-primary",children:"View details"}),s.jsx("p",{className:"mt-2 whitespace-pre-wrap",children:z.content})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Logged by ",(X=z.profiles)==null?void 0:X.full_name]})]})]})})},z.id)}),ie.length===0&&s.jsx(Le,{children:s.jsxs(Fe,{className:"text-center py-12",children:[s.jsx(_o,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No communications found"}),s.jsx("p",{className:"text-muted-foreground",children:"Log your first client interaction to get started"})]})})]})]}),t==="meetings"&&s.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[a.map(z=>{var H,X;return s.jsx(Le,{"data-testid":`card-meeting-${z.id}`,children:s.jsxs(Fe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground",children:z.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(H=z.clients)==null?void 0:H.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:cr(new Date(z.date),"MMM d, yyyy h:mm a")}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",(X=z.profiles)==null?void 0:X.full_name]})]})]}),z.attendees&&Array.isArray(z.attendees)&&z.attendees.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-foreground mb-2",children:"Attendees:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:z.attendees.map((pe,xe)=>s.jsx($t,{variant:"secondary",className:"no-default-active-elevate no-default-hover-elevate",children:pe},xe))})]}),z.agenda&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Agenda:"}),s.jsx("p",{className:"text-muted-foreground",children:z.agenda})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Notes:"}),s.jsx("p",{className:"text-foreground whitespace-pre-wrap",children:z.notes})]}),z.action_items&&Array.isArray(z.action_items)&&z.action_items.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-foreground mb-2",children:"Action Items:"}),s.jsx("ul",{className:"space-y-2",children:z.action_items.map((pe,xe)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx("span",{className:"text-primary mt-0.5",children:s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-foreground",children:pe.task}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[pe.assignee," - Due: ",cr(new Date(pe.due_date),"MMM d, yyyy")]})]})]},xe))})]}),z.next_meeting&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Next meeting: ",cr(new Date(z.next_meeting),"MMM d, yyyy h:mm a")]})]})},z.id)}),a.length===0&&s.jsx(Le,{children:s.jsxs(Fe,{className:"text-center py-12",children:[s.jsx(ea,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No meeting notes yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Create your first meeting note to track discussions"})]})})]}),s.jsx(Zr,{open:f,onOpenChange:m,children:s.jsxs(Ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qr,{children:s.jsx(tn,{children:"Log Communication"})}),s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Client"}),s.jsxs(_t,{value:_.client_id,onValueChange:z=>b({..._,client_id:z}),children:[s.jsx(wt,{"data-testid":"select-comm-client",children:s.jsx(jt,{placeholder:"Select client"})}),s.jsx(bt,{children:l.map(z=>s.jsx(Ce,{value:z.id,children:z.name},z.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Type"}),s.jsxs(_t,{value:_.type,onValueChange:z=>b({..._,type:z}),children:[s.jsx(wt,{"data-testid":"select-comm-type",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"email",children:"Email"}),s.jsx(Ce,{value:"call",children:"Call"}),s.jsx(Ce,{value:"meeting",children:"Meeting"}),s.jsx(Ce,{value:"message",children:"Message"}),s.jsx(Ce,{value:"other",children:"Other"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Direction"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",value:"outbound",checked:_.direction==="outbound",onChange:z=>b({..._,direction:z.target.value}),className:"h-4 w-4","data-testid":"radio-direction-outbound"}),s.jsx("span",{className:"text-sm",children:"Outbound (We contacted them)"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",value:"inbound",checked:_.direction==="inbound",onChange:z=>b({..._,direction:z.target.value}),className:"h-4 w-4","data-testid":"radio-direction-inbound"}),s.jsx("span",{className:"text-sm",children:"Inbound (They contacted us)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Subject"}),s.jsx(We,{"data-testid":"input-comm-subject",type:"text",value:_.subject,onChange:z=>b({..._,subject:z.target.value}),placeholder:"Optional"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Summary"}),s.jsx(We,{"data-testid":"input-comm-summary",type:"text",value:_.summary,onChange:z=>b({..._,summary:z.target.value}),placeholder:"Brief summary of the communication",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Details"}),s.jsx(Mi,{"data-testid":"textarea-comm-content",value:_.content,onChange:z=>b({..._,content:z.target.value}),rows:4,placeholder:"Full details of the communication..."})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{"data-testid":"button-cancel-comm",type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(je,{"data-testid":"button-submit-comm",type:"submit",children:"Log Communication"})]})]})]})}),s.jsx(Zr,{open:h,onOpenChange:v,children:s.jsxs(Ur,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qr,{children:s.jsx(tn,{children:"Meeting Notes"})}),s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Client"}),s.jsxs(_t,{value:N.client_id,onValueChange:z=>C({...N,client_id:z}),children:[s.jsx(wt,{"data-testid":"select-meeting-client",children:s.jsx(jt,{placeholder:"Select client"})}),s.jsx(bt,{children:l.map(z=>s.jsx(Ce,{value:z.id,children:z.name},z.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Meeting Date & Time"}),s.jsx(We,{"data-testid":"input-meeting-date",type:"datetime-local",value:N.date,onChange:z=>C({...N,date:z.target.value}),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Meeting Title"}),s.jsx(We,{"data-testid":"input-meeting-title",type:"text",value:N.title,onChange:z=>C({...N,title:z.target.value}),placeholder:"e.g., Q1 Strategy Review",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Attendees"}),s.jsx("select",{multiple:!0,value:N.attendees,onChange:z=>{const H=Array.from(z.target.selectedOptions,X=>X.value);C({...N,attendees:H})},className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring h-32","data-testid":"select-meeting-attendees",children:u.map(z=>s.jsx("option",{value:z.full_name,children:z.full_name},z.id))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold Ctrl/Cmd to select multiple"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Agenda"}),s.jsx(Mi,{"data-testid":"textarea-meeting-agenda",value:N.agenda,onChange:z=>C({...N,agenda:z.target.value}),rows:2,placeholder:"Meeting agenda..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Notes"}),s.jsx(Mi,{"data-testid":"textarea-meeting-notes",value:N.notes,onChange:z=>C({...N,notes:z.target.value}),rows:6,placeholder:"Meeting notes, key discussion points...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Next Meeting"}),s.jsx(We,{"data-testid":"input-next-meeting",type:"datetime-local",value:N.next_meeting,onChange:z=>C({...N,next_meeting:z.target.value})})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{"data-testid":"button-cancel-meeting",type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(je,{"data-testid":"button-submit-meeting",type:"submit",children:"Save Meeting Notes"})]})]})]})})]})}function X$e(){const{showToast:e}=Cr(),[t,r]=p.useState("capacity"),[n,i]=p.useState([]),[a,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState([]),[f,m]=p.useState([]),[h,v]=p.useState([]),[g,x]=p.useState(hp(new Date)),[y,w]=p.useState(!1),[_,b]=p.useState(!1),[N,C]=p.useState(!1),[S,A]=p.useState({employee_id:"",client_id:"",service_id:"",allocated_hours:"",week_start:cr(g,"yyyy-MM-dd")}),[k,R]=p.useState({employee_id:"",type:"vacation",start_date:"",end_date:"",reason:""}),[O,L]=p.useState({employee_id:"",skill:"",proficiency:"intermediate",years_experience:""});p.useEffect(()=>{U()},[g]);const U=async()=>{await Promise.all([q(),Q(),ie(),z(),H(),X()])},q=async()=>{const W=cr(g,"yyyy-MM-dd"),{data:te,error:Y}=await ge.from("resource_allocations").select("*, profiles(full_name, max_capacity), clients(name), services(name)").eq("week_start",W);Y?console.error("Error loading allocations:",Y):i(te||[])},Q=async()=>{const{data:W,error:te}=await ge.from("time_off_requests").select("*, profiles(full_name)").order("start_date",{ascending:!1}).limit(50);te?console.error("Error loading time off:",te):o(W||[])},ie=async()=>{const{data:W,error:te}=await ge.from("skill_matrix").select("*, profiles(full_name)").order("skill");te?console.error("Error loading skills:",te):c(W||[])},z=async()=>{const{data:W}=await ge.from("profiles").select("*").eq("status","active");W&&d(W)},H=async()=>{const{data:W}=await ge.from("clients").select("id, name").eq("status","active");W&&m(W)},X=async()=>{const{data:W}=await ge.from("services").select("id, name").eq("is_active",!0);W&&v(W)},pe=async W=>{W.preventDefault();try{const{error:te}=await ge.from("resource_allocations").insert({...S,allocated_hours:Number(S.allocated_hours)});if(te)throw te;e("Allocation saved successfully","success"),w(!1),q()}catch(te){console.error("Error saving allocation:",te),te.code==="23505"?e("Allocation already exists for this employee/client/service/week","error"):e("Failed to save allocation","error")}},xe=async W=>{W.preventDefault();try{const{error:te}=await ge.from("time_off_requests").insert(k);if(te)throw te;e("Time off request submitted","success"),b(!1),Q()}catch(te){console.error("Error submitting time off:",te),e("Failed to submit time off request","error")}},D=async(W,te)=>{const{data:{user:Y}}=await ge.auth.getUser();if(Y)try{const{error:oe}=await ge.from("time_off_requests").update({status:te,approved_by:Y.id,approved_at:new Date().toISOString()}).eq("id",W);if(oe)throw oe;e(`Time off request ${te}`,"success"),Q()}catch(oe){console.error("Error updating time off:",oe),e("Failed to update time off request","error")}},M=async W=>{W.preventDefault();try{const{error:te}=await ge.from("skill_matrix").insert({...O,years_experience:O.years_experience?Number(O.years_experience):null});if(te)throw te;e("Skill added successfully","success"),C(!1),ie()}catch(te){console.error("Error saving skill:",te),te.code==="23505"?e("This skill already exists for this employee","error"):e("Failed to save skill","error")}},T=W=>{const te=u.find(we=>we.id===W),Y=n.filter(we=>we.employee_id===W).reduce((we,ve)=>we+ve.allocated_hours,0),oe=(te==null?void 0:te.max_capacity)||40;return{allocated:Y,capacity:oe,percentage:Y/oe*100}},V=W=>{switch(W){case"expert":return"default";case"advanced":return"secondary";case"intermediate":return"outline";case"beginner":return"outline";default:return"outline"}},F=W=>{switch(W){case"approved":return"default";case"rejected":return"destructive";case"pending":return"secondary";default:return"outline"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Resource Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage capacity, time off, and skills"})]})}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(je,{"data-testid":"tab-capacity",variant:t==="capacity"?"default":"outline",onClick:()=>r("capacity"),children:"Capacity Planning"}),s.jsx(je,{"data-testid":"tab-timeoff",variant:t==="timeoff"?"default":"outline",onClick:()=>r("timeoff"),children:"Time Off"}),s.jsx(je,{"data-testid":"tab-skills",variant:t==="skills"?"default":"outline",onClick:()=>r("skills"),children:"Skills Matrix"})]}),t==="capacity"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs(je,{"data-testid":"button-prev-week",variant:"outline",onClick:()=>x(cR(g,-1)),children:[s.jsx(fC,{className:"h-4 w-4"}),"Previous Week"]}),s.jsx("div",{className:"flex-1 text-center",children:s.jsxs("h2",{className:"text-lg font-semibold text-foreground",children:["Week of ",cr(g,"MMM d, yyyy")]})}),s.jsxs(je,{"data-testid":"button-next-week",variant:"outline",onClick:()=>x(cR(g,1)),children:["Next Week",s.jsx(Ap,{className:"h-4 w-4"})]}),s.jsxs(je,{"data-testid":"button-allocate",onClick:()=>w(!0),children:[s.jsx(on,{className:"h-4 w-4"}),"Allocate"]})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:s.jsxs(Ao,{children:[s.jsx(Po,{children:s.jsxs($r,{children:[s.jsx(St,{children:"Employee"}),s.jsx(St,{children:"Client"}),s.jsx(St,{children:"Service"}),s.jsx(St,{children:"Hours"}),s.jsx(St,{children:"Utilization"})]})}),s.jsxs(To,{children:[n.map(W=>{var Y,oe,we;const te=T(W.employee_id);return s.jsxs($r,{"data-testid":`row-allocation-${W.id}`,children:[s.jsx(vt,{className:"font-medium",children:(Y=W.profiles)==null?void 0:Y.full_name}),s.jsx(vt,{children:(oe=W.clients)==null?void 0:oe.name}),s.jsx(vt,{children:(we=W.services)==null?void 0:we.name}),s.jsxs(vt,{children:[W.allocated_hours,"h"]}),s.jsx(vt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bd,{value:Math.min(te.percentage,100),className:"w-32"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[te.allocated,"/",te.capacity,"h"]})]})})]},W.id)}),n.length===0&&s.jsx($r,{children:s.jsx(vt,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No allocations for this week"})})]})]})})})})]}),t==="timeoff"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(je,{"data-testid":"button-request-timeoff",onClick:()=>b(!0),children:[s.jsx(on,{className:"h-4 w-4"}),"Request Time Off"]})}),s.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[a.map(W=>{var te;return s.jsx(Le,{"data-testid":`card-timeoff-${W.id}`,children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:(te=W.profiles)==null?void 0:te.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:W.type}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[cr(new Date(W.start_date),"MMM d, yyyy")," - ",cr(new Date(W.end_date),"MMM d, yyyy")]}),W.reason&&s.jsx("p",{className:"text-sm text-foreground mt-2",children:W.reason})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsx($t,{variant:F(W.status),className:"no-default-active-elevate no-default-hover-elevate capitalize",children:W.status}),W.status==="pending"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(je,{"data-testid":`button-approve-${W.id}`,size:"sm",onClick:()=>D(W.id,"approved"),children:"Approve"}),s.jsx(je,{"data-testid":`button-reject-${W.id}`,size:"sm",variant:"destructive",onClick:()=>D(W.id,"rejected"),children:"Reject"})]})]})]})})},W.id)}),a.length===0&&s.jsx(Le,{children:s.jsxs(Fe,{className:"text-center py-12",children:[s.jsx(ea,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No time off requests"}),s.jsx("p",{className:"text-muted-foreground",children:"Time off requests will appear here"})]})})]})]}),t==="skills"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(je,{"data-testid":"button-add-skill",onClick:()=>C(!0),children:[s.jsx(on,{className:"h-4 w-4"}),"Add Skill"]})}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:s.jsxs(Ao,{children:[s.jsx(Po,{children:s.jsxs($r,{children:[s.jsx(St,{children:"Employee"}),s.jsx(St,{children:"Skill"}),s.jsx(St,{children:"Proficiency"}),s.jsx(St,{children:"Experience"})]})}),s.jsxs(To,{children:[l.map(W=>{var te;return s.jsxs($r,{"data-testid":`row-skill-${W.id}`,children:[s.jsx(vt,{className:"font-medium",children:(te=W.profiles)==null?void 0:te.full_name}),s.jsx(vt,{children:W.skill}),s.jsx(vt,{children:s.jsx($t,{variant:V(W.proficiency),className:"no-default-active-elevate no-default-hover-elevate capitalize",children:W.proficiency})}),s.jsx(vt,{children:W.years_experience?`${W.years_experience} years`:"-"})]},W.id)}),l.length===0&&s.jsx($r,{children:s.jsx(vt,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No skills recorded yet"})})]})]})})})})]}),s.jsx(Zr,{open:y,onOpenChange:w,children:s.jsxs(Ur,{className:"max-w-2xl",children:[s.jsx(Qr,{children:s.jsx(tn,{children:"Allocate Resources"})}),s.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Employee"}),s.jsxs(_t,{value:S.employee_id,onValueChange:W=>A({...S,employee_id:W}),children:[s.jsx(wt,{"data-testid":"select-allocation-employee",children:s.jsx(jt,{placeholder:"Select employee"})}),s.jsx(bt,{children:u.map(W=>s.jsx(Ce,{value:W.id,children:W.full_name},W.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Client"}),s.jsxs(_t,{value:S.client_id,onValueChange:W=>A({...S,client_id:W}),children:[s.jsx(wt,{"data-testid":"select-allocation-client",children:s.jsx(jt,{placeholder:"Select client"})}),s.jsx(bt,{children:f.map(W=>s.jsx(Ce,{value:W.id,children:W.name},W.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Service"}),s.jsxs(_t,{value:S.service_id,onValueChange:W=>A({...S,service_id:W}),children:[s.jsx(wt,{"data-testid":"select-allocation-service",children:s.jsx(jt,{placeholder:"Select service"})}),s.jsx(bt,{children:h.map(W=>s.jsx(Ce,{value:W.id,children:W.name},W.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Hours"}),s.jsx(We,{"data-testid":"input-allocation-hours",type:"number",value:S.allocated_hours,onChange:W=>A({...S,allocated_hours:W.target.value}),min:"0",step:"0.5",required:!0})]})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{"data-testid":"button-cancel-allocation",type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),s.jsx(je,{"data-testid":"button-submit-allocation",type:"submit",children:"Allocate"})]})]})]})}),s.jsx(Zr,{open:_,onOpenChange:b,children:s.jsxs(Ur,{className:"max-w-2xl",children:[s.jsx(Qr,{children:s.jsx(tn,{children:"Request Time Off"})}),s.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Employee"}),s.jsxs(_t,{value:k.employee_id,onValueChange:W=>R({...k,employee_id:W}),children:[s.jsx(wt,{"data-testid":"select-timeoff-employee",children:s.jsx(jt,{placeholder:"Select employee"})}),s.jsx(bt,{children:u.map(W=>s.jsx(Ce,{value:W.id,children:W.full_name},W.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Type"}),s.jsxs(_t,{value:k.type,onValueChange:W=>R({...k,type:W}),children:[s.jsx(wt,{"data-testid":"select-timeoff-type",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"vacation",children:"Vacation"}),s.jsx(Ce,{value:"sick",children:"Sick"}),s.jsx(Ce,{value:"personal",children:"Personal"}),s.jsx(Ce,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Start Date"}),s.jsx(We,{"data-testid":"input-timeoff-start",type:"date",value:k.start_date,onChange:W=>R({...k,start_date:W.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"End Date"}),s.jsx(We,{"data-testid":"input-timeoff-end",type:"date",value:k.end_date,onChange:W=>R({...k,end_date:W.target.value}),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Reason (Optional)"}),s.jsx(Mi,{"data-testid":"textarea-timeoff-reason",value:k.reason,onChange:W=>R({...k,reason:W.target.value}),rows:3})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{"data-testid":"button-cancel-timeoff",type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),s.jsx(je,{"data-testid":"button-submit-timeoff",type:"submit",children:"Submit Request"})]})]})]})}),s.jsx(Zr,{open:N,onOpenChange:C,children:s.jsxs(Ur,{className:"max-w-2xl",children:[s.jsx(Qr,{children:s.jsx(tn,{children:"Add Skill"})}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Employee"}),s.jsxs(_t,{value:O.employee_id,onValueChange:W=>L({...O,employee_id:W}),children:[s.jsx(wt,{"data-testid":"select-skill-employee",children:s.jsx(jt,{placeholder:"Select employee"})}),s.jsx(bt,{children:u.map(W=>s.jsx(Ce,{value:W.id,children:W.full_name},W.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Skill"}),s.jsx(We,{"data-testid":"input-skill-name",type:"text",value:O.skill,onChange:W=>L({...O,skill:W.target.value}),placeholder:"e.g., Google Ads, SEO, Content Writing",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Proficiency"}),s.jsxs(_t,{value:O.proficiency,onValueChange:W=>L({...O,proficiency:W}),children:[s.jsx(wt,{"data-testid":"select-skill-proficiency",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"beginner",children:"Beginner"}),s.jsx(Ce,{value:"intermediate",children:"Intermediate"}),s.jsx(Ce,{value:"advanced",children:"Advanced"}),s.jsx(Ce,{value:"expert",children:"Expert"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Years of Experience"}),s.jsx(We,{"data-testid":"input-skill-experience",type:"number",value:O.years_experience,onChange:W=>L({...O,years_experience:W.target.value}),min:"0",step:"0.5"})]})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{"data-testid":"button-cancel-skill",type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancel"}),s.jsx(je,{"data-testid":"button-submit-skill",type:"submit",children:"Add Skill"})]})]})]})})]})}function MZ({reportId:e,canUpload:t=!0,canDelete:r=!1}){const[n,i]=p.useState([]),[a,o]=p.useState(!1),[l,c]=p.useState(!0),{showToast:u}=Cr(),{user:d}=Fi();p.useEffect(()=>{f()},[e]);async function f(){try{const{data:x,error:y}=await ge.from("report_attachments").select(`
          *,
          profile:profiles!uploaded_by(full_name)
        `).eq("report_id",e).order("created_at",{ascending:!1});if(y)throw y;i(x||[])}catch(x){u(x.message,"error")}finally{c(!1)}}async function m(x){const y=x.target.files;if(!y||y.length===0)return;const w=y[0],_=10*1024*1024;if(w.size>_){u("File size must be less than 10MB","error");return}o(!0);try{const b=w.name.split(".").pop(),N=`${e}/${Date.now()}-${Math.random().toString(36).substring(7)}.${b}`,{error:C}=await ge.storage.from("report-attachments").upload(N,w,{cacheControl:"3600",upsert:!1});if(C)throw C;const{data:{publicUrl:S}}=ge.storage.from("report-attachments").getPublicUrl(N),{error:A}=await ge.from("report_attachments").insert([{report_id:e,file_name:w.name,file_url:S,file_type:w.type,file_size:w.size,uploaded_by:d==null?void 0:d.id}]);if(A)throw await ge.storage.from("report-attachments").remove([N]),A;u("File uploaded successfully","success"),f(),x.target.value=""}catch(b){u(b.message,"error")}finally{o(!1)}}async function h(x){if(confirm("Are you sure you want to delete this attachment?"))try{const y=x.file_url.split("/").slice(-2).join("/"),{error:w}=await ge.from("report_attachments").delete().eq("id",x.id);if(w)throw w;await ge.storage.from("report-attachments").remove([y]),u("Attachment deleted successfully","success"),f()}catch(y){u(y.message,"error")}}function v(x){return x?x<1024?x+" B":x<1024*1024?(x/1024).toFixed(1)+" KB":(x/(1024*1024)).toFixed(1)+" MB":"Unknown size"}function g(x){return x?x.startsWith("image/")?s.jsx(Gh,{className:"w-5 h-5 text-blue-500"}):x.includes("pdf")?s.jsx(Gh,{className:"w-5 h-5 text-red-500"}):x.includes("word")||x.includes("document")?s.jsx(Gh,{className:"w-5 h-5 text-blue-600"}):x.includes("excel")||x.includes("spreadsheet")?s.jsx(Gh,{className:"w-5 h-5 text-green-600"}):s.jsx(Gh,{className:"w-5 h-5 text-gray-400"}):s.jsx(Gh,{className:"w-5 h-5 text-gray-400"})}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(b6,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attachments"}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:n.length})]}),t&&s.jsxs("label",{className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors cursor-pointer ${a?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[s.jsx(vC,{className:"w-4 h-4"}),a?"Uploading...":"Upload File",s.jsx("input",{type:"file",onChange:m,disabled:a,className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.gif"})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(Xn,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium",children:"Supported file types:"}),s.jsx("p",{children:"PDF, Word documents, Excel spreadsheets, images (PNG, JPG, GIF)"}),s.jsx("p",{className:"mt-1",children:"Maximum file size: 10MB"})]})]}),l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Loading attachments..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx(b6,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"No attachments yet"}),t&&s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Upload files to attach them to this report"})]}):s.jsx("div",{className:"space-y-2",children:n.map(x=>{var y;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[g(x.file_type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.file_name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:v(x.file_size)}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Uploaded by ",((y=x.profile)==null?void 0:y.full_name)||"Unknown"]}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(x.created_at).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("a",{href:x.file_url,download:x.file_name,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Download file",children:s.jsx(cp,{className:"w-4 h-4 text-gray-600"})}),r&&s.jsx("button",{onClick:()=>h(x),className:"p-2 hover:bg-red-100 rounded-lg transition-colors","aria-label":"Delete attachment",children:s.jsx(Io,{className:"w-4 h-4 text-red-600"})})]})]},x.id)})})]})}function J$e({reportId:e,canComment:t=!0,canDelete:r=!1,showInternal:n=!1}){const[i,a]=p.useState([]),[o,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(!0),[m,h]=p.useState(!1),[v,g]=p.useState(null),[x,y]=p.useState(""),{showToast:w}=Cr(),{user:_,profile:b}=Fi();p.useEffect(()=>{N()},[e]);async function N(){try{let U=ge.from("report_comments").select(`
          *,
          profile:profiles!user_id(full_name, role)
        `).eq("report_id",e).order("created_at",{ascending:!0});n||(U=U.eq("is_internal",!1));const{data:q,error:Q}=await U;if(Q)throw Q;a(q||[])}catch(U){w(U.message,"error")}finally{f(!1)}}async function C(U){if(U.preventDefault(),!(!o.trim()||!_)){h(!0);try{const{error:q}=await ge.from("report_comments").insert([{report_id:e,user_id:_.id,comment:o.trim(),is_internal:c}]);if(q)throw q;w("Comment added successfully","success"),l(""),u(!1),N()}catch(q){w(q.message,"error")}finally{h(!1)}}}async function S(U){if(x.trim())try{const{error:q}=await ge.from("report_comments").update({comment:x.trim(),updated_at:new Date().toISOString()}).eq("id",U);if(q)throw q;w("Comment updated successfully","success"),g(null),y(""),N()}catch(q){w(q.message,"error")}}async function A(U){if(confirm("Are you sure you want to delete this comment?"))try{const{error:q}=await ge.from("report_comments").delete().eq("id",U);if(q)throw q;w("Comment deleted successfully","success"),N()}catch(q){w(q.message,"error")}}function k(U){g(U.id),y(U.comment)}function R(){g(null),y("")}function O(U){const q=new Date(U),ie=new Date().getTime()-q.getTime(),z=Math.floor(ie/6e4),H=Math.floor(ie/36e5),X=Math.floor(ie/864e5);return z<1?"Just now":z<60?`${z} minute${z>1?"s":""} ago`:H<24?`${H} hour${H>1?"s":""} ago`:X<7?`${X} day${X>1?"s":""} ago`:q.toLocaleDateString()}const L=(b==null?void 0:b.role)==="admin";return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_o,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Comments"}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:i.length})]})}),t&&s.jsxs("form",{onSubmit:C,className:"space-y-3",children:[s.jsx("textarea",{value:o,onChange:U=>l(U.target.value),placeholder:"Add a comment...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:m}),s.jsxs("div",{className:"flex items-center justify-between",children:[L&&s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:U=>u(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:m}),s.jsx("span",{className:"text-gray-700",children:"Internal comment (visible only to staff)"})]}),s.jsxs("button",{type:"submit",disabled:!o.trim()||m,className:`ml-auto flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${!o.trim()||m?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[s.jsx(_9,{className:"w-4 h-4"}),m?"Posting...":"Post Comment"]})]})]}),d?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Loading comments..."})]}):i.length===0?s.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx(_o,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"No comments yet"}),t&&s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Be the first to comment on this report"})]}):s.jsx("div",{className:"space-y-3",children:i.map(U=>{var H;const q=(_==null?void 0:_.id)===U.user_id,Q=q,ie=q||r,z=v===U.id;return s.jsx("div",{className:`p-4 border rounded-lg ${U.is_internal?"bg-yellow-50 border-yellow-200":"bg-white border-gray-200"}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"font-medium text-gray-900",children:((H=U.profile)==null?void 0:H.full_name)||"Unknown User"}),U.is_internal&&s.jsx("span",{className:"px-2 py-0.5 bg-yellow-200 text-yellow-800 text-xs font-medium rounded",children:"Internal"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[O(U.created_at),U.updated_at&&U.updated_at!==U.created_at&&s.jsx("span",{className:"ml-1",children:"(edited)"})]})]}),z?s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:x,onChange:X=>y(X.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>S(U.id),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Uv,{className:"w-3 h-3"}),"Save"]}),s.jsxs("button",{onClick:R,className:"flex items-center gap-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:[s.jsx(to,{className:"w-3 h-3"}),"Cancel"]})]})]}):s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:U.comment})]}),!z&&s.jsxs("div",{className:"flex items-center gap-1",children:[Q&&s.jsx("button",{onClick:()=>k(U),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Edit comment",children:s.jsx(mu,{className:"w-4 h-4 text-gray-600"})}),ie&&s.jsx("button",{onClick:()=>A(U.id),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors","aria-label":"Delete comment",children:s.jsx(Io,{className:"w-4 h-4 text-red-600"})})]})]})},U.id)})}),n&&L&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(Xn,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium",children:"Internal Comments"}),s.jsx("p",{children:"Comments marked as internal are only visible to admin and employee users."})]})]})]})}function Z$e({reportId:e,onClose:t,onRestore:r}){const[n,i]=p.useState([]),[a,o]=p.useState(!0),[l,c]=p.useState(null),{showToast:u}=Cr();p.useEffect(()=>{d()},[e]);async function d(){try{const{data:h,error:v}=await ge.from("report_revisions").select(`
          *,
          profile:profiles!changed_by(full_name, email)
        `).eq("report_id",e).order("version",{ascending:!1});if(v)throw v;i(h||[])}catch(h){u(h.message,"error")}finally{o(!1)}}async function f(h,v){if(confirm("Are you sure you want to restore this version? This will create a new version with this data."))try{const{data:g,error:x}=await ge.from("weekly_reports").select("*").eq("id",e).single();if(x)throw x;const{error:y}=await ge.from("weekly_reports").update({status:v.status||g.status,work_summary:v.work_summary||g.work_summary,wins:v.wins||g.wins,challenges:v.challenges||g.challenges,next_week_plan:v.next_week_plan||g.next_week_plan,updated_at:new Date().toISOString()}).eq("id",e);if(y)throw y;u("Version restored successfully","success"),r&&r(),t()}catch(g){u(g.message,"error")}}function m(h){c(l===h?null:h)}return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x6,{className:"w-5 h-5 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Version History"})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close version history",children:s.jsx(to,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Loading versions..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(x6,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No version history available"})]}):s.jsx("div",{className:"space-y-4",children:n.map((h,v)=>{var g;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded",children:["Version ",h.version]}),v===0&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"Current"})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Modified by:"})," ",((g=h.profile)==null?void 0:g.full_name)||"Unknown"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",cr(new Date(h.created_at),"MMM d, yyyy h:mm a")]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>m(h.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":l===h.id?"Collapse details":"Expand details",children:l===h.id?s.jsx(Cf,{className:"w-5 h-5 text-gray-600"}):s.jsx(ad,{className:"w-5 h-5 text-gray-600"})}),v!==0&&s.jsxs("button",{onClick:()=>f(h.id,h.data),className:"flex items-center gap-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(zae,{className:"w-4 h-4"}),"Restore"]})]})]}),l===h.id&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-3",children:[h.data.status&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Status:"}),s.jsx("p",{className:"text-sm text-gray-600 px-3 py-2 bg-gray-50 rounded",children:h.data.status})]}),h.data.work_summary&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Work Summary:"}),s.jsx("p",{className:"text-sm text-gray-600 px-3 py-2 bg-gray-50 rounded whitespace-pre-wrap",children:h.data.work_summary})]}),h.data.wins&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Wins:"}),s.jsx("p",{className:"text-sm text-gray-600 px-3 py-2 bg-gray-50 rounded whitespace-pre-wrap",children:h.data.wins})]}),h.data.challenges&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Challenges:"}),s.jsx("p",{className:"text-sm text-gray-600 px-3 py-2 bg-gray-50 rounded whitespace-pre-wrap",children:h.data.challenges})]}),h.data.next_week_plan&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Next Week Plan:"}),s.jsx("p",{className:"text-sm text-gray-600 px-3 py-2 bg-gray-50 rounded whitespace-pre-wrap",children:h.data.next_week_plan})]}),h.data.metrics&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Metrics:"}),s.jsx("pre",{className:"text-xs text-gray-600 px-3 py-2 bg-gray-50 rounded overflow-x-auto",children:JSON.stringify(h.data.metrics,null,2)})]})]})]},h.id)})})})]})})}function Q$e({reportId:e,onClose:t,canApprove:r=!1,onApprove:n,onRequestRevision:i}){var g,x,y,w;const{showToast:a}=Cr(),[o,l]=p.useState(null),[c,u]=p.useState(!0),[d,f]=p.useState("details");p.useEffect(()=>{m()},[e]);const m=async()=>{try{const{data:_,error:b}=await ge.from("weekly_reports").select(`
          *,
          clients(name, industry),
          profiles(full_name, email),
          services(name),
          service_metrics(metric_data)
        `).eq("id",e).single();if(b)throw b;l(_)}catch(_){a(_.message,"error")}finally{u(!1)}},h=_=>{const b={on_track:"bg-green-100 text-green-800",needs_attention:"bg-yellow-100 text-yellow-800",delayed:"bg-red-100 text-red-800"},N={on_track:s.jsx(Sn,{className:"h-4 w-4"}),needs_attention:s.jsx(Xn,{className:"h-4 w-4"}),delayed:s.jsx(wi,{className:"h-4 w-4"})};return s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${b[_]||"bg-gray-100 text-gray-800"}`,children:[N[_],_.replace("_"," ")]})},v=_=>{const b={draft:"bg-gray-100 text-gray-800",submitted:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",revision_requested:"bg-red-100 text-red-800"};return s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${b[_]||"bg-gray-100 text-gray-800"}`,children:_.replace("_"," ")})};return c?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):o?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Weekly Report Details"}),v(o.approval_status)]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(fs,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:(g=o.clients)==null?void 0:g.name}),((x=o.clients)==null?void 0:x.industry)&&s.jsxs("span",{className:"text-gray-400",children:[" ",o.clients.industry]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(gs,{className:"h-4 w-4"}),s.jsx("span",{children:(y=o.services)==null?void 0:y.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx($d,{className:"h-4 w-4"}),s.jsx("span",{children:(w=o.profiles)==null?void 0:w.full_name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ea,{className:"h-4 w-4"}),s.jsxs("span",{children:["Week of ",cr(new Date(o.week_start_date),"MMM d, yyyy")]})]})]})]}),s.jsx("button",{onClick:t,className:"ml-4 p-2 hover:bg-gray-100 rounded-lg transition",children:s.jsx(to,{className:"h-6 w-6 text-gray-500"})})]})}),s.jsx("div",{className:"border-b",children:s.jsx("div",{className:"flex gap-1 px-6",children:[{id:"details",label:"Report Details",icon:Zn},{id:"attachments",label:"Attachments",icon:vl},{id:"comments",label:"Comments",icon:_o},{id:"history",label:"Version History",icon:wi}].map(_=>s.jsxs("button",{onClick:()=>f(_.id),className:`flex items-center gap-2 px-4 py-3 font-medium border-b-2 transition ${d===_.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[s.jsx(_.icon,{className:"h-4 w-4"}),_.label]},_.id))})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[d==="details"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),h(o.status)]}),o.service_metrics&&o.service_metrics.length>0&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(vl,{className:"h-5 w-5 text-blue-600"}),"Performance Metrics"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(o.service_metrics[0].metric_data||{}).map(([_,b])=>s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:_.replace(/_/g," ")}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:String(b)})]},_))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Work Summary"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:o.work_summary||"No summary provided"})]}),o.key_wins&&s.jsxs("div",{className:"bg-green-50 rounded-xl border border-green-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-green-900 mb-3 flex items-center gap-2",children:[s.jsx(Sn,{className:"h-5 w-5"}),"Key Wins"]}),s.jsx("p",{className:"text-green-800 whitespace-pre-wrap",children:o.key_wins})]}),o.challenges&&s.jsxs("div",{className:"bg-yellow-50 rounded-xl border border-yellow-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-900 mb-3 flex items-center gap-2",children:[s.jsx(Xn,{className:"h-5 w-5"}),"Challenges"]}),s.jsx("p",{className:"text-yellow-800 whitespace-pre-wrap",children:o.challenges})]}),o.next_week_plan&&s.jsxs("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(ea,{className:"h-5 w-5"}),"Next Week's Plan"]}),s.jsx("p",{className:"text-blue-800 whitespace-pre-wrap",children:o.next_week_plan})]})]})]}),d==="attachments"&&s.jsx(MZ,{reportId:e,canUpload:!1,canDelete:!1}),d==="comments"&&s.jsx(J$e,{reportId:e}),d==="history"&&s.jsx(Z$e,{reportId:e})]}),r&&o.approval_status==="submitted"&&s.jsxs("div",{className:"border-t p-6 bg-gray-50 flex justify-end gap-3",children:[s.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 rounded-lg hover:bg-white transition font-medium",children:"Close"}),s.jsxs("button",{onClick:i,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium flex items-center gap-2",children:[s.jsx(Xn,{className:"h-4 w-4"}),"Request Revision"]}),s.jsxs("button",{onClick:n,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center gap-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Approve Report"]})]}),!r&&s.jsx("div",{className:"border-t p-6 bg-gray-50 flex justify-end",children:s.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition font-medium",children:"Close"})})]})}):null}function e9e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState("submitted"),[a,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(""),[f,m]=p.useState("approve"),[h,v]=p.useState(!0),[g,x]=p.useState(null);p.useEffect(()=>{y()},[n]);const y=async()=>{try{let S=ge.from("report_approvals").select(`
          *,
          weekly_reports(
            id,
            week_start_date,
            work_summary,
            clients(name),
            profiles(full_name),
            services(name)
          ),
          approver:profiles!report_approvals_approver_id_fkey(full_name)
        `).order("created_at",{ascending:!1});n!=="all"&&(S=S.eq("status",n));const{data:A,error:k}=await S;if(k)throw k;r(A||[])}catch(S){console.error("Error loading approvals:",S),e("Failed to load approvals","error")}finally{v(!1)}},w=async S=>{try{const{data:{user:A}}=await ge.auth.getUser();if(!A)throw new Error("Not authenticated");const{error:k}=await ge.from("report_approvals").update({status:"approved",approver_id:A.id,approved_at:new Date().toISOString(),feedback:u}).eq("id",S.id);if(k)throw k;await ge.from("weekly_reports").update({approval_status:"approved"}).eq("id",S.report_id),e("Report approved successfully","success"),c(!1),d(""),o(null),y()}catch(A){console.error("Error approving report:",A),e("Failed to approve report","error")}},_=async S=>{if(!u.trim()){e("Please provide feedback for revision","error");return}try{const{data:{user:A}}=await ge.auth.getUser();if(!A)throw new Error("Not authenticated");const{error:k}=await ge.from("report_approvals").update({status:"revision_requested",approver_id:A.id,feedback:u}).eq("id",S.id);if(k)throw k;await ge.from("weekly_reports").update({approval_status:"revision_requested"}).eq("id",S.report_id),e("Revision requested successfully","success"),c(!1),d(""),o(null),y()}catch(A){console.error("Error requesting revision:",A),e("Failed to request revision","error")}},b=(S,A)=>{o(S),m(A),c(!0),d("")},N=S=>{switch(S){case"approved":return"default";case"submitted":return"secondary";case"revision_requested":return"destructive";default:return"outline"}},C=S=>{switch(S){case"draft":return s.jsx(wi,{className:"h-3.5 w-3.5"});case"submitted":return s.jsx(Xn,{className:"h-3.5 w-3.5"});case"approved":return s.jsx(Sn,{className:"h-3.5 w-3.5"});case"revision_requested":return s.jsx(Sw,{className:"h-3.5 w-3.5"})}};return h?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-7 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(S=>s.jsx(ke,{className:"h-9 w-24"},S))}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(S=>s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"h-5 w-32"}),s.jsx(ke,{className:"h-6 w-48"}),s.jsx(ke,{className:"h-4 w-64"}),s.jsx(ke,{className:"h-4 w-40"})]})})},S))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Report Approvals"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review and approve submitted weekly reports"})]})}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","submitted","approved","revision_requested"].map(S=>s.jsx(je,{variant:n===S?"default":"outline",onClick:()=>i(S),"data-testid":`button-filter-${S}`,className:"capitalize",children:S==="all"?"All":S.replace("_"," ")},S))}),s.jsxs("div",{className:"space-y-4 max-h-[700px] overflow-y-auto",children:[t.map(S=>{var A,k,R,O,L,U,q,Q;return s.jsx(Le,{"data-testid":`card-approval-${S.id}`,children:s.jsxs(Fe,{className:"p-6",children:[s.jsx("div",{className:"flex justify-between items-start gap-4 flex-wrap mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[s.jsxs($t,{variant:N(S.status),"data-testid":`badge-status-${S.id}`,children:[C(S.status),s.jsx("span",{className:"ml-1",children:S.status.replace("_"," ")})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:cr(new Date(S.created_at),"MMM d, yyyy")})]}),s.jsx("h3",{className:"text-xl font-semibold text-foreground",children:((k=(A=S.weekly_reports)==null?void 0:A.clients)==null?void 0:k.name)||"Unknown Client"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Week of ",cr(new Date(((R=S.weekly_reports)==null?void 0:R.week_start_date)||""),"MMM d, yyyy")]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitted by: ",((L=(O=S.weekly_reports)==null?void 0:O.profiles)==null?void 0:L.full_name)||"Unknown"]}),((q=(U=S.weekly_reports)==null?void 0:U.services)==null?void 0:q.name)&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Service: ",S.weekly_reports.services.name]})]})}),((Q=S.weekly_reports)==null?void 0:Q.work_summary)&&s.jsxs("div",{className:"mb-4 p-4 bg-muted rounded-md",children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Work Summary"}),s.jsxs("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:[S.weekly_reports.work_summary.substring(0,200),S.weekly_reports.work_summary.length>200&&"..."]})]}),S.feedback&&s.jsxs("div",{className:"mb-4 p-4 bg-muted rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(_o,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Feedback"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.feedback}),S.approver&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["By ",S.approver.full_name," on"," ",S.approved_at&&cr(new Date(S.approved_at),"MMM d, yyyy h:mm a")]})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsxs(je,{variant:"outline",onClick:()=>x(S.report_id),"data-testid":`button-view-report-${S.id}`,children:[s.jsx(Sd,{className:"h-4 w-4 mr-2"}),"View Full Report"]}),S.status==="submitted"&&s.jsxs(s.Fragment,{children:[s.jsxs(je,{onClick:()=>b(S,"approve"),"data-testid":`button-approve-${S.id}`,children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Approve"]}),s.jsxs(je,{variant:"destructive",onClick:()=>b(S,"revise"),"data-testid":`button-revise-${S.id}`,children:[s.jsx(Sw,{className:"h-4 w-4 mr-2"}),"Request Revision"]})]})]})]})},S.id)}),t.length===0&&s.jsx(Le,{children:s.jsxs(Fe,{className:"text-center py-12",children:[s.jsx(wi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No reports found for this filter"})]})})]}),s.jsx(Zr,{open:l&&!!a,onOpenChange:S=>{S||(c(!1),d(""),o(null))},children:s.jsxs(Ur,{className:"max-w-2xl",children:[s.jsxs(Qr,{children:[s.jsx(tn,{children:f==="approve"?"Approve Report":"Request Revision"}),s.jsx(Vc,{children:f==="approve"?"Optionally provide feedback for the approved report":"Please provide feedback on what needs to be revised"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{htmlFor:"feedback",children:["Feedback ",f==="revise"&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Mi,{id:"feedback","data-testid":"input-feedback",value:u,onChange:S=>d(S.target.value),rows:6,placeholder:f==="approve"?"Great work! Everything looks good...":"Please revise the following sections..."})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{variant:"outline",onClick:()=>{c(!1),d(""),o(null)},"data-testid":"button-cancel-feedback",children:"Cancel"}),s.jsx(je,{variant:f==="approve"?"default":"destructive",onClick:()=>{a&&(f==="approve"?w(a):_(a))},"data-testid":"button-submit-feedback",children:f==="approve"?"Approve Report":"Request Revision"})]})]})}),g&&s.jsx(Q$e,{reportId:g,onClose:()=>x(null),canApprove:!0,onApprove:()=>{const S=t.find(A=>A.report_id===g);S&&(b(S,"approve"),x(null))},onRequestRevision:()=>{const S=t.find(A=>A.report_id===g);S&&(b(S,"revise"),x(null))}})]})}function t9e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(!0),[u,d]=p.useState({name:"",subject:"",body:"",template_type:"custom"});p.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:y,error:w}=await ge.from("email_templates").select("*, profiles(full_name)").order("created_at",{ascending:!1});if(w)throw w;r(y||[])}catch(y){console.error("Error loading templates:",y),e("Failed to load templates","error")}finally{c(!1)}},m=y=>{y?(o(y),d({name:y.name,subject:y.subject,body:y.body,template_type:y.template_type})):(o(null),d({name:"",subject:"",body:"",template_type:"custom"})),i(!0)},h=async y=>{y.preventDefault();try{const{data:{user:w}}=await ge.auth.getUser();if(!w)throw new Error("Not authenticated");if(a){const{error:_}=await ge.from("email_templates").update({...u,updated_at:new Date().toISOString()}).eq("id",a.id);if(_)throw _;e("Template updated successfully","success")}else{const{error:_}=await ge.from("email_templates").insert({...u,created_by:w.id,variables:{}});if(_)throw _;e("Template created successfully","success")}i(!1),f()}catch(w){console.error("Error saving template:",w),e("Failed to save template","error")}},v=async y=>{if(confirm("Are you sure you want to delete this template?"))try{const{error:w}=await ge.from("email_templates").delete().eq("id",y);if(w)throw w;e("Template deleted successfully","success"),f()}catch(w){console.error("Error deleting template:",w),e("Failed to delete template","error")}},g=y=>{d({name:`${y.name} (Copy)`,subject:y.subject,body:y.body,template_type:y.template_type}),o(null),i(!0)},x=y=>{switch(y){case"report_delivery":return"default";case"deadline_reminder":return"secondary";case"welcome":return"default";case"status_update":return"outline";case"custom":return"secondary";default:return"secondary"}};return l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-7 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(ke,{className:"h-9 w-36"})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3,4].map(y=>s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"h-5 w-48"}),s.jsx(ke,{className:"h-5 w-24"}),s.jsx(ke,{className:"h-4 w-full"}),s.jsx(ke,{className:"h-16 w-full"})]})})},y))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Email Templates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage email templates for automated communications"})]}),s.jsxs(je,{"data-testid":"button-create-template",onClick:()=>m(),children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Create Template"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 max-h-[700px] overflow-y-auto",children:[t.map(y=>{var w;return s.jsx(Le,{"data-testid":`card-template-${y.id}`,children:s.jsxs(Fe,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[s.jsx(Vf,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:y.name})]}),s.jsx($t,{variant:x(y.template_type),"data-testid":`badge-type-${y.id}`,children:y.template_type.replace("_"," ")})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>g(y),"aria-label":"Duplicate","data-testid":`button-duplicate-${y.id}`,children:s.jsx(Dae,{className:"h-4 w-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>m(y),"aria-label":"Edit","data-testid":`button-edit-${y.id}`,children:s.jsx(mu,{className:"h-4 w-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>v(y.id),"aria-label":"Delete","data-testid":`button-delete-${y.id}`,children:s.jsx(Io,{className:"h-4 w-4 text-destructive"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Subject"}),s.jsx("p",{className:"text-sm text-foreground bg-muted p-2 rounded-md",children:y.subject})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Body Preview"}),s.jsx("p",{className:"text-sm text-muted-foreground bg-muted p-2 rounded-md whitespace-pre-wrap line-clamp-3",children:y.body})]}),s.jsxs("div",{className:"pt-3 border-t border-border text-xs text-muted-foreground",children:["Created by ",((w=y.profiles)==null?void 0:w.full_name)||"Unknown"]})]})]})},y.id)}),t.length===0&&s.jsx(Le,{className:"col-span-2",children:s.jsxs(Fe,{className:"text-center py-12",children:[s.jsx(Vf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No email templates yet"}),s.jsx(je,{variant:"ghost",onClick:()=>m(),className:"mt-4","data-testid":"button-create-first-template",children:"Create your first template"})]})})]}),s.jsx(Zr,{open:n,onOpenChange:i,children:s.jsxs(Ur,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qr,{children:s.jsx(tn,{children:a?"Edit Template":"Create Template"})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{htmlFor:"template-name",children:["Template Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(We,{id:"template-name","data-testid":"input-template-name",value:u.name,onChange:y=>d({...u,name:y.target.value}),placeholder:"e.g., Weekly Report Delivery",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{htmlFor:"template-type",children:["Template Type ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(_t,{value:u.template_type,onValueChange:y=>d({...u,template_type:y}),children:[s.jsx(wt,{"data-testid":"select-template-type",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"report_delivery",children:"Report Delivery"}),s.jsx(Ce,{value:"deadline_reminder",children:"Deadline Reminder"}),s.jsx(Ce,{value:"welcome",children:"Welcome"}),s.jsx(Ce,{value:"status_update",children:"Status Update"}),s.jsx(Ce,{value:"custom",children:"Custom"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{htmlFor:"template-subject",children:["Subject Line ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(We,{id:"template-subject","data-testid":"input-template-subject",value:u.subject,onChange:y=>d({...u,subject:y.target.value}),placeholder:"e.g., Your Weekly Report is Ready",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{htmlFor:"template-body",children:["Email Body ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Mi,{id:"template-body","data-testid":"input-template-body",value:u.body,onChange:y=>d({...u,body:y.target.value}),className:"font-mono text-sm",rows:12,placeholder:`Hi {{client_name}},

Your weekly report for {{week_date}} is now available...

Available variables: {{client_name}}, {{week_date}}, {{employee_name}}, {{report_link}}`,required:!0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Use variables like ","{{"," client_name","}}",", ","{{"," week_date","}}",", ","{{"," employee_name","}}",", ","{{"," report_link ","}}"]})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-template",children:"Cancel"}),s.jsx(je,{type:"submit","data-testid":"button-submit-template",children:a?"Update Template":"Create Template"})]})]})]})})]})}const lN=[{type:"active_clients",label:"Active Clients Count",description:"Display total active clients"},{type:"pending_reports",label:"Pending Reports",description:"Reports awaiting submission"},{type:"revenue_chart",label:"Revenue Chart",description:"Monthly revenue visualization"},{type:"team_utilization",label:"Team Utilization",description:"Employee capacity overview"},{type:"recent_activity",label:"Recent Activity",description:"Latest system activities"},{type:"upcoming_deadlines",label:"Upcoming Deadlines",description:"Report due dates"},{type:"client_health",label:"Client Health",description:"Client health status overview"},{type:"goal_progress",label:"Goal Progress",description:"Track goal completion"},{type:"time_tracking",label:"Time Tracking Summary",description:"Billable hours overview"},{type:"budget_alerts",label:"Budget Alerts",description:"Budget utilization warnings"}];function r9e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(!0),[u,d]=p.useState(!1),[f,m]=p.useState({widget_type:"",size:"medium",is_visible:!0});p.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:{user:N}}=await ge.auth.getUser();if(!N)throw new Error("Not authenticated");const{data:C,error:S}=await ge.from("dashboard_widgets").select("*").eq("user_id",N.id).order("position",{ascending:!0});if(S)throw S;r(C||[])}catch(N){console.error("Error loading widgets:",N),e("error","Failed to load widgets")}finally{c(!1)}},v=N=>{N?(o(N),m({widget_type:N.widget_type,size:N.size,is_visible:N.is_visible})):(o(null),m({widget_type:"",size:"medium",is_visible:!0})),i(!0)},g=async N=>{N.preventDefault();try{d(!0);const{data:{user:C}}=await ge.auth.getUser();if(!C)throw new Error("Not authenticated");if(a){const{error:S}=await ge.from("dashboard_widgets").update({widget_type:f.widget_type,size:f.size,is_visible:f.is_visible,updated_at:new Date().toISOString()}).eq("id",a.id);if(S)throw S;e("success","Widget updated successfully")}else{const S=t.length>0?Math.max(...t.map(k=>k.position)):0,{error:A}=await ge.from("dashboard_widgets").insert({user_id:C.id,widget_type:f.widget_type,position:S+1,size:f.size,config:{},is_visible:f.is_visible});if(A)throw A;e("success","Widget added successfully")}i(!1),h()}catch(C){console.error("Error saving widget:",C),e("error","Failed to save widget")}finally{d(!1)}},x=async N=>{if(confirm("Are you sure you want to remove this widget?"))try{const{error:C}=await ge.from("dashboard_widgets").delete().eq("id",N);if(C)throw C;e("success","Widget removed successfully"),h()}catch(C){console.error("Error deleting widget:",C),e("error","Failed to remove widget")}},y=async N=>{try{const{error:C}=await ge.from("dashboard_widgets").update({is_visible:!N.is_visible}).eq("id",N.id);if(C)throw C;e("success",`Widget ${N.is_visible?"hidden":"shown"}`),h()}catch(C){console.error("Error toggling visibility:",C),e("error","Failed to update widget")}},w=async(N,C)=>{const S=t.findIndex(O=>O.id===N);if(C==="up"&&S===0||C==="down"&&S===t.length-1)return;const A=C==="up"?S-1:S+1,k=t[S],R=t[A];try{await Promise.all([ge.from("dashboard_widgets").update({position:R.position}).eq("id",k.id),ge.from("dashboard_widgets").update({position:k.position}).eq("id",R.id)]),e("success","Widget position updated"),h()}catch(O){console.error("Error moving widget:",O),e("error","Failed to move widget")}},_=N=>{var C;return((C=lN.find(S=>S.type===N))==null?void 0:C.label)||N},b=N=>({small:"outline",medium:"secondary",large:"default"})[N]||"secondary";return l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-56 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(ke,{className:"h-9 w-32"})]}),s.jsx(ke,{className:"h-16 w-full"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{className:"h-32 w-full"}),s.jsx(ke,{className:"h-32 w-full"}),s.jsx(ke,{className:"h-32 w-full"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Dashboard Customization"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize your dashboard widgets and layout"})]}),s.jsxs(je,{onClick:()=>v(),"data-testid":"button-add-widget",children:[s.jsx(on,{className:"h-4 w-4"}),"Add Widget"]})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{className:"text-foreground",children:"Note:"})," Customize which widgets appear on your dashboard. Use the visibility toggle to show/hide widgets, and use the arrows to reorder them."]})})}),s.jsxs("div",{className:"space-y-4",children:[t.map((N,C)=>{var S;return s.jsx(Le,{className:N.is_visible?"":"opacity-50","data-testid":`card-widget-${N.id}`,children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx(w6,{className:"h-6 w-6 text-muted-foreground mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground","data-testid":`text-widget-name-${N.id}`,children:_(N.widget_type)}),s.jsx($t,{variant:b(N.size),className:"no-default-active-elevate",children:N.size}),!N.is_visible&&s.jsx($t,{variant:"outline",className:"no-default-active-elevate",children:"Hidden"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:((S=lN.find(A=>A.type===N.widget_type))==null?void 0:S.description)||"Custom widget"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Position: ",N.position]})]})]}),s.jsxs("div",{className:"flex gap-1 items-center",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>w(N.id,"up"),disabled:C===0,"data-testid":`button-move-up-${N.id}`,children:s.jsx(y6,{className:"h-4 w-4 rotate-180"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>w(N.id,"down"),disabled:C===t.length-1,"data-testid":`button-move-down-${N.id}`,children:s.jsx(y6,{className:"h-4 w-4"})})]}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>y(N),"data-testid":`button-toggle-visibility-${N.id}`,children:N.is_visible?s.jsx(Sd,{className:"h-4 w-4"}):s.jsx(up,{className:"h-4 w-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>v(N),"data-testid":`button-edit-widget-${N.id}`,children:s.jsx(mu,{className:"h-4 w-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>x(N.id),"data-testid":`button-delete-widget-${N.id}`,children:s.jsx(Io,{className:"h-4 w-4 text-destructive"})})]})]})})},N.id)}),t.length===0&&s.jsx(Le,{children:s.jsxs(Fe,{className:"p-12 text-center",children:[s.jsx(w6,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No widgets configured yet"}),s.jsx(je,{variant:"link",onClick:()=>v(),"data-testid":"button-add-first-widget",children:"Add your first widget"})]})})]}),s.jsx(Zr,{open:n,onOpenChange:N=>{N||i(!1)},children:s.jsxs(Ur,{className:"sm:max-w-lg",children:[s.jsxs(Qr,{children:[s.jsx(tn,{children:a?"Edit Widget":"Add Widget"}),s.jsx(Vc,{children:a?"Update the widget settings below.":"Choose a widget type and configure its settings."})]}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Widget Type ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(_t,{value:f.widget_type,onValueChange:N=>m({...f,widget_type:N}),disabled:!!a,children:[s.jsx(wt,{"data-testid":"select-widget-type",children:s.jsx(jt,{placeholder:"Select a widget type"})}),s.jsx(bt,{children:lN.map(N=>s.jsxs(Ce,{value:N.type,children:[N.label," - ",N.description]},N.type))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Size ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(_t,{value:f.size,onValueChange:N=>m({...f,size:N}),children:[s.jsx(wt,{"data-testid":"select-widget-size",children:s.jsx(jt,{placeholder:"Select a size"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"small",children:"Small (1/3 width)"}),s.jsx(Ce,{value:"medium",children:"Medium (1/2 width)"}),s.jsx(Ce,{value:"large",children:"Large (Full width)"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Td,{id:"is_visible",checked:f.is_visible,onCheckedChange:N=>m({...f,is_visible:N===!0}),"data-testid":"checkbox-widget-visible"}),s.jsx(be,{htmlFor:"is_visible",children:"Visible on dashboard"})]}),s.jsxs(en,{children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-widget",children:"Cancel"}),s.jsxs(je,{type:"submit",disabled:u,"data-testid":"button-submit-widget",children:[u&&s.jsx(Ya,{className:"h-4 w-4 animate-spin"}),a?"Update Widget":"Add Widget"]})]})]})]})})]})}function n9e(){const{showToast:e}=Cr(),[t,r]=p.useState("clients"),[n,i]=p.useState(null),[a,o]=p.useState(!1),[l,c]=p.useState(null),u={clients:{headers:["name","industry","status","contact_name","contact_email","contact_phone","website","priority"],example:"Acme Corp,Technology,active,John Doe,john@acme.com,555-1234,https://acme.com,high"},employees:{headers:["email","full_name","role","status","max_capacity","phone"],example:"jane@example.com,Jane Smith,employee,active,5,555-5678"},time_entries:{headers:["employee_email","client_name","service_name","hours","date","description"],example:"jane@example.com,Acme Corp,SEO,8,2024-01-15,Monthly SEO optimization"},goals:{headers:["client_name","title","description","target_value","unit","start_date","target_date","priority"],example:"Acme Corp,Increase Traffic,Grow organic traffic by 50%,50,percent,2024-01-01,2024-12-31,high"}},d=()=>{const w=u[t],_=[w.headers.join(","),w.example].join(`
`),b=new Blob([_],{type:"text/csv"}),N=window.URL.createObjectURL(b),C=document.createElement("a");C.href=N,C.download=`${t}_template.csv`,C.click(),window.URL.revokeObjectURL(N)},f=w=>{w.target.files&&w.target.files[0]&&(i(w.target.files[0]),c(null))},m=w=>w.trim().split(`
`).map(b=>{const N=[];let C="",S=!1;for(let A=0;A<b.length;A++){const k=b[A];k==='"'?S=!S:k===","&&!S?(N.push(C.trim()),C=""):C+=k}return N.push(C.trim()),N}),h=async w=>{const _={success:0,failed:0,errors:[]},b=w[0];for(let N=1;N<w.length;N++){const C=w[N];if(!(C.length===0||C[0]===""))try{const S={};b.forEach((k,R)=>{S[k]=C[R]||null});const{error:A}=await ge.from("clients").insert(S);if(A)throw A;_.success++}catch(S){_.failed++,_.errors.push({row:N+1,error:S.message})}}return _},v=async w=>{var N;const _={success:0,failed:0,errors:[]},b=w[0];for(let C=1;C<w.length;C++){const S=w[C];if(!(S.length===0||S[0]===""))try{const{data:A,error:k}=await ge.auth.signUp({email:S[b.indexOf("email")],password:Math.random().toString(36).slice(-12)});if(k)throw k;const R={id:(N=A.user)==null?void 0:N.id};b.forEach((L,U)=>{L!=="email"?R[L]=S[U]||null:R.email=S[U]});const{error:O}=await ge.from("profiles").upsert(R);if(O)throw O;_.success++}catch(A){_.failed++,_.errors.push({row:C+1,error:A.message})}}return _},g=async w=>{const _={success:0,failed:0,errors:[]};for(let b=1;b<w.length;b++){const N=w[b];if(!(N.length===0||N[0]===""))try{const[C,S,A,k,R,O]=N,{data:L}=await ge.from("profiles").select("id").eq("email",C).single(),{data:U}=await ge.from("clients").select("id").eq("name",S).single(),{data:q}=await ge.from("services").select("id").eq("name",A).single();if(!L||!U||!q)throw new Error("Employee, client, or service not found");const{error:Q}=await ge.from("time_entries").insert({employee_id:L.id,client_id:U.id,service_id:q.id,hours:parseFloat(k),date:R,description:O||null});if(Q)throw Q;_.success++}catch(C){_.failed++,_.errors.push({row:b+1,error:C.message})}}return _},x=async w=>{const _={success:0,failed:0,errors:[]};for(let b=1;b<w.length;b++){const N=w[b];if(!(N.length===0||N[0]===""))try{const[C,S,A,k,R,O,L,U]=N,{data:q}=await ge.from("clients").select("id").eq("name",C).single(),{data:{user:Q}}=await ge.auth.getUser();if(!q||!Q)throw new Error("Client not found or user not authenticated");const{error:ie}=await ge.from("goals").insert({client_id:q.id,title:S,description:A||null,target_value:parseFloat(k),unit:R,start_date:O,target_date:L,priority:U||"medium",created_by:Q.id});if(ie)throw ie;_.success++}catch(C){_.failed++,_.errors.push({row:b+1,error:C.message})}}return _},y=async()=>{if(!n){e("Please select a file","error");return}o(!0),c(null);try{const w=await n.text(),_=m(w);if(_.length<2)throw new Error("CSV file must contain headers and at least one data row");let b;switch(t){case"clients":b=await h(_);break;case"employees":b=await v(_);break;case"time_entries":b=await g(_);break;case"goals":b=await x(_);break;default:throw new Error("Invalid import type")}c(b),b.success>0&&e(`Successfully imported ${b.success} records`,"success"),b.failed>0&&e(`Failed to import ${b.failed} records`,"error")}catch(w){console.error("Import error:",w),e(w.message||"Failed to import data","error")}finally{o(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Bulk Import"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Import multiple records from CSV files"})]})}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Xn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium mb-1 text-foreground",children:"Important Notes:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Download the template CSV file for the correct format"}),s.jsx("li",{children:"Ensure all required fields are filled"}),s.jsx("li",{children:"For employees, accounts will be created automatically"}),s.jsx("li",{children:"For time entries and goals, referenced entities must exist"})]})]})]})})}),s.jsxs(Le,{children:[s.jsx(Rr,{children:s.jsx(Ir,{children:"Import Configuration"})}),s.jsxs(Fe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{htmlFor:"import-type",children:["Import Type ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(_t,{value:t,onValueChange:w=>r(w),children:[s.jsx(wt,{"data-testid":"select-import-type",children:s.jsx(jt,{placeholder:"Select import type"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"clients",children:"Clients"}),s.jsx(Ce,{value:"employees",children:"Employees"}),s.jsx(Ce,{value:"time_entries",children:"Time Entries"}),s.jsx(Ce,{value:"goals",children:"Goals"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(je,{variant:"outline",onClick:d,"data-testid":"button-download-template",children:[s.jsx(cp,{className:"h-4 w-4 mr-2"}),"Download CSV Template"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Download a template with the correct headers and example data"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Select CSV File ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"border-2 border-dashed border-border rounded-md p-8 text-center",children:[s.jsx("input",{type:"file",accept:".csv",onChange:f,className:"hidden",id:"csv-upload","data-testid":"input-csv-upload"}),s.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[s.jsx(Zn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n?s.jsx("p",{className:"text-sm text-foreground font-medium","data-testid":"text-file-name",children:n.name}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-foreground font-medium",children:"Click to upload CSV file"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop"})]})]})]})]}),s.jsxs(je,{onClick:y,disabled:!n||a,className:"w-full","data-testid":"button-import-data",children:[a?s.jsx(Ya,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(vC,{className:"h-4 w-4 mr-2"}),a?"Importing...":"Import Data"]})]})]}),l&&s.jsxs(Le,{children:[s.jsx(Rr,{children:s.jsx(Ir,{children:"Import Results"})}),s.jsxs(Fe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-950/30 rounded-md",children:[s.jsx(Sn,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground","data-testid":"text-import-success",children:"Successfully Imported"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.success," records"]})]})]}),l.failed>0&&s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950/30 rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(to,{className:"h-6 w-6 text-destructive"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground","data-testid":"text-import-failed",children:"Failed to Import"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.failed," records"]})]})]}),l.errors.length>0&&s.jsxs("div",{className:"mt-4 space-y-2 max-h-64 overflow-y-auto",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Errors:"}),l.errors.map((w,_)=>s.jsxs("div",{className:"text-xs text-destructive bg-destructive/10 p-2 rounded-md","data-testid":`text-error-${_}`,children:["Row ",w.row,": ",w.error]},_))]})]})]})]})]})}function i9e(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[i,a]=p.useState(!0),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(""),[m,h]=p.useState("all"),{showToast:v}=Cr(),[g,x]=p.useState({industry:"",service_id:"",metric_name:"",average_value:"",top_quartile_value:"",data_source:"",period:new Date().toISOString().split("T")[0]});p.useEffect(()=>{y()},[]);async function y(){try{const[S,A]=await Promise.all([ge.from("benchmarks").select("*, service:services(name)").order("industry",{ascending:!0}),ge.from("services").select("id, name").order("name",{ascending:!0})]);if(S.error)throw S.error;if(A.error)throw A.error;t(S.data||[]),n(A.data||[])}catch(S){v(S.message,"error")}finally{a(!1)}}function w(S){var A;S?(u(S),x({industry:S.industry,service_id:S.service_id,metric_name:S.metric_name,average_value:S.average_value.toString(),top_quartile_value:((A=S.top_quartile_value)==null?void 0:A.toString())||"",data_source:S.data_source||"",period:S.period})):(u(null),x({industry:"",service_id:"",metric_name:"",average_value:"",top_quartile_value:"",data_source:"",period:new Date().toISOString().split("T")[0]})),l(!0)}async function _(S){S.preventDefault();const A={industry:g.industry,service_id:g.service_id,metric_name:g.metric_name,average_value:parseFloat(g.average_value),top_quartile_value:g.top_quartile_value?parseFloat(g.top_quartile_value):null,data_source:g.data_source||null,period:g.period};try{if(c){const{error:k}=await ge.from("benchmarks").update(A).eq("id",c.id);if(k)throw k;v("Benchmark updated successfully","success")}else{const{error:k}=await ge.from("benchmarks").insert([A]);if(k)throw k;v("Benchmark created successfully","success")}l(!1),y()}catch(k){v(k.message,"error")}}async function b(S){if(confirm("Are you sure you want to delete this benchmark?"))try{const{error:A}=await ge.from("benchmarks").delete().eq("id",S);if(A)throw A;v("Benchmark deleted successfully","success"),y()}catch(A){v(A.message,"error")}}const N=Array.from(new Set(e.map(S=>S.industry))).sort(),C=e.filter(S=>{const A=S.metric_name.toLowerCase().includes(d.toLowerCase())||S.industry.toLowerCase().includes(d.toLowerCase()),k=m==="all"||S.industry===m;return A&&k});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Performance Benchmarks"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Industry benchmarks for performance comparison"})]}),s.jsxs(je,{"data-testid":"button-add-benchmark",onClick:()=>w(),children:[s.jsx(on,{className:"h-4 w-4"}),"Add Benchmark"]})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(zs,{className:"w-4 h-4 text-muted-foreground absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx(We,{"data-testid":"input-search-benchmarks",type:"text",placeholder:"Search benchmarks...",value:d,onChange:S=>f(S.target.value),className:"pl-10"})]}),s.jsxs(_t,{value:m,onValueChange:h,children:[s.jsx(wt,{"data-testid":"select-filter-industry",className:"w-[200px]",children:s.jsx(jt,{placeholder:"All Industries"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"all",children:"All Industries"}),N.map(S=>s.jsx(Ce,{value:S,children:S},S))]})]})]})})}),i?s.jsx(Le,{children:s.jsxs(Fe,{className:"p-6 space-y-4",children:[s.jsx(ke,{className:"h-8 w-full"}),s.jsx(ke,{className:"h-8 w-full"}),s.jsx(ke,{className:"h-8 w-full"}),s.jsx(ke,{className:"h-8 w-full"}),s.jsx(ke,{className:"h-8 w-full"})]})}):C.length===0?s.jsx(Le,{children:s.jsxs(Fe,{className:"text-center py-12",children:[s.jsx(vl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"No benchmarks found"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first industry benchmark to start tracking"})]})}):s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsxs(Ao,{children:[s.jsx(Po,{children:s.jsxs($r,{children:[s.jsx(St,{children:"Industry"}),s.jsx(St,{children:"Service"}),s.jsx(St,{children:"Metric"}),s.jsx(St,{children:"Average"}),s.jsx(St,{children:"Top Quartile"}),s.jsx(St,{children:"Source"}),s.jsx(St,{children:"Period"}),s.jsx(St,{className:"text-right",children:"Actions"})]})}),s.jsx(To,{children:C.map(S=>{var A;return s.jsxs($r,{"data-testid":`row-benchmark-${S.id}`,children:[s.jsx(vt,{className:"font-medium text-foreground",children:S.industry}),s.jsx(vt,{className:"text-muted-foreground",children:(A=S.service)==null?void 0:A.name}),s.jsx(vt,{className:"text-muted-foreground",children:S.metric_name}),s.jsx(vt,{className:"font-medium text-foreground",children:S.average_value}),s.jsx(vt,{className:"text-muted-foreground",children:S.top_quartile_value||"-"}),s.jsx(vt,{className:"text-muted-foreground",children:S.data_source||"-"}),s.jsx(vt,{className:"text-muted-foreground",children:new Date(S.period).toLocaleDateString()}),s.jsx(vt,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(je,{"data-testid":`button-edit-benchmark-${S.id}`,size:"icon",variant:"ghost",onClick:()=>w(S),"aria-label":"Edit benchmark",children:s.jsx(mu,{className:"w-4 h-4"})}),s.jsx(je,{"data-testid":`button-delete-benchmark-${S.id}`,size:"icon",variant:"ghost",onClick:()=>b(S.id),"aria-label":"Delete benchmark",children:s.jsx(Io,{className:"w-4 h-4"})})]})})]},S.id)})})]})})}),s.jsx(Zr,{open:o,onOpenChange:l,children:s.jsxs(Ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Qr,{children:s.jsx(tn,{children:c?"Edit Benchmark":"Add Benchmark"})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Industry *"}),s.jsx(We,{"data-testid":"input-benchmark-industry",type:"text",required:!0,value:g.industry,onChange:S=>x({...g,industry:S.target.value}),placeholder:"e.g., Technology, Healthcare, Finance"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Service *"}),s.jsxs(_t,{value:g.service_id,onValueChange:S=>x({...g,service_id:S}),children:[s.jsx(wt,{"data-testid":"select-benchmark-service",children:s.jsx(jt,{placeholder:"Select a service"})}),s.jsx(bt,{children:r.map(S=>s.jsx(Ce,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Metric Name *"}),s.jsx(We,{"data-testid":"input-benchmark-metric",type:"text",required:!0,value:g.metric_name,onChange:S=>x({...g,metric_name:S.target.value}),placeholder:"e.g., Click-Through Rate, Conversion Rate"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Average Value *"}),s.jsx(We,{"data-testid":"input-benchmark-average",type:"number",step:"0.01",required:!0,value:g.average_value,onChange:S=>x({...g,average_value:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Top Quartile Value"}),s.jsx(We,{"data-testid":"input-benchmark-top-quartile",type:"number",step:"0.01",value:g.top_quartile_value,onChange:S=>x({...g,top_quartile_value:S.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Data Source"}),s.jsx(We,{"data-testid":"input-benchmark-source",type:"text",value:g.data_source,onChange:S=>x({...g,data_source:S.target.value}),placeholder:"e.g., Industry Report 2024, Internal Data"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Period *"}),s.jsx(We,{"data-testid":"input-benchmark-period",type:"date",required:!0,value:g.period,onChange:S=>x({...g,period:S.target.value})})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{"data-testid":"button-cancel-benchmark",type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(je,{"data-testid":"button-submit-benchmark",type:"submit",children:[c?"Update":"Create"," Benchmark"]})]})]})]})})]})}function a9e(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[i,a]=p.useState(!0),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(""),[m,h]=p.useState(""),{showToast:v}=Cr(),[g,x]=p.useState({service_id:"",metric_name:"",metric_type:"number",description:"",is_active:!0});p.useEffect(()=>{y()},[]);async function y(){try{const[k,R]=await Promise.all([ge.from("custom_metrics").select("*, service:services(name)").order("service_id",{ascending:!0}).order("metric_name",{ascending:!0}),ge.from("services").select("id, name").order("name",{ascending:!0})]);if(k.error)throw k.error;if(R.error)throw R.error;t(k.data||[]),n(R.data||[])}catch(k){v(k.message,"error")}finally{a(!1)}}function w(k){k?(u(k),x({service_id:k.service_id,metric_name:k.metric_name,metric_type:k.metric_type,description:k.description||"",is_active:k.is_active})):(u(null),x({service_id:"",metric_name:"",metric_type:"number",description:"",is_active:!0})),l(!0)}async function _(k){k.preventDefault();const R={service_id:g.service_id,metric_name:g.metric_name,metric_type:g.metric_type,description:g.description||null,is_active:g.is_active};try{if(c){const{error:O}=await ge.from("custom_metrics").update(R).eq("id",c.id);if(O)throw O;v("Custom metric updated successfully","success")}else{const{error:O}=await ge.from("custom_metrics").insert([R]);if(O)throw O;v("Custom metric created successfully","success")}l(!1),y()}catch(O){v(O.message,"error")}}async function b(k){try{const{error:R}=await ge.from("custom_metrics").update({is_active:!k.is_active}).eq("id",k.id);if(R)throw R;v(k.is_active?"Metric deactivated":"Metric activated","success"),y()}catch(R){v(R.message,"error")}}async function N(k){if(confirm("Are you sure you want to delete this custom metric?"))try{const{error:R}=await ge.from("custom_metrics").delete().eq("id",k);if(R)throw R;v("Custom metric deleted successfully","success"),y()}catch(R){v(R.message,"error")}}const C=e.filter(k=>{const R=k.metric_name.toLowerCase().includes(d.toLowerCase()),O=!m||k.service_id===m;return R&&O}),S=k=>{switch(k){case"number":return"Number";case"currency":return"Currency";case"percentage":return"Percentage";default:return k}},A=k=>{switch(k){case"number":return"default";case"currency":return"secondary";case"percentage":return"outline";default:return"secondary"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Custom Metrics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define custom KPIs for each service"})]}),s.jsxs(je,{"data-testid":"button-add-metric",onClick:()=>w(),children:[s.jsx(on,{className:"w-4 h-4 mr-2"}),"Add Metric"]})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(zs,{className:"w-4 h-4 text-muted-foreground absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx(We,{"data-testid":"input-search-metrics",placeholder:"Search metrics...",value:d,onChange:k=>f(k.target.value),className:"pl-9"})]}),s.jsxs(_t,{value:m,onValueChange:k=>h(k==="all"?"":k),children:[s.jsx(wt,{"data-testid":"select-filter-service",className:"w-full md:w-[200px]",children:s.jsx(jt,{placeholder:"All Services"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"all",children:"All Services"}),r.map(k=>s.jsx(Ce,{value:k.id,children:k.name},k.id))]})]})]})})}),i?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(k=>s.jsx(Le,{children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(ke,{className:"h-5 w-48"}),s.jsx(ke,{className:"h-4 w-32"}),s.jsx(ke,{className:"h-4 w-64"})]})})},k))}):C.length===0?s.jsx(Le,{children:s.jsxs(Fe,{className:"p-12 text-center",children:[s.jsx(j9,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No custom metrics found"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first custom metric to start tracking"})]})}):s.jsx("div",{className:"grid gap-4",children:C.map(k=>{var R;return s.jsx(Le,{"data-testid":`card-metric-${k.id}`,children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:k.metric_name}),s.jsx($t,{variant:A(k.metric_type),"data-testid":`badge-type-${k.id}`,children:S(k.metric_type)}),s.jsx($t,{variant:k.is_active?"default":"secondary","data-testid":`badge-status-${k.id}`,children:k.is_active?"Active":"Inactive"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[s.jsx("span",{className:"font-medium",children:"Service:"})," ",(R=k.service)==null?void 0:R.name]}),k.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>b(k),"aria-label":k.is_active?"Deactivate metric":"Activate metric","data-testid":`button-toggle-${k.id}`,children:k.is_active?s.jsx(Yae,{className:"w-5 h-5 text-green-600"}):s.jsx(Kae,{className:"w-5 h-5 text-muted-foreground"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>w(k),"aria-label":"Edit metric","data-testid":`button-edit-${k.id}`,children:s.jsx(mu,{className:"w-4 h-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>N(k.id),"aria-label":"Delete metric","data-testid":`button-delete-${k.id}`,children:s.jsx(Io,{className:"w-4 h-4 text-destructive"})})]})]})})},k.id)})}),s.jsx(Zr,{open:o,onOpenChange:l,children:s.jsxs(Ur,{className:"max-w-2xl",children:[s.jsx(Qr,{children:s.jsx(tn,{children:c?"Edit Custom Metric":"Add Custom Metric"})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"service_id",children:"Service *"}),s.jsxs(_t,{value:g.service_id,onValueChange:k=>x({...g,service_id:k}),children:[s.jsx(wt,{"data-testid":"select-service",children:s.jsx(jt,{placeholder:"Select a service"})}),s.jsx(bt,{children:r.map(k=>s.jsx(Ce,{value:k.id,children:k.name},k.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"metric_name",children:"Metric Name *"}),s.jsx(We,{id:"metric_name","data-testid":"input-metric-name",required:!0,value:g.metric_name,onChange:k=>x({...g,metric_name:k.target.value}),placeholder:"e.g., Response Rate, Quality Score"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"metric_type",children:"Metric Type *"}),s.jsxs(_t,{value:g.metric_type,onValueChange:k=>x({...g,metric_type:k}),children:[s.jsx(wt,{"data-testid":"select-metric-type",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"number",children:"Number"}),s.jsx(Ce,{value:"currency",children:"Currency"}),s.jsx(Ce,{value:"percentage",children:"Percentage"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This determines how the metric value will be displayed and validated"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"description",children:"Description"}),s.jsx(Mi,{id:"description","data-testid":"input-description",value:g.description,onChange:k=>x({...g,description:k.target.value}),rows:3,placeholder:"Describe what this metric measures and how it should be calculated"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Td,{id:"is_active","data-testid":"checkbox-is-active",checked:g.is_active,onCheckedChange:k=>x({...g,is_active:k===!0})}),s.jsx(be,{htmlFor:"is_active",className:"font-normal",children:"Active (show in report submission forms)"})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel",children:"Cancel"}),s.jsxs(je,{type:"submit","data-testid":"button-submit-metric",children:[c?"Update":"Create"," Metric"]})]})]})]})})]})}function s9e(){const{user:e}=Fi(),{showToast:t}=Cr(),[r,n]=p.useState([]),[i,a]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState(!0),[d,f]=p.useState(!1),[m,h]=p.useState(null),[v,g]=p.useState({title:"",description:"",assigned_to:"",client_id:"",priority:"medium",due_date:""});p.useEffect(()=>{x()},[]);const x=async()=>{try{const[R,O,L]=await Promise.all([ge.from("tasks").select(`
            *,
            profiles!tasks_assigned_to_fkey(full_name, email),
            clients(name)
          `).order("due_date",{ascending:!0}),ge.from("profiles").select("id, full_name, email").eq("role","employee").eq("status","active").order("full_name"),ge.from("clients").select("id, name").eq("status","active").order("name")]);if(R.error)throw R.error;if(O.error)throw O.error;if(L.error)throw L.error;n(R.data||[]),a(O.data||[]),l(L.data||[])}catch(R){t(R.message,"error")}finally{u(!1)}},y=()=>{h(null),g({title:"",description:"",assigned_to:"",client_id:"",priority:"medium",due_date:""}),f(!0)},w=R=>{h(R),g({title:R.title,description:R.description||"",assigned_to:R.assigned_to,client_id:R.client_id||"",priority:R.priority,due_date:R.due_date}),f(!0)},_=async R=>{R.preventDefault();try{const O={title:v.title,description:v.description||null,assigned_to:v.assigned_to,client_id:v.client_id||null,priority:v.priority,due_date:v.due_date,created_by:e.id};if(m){const{error:L}=await ge.from("tasks").update(O).eq("id",m.id);if(L)throw L;t("Task updated successfully","success")}else{const{error:L}=await ge.from("tasks").insert([O]);if(L)throw L;t("Task created successfully","success")}f(!1),x()}catch(O){t(O.message,"error")}},b=async R=>{if(confirm("Are you sure you want to delete this task?"))try{const{error:O}=await ge.from("tasks").delete().eq("id",R);if(O)throw O;t("Task deleted successfully","success"),x()}catch(O){t(O.message,"error")}},N=R=>R.status==="pending"&&dz(Wl(R.due_date))&&!Pm(Wl(R.due_date)),C=R=>{switch(R){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},S=r.filter(R=>R.status==="pending"),A=r.filter(R=>R.status==="completed"),k=r.filter(N);return c?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(ke,{className:"h-9 w-32"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ke,{className:"h-24"}),s.jsx(ke,{className:"h-24"}),s.jsx(ke,{className:"h-24"})]}),s.jsx(ke,{className:"h-64 w-full"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Task Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Assign and manage daily tasks for employees"})]}),s.jsxs(je,{onClick:y,"data-testid":"button-create-task",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Create Task"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Pending Tasks"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-pending-count",children:S.length})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:s.jsx(rv,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Overdue Tasks"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-destructive","data-testid":"text-overdue-count",children:k.length})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-red-50 dark:bg-red-950/40",children:s.jsx(Us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})})}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Completed Tasks"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-completed-count",children:A.length})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:s.jsx(Hl,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]})})})]}),r.length===0?s.jsx(Le,{children:s.jsxs(Fe,{className:"p-12 text-center",children:[s.jsx(v9,{className:"h-16 w-16 text-muted-foreground/30 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No tasks yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create your first task to get started"})]})}):s.jsx(Le,{children:s.jsx(Fe,{className:"p-0",children:s.jsxs(Ao,{children:[s.jsx(Po,{children:s.jsxs($r,{children:[s.jsx(St,{children:"Task"}),s.jsx(St,{children:"Assigned To"}),s.jsx(St,{children:"Client"}),s.jsx(St,{children:"Priority"}),s.jsx(St,{children:"Due Date"}),s.jsx(St,{children:"Status"}),s.jsx(St,{className:"text-right",children:"Actions"})]})}),s.jsx(To,{children:r.map(R=>{var L,U;const O=N(R);return s.jsxs($r,{className:O?"bg-destructive/5":"","data-testid":`row-task-${R.id}`,children:[s.jsx(vt,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:R.title}),R.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.description}),R.remarks&&s.jsxs("p",{className:"text-xs text-primary mt-1 italic",children:["Remarks: ",R.remarks]})]})}),s.jsx(vt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($d,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:(L=R.profiles)==null?void 0:L.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(U=R.profiles)==null?void 0:U.email})]})]})}),s.jsx(vt,{children:R.clients?s.jsxs("div",{className:"flex items-center gap-1 text-sm text-foreground",children:[s.jsx(fs,{className:"h-4 w-4 text-muted-foreground"}),R.clients.name]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),s.jsx(vt,{children:s.jsx($t,{variant:C(R.priority),className:"text-xs",children:R.priority.toUpperCase()})}),s.jsx(vt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ea,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:`text-sm ${O?"text-destructive font-semibold":"text-foreground"}`,children:[cr(Wl(R.due_date),"MMM d, yyyy"),O&&s.jsx("span",{className:"block text-xs text-destructive",children:"OVERDUE"})]})]})}),s.jsx(vt,{children:R.status==="completed"?s.jsxs($t,{variant:"default",className:"text-xs",children:[s.jsx(Hl,{className:"h-3 w-3 mr-1"}),"Completed"]}):s.jsxs($t,{variant:"secondary",className:"text-xs",children:[s.jsx(rv,{className:"h-3 w-3 mr-1"}),"Pending"]})}),s.jsx(vt,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1 flex-wrap",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>w(R),"data-testid":`button-edit-task-${R.id}`,children:s.jsx(mu,{className:"h-4 w-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>b(R.id),"data-testid":`button-delete-task-${R.id}`,children:s.jsx(Io,{className:"h-4 w-4"})})]})})]},R.id)})})]})})}),s.jsx(Zr,{open:d,onOpenChange:f,children:s.jsxs(Ur,{className:"max-w-2xl",children:[s.jsx(Qr,{children:s.jsx(tn,{children:m?"Edit Task":"Create New Task"})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Task Title *"}),s.jsx(We,{type:"text",value:v.title,onChange:R=>g({...v,title:R.target.value}),required:!0,"data-testid":"input-task-title"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Description"}),s.jsx(Mi,{value:v.description,onChange:R=>g({...v,description:R.target.value}),rows:3,placeholder:"Provide more details about the task...","data-testid":"input-task-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Assign To *"}),s.jsxs(_t,{value:v.assigned_to,onValueChange:R=>g({...v,assigned_to:R}),children:[s.jsx(wt,{"data-testid":"select-task-assignee",children:s.jsx(jt,{placeholder:"Select Employee"})}),s.jsx(bt,{children:i.map(R=>s.jsxs(Ce,{value:R.id,children:[R.full_name," (",R.email,")"]},R.id))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Client (Optional)"}),s.jsxs(_t,{value:v.client_id||"_none",onValueChange:R=>g({...v,client_id:R==="_none"?"":R}),children:[s.jsx(wt,{"data-testid":"select-task-client",children:s.jsx(jt,{placeholder:"No Client"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"_none",children:"No Client"}),o.map(R=>s.jsx(Ce,{value:R.id,children:R.name},R.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Priority *"}),s.jsxs(_t,{value:v.priority,onValueChange:R=>g({...v,priority:R}),children:[s.jsx(wt,{"data-testid":"select-task-priority",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"low",children:"Low"}),s.jsx(Ce,{value:"medium",children:"Medium"}),s.jsx(Ce,{value:"high",children:"High"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Due Date *"}),s.jsx(We,{type:"date",value:v.due_date,onChange:R=>g({...v,due_date:R.target.value}),required:!0,"data-testid":"input-task-due-date"})]})]}),s.jsxs(en,{children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>f(!1),"data-testid":"button-cancel-task",children:"Cancel"}),s.jsx(je,{type:"submit","data-testid":"button-save-task",children:m?"Update Task":"Create Task"})]})]})]})})]})}function o9e(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,l9e(i,...t)]}function l9e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function c9e(e){const t=u9e(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(f9e);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function u9e(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=m9e(i),l=h9e(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var d9e=Symbol("radix.slottable");function f9e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===d9e}function h9e(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function m9e(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var p9e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],FZ=p9e.reduce((e,t)=>{const r=c9e(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),yj="Switch",[g9e]=o9e(yj),[v9e,x9e]=g9e(yj),$Z=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,h]=p.useState(null),v=hr(t,_=>h(_)),g=p.useRef(!1),x=m?d||!!m.closest("form"):!0,[y,w]=xl({prop:i,defaultProp:a??!1,onChange:u,caller:yj});return s.jsxs(v9e,{scope:r,checked:y,disabled:l,children:[s.jsx(FZ.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":WZ(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:ut(e.onClick,_=>{w(b=>!b),x&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),x&&s.jsx(zZ,{control:m,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});$Z.displayName=yj;var BZ="SwitchThumb",UZ=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=x9e(BZ,r);return s.jsx(FZ.span,{"data-state":WZ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});UZ.displayName=BZ;var y9e="SwitchBubbleInput",zZ=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=p.useRef(null),l=hr(o,a),c=mP(r),u=PC(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const v=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(v)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zZ.displayName=y9e;function WZ(e){return e?"checked":"unchecked"}var HZ=$Z,w9e=UZ;const lE=p.forwardRef(({className:e,...t},r)=>s.jsx(HZ,{className:ot("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(w9e,{className:ot("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));lE.displayName=HZ.displayName;function b9e(){const[e,t]=p.useState(!0),[r,n]=p.useState(!1),[i,a]=p.useState({theme:"light",language:"en",timezone:"UTC",date_format:"MM/DD/YYYY",email_notifications:!0,push_notifications:!0}),{showToast:o}=Cr(),{user:l,profile:c}=Fi();p.useEffect(()=>{u()},[l]);async function u(){if(l)try{const{data:f,error:m}=await ge.from("user_preferences").select("*").eq("user_id",l.id).maybeSingle();if(m&&m.code!=="PGRST116")throw m;f&&a({theme:f.theme||"light",language:f.language||"en",timezone:f.timezone||"UTC",date_format:f.date_format||"MM/DD/YYYY",email_notifications:f.email_notifications??!0,push_notifications:f.push_notifications??!0})}catch(f){o(f.message,"error")}finally{t(!1)}}async function d(){if(l){n(!0);try{const{error:f}=await ge.from("user_preferences").upsert({user_id:l.id,...i,updated_at:new Date().toISOString()});if(f)throw f;o("Settings saved successfully","success")}catch(f){o(f.message,"error")}finally{n(!1)}}}return e?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(Le,{children:s.jsxs(Fe,{className:"p-6 space-y-6",children:[s.jsx(ke,{className:"h-6 w-40"}),s.jsxs("div",{className:"space-y-4 pl-7",children:[s.jsx(ke,{className:"h-9 w-full"}),s.jsx(ke,{className:"h-9 w-full"})]}),s.jsx(ke,{className:"h-6 w-40"}),s.jsxs("div",{className:"space-y-4 pl-7",children:[s.jsx(ke,{className:"h-9 w-full"}),s.jsx(ke,{className:"h-9 w-full"}),s.jsx(ke,{className:"h-9 w-full"})]})]})})]}):s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-semibold tracking-tight text-foreground flex items-center gap-2",children:[s.jsx(gC,{className:"w-6 h-6"}),"Settings"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your account preferences and notifications"})]})}),s.jsx(Le,{children:s.jsxs(Fe,{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2 mb-4",children:[s.jsx($d,{className:"w-5 h-5"}),"Profile Information"]}),s.jsxs("div",{className:"space-y-4 pl-7",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"full-name",children:"Full Name"}),s.jsx(We,{id:"full-name","data-testid":"input-full-name",type:"text",value:(c==null?void 0:c.full_name)||"",disabled:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"email",children:"Email"}),s.jsx(We,{id:"email","data-testid":"input-email",type:"email",value:(c==null?void 0:c.email)||"",disabled:!0,className:"mt-1"})]})]})]}),s.jsx(ul,{}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2 mb-4",children:[s.jsx(hC,{className:"w-5 h-5"}),"Regional Settings"]}),s.jsxs("div",{className:"space-y-4 pl-7",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Language"}),s.jsxs(_t,{value:i.language,onValueChange:f=>a({...i,language:f}),children:[s.jsx(wt,{"data-testid":"select-language",className:"mt-1",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"en",children:"English"}),s.jsx(Ce,{value:"es",children:"Spanish"}),s.jsx(Ce,{value:"fr",children:"French"}),s.jsx(Ce,{value:"de",children:"German"})]})]})]}),s.jsxs("div",{children:[s.jsxs(be,{className:"flex items-center gap-1",children:[s.jsx(wi,{className:"w-4 h-4"}),"Timezone"]}),s.jsxs(_t,{value:i.timezone,onValueChange:f=>a({...i,timezone:f}),children:[s.jsx(wt,{"data-testid":"select-timezone",className:"mt-1",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"UTC",children:"UTC"}),s.jsx(Ce,{value:"America/New_York",children:"Eastern Time"}),s.jsx(Ce,{value:"America/Chicago",children:"Central Time"}),s.jsx(Ce,{value:"America/Denver",children:"Mountain Time"}),s.jsx(Ce,{value:"America/Los_Angeles",children:"Pacific Time"}),s.jsx(Ce,{value:"Europe/London",children:"London"}),s.jsx(Ce,{value:"Europe/Paris",children:"Paris"}),s.jsx(Ce,{value:"Asia/Tokyo",children:"Tokyo"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Date Format"}),s.jsxs(_t,{value:i.date_format,onValueChange:f=>a({...i,date_format:f}),children:[s.jsx(wt,{"data-testid":"select-date-format",className:"mt-1",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),s.jsx(Ce,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),s.jsx(Ce,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]})]}),s.jsx(ul,{}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2 mb-4",children:[s.jsx(T1,{className:"w-5 h-5"}),"Notification Preferences"]}),s.jsxs("div",{className:"space-y-4 pl-7",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-sm font-medium text-foreground",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive notifications via email"})]}),s.jsx(lE,{"data-testid":"switch-email-notifications",checked:i.email_notifications,onCheckedChange:f=>a({...i,email_notifications:f})})]}),s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-sm font-medium text-foreground",children:"Push Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive push notifications in the app"})]}),s.jsx(lE,{"data-testid":"switch-push-notifications",checked:i.push_notifications,onCheckedChange:f=>a({...i,push_notifications:f})})]})]})]}),s.jsx(ul,{}),s.jsx("div",{className:"flex justify-end gap-4 flex-wrap",children:s.jsxs(je,{"data-testid":"button-save-settings",onClick:d,disabled:r,children:[s.jsx(pC,{className:"w-4 h-4"}),r?"Saving...":"Save Changes"]})})]})})]})}function _9e({score:e,size:t=120,strokeWidth:r=10}){const n=(t-r)/2,i=2*Math.PI*n,a=i-e/100*i,o=t/2,c=(u=>u>=75?{stroke:"#22c55e",bg:"rgba(34,197,94,0.12)"}:u>=50?{stroke:"#f59e0b",bg:"rgba(245,158,11,0.12)"}:{stroke:"#ef4444",bg:"rgba(239,68,68,0.12)"})(e);return s.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[s.jsxs("svg",{width:t,height:t,className:"-rotate-90",children:[s.jsx("circle",{cx:o,cy:o,r:n,fill:"none",stroke:"currentColor",strokeWidth:r,className:"text-muted/40"}),s.jsx("circle",{cx:o,cy:o,r:n,fill:"none",stroke:c.stroke,strokeWidth:r,strokeDasharray:i,strokeDashoffset:a,strokeLinecap:"round",className:"transition-all duration-700 ease-out"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx("span",{className:"text-2xl font-bold text-foreground",children:Math.round(e)}),s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-medium",children:"/ 100"})]})]})}function j9e({score:e,className:t=""}){const r=n=>n>=75?"bg-green-500 dark:bg-green-400":n>=50?"bg-amber-500 dark:bg-amber-400":"bg-red-500 dark:bg-red-400";return s.jsx("div",{className:`h-1.5 w-full rounded-full bg-muted/60 overflow-hidden ${t}`,children:s.jsx("div",{className:`h-full rounded-full transition-all duration-500 ease-out ${r(e)}`,style:{width:`${Math.min(e,100)}%`}})})}function S9e(e){return e>=75?"Healthy":e>=50?"Needs Attention":"High Risk"}function N9e(e){switch(e){case"healthy":return"bg-green-50 text-green-700 border-green-200 dark:bg-green-950/40 dark:text-green-400 dark:border-green-800";case"needs_attention":return"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800";case"at_risk":return"bg-red-50 text-red-700 border-red-200 dark:bg-red-950/40 dark:text-red-400 dark:border-red-800";default:return""}}function k9e(e){switch(e){case"healthy":return s.jsx(Sn,{className:"h-3.5 w-3.5"});case"needs_attention":return s.jsx(Us,{className:"h-3.5 w-3.5"});case"at_risk":return s.jsx(Xn,{className:"h-3.5 w-3.5"});default:return null}}function E9e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState(!0),[a,o]=p.useState(!1),[l,c]=p.useState("all");p.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:y,error:w}=await ge.from("clients").select(`
          id,
          name,
          industry,
          health_status,
          health_score,
          last_activity_date,
          contact_name,
          contact_email
        `).eq("status","active").order("health_score",{ascending:!0});if(w)throw w;const _=await Promise.all((y||[]).map(async b=>{const{count:N}=await ge.from("client_assignments").select("*",{count:"exact",head:!0}).eq("client_id",b.id);return{...b,assignmentCount:N||0}}));r(_)}catch(y){e(y.message,"error")}finally{i(!1)}},d=async()=>{o(!0);try{const{error:y}=await ge.rpc("update_all_client_health_scores");if(y)throw y;e("Health scores updated successfully","success"),await u()}catch(y){e(y.message,"error")}finally{o(!1)}},f=y=>y?Math.floor((Date.now()-new Date(y).getTime())/(1e3*60*60*24)):999,m=t.filter(y=>l==="all"?!0:y.health_status===l),h=t.filter(y=>y.health_status==="healthy").length,v=t.filter(y=>y.health_status==="needs_attention").length,g=t.filter(y=>y.health_status==="at_risk").length,x=p.useMemo(()=>t.length===0?0:t.reduce((y,w)=>y+w.health_score,0)/t.length,[t]);return n?s.jsxs("div",{"data-testid":"health-dashboard-loading",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{className:"h-8 w-72"}),s.jsx(ke,{className:"h-4 w-96"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(ke,{className:"h-52 w-full"}),s.jsx(ke,{className:"h-52 w-full lg:col-span-2"})]}),s.jsx(ke,{className:"h-14 w-full"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(ke,{className:"h-44 w-full"}),s.jsx(ke,{className:"h-44 w-full"}),s.jsx(ke,{className:"h-44 w-full"})]})]}):s.jsxs("div",{"data-testid":"health-dashboard-page",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-page-title",children:"Client Health Monitoring"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track client engagement and identify accounts needing attention"})]}),s.jsxs(je,{onClick:d,disabled:a,"data-testid":"button-refresh-scores",children:[s.jsx(zv,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),a?"Refreshing...":"Refresh Scores"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(Le,{"data-testid":"card-stat-total",children:s.jsxs(Fe,{className:"p-6 flex flex-col items-center justify-center text-center",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-4",children:"Overall Health"}),s.jsx(_9e,{score:x,size:140,strokeWidth:12}),s.jsxs("p",{className:"mt-4 text-sm text-muted-foreground","data-testid":"text-total-clients",children:["Across ",s.jsx("span",{className:"font-semibold text-foreground",children:t.length})," active ",t.length===1?"client":"clients"]})]})}),s.jsxs(Le,{className:"lg:col-span-2","data-testid":"card-breakdown",children:[s.jsx(Rr,{className:"pb-4",children:s.jsx(Ir,{className:"text-base font-semibold",children:"Health Breakdown"})}),s.jsxs(Fe,{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"rounded-md p-1.5 bg-green-50 dark:bg-green-950/40",children:s.jsx(Sn,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Healthy"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-semibold text-foreground","data-testid":"card-stat-healthy",children:h}),s.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[t.length>0?Math.round(h/t.length*100):0,"%"]})]})]}),s.jsx("div",{className:"h-2 w-full rounded-full bg-muted/60 overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-green-500 dark:bg-green-400 transition-all duration-500",style:{width:`${t.length>0?h/t.length*100:0}%`}})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"rounded-md p-1.5 bg-amber-50 dark:bg-amber-950/40",children:s.jsx(Us,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Needs Attention"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-semibold text-foreground","data-testid":"card-stat-needs-attention",children:v}),s.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[t.length>0?Math.round(v/t.length*100):0,"%"]})]})]}),s.jsx("div",{className:"h-2 w-full rounded-full bg-muted/60 overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-amber-500 dark:bg-amber-400 transition-all duration-500",style:{width:`${t.length>0?v/t.length*100:0}%`}})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"rounded-md p-1.5 bg-red-50 dark:bg-red-950/40",children:s.jsx(Xn,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"High Risk"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-semibold text-foreground","data-testid":"card-stat-at-risk",children:g}),s.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[t.length>0?Math.round(g/t.length*100):0,"%"]})]})]}),s.jsx("div",{className:"h-2 w-full rounded-full bg-muted/60 overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-red-500 dark:bg-red-400 transition-all duration-500",style:{width:`${t.length>0?g/t.length*100:0}%`}})})]})]})]})]}),g>0&&l==="all"&&s.jsx(Le,{className:"border-red-200 dark:border-red-900/60","data-testid":"card-alert-at-risk",children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"rounded-md p-2 bg-red-50 dark:bg-red-950/40 flex-shrink-0",children:s.jsx(Us,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-foreground",children:[g," ",g===1?"client needs":"clients need"," immediate attention"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"These accounts show low engagement or haven't had recent activity"})]}),s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>c("at_risk"),"data-testid":"button-view-at-risk",children:["View",s.jsx(g9,{className:"h-3.5 w-3.5 ml-1.5"})]})]})})}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(je,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),"data-testid":"button-filter-all",children:[s.jsx(Qi,{className:"h-3.5 w-3.5 mr-1.5"}),"All (",t.length,")"]}),s.jsxs(je,{variant:l==="healthy"?"default":"outline",size:"sm",onClick:()=>c("healthy"),"data-testid":"button-filter-healthy",children:[s.jsx(Sn,{className:"h-3.5 w-3.5 mr-1.5"}),"Healthy (",h,")"]}),s.jsxs(je,{variant:l==="needs_attention"?"default":"outline",size:"sm",onClick:()=>c("needs_attention"),"data-testid":"button-filter-needs-attention",children:[s.jsx(Us,{className:"h-3.5 w-3.5 mr-1.5"}),"Needs Attention (",v,")"]}),s.jsxs(je,{variant:l==="at_risk"?"destructive":"outline",size:"sm",onClick:()=>c("at_risk"),"data-testid":"button-filter-at-risk",children:[s.jsx(Xn,{className:"h-3.5 w-3.5 mr-1.5"}),"High Risk (",g,")"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:m.map(y=>{const w=f(y.last_activity_date),_=S9e(y.health_score);return s.jsx(Le,{"data-testid":`card-client-health-${y.id}`,className:"overflow-visible",children:s.jsxs(Fe,{className:"p-5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground truncate","data-testid":`text-client-name-${y.id}`,children:y.name}),y.industry&&s.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[s.jsx(fs,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:y.industry})]})]}),s.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[s.jsx("span",{className:"text-xl font-bold text-foreground leading-none","data-testid":`text-health-score-${y.id}`,children:Math.round(y.health_score)}),s.jsx("span",{className:"text-[10px] text-muted-foreground mt-0.5",children:"/ 100"})]})]}),s.jsx(j9e,{score:y.health_score,className:"mb-3"}),s.jsxs($t,{variant:"outline",className:`${N9e(y.health_status)} no-default-active-elevate gap-1 mb-4`,"data-testid":`badge-status-${y.id}`,children:[k9e(y.health_status),_]}),s.jsxs("div",{className:"space-y-2.5 pt-3 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx(ea,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),y.last_activity_date?s.jsx("span",{"data-testid":`text-activity-${y.id}`,className:`text-xs ${w>=7?"text-red-600 dark:text-red-400 font-medium":w>=3?"text-amber-600 dark:text-amber-400":"text-muted-foreground"}`,children:w===0?"Active today":w===1?"Active yesterday":`${w} days since last activity`}):s.jsx("span",{"data-testid":`text-activity-${y.id}`,className:"text-xs text-muted-foreground",children:"No activity recorded"})]}),y.contact_name&&s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx(Vf,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:y.contact_name})]}),y.assignmentCount>0&&s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx(Qi,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.assignmentCount," team ",y.assignmentCount===1?"member":"members"," assigned"]})]})]}),w>=7&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 p-2.5 rounded-md bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-900/50",children:[s.jsx(Us,{className:"h-3.5 w-3.5 text-red-600 dark:text-red-400 flex-shrink-0"}),s.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-400",children:"Overdue for check-in"})]})]})},y.id)})}),m.length===0&&s.jsx(Le,{"data-testid":"health-dashboard-empty",children:s.jsxs(Fe,{className:"py-16 text-center",children:[s.jsx("div",{className:"rounded-full p-4 bg-muted/50 w-fit mx-auto mb-4",children:s.jsx(dk,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-base font-semibold text-foreground mb-1","data-testid":"text-empty-message",children:"No clients found"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l!=="all"?`No clients are currently in the "${l==="at_risk"?"High Risk":l==="needs_attention"?"Needs Attention":"Healthy"}" category`:"Add active clients to start monitoring their health"}),l!=="all"&&s.jsx(je,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>c("all"),"data-testid":"button-clear-filter",children:"Show all clients"})]})})]})}function C9e(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,A9e(i,...t)]}function A9e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function P9e(e){const t=T9e(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(R9e);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function T9e(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=D9e(i),l=I9e(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var O9e=Symbol("radix.slottable");function R9e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===O9e}function I9e(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function D9e(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var L9e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qP=L9e.reduce((e,t)=>{const r=P9e(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),wj="Collapsible",[M9e]=C9e(wj),[F9e,VP]=M9e(wj),qZ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c,u]=xl({prop:n,defaultProp:i??!1,onChange:o,caller:wj});return s.jsx(F9e,{scope:r,disabled:a,contentId:jo(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:s.jsx(qP.div,{"data-state":KP(c),"data-disabled":a?"":void 0,...l,ref:t})})});qZ.displayName=wj;var VZ="CollapsibleTrigger",GZ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,i=VP(VZ,r);return s.jsx(qP.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":KP(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:ut(e.onClick,i.onOpenToggle)})});GZ.displayName=VZ;var GP="CollapsibleContent",KZ=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=VP(GP,e.__scopeCollapsible);return s.jsx(ra,{present:r||i.open,children:({present:a})=>s.jsx($9e,{...n,ref:t,present:a})})});KZ.displayName=GP;var $9e=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=e,o=VP(GP,r),[l,c]=p.useState(n),u=p.useRef(null),d=hr(t,u),f=p.useRef(0),m=f.current,h=p.useRef(0),v=h.current,g=o.open||l,x=p.useRef(g),y=p.useRef(void 0);return p.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),Qn(()=>{const w=u.current;if(w){y.current=y.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const _=w.getBoundingClientRect();f.current=_.height,h.current=_.width,x.current||(w.style.transitionDuration=y.current.transitionDuration,w.style.animationName=y.current.animationName),c(n)}},[o.open,n]),s.jsx(qP.div,{"data-state":KP(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:g&&i})});function KP(e){return e?"open":"closed"}var B9e=qZ;const U9e=B9e,z9e=GZ,W9e=KZ,jF=["bg-blue-600","bg-emerald-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-cyan-600","bg-indigo-600","bg-teal-600","bg-pink-600","bg-orange-600"],YZ={"Account Manager":{bg:"bg-blue-50",text:"text-blue-700",darkBg:"dark:bg-blue-950/40",darkText:"dark:text-blue-300"},"LinkedIn Outreach":{bg:"bg-sky-50",text:"text-sky-700",darkBg:"dark:bg-sky-950/40",darkText:"dark:text-sky-300"},Email:{bg:"bg-violet-50",text:"text-violet-700",darkBg:"dark:bg-violet-950/40",darkText:"dark:text-violet-300"},"Content Creation":{bg:"bg-emerald-50",text:"text-emerald-700",darkBg:"dark:bg-emerald-950/40",darkText:"dark:text-emerald-300"},"Lead Sourcing":{bg:"bg-amber-50",text:"text-amber-700",darkBg:"dark:bg-amber-950/40",darkText:"dark:text-amber-300"},"Social Media":{bg:"bg-pink-50",text:"text-pink-700",darkBg:"dark:bg-pink-950/40",darkText:"dark:text-pink-300"},SEO:{bg:"bg-teal-50",text:"text-teal-700",darkBg:"dark:bg-teal-950/40",darkText:"dark:text-teal-300"},"Paid Ads":{bg:"bg-orange-50",text:"text-orange-700",darkBg:"dark:bg-orange-950/40",darkText:"dark:text-orange-300"},Designer:{bg:"bg-indigo-50",text:"text-indigo-700",darkBg:"dark:bg-indigo-950/40",darkText:"dark:text-indigo-300"},"Lead Filtration":{bg:"bg-rose-50",text:"text-rose-700",darkBg:"dark:bg-rose-950/40",darkText:"dark:text-rose-300"}};function H9e(e){return YZ[e]||{bg:"bg-muted",text:"text-muted-foreground",darkBg:"dark:bg-muted",darkText:"dark:text-muted-foreground"}}function SF(e,t){const r=e/Math.max(t,1);return r>=.7?{label:"High",variant:"destructive",color:"text-red-600 dark:text-red-400"}:r>=.4?{label:"Medium",variant:"default",color:"text-amber-600 dark:text-amber-400"}:{label:"Low",variant:"secondary",color:"text-emerald-600 dark:text-emerald-400"}}function q9e(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function V9e(){const{showToast:e}=Cr(),[t,r]=p.useState([]),[n,i]=p.useState(!0),[a,o]=p.useState(""),[l,c]=p.useState(new Set),[u,d]=p.useState("services"),[f,m]=p.useState("desc");p.useEffect(()=>{h()},[]);const h=async()=>{try{i(!0);const[b,N,C,S]=await Promise.all([ge.from("client_assignments").select("employee_id, client_id, service_id"),ge.from("profiles").select("id, full_name, email, role"),ge.from("clients").select("id, name"),ge.from("services").select("id, name")]);if(b.error)throw b.error;if(N.error)throw N.error;if(C.error)throw C.error;if(S.error)throw S.error;const A=b.data||[],k=N.data||[],R=C.data||[],O=S.data||[],L=new Map(R.map(Q=>[Q.id,Q.name])),U=new Map(O.map(Q=>[Q.id,Q.name])),q=new Map;for(const Q of k)q.set(Q.id,{id:Q.id,full_name:Q.full_name,email:Q.email,role:Q.role,clients:[],total_services:0,total_clients:0});for(const Q of A){const ie=q.get(Q.employee_id);if(!ie)continue;const z=L.get(Q.client_id),H=U.get(Q.service_id);if(!z||!H)continue;let X=ie.clients.find(pe=>pe.client_id===Q.client_id);X||(X={client_id:Q.client_id,client_name:z,services:[]},ie.clients.push(X)),X.services.includes(H)||X.services.push(H)}for(const Q of q.values())Q.total_clients=Q.clients.length,Q.total_services=Q.clients.reduce((ie,z)=>ie+z.services.length,0),Q.clients.sort((ie,z)=>z.services.length-ie.services.length);r(Array.from(q.values()))}catch(b){e(b.message,"error")}finally{i(!1)}},v=p.useMemo(()=>Math.max(...t.map(b=>b.total_services),1),[t]);p.useMemo(()=>Math.max(...t.map(b=>b.total_clients),1),[t]);const g=p.useMemo(()=>{const b=t.length;let N=0,C=0,S=0;for(const R of t){const O=SF(R.total_services,v);O.label==="High"?N++:O.label==="Medium"?C++:S++}const A=t.reduce((R,O)=>R+O.total_services,0),k=new Set(t.flatMap(R=>R.clients.map(O=>O.client_id))).size;return{total:b,high:N,medium:C,low:S,totalAssignments:A,totalClients:k}},[t,v]),x=p.useMemo(()=>{let b=t;if(a){const N=a.toLowerCase();b=t.filter(C=>C.full_name.toLowerCase().includes(N)||C.email.toLowerCase().includes(N)||C.clients.some(S=>S.client_name.toLowerCase().includes(N)))}return[...b].sort((N,C)=>{let S=0;return u==="name"?S=N.full_name.localeCompare(C.full_name):u==="clients"?S=N.total_clients-C.total_clients:S=N.total_services-C.total_services,f==="desc"?-S:S})},[t,a,u,f]);p.useEffect(()=>{c(new Set)},[a]);const y=b=>{c(N=>{const C=new Set(N);return C.has(b)?C.delete(b):C.add(b),C})},w=()=>{l.size===x.length?c(new Set):c(new Set(x.map(b=>b.id)))},_=b=>{u===b?m(N=>N==="asc"?"desc":"asc"):(d(b),m("desc"))};return n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-72 mb-2"}),s.jsx(ke,{className:"h-4 w-96"})]}),s.jsx(ke,{className:"h-9 w-24"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(b=>s.jsx(ke,{className:"h-28"},b))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(b=>s.jsx(ke,{className:"h-48"},b))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-workload-title",children:"Team Workload"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Overview of each team member's client assignments and service responsibilities"})]}),s.jsxs(je,{variant:"outline",onClick:h,"data-testid":"button-refresh-workload",children:[s.jsx(zv,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Le,{"data-testid":"card-stat-team",children:s.jsxs(Fe,{className:"flex items-center gap-3 p-6",children:[s.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:s.jsx(Qi,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-semibold",children:g.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Team Members"})]})]})}),s.jsx(Le,{"data-testid":"card-stat-high",children:s.jsxs(Fe,{className:"flex items-center gap-3 p-6",children:[s.jsx("div",{className:"rounded-lg p-2.5 bg-red-50 dark:bg-red-950/40",children:s.jsx(Us,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-semibold",children:g.high}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"High Workload"})]})]})}),s.jsx(Le,{"data-testid":"card-stat-assignments",children:s.jsxs(Fe,{className:"flex items-center gap-3 p-6",children:[s.jsx("div",{className:"rounded-lg p-2.5 bg-violet-50 dark:bg-violet-950/40",children:s.jsx(y9,{className:"h-4 w-4 text-violet-600 dark:text-violet-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-semibold",children:g.totalAssignments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Assignments"})]})]})}),s.jsx(Le,{"data-testid":"card-stat-clients",children:s.jsxs(Fe,{className:"flex items-center gap-3 p-6",children:[s.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:s.jsx(gs,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-semibold",children:g.totalClients}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Clients"})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[s.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(We,{placeholder:"Search by name, email, or client...",value:a,onChange:b=>o(b.target.value),className:"pl-9","data-testid":"input-search-workload"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[s.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Sort:"}),s.jsxs(je,{variant:u==="services"?"default":"outline",size:"sm",onClick:()=>_("services"),"data-testid":"button-sort-services",children:["Assignments ",u==="services"&&(f==="desc"?s.jsx(ad,{className:"h-3 w-3 ml-1"}):s.jsx(Cf,{className:"h-3 w-3 ml-1"}))]}),s.jsxs(je,{variant:u==="clients"?"default":"outline",size:"sm",onClick:()=>_("clients"),"data-testid":"button-sort-clients",children:["Clients ",u==="clients"&&(f==="desc"?s.jsx(ad,{className:"h-3 w-3 ml-1"}):s.jsx(Cf,{className:"h-3 w-3 ml-1"}))]}),s.jsxs(je,{variant:u==="name"?"default":"outline",size:"sm",onClick:()=>_("name"),"data-testid":"button-sort-name",children:["Name ",u==="name"&&(f==="desc"?s.jsx(ad,{className:"h-3 w-3 ml-1"}):s.jsx(Cf,{className:"h-3 w-3 ml-1"}))]})]}),s.jsx(je,{variant:"ghost",size:"sm",onClick:w,"data-testid":"button-expand-all",children:l.size===x.length?"Collapse All":"Expand All"})]}),x.length===0?s.jsx(Le,{children:s.jsxs(Fe,{className:"py-12 text-center",children:[s.jsx(Gf,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No team members found matching your search."})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:x.map((b,N)=>{const C=SF(b.total_services,v),S=l.has(b.id),A=jF[N%jF.length],k=Math.round(b.total_services/v*100);return s.jsx(U9e,{open:S,onOpenChange:()=>y(b.id),children:s.jsxs(Le,{className:"overflow-visible","data-testid":`card-employee-${b.id}`,children:[s.jsx(Rr,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start gap-3 flex-wrap",children:[s.jsx(hs,{className:"h-10 w-10",children:s.jsx(ms,{className:`${A} text-white text-sm font-medium`,children:q9e(b.full_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Ir,{className:"text-sm font-semibold truncate","data-testid":`text-employee-name-${b.id}`,children:b.full_name}),b.role==="admin"&&s.jsx($t,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:"Admin"})]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:b.email})]}),s.jsx($t,{variant:C.variant,className:"text-[11px] shrink-0","data-testid":`badge-workload-${b.id}`,children:C.label})]})}),s.jsxs(Fe,{className:"pt-0 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[s.jsx("p",{className:"text-lg font-semibold","data-testid":`text-client-count-${b.id}`,children:b.total_clients}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Clients"})]}),s.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[s.jsx("p",{className:"text-lg font-semibold","data-testid":`text-service-count-${b.id}`,children:b.total_services}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Assignments"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap mb-1.5",children:[s.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Capacity Usage"}),s.jsxs("span",{className:`text-[11px] font-medium ${C.color}`,children:[k,"%"]})]}),s.jsx(Bd,{value:k,className:"h-1.5"})]}),b.clients.length>0&&s.jsx("div",{children:s.jsxs("div",{className:"flex flex-wrap gap-1 mb-1",children:[b.clients.slice(0,S?void 0:3).map(R=>s.jsxs($t,{variant:"outline",className:"text-[10px] font-normal",children:[R.client_name,s.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",R.services.length,")"]})]},R.client_id)),!S&&b.clients.length>3&&s.jsxs($t,{variant:"secondary",className:"text-[10px]",children:["+",b.clients.length-3," more"]})]})}),s.jsx(z9e,{asChild:!0,children:s.jsx(je,{variant:"ghost",size:"sm",className:"w-full","data-testid":`button-expand-${b.id}`,children:S?s.jsxs(s.Fragment,{children:["Hide Details ",s.jsx(Cf,{className:"h-3 w-3 ml-1"})]}):s.jsxs(s.Fragment,{children:["View Details ",s.jsx(ad,{className:"h-3 w-3 ml-1"})]})})}),s.jsx(W9e,{className:"space-y-2",children:s.jsxs("div",{className:"border-t pt-3 space-y-2.5",children:[b.clients.map(R=>s.jsxs("div",{className:"rounded-md border p-3 space-y-2","data-testid":`card-client-${R.client_id}-${b.id}`,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(gs,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"}),s.jsx("span",{className:"text-sm font-medium truncate","data-testid":`text-client-name-${R.client_id}-${b.id}`,children:R.client_name})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:R.services.map(O=>{const L=H9e(O);return s.jsx("span",{className:`inline-block text-[10px] font-medium px-2 py-0.5 rounded-md ${L.bg} ${L.text} ${L.darkBg} ${L.darkText}`,children:O},O)})})]},R.client_id)),b.clients.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"No client assignments yet"})]})})]})]})},b.id)})}),s.jsx(Le,{children:s.jsxs(Fe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-3",children:[s.jsx(dC,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Service Legend"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(YZ).map(([b,N])=>s.jsx("span",{className:`inline-block text-[11px] font-medium px-2.5 py-1 rounded-md ${N.bg} ${N.text} ${N.darkBg} ${N.darkText}`,"data-testid":`legend-service-${b.toLowerCase().replace(/\s+/g,"-")}`,children:b},b))})]})})]})}function G9e(e){switch(e){case"available":return{label:"Available",variant:"secondary",icon:Sn};case"moderate":return{label:"Moderate",variant:"default",icon:wi};case"busy":return{label:"Busy",variant:"destructive",icon:Xn};default:return{label:"Unknown",variant:"outline",icon:$d}}}function K9e(){const{showToast:e}=Cr(),{profile:t}=Fi(),[r,n]=p.useState([]),[i,a]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(""),[m,h]=p.useState([]),[v,g]=p.useState({title:"",description:"",client_id:"",priority:"medium",due_date:""}),[x,y]=p.useState(!1);p.useEffect(()=>{w()},[]);const w=async()=>{try{l(!0);const[{data:k,error:R},{data:O,error:L},{data:U,error:q}]=await Promise.all([ge.rpc("get_account_manager_daily_tasks"),ge.rpc("get_available_team_members_for_assignment"),ge.from("client_assignments").select("client_id, clients(id, name)").eq("employee_id",(t==null?void 0:t.id)||"").then(({data:Q,error:ie})=>ie?{data:null,error:ie}:{data:Q==null?void 0:Q.map(H=>H.clients).filter((H,X,pe)=>H&&pe.findIndex(xe=>(xe==null?void 0:xe.id)===(H==null?void 0:H.id))===X),error:null})]);if(R)throw R;if(L)throw L;if(q)throw q;n(k||[]),a(O||[]),h(U||[])}catch(k){e(k.message,"error")}finally{l(!1)}},_=async()=>{if(!v.title||!v.client_id||!d){e("Please fill in all required fields","error");return}try{y(!0);const{error:k}=await ge.from("tasks").insert({title:v.title,description:v.description,client_id:v.client_id,assigned_to:d,priority:v.priority,due_date:v.due_date||null,status:"pending"});if(k)throw k;e("Task assigned successfully","success"),u(!1),g({title:"",description:"",client_id:"",priority:"medium",due_date:""}),f(""),w()}catch(k){e(k.message,"error")}finally{y(!1)}},b=()=>{u(!1),f(""),g({title:"",description:"",client_id:"",priority:"medium",due_date:""})},N=r.reduce((k,R)=>k+R.tasks_assigned_today,0),C=r.reduce((k,R)=>k+R.tasks_completed_today,0),S=r.reduce((k,R)=>k+R.pending_tasks_count,0);if(o)return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-80 mb-2"}),s.jsx(ke,{className:"h-4 w-64"})]}),s.jsx(ke,{className:"h-9 w-24"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(k=>s.jsx(ke,{className:"h-28"},k))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(ke,{className:"h-64"}),s.jsx(ke,{className:"h-64"})]})]});const A=[{label:"Assigned Today",value:N,sub:"Tasks given to team members",icon:ea,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-950/40"},{label:"Completed Today",value:C,sub:"Tasks finished by team",icon:Sn,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-950/40"},{label:"Pending Tasks",value:S,sub:"Active work items",icon:wi,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-950/40"},{label:"Team Members",value:r.length,sub:"Under your management",icon:Qi,color:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-950/40"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-daily-view-title",children:"Account Manager Daily View"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track team progress and balance workload"})]}),s.jsxs(je,{variant:"outline",onClick:w,"data-testid":"button-refresh-daily",children:[s.jsx(zv,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:A.map(k=>{const R=k.icon;return s.jsx(Le,{"data-testid":`card-stat-${k.label.toLowerCase().replace(/\s+/g,"-")}`,children:s.jsxs(Fe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:`rounded-lg p-2.5 ${k.bg}`,children:s.jsx(R,{className:`h-5 w-5 ${k.color}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-semibold",children:k.value}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:k.label})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:k.sub})]})},k.label)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Le,{children:[s.jsx(Rr,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(j2,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),s.jsx(Ir,{className:"text-base",children:"Team Performance Today"})]})}),s.jsx(Fe,{className:"space-y-4",children:r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Qi,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No team members found"})]}):r.map(k=>s.jsxs("div",{className:"rounded-md border p-4 space-y-3","data-testid":`card-member-${k.employee_id}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx(hs,{className:"h-10 w-10",children:s.jsx(ms,{className:"bg-blue-600 text-white text-sm font-medium",children:k.employee_name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground","data-testid":`text-member-name-${k.employee_id}`,children:k.employee_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:k.employee_email})]})]}),s.jsxs(je,{size:"sm",onClick:()=>{f(k.employee_id),u(!0)},"data-testid":`button-assign-task-${k.employee_id}`,children:[s.jsx(on,{className:"h-3 w-3 mr-1"}),"Assign Task"]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[s.jsx("div",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:k.tasks_assigned_today}),s.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Assigned"})]}),s.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[s.jsx("div",{className:"text-lg font-semibold text-emerald-600 dark:text-emerald-400",children:k.tasks_completed_today}),s.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[s.jsx("div",{className:"text-lg font-semibold text-amber-600 dark:text-amber-400",children:k.pending_tasks_count}),s.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Pending"})]}),s.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[s.jsx("div",{className:"text-lg font-semibold text-violet-600 dark:text-violet-400",children:k.active_clients_count}),s.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Clients"})]})]})]},k.employee_id))})]}),s.jsxs(Le,{children:[s.jsx(Rr,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(vl,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),s.jsx(Ir,{className:"text-base",children:"Available for Task Assignment"})]})}),s.jsxs(Fe,{className:"space-y-3",children:[i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Qi,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No team members available"})]}):i.slice(0,10).map(k=>{const R=G9e(k.availability_status),O=R.icon;return s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap p-3 rounded-md border","data-testid":`card-available-${k.employee_id}`,children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap flex-1 min-w-0",children:[s.jsx(hs,{className:"h-8 w-8",children:s.jsx(ms,{className:"bg-emerald-600 text-white text-xs font-medium",children:k.employee_name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-sm text-foreground truncate",children:k.employee_name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[k.pending_tasks_count," pending tasks"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs($t,{variant:R.variant,"data-testid":`badge-status-${k.employee_id}`,children:[s.jsx(O,{className:"h-3 w-3 mr-1"}),R.label]}),s.jsx(je,{size:"icon",variant:"ghost",onClick:()=>{f(k.employee_id),u(!0)},"data-testid":`button-assign-available-${k.employee_id}`,children:s.jsx(Ap,{className:"h-4 w-4"})})]})]},k.employee_id)}),s.jsx("div",{className:"pt-4 border-t border-border",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Available (<6 tasks)"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-amber-500"}),"Moderate (6-15 tasks)"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"}),"Busy (>15 tasks)"]})]})})]})]})]}),s.jsx(Zr,{open:c,onOpenChange:k=>{k||b()},children:s.jsxs(Ur,{children:[s.jsxs(Qr,{children:[s.jsx(tn,{children:"Assign New Task"}),s.jsx(Vc,{children:"Fill in the details below to assign a task to a team member."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Assign To ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(_t,{value:d,onValueChange:f,"data-testid":"select-assign-to",children:[s.jsx(wt,{"data-testid":"select-trigger-assign-to",children:s.jsx(jt,{placeholder:"Select team member..."})}),s.jsx(bt,{children:i.map(k=>s.jsxs(Ce,{value:k.employee_id,children:[k.employee_name," (",k.pending_tasks_count," pending tasks)"]},k.employee_id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Client ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(_t,{value:v.client_id,onValueChange:k=>g({...v,client_id:k}),"data-testid":"select-client",children:[s.jsx(wt,{"data-testid":"select-trigger-client",children:s.jsx(jt,{placeholder:"Select client..."})}),s.jsx(bt,{children:m.map(k=>s.jsx(Ce,{value:k.id,children:k.name},k.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Task Title ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(We,{value:v.title,onChange:k=>g({...v,title:k.target.value}),placeholder:"Enter task title","data-testid":"input-task-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Description"}),s.jsx("textarea",{value:v.description,onChange:k=>g({...v,description:k.target.value}),className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",rows:3,placeholder:"Enter task description","data-testid":"input-task-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Priority"}),s.jsxs(_t,{value:v.priority,onValueChange:k=>g({...v,priority:k}),"data-testid":"select-priority",children:[s.jsx(wt,{"data-testid":"select-trigger-priority",children:s.jsx(jt,{placeholder:"Select priority"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"low",children:"Low"}),s.jsx(Ce,{value:"medium",children:"Medium"}),s.jsx(Ce,{value:"high",children:"High"}),s.jsx(Ce,{value:"critical",children:"Critical"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Due Date"}),s.jsx(We,{type:"date",value:v.due_date,onChange:k=>g({...v,due_date:k.target.value}),"data-testid":"input-due-date"})]})]})]}),s.jsxs(en,{className:"gap-2",children:[s.jsx(je,{variant:"outline",onClick:b,"data-testid":"button-cancel-assign",children:"Cancel"}),s.jsxs(je,{onClick:_,disabled:x,"data-testid":"button-submit-assign",children:[x&&s.jsx(Ya,{className:"h-4 w-4 animate-spin mr-2"}),x?"Assigning...":"Assign Task"]})]})]})})]})}function XZ(){const{showToast:e}=Cr(),{profile:t}=Fi(),[r,n]=p.useState([]),[i,a]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[m,h]=p.useState(!1),[v,g]=p.useState(null),[x,y]=p.useState(new Set),[w,_]=p.useState(!1),[b,N]=p.useState({client_id:"",tool_name:"",username:"",password:"",notes:""}),C=(t==null?void 0:t.role)==="admin",S=C;p.useEffect(()=>{A()},[]);const A=async()=>{try{l(!0);const[{data:z,error:H},{data:X,error:pe}]=await Promise.all([ge.from("client_credentials").select("*, clients(id, name)").order("created_at",{ascending:!1}),C?ge.from("clients").select("id, name").eq("status","active").order("name"):ge.from("client_assignments").select("client_id, clients(id, name)").eq("employee_id",(t==null?void 0:t.id)||"").then(({data:xe,error:D})=>D?{data:null,error:D}:{data:xe==null?void 0:xe.map(T=>T.clients).filter((T,V,F)=>T&&F.findIndex(W=>(W==null?void 0:W.id)===(T==null?void 0:T.id))===V),error:null})]);if(H)throw H;if(pe)throw pe;n(z||[]),a(X||[])}catch(z){e(z.message,"error")}finally{l(!1)}},k=z=>btoa(z),R=z=>{try{return atob(z)}catch{return""}},O=z=>{const H=new Set(x);H.has(z)?H.delete(z):H.add(z),y(H)},L=async()=>{if(!b.client_id||!b.tool_name||!b.username||!b.password){e("Please fill in all required fields","error");return}try{_(!0);const{error:z}=await ge.from("client_credentials").insert({client_id:b.client_id,tool_name:b.tool_name,username:b.username,encrypted_password:k(b.password),notes:b.notes,created_by:t==null?void 0:t.id});if(z)throw z;e("Credential added successfully","success"),u(!1),N({client_id:"",tool_name:"",username:"",password:"",notes:""}),A()}catch(z){e(z.message,"error")}finally{_(!1)}},U=async()=>{if(!v||!b.tool_name||!b.username){e("Please fill in all required fields","error");return}try{_(!0);const z={tool_name:b.tool_name,username:b.username,notes:b.notes};b.password&&(z.encrypted_password=k(b.password));const{error:H}=await ge.from("client_credentials").update(z).eq("id",v.id);if(H)throw H;e("Credential updated successfully","success"),f(!1),g(null),N({client_id:"",tool_name:"",username:"",password:"",notes:""}),A()}catch(z){e(z.message,"error")}finally{_(!1)}},q=async()=>{if(v)try{_(!0);const{error:z}=await ge.from("client_credentials").delete().eq("id",v.id);if(z)throw z;e("Credential deleted successfully","success"),h(!1),g(null),A()}catch(z){e(z.message,"error")}finally{_(!1)}},Q=z=>{g(z),N({client_id:z.client_id,tool_name:z.tool_name,username:z.username,password:"",notes:z.notes}),f(!0)},ie=r.reduce((z,H)=>{var D;const X=H.client_id,pe=((D=H.clients)==null?void 0:D.name)||"Unknown Client",xe=z.find(M=>M.clientId===X);return xe?xe.credentials.push(H):z.push({clientId:X,clientName:pe,credentials:[H]}),z},[]);return o?s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ke,{className:"h-9 w-24"}),s.jsx(ke,{className:"h-9 w-36"})]})]}),s.jsx(ke,{className:"h-20 w-full"}),s.jsx(ke,{className:"h-48 w-full"}),s.jsx(ke,{className:"h-48 w-full"})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Client Credentials"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Securely manage client access credentials"})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsxs(je,{variant:"outline",onClick:A,"data-testid":"button-refresh-credentials",children:[s.jsx(zv,{className:"h-4 w-4"}),"Refresh"]}),S&&s.jsxs(je,{onClick:()=>u(!0),"data-testid":"button-add-credential",children:[s.jsx(on,{className:"h-4 w-4"}),"Add Credential"]})]})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Hae,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-foreground text-sm mb-1",children:"Security Notice"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You can only view credentials for clients you are assigned to. Access is automatically granted based on your client assignments and revoked when you are removed from a project."})]})]})})}),ie.length===0?s.jsx(Le,{children:s.jsxs(Fe,{className:"p-12 text-center",children:[s.jsx(jw,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No credentials found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:S?"Get started by adding your first client credential.":"No credentials available for your assigned clients."}),S&&s.jsxs(je,{onClick:()=>u(!0),"data-testid":"button-add-first-credential",children:[s.jsx(on,{className:"h-5 w-5"}),"Add First Credential"]})]})}):s.jsx("div",{className:"space-y-6",children:ie.map(z=>s.jsxs(Le,{"data-testid":`card-client-group-${z.clientId}`,children:[s.jsx(Rr,{className:"bg-muted/50 border-b border-border pb-4",children:s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"p-2 bg-muted rounded-md",children:s.jsx(fs,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx(Ir,{className:"text-lg","data-testid":`text-client-name-${z.clientId}`,children:z.clientName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[z.credentials.length," credential(s)"]})]})]})}),s.jsx(Fe,{className:"p-0",children:s.jsx("div",{className:"divide-y divide-border",children:z.credentials.map(H=>{const X=x.has(H.id),pe=R(H.encrypted_password);return s.jsxs("div",{className:"p-6","data-testid":`card-credential-${H.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-muted rounded-md",children:s.jsx(jw,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground text-lg","data-testid":`text-tool-name-${H.id}`,children:H.tool_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Added ",new Date(H.created_at).toLocaleDateString()]})]})]}),S&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>Q(H),"data-testid":`button-edit-credential-${H.id}`,children:s.jsx(qae,{className:"h-4 w-4"})}),s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>{g(H),h(!0)},"data-testid":`button-delete-credential-${H.id}`,children:s.jsx(Io,{className:"h-4 w-4 text-destructive"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-xs font-semibold text-muted-foreground uppercase mb-1 block",children:"Username"}),s.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-muted rounded-md",children:s.jsx("span",{className:"font-mono text-sm text-foreground select-none","data-testid":`text-username-${H.id}`,children:H.username})})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-xs font-semibold text-muted-foreground uppercase mb-1 block",children:"Password"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 bg-muted rounded-md",children:[s.jsx(w9,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-mono text-sm text-foreground select-none flex-1","data-testid":`text-password-${H.id}`,children:X?pe:""})]}),s.jsx(je,{variant:"outline",size:"icon",onClick:()=>O(H.id),"data-testid":`button-toggle-password-${H.id}`,children:X?s.jsx(up,{className:"h-4 w-4"}):s.jsx(Sd,{className:"h-4 w-4"})})]})]}),H.notes&&s.jsxs("div",{children:[s.jsx(be,{className:"text-xs font-semibold text-muted-foreground uppercase mb-1 block",children:"Notes"}),s.jsx("div",{className:"px-4 py-2 bg-muted rounded-md border border-border",children:s.jsx("p",{className:"text-sm text-foreground","data-testid":`text-notes-${H.id}`,children:H.notes})})]})]})]},H.id)})})})]},z.clientId))}),s.jsx(Zr,{open:c,onOpenChange:z=>{z||(u(!1),N({client_id:"",tool_name:"",username:"",password:"",notes:""}))},children:s.jsxs(Ur,{className:"sm:max-w-lg",children:[s.jsxs(Qr,{children:[s.jsx(tn,{children:"Add Client Credential"}),s.jsx(Vc,{children:"Add a new credential for a client tool or service."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Client ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(_t,{value:b.client_id,onValueChange:z=>N({...b,client_id:z}),children:[s.jsx(wt,{"data-testid":"select-client-add",children:s.jsx(jt,{placeholder:"Select client..."})}),s.jsx(bt,{children:i.map(z=>s.jsx(Ce,{value:z.id,children:z.name},z.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Tool/Service Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(We,{value:b.tool_name,onChange:z=>N({...b,tool_name:z.target.value}),placeholder:"e.g., Google Analytics, Facebook Ads","data-testid":"input-tool-name-add"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Username ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(We,{value:b.username,onChange:z=>N({...b,username:z.target.value}),placeholder:"Enter username or email","data-testid":"input-username-add"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(We,{type:"password",value:b.password,onChange:z=>N({...b,password:z.target.value}),placeholder:"Enter password","data-testid":"input-password-add"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Notes"}),s.jsx(Mi,{value:b.notes,onChange:z=>N({...b,notes:z.target.value}),rows:3,placeholder:"Additional notes or instructions","data-testid":"textarea-notes-add"})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Us,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This credential will be automatically accessible to all team members assigned to this client."})]})})})]}),s.jsxs(en,{children:[s.jsx(je,{variant:"outline",onClick:()=>{u(!1),N({client_id:"",tool_name:"",username:"",password:"",notes:""})},"data-testid":"button-cancel-add",children:"Cancel"}),s.jsxs(je,{onClick:L,disabled:w,"data-testid":"button-submit-add",children:[w&&s.jsx(Ya,{className:"h-4 w-4 animate-spin"}),"Add Credential"]})]})]})}),s.jsx(Zr,{open:d,onOpenChange:z=>{z||(f(!1),g(null),N({client_id:"",tool_name:"",username:"",password:"",notes:""}))},children:s.jsxs(Ur,{className:"sm:max-w-lg",children:[s.jsxs(Qr,{children:[s.jsx(tn,{children:"Edit Credential"}),s.jsx(Vc,{children:"Update the credential details below."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Tool/Service Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(We,{value:b.tool_name,onChange:z=>N({...b,tool_name:z.target.value}),"data-testid":"input-tool-name-edit"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Username ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(We,{value:b.username,onChange:z=>N({...b,username:z.target.value}),"data-testid":"input-username-edit"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"New Password (leave blank to keep current)"}),s.jsx(We,{type:"password",value:b.password,onChange:z=>N({...b,password:z.target.value}),placeholder:"Enter new password","data-testid":"input-password-edit"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Notes"}),s.jsx(Mi,{value:b.notes,onChange:z=>N({...b,notes:z.target.value}),rows:3,"data-testid":"textarea-notes-edit"})]})]}),s.jsxs(en,{children:[s.jsx(je,{variant:"outline",onClick:()=>{f(!1),g(null),N({client_id:"",tool_name:"",username:"",password:"",notes:""})},"data-testid":"button-cancel-edit",children:"Cancel"}),s.jsxs(je,{onClick:U,disabled:w,"data-testid":"button-submit-edit",children:[w&&s.jsx(Ya,{className:"h-4 w-4 animate-spin"}),"Update Credential"]})]})]})}),s.jsx(Zr,{open:m,onOpenChange:z=>{z||(h(!1),g(null))},children:s.jsxs(Ur,{className:"sm:max-w-md",children:[s.jsxs(Qr,{children:[s.jsx(tn,{children:"Delete Credential"}),s.jsxs(Vc,{children:['Are you sure you want to delete the credential for "',v==null?void 0:v.tool_name,'"? This action cannot be undone.']})]}),s.jsxs(en,{children:[s.jsx(je,{variant:"outline",onClick:()=>{h(!1),g(null)},disabled:w,"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsxs(je,{variant:"destructive",onClick:q,disabled:w,"data-testid":"button-confirm-delete",children:[w&&s.jsx(Ya,{className:"h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}function NF(){const{user:e}=Fi(),[t,r]=p.useState([]),[n,i]=p.useState([]),[a,o]=p.useState(!0),[l,c]=p.useState({totalClients:0,reportsDueThisWeek:0,tasksCompleted:0,performance:0});p.useEffect(()=>{e&&u()},[e]);const u=async()=>{var w;try{const[_,b,N]=await Promise.all([ge.from("client_assignments").select("*").eq("employee_id",e.id),ge.from("employee_tasks").select("*").eq("employee_id",e.id).order("due_date",{ascending:!0}),ge.from("weekly_reports").select("*").eq("employee_id",e.id).gte("created_at",d())]);if(_.data){const C=await Promise.all(_.data.map(async R=>{const[O,L]=await Promise.all([ge.from("clients").select("*").eq("id",R.client_id).maybeSingle(),ge.from("services").select("*").eq("id",R.service_id).maybeSingle()]);return{...R,client:O.data||void 0,service:L.data||void 0}}));r(C);const S=N.data||[],A=S.filter(R=>R.status==="on_track").length,k=S.length>0?A/S.length*100:0;c({totalClients:C.length,reportsDueThisWeek:C.length,tasksCompleted:((w=b.data)==null?void 0:w.filter(R=>R.status==="completed").length)||0,performance:Math.round(k)})}b.data&&i(b.data)}catch(_){console.error("Error loading employee data:",_)}finally{o(!1)}},d=()=>{const w=new Date;return new Date(w.getFullYear(),w.getMonth(),1).toISOString()},f=async(w,_)=>{try{const b={status:_,updated_at:new Date().toISOString()};_==="completed"&&(b.completed_at=new Date().toISOString()),await ge.from("employee_tasks").update(b).eq("id",w),u()}catch(b){console.error("Error updating task:",b)}},m=w=>{switch(w){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";default:return"outline"}},h=w=>w?gR(new Date(w),new Date):!1,v=w=>{if(!w)return!1;const _=new Date(w),b=sz(new Date,3);return mme(_,new Date)&&gR(_,b)},g=t.reduce((w,_)=>{const b=_.client_id;return w[b]||(w[b]={client:_.client,services:[]}),_.service&&w[b].services.push(_.service),w},{}),x=n.filter(w=>w.status!=="completed"),y=n.filter(w=>w.status==="completed");return a?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-64"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(w=>s.jsx(ke,{className:"h-32"},w))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(ke,{className:"h-64 lg:col-span-2"}),s.jsx(ke,{className:"h-64"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"My Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Welcome back! Here's your overview"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Le,{"data-testid":"stat-card-clients",children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"My Clients"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground mt-2","data-testid":"stat-total-clients",children:l.totalClients})]}),s.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-md",children:s.jsx(gs,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-card-reports",children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Reports Due"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground mt-2","data-testid":"stat-reports-due",children:l.reportsDueThisWeek}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This week"})]}),s.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-md",children:s.jsx(Zn,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-card-tasks",children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tasks Completed"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground mt-2","data-testid":"stat-tasks-completed",children:l.tasksCompleted}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This month"})]}),s.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-md",children:s.jsx(Sn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-card-performance",children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Performance"}),s.jsxs("p",{className:"text-2xl font-semibold tracking-tight text-foreground mt-2","data-testid":"stat-performance",children:[l.performance,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"On-track rate"})]}),s.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-md",children:s.jsx(vl,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Le,{children:[s.jsx(Rr,{children:s.jsx(Ir,{children:"My Tasks"})}),s.jsxs(Fe,{children:[x.length>0?s.jsx("div",{className:"space-y-3",children:x.map(w=>s.jsx("div",{"data-testid":`task-item-${w.id}`,className:`p-4 rounded-md border ${h(w.due_date)?"bg-destructive/10 border-destructive/30":v(w.due_date)?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-muted border-border"}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[s.jsx("h3",{className:"font-medium text-foreground",children:w.title}),s.jsx($t,{variant:m(w.priority),className:"text-xs",children:w.priority})]}),w.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:w.description}),w.due_date&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(ea,{className:"h-3 w-3"}),s.jsxs("span",{children:["Due: ",cr(new Date(w.due_date),"MMM d, yyyy")]}),h(w.due_date)&&s.jsx("span",{className:"text-destructive font-medium ml-1",children:"Overdue!"}),v(w.due_date)&&s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium ml-1",children:"Due soon"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[w.status==="pending"&&s.jsx(je,{size:"sm",onClick:()=>f(w.id,"in_progress"),"data-testid":`button-start-task-${w.id}`,children:"Start"}),w.status==="in_progress"&&s.jsx(je,{size:"sm",variant:"default",onClick:()=>f(w.id,"completed"),"data-testid":`button-complete-task-${w.id}`,children:"Complete"})]})]})},w.id))}):s.jsxs("div",{className:"text-center py-12 bg-muted rounded-md",children:[s.jsx(Sn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending tasks. Great job!"})]}),y.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Completed"}),s.jsx("div",{className:"space-y-2",children:y.slice(0,3).map(w=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-md","data-testid":`completed-task-${w.id}`,children:[s.jsx(Sn,{className:"h-5 w-5 text-green-600 dark:text-green-400 flex-shrink-0"}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-sm text-foreground line-through",children:w.title})})]},w.id))})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Le,{children:[s.jsx(Rr,{children:s.jsx(Ir,{children:"My Clients"})}),s.jsx(Fe,{children:s.jsxs("div",{className:"space-y-3",children:[Object.values(g).map(({client:w,services:_})=>w?s.jsxs("div",{className:"p-4 bg-muted rounded-md","data-testid":`client-card-${w.id}`,children:[s.jsx("h3",{className:"font-medium text-foreground mb-2",children:w.name}),s.jsx("div",{className:"flex flex-wrap gap-1",children:_.map(b=>s.jsx($t,{variant:"secondary",className:"text-xs",children:b.name},b.id))})]},w.id):null),Object.keys(g).length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No clients assigned yet"})]})})]}),s.jsx(Le,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Zn,{className:"h-6 w-6 text-blue-600 dark:text-blue-400 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Submit Weekly Reports"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Don't forget to submit your weekly reports for all assigned clients."}),s.jsx(je,{variant:"link",className:"p-0 h-auto",onClick:()=>window.location.hash="#reports","data-testid":"link-go-to-reports",children:"Go to Reports"})]})]})})})]})]})]})}function Y9e(){var T,V;const{user:e}=Fi(),{showToast:t}=Cr(),[r,n]=p.useState([]),[i,a]=p.useState(null),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[m,h]=p.useState(!1),[v,g]=p.useState(null),[x,y]=p.useState([]),[w,_]=p.useState(null),[b,N]=p.useState({week_start_date:C(new Date),work_summary:"",status:"on_track",key_wins:"",challenges:"",next_week_plan:"",connections_sent:0,connections_accepted:0,responses_received:0,positive_responses:0,meetings_booked:0,metrics:{}});p.useEffect(()=>{e&&S()},[e]),p.useEffect(()=>{if(i){A(),k();const F=setInterval(()=>{R()},3e4);return()=>clearInterval(F)}},[i]);function C(F){const W=new Date(F),te=W.getDay(),Y=W.getDate()-te+(te===0?-6:1);return new Date(W.setDate(Y)).toISOString().split("T")[0]}const S=async()=>{try{const{data:F,error:W}=await ge.from("client_assignments").select(`
          *,
          clients(*),
          services(*)
        `).eq("employee_id",e.id);if(W)throw W;if(F){const te=F.map(Y=>({...Y,client:Y.clients,service:Y.services}));n(te)}}catch(F){console.error("Error loading assignments:",F)}finally{l(!1)}},A=async()=>{if(i)try{const{data:F,error:W}=await ge.from("weekly_reports").select("*").eq("employee_id",e.id).eq("client_id",i.client_id).eq("service_id",i.service_id).eq("is_draft",!0).eq("week_start_date",b.week_start_date).maybeSingle();if(W)throw W;F&&(_(F.id),N({week_start_date:F.week_start_date,work_summary:F.work_summary||"",status:F.status||"on_track",key_wins:F.key_wins||"",challenges:F.challenges||"",next_week_plan:F.next_week_plan||"",connections_sent:0,connections_accepted:0,responses_received:0,positive_responses:0,meetings_booked:0,metrics:{}}))}catch(F){console.error("Error loading draft:",F)}},k=async()=>{if(i)try{const{data:F,error:W}=await ge.from("weekly_reports").select("*").eq("client_id",i.client_id).eq("service_id",i.service_id).eq("employee_id",e.id).order("week_start_date",{ascending:!1}).limit(1).maybeSingle();F&&!W&&g(F)}catch(F){console.error("Error loading previous report:",F)}},R=p.useCallback(async()=>{if(i)try{if(w)await ge.from("weekly_reports").update({work_summary:b.work_summary,status:b.status,key_wins:b.key_wins,challenges:b.challenges,next_week_plan:b.next_week_plan}).eq("id",w);else{const{data:F,error:W}=await ge.from("weekly_reports").insert({client_id:i.client_id,employee_id:e.id,service_id:i.service_id,week_start_date:b.week_start_date,work_summary:b.work_summary,status:b.status,key_wins:b.key_wins,challenges:b.challenges,next_week_plan:b.next_week_plan,is_draft:!0}).select().single();if(W)throw W;F&&_(F.id)}}catch(F){console.error("Error auto-saving draft:",F)}},[i,b,e,w]);p.useCallback(async()=>{if(i)try{const F={...b,meetingDates:x};await ge.from("report_drafts").upsert({employee_id:e.id,client_id:i.client_id,service_id:i.service_id,week_start_date:b.week_start_date,draft_data:F,updated_at:new Date().toISOString()})}catch(F){console.error("Error auto-saving draft:",F)}},[i,b,x,e]);const O=async()=>{f(!0);try{await R(),t("Draft saved successfully!","success")}catch{t("Failed to save draft","error")}finally{f(!1)}},L=()=>{y([...x,{date:"",description:""}])},U=F=>{y(x.filter((W,te)=>te!==F))},q=(F,W,te)=>{const Y=[...x];Y[F][W]=te,y(Y)},Q=async F=>{var W,te;if(F.preventDefault(),!!i){u(!0);try{let Y,oe;if(w){const we=await ge.from("weekly_reports").update({work_summary:b.work_summary,status:b.status,key_wins:b.key_wins,challenges:b.challenges,next_week_plan:b.next_week_plan,is_draft:!1,approval_status:"submitted"}).eq("id",w).select().single();Y=we.data,oe=we.error}else{const we=await ge.from("weekly_reports").insert({client_id:i.client_id,employee_id:e.id,service_id:i.service_id,week_start_date:b.week_start_date,work_summary:b.work_summary,status:b.status,key_wins:b.key_wins,challenges:b.challenges,next_week_plan:b.next_week_plan,is_draft:!1,approval_status:"submitted"}).select().single();Y=we.data,oe=we.error}if(oe)throw oe;Y&&(((W=i.service)==null?void 0:W.slug)==="linkedin_outreach"?await ge.from("activity_metrics").insert({report_id:Y.id,metric_type:"linkedin_outreach",connections_sent:b.connections_sent,connections_accepted:b.connections_accepted,responses_received:b.responses_received,positive_responses:b.positive_responses,meetings_booked:b.meetings_booked,meeting_dates:x}):await ge.from("service_metrics").insert({weekly_report_id:Y.id,metric_data:b.metrics}),await ge.from("report_drafts").delete().eq("employee_id",e.id).eq("client_id",i.client_id).eq("service_id",i.service_id).eq("week_start_date",b.week_start_date),await ge.from("notifications").insert({user_id:e.id,title:"Report Submitted",message:`Your weekly report for ${(te=i.client)==null?void 0:te.name} has been submitted successfully.`,type:"success"})),h(!0),setTimeout(()=>{a(null),h(!1),ie()},2e3)}catch(Y){console.error("Error submitting report:",Y),Y.code==="23505"?t("You have already submitted a report for this client, service, and week.","error"):t("Failed to submit report. Please try again.","error")}finally{u(!1)}}},ie=()=>{N({week_start_date:C(new Date),work_summary:"",status:"on_track",key_wins:"",challenges:"",next_week_plan:"",connections_sent:0,connections_accepted:0,responses_received:0,positive_responses:0,meetings_booked:0,metrics:{}}),y([])},z=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"LinkedIn Outreach Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Connections Sent"}),s.jsx(We,{type:"number",value:b.connections_sent,onChange:F=>N({...b,connections_sent:parseInt(F.target.value)||0}),required:!0,"data-testid":"input-connections-sent"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Connections Accepted"}),s.jsx(We,{type:"number",value:b.connections_accepted,onChange:F=>N({...b,connections_accepted:parseInt(F.target.value)||0}),required:!0,"data-testid":"input-connections-accepted"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Responses Received"}),s.jsx(We,{type:"number",value:b.responses_received,onChange:F=>N({...b,responses_received:parseInt(F.target.value)||0}),required:!0,"data-testid":"input-responses-received"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Positive Responses"}),s.jsx(We,{type:"number",value:b.positive_responses,onChange:F=>N({...b,positive_responses:parseInt(F.target.value)||0}),required:!0,"data-testid":"input-positive-responses"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(be,{children:"Meetings Booked"}),s.jsx(We,{type:"number",value:b.meetings_booked,onChange:F=>N({...b,meetings_booked:parseInt(F.target.value)||0}),required:!0,"data-testid":"input-meetings-booked"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap mb-3",children:[s.jsx(be,{children:"Meeting Dates"}),s.jsxs(je,{type:"button",variant:"link",size:"sm",className:"p-0 h-auto",onClick:L,"data-testid":"button-add-meeting",children:[s.jsx(on,{className:"h-4 w-4 mr-1"}),"Add Meeting"]})]}),s.jsxs("div",{className:"space-y-3",children:[x.map((F,W)=>s.jsxs("div",{className:"flex gap-3 items-start flex-wrap",children:[s.jsx("div",{className:"flex-1",children:s.jsx(We,{type:"date",value:F.date,onChange:te=>q(W,"date",te.target.value),required:!0,"data-testid":`input-meeting-date-${W}`})}),s.jsx("div",{className:"flex-[2]",children:s.jsx(We,{type:"text",value:F.description,onChange:te=>q(W,"description",te.target.value),placeholder:"Meeting description (e.g., Discovery call with CEO)","data-testid":`input-meeting-desc-${W}`})}),s.jsx(je,{type:"button",variant:"ghost",size:"icon",onClick:()=>U(W),className:"text-destructive","data-testid":`button-remove-meeting-${W}`,children:s.jsx(to,{className:"h-5 w-5"})})]},W)),x.length===0&&s.jsxs("div",{className:"text-center py-6 bg-muted rounded-md border-2 border-dashed border-border",children:[s.jsx(ea,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No meetings added yet"})]})]})]})]}),H=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Email Outreach Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Emails Sent"}),s.jsx(We,{type:"number",value:b.metrics.emails_sent||0,onChange:F=>N({...b,metrics:{...b.metrics,emails_sent:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-emails-sent"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Emails Opened"}),s.jsx(We,{type:"number",value:b.metrics.emails_opened||0,onChange:F=>N({...b,metrics:{...b.metrics,emails_opened:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-emails-opened"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Click-Through Rate (%)"}),s.jsx(We,{type:"number",step:"0.1",value:b.metrics.click_through_rate||0,onChange:F=>N({...b,metrics:{...b.metrics,click_through_rate:parseFloat(F.target.value)||0}}),min:"0",max:"100","data-testid":"input-click-through-rate"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Responses Received"}),s.jsx(We,{type:"number",value:b.metrics.responses_received||0,onChange:F=>N({...b,metrics:{...b.metrics,responses_received:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-email-responses"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Positive Responses"}),s.jsx(We,{type:"number",value:b.metrics.positive_responses||0,onChange:F=>N({...b,metrics:{...b.metrics,positive_responses:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-email-positive-responses"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Meetings Booked"}),s.jsx(We,{type:"number",value:b.metrics.meetings_booked||0,onChange:F=>N({...b,metrics:{...b.metrics,meetings_booked:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-email-meetings-booked"})]})]})]}),X=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Meta Ads Metrics (Facebook/Instagram)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Ad Spend ($)"}),s.jsx(We,{type:"number",step:"0.01",value:b.metrics.ad_spend||0,onChange:F=>N({...b,metrics:{...b.metrics,ad_spend:parseFloat(F.target.value)||0}}),min:"0","data-testid":"input-meta-ad-spend"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Impressions"}),s.jsx(We,{type:"number",value:b.metrics.impressions||0,onChange:F=>N({...b,metrics:{...b.metrics,impressions:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-meta-impressions"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Clicks"}),s.jsx(We,{type:"number",value:b.metrics.clicks||0,onChange:F=>N({...b,metrics:{...b.metrics,clicks:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-meta-clicks"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"CTR (%)"}),s.jsx(We,{type:"number",step:"0.01",value:b.metrics.ctr||0,onChange:F=>N({...b,metrics:{...b.metrics,ctr:parseFloat(F.target.value)||0}}),min:"0","data-testid":"input-meta-ctr"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Conversions"}),s.jsx(We,{type:"number",value:b.metrics.conversions||0,onChange:F=>N({...b,metrics:{...b.metrics,conversions:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-meta-conversions"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Cost Per Conversion ($)"}),s.jsx(We,{type:"number",step:"0.01",value:b.metrics.cost_per_conversion||0,onChange:F=>N({...b,metrics:{...b.metrics,cost_per_conversion:parseFloat(F.target.value)||0}}),min:"0","data-testid":"input-meta-cost-per-conv"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"ROAS (Return on Ad Spend)"}),s.jsx(We,{type:"number",step:"0.01",value:b.metrics.roas||0,onChange:F=>N({...b,metrics:{...b.metrics,roas:parseFloat(F.target.value)||0}}),min:"0","data-testid":"input-meta-roas"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Leads Generated"}),s.jsx(We,{type:"number",value:b.metrics.leads_generated||0,onChange:F=>N({...b,metrics:{...b.metrics,leads_generated:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-meta-leads"})]})]})]}),pe=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Google Ads Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Ad Spend ($)"}),s.jsx(We,{type:"number",step:"0.01",value:b.metrics.ad_spend||0,onChange:F=>N({...b,metrics:{...b.metrics,ad_spend:parseFloat(F.target.value)||0}}),min:"0","data-testid":"input-google-ad-spend"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Impressions"}),s.jsx(We,{type:"number",value:b.metrics.impressions||0,onChange:F=>N({...b,metrics:{...b.metrics,impressions:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-google-impressions"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Clicks"}),s.jsx(We,{type:"number",value:b.metrics.clicks||0,onChange:F=>N({...b,metrics:{...b.metrics,clicks:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-google-clicks"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"CTR (%)"}),s.jsx(We,{type:"number",step:"0.01",value:b.metrics.ctr||0,onChange:F=>N({...b,metrics:{...b.metrics,ctr:parseFloat(F.target.value)||0}}),min:"0","data-testid":"input-google-ctr"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Avg. CPC ($)"}),s.jsx(We,{type:"number",step:"0.01",value:b.metrics.avg_cpc||0,onChange:F=>N({...b,metrics:{...b.metrics,avg_cpc:parseFloat(F.target.value)||0}}),min:"0","data-testid":"input-google-avg-cpc"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Conversions"}),s.jsx(We,{type:"number",value:b.metrics.conversions||0,onChange:F=>N({...b,metrics:{...b.metrics,conversions:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-google-conversions"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Conversion Rate (%)"}),s.jsx(We,{type:"number",step:"0.01",value:b.metrics.conversion_rate||0,onChange:F=>N({...b,metrics:{...b.metrics,conversion_rate:parseFloat(F.target.value)||0}}),min:"0","data-testid":"input-google-conv-rate"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Quality Score (1-10)"}),s.jsx(We,{type:"number",value:b.metrics.quality_score||0,onChange:F=>N({...b,metrics:{...b.metrics,quality_score:parseInt(F.target.value)||0}}),min:"1",max:"10","data-testid":"input-google-quality-score"})]})]})]}),xe=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"SEO Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Organic Traffic"}),s.jsx(We,{type:"number",value:b.metrics.organic_traffic||0,onChange:F=>N({...b,metrics:{...b.metrics,organic_traffic:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-seo-organic-traffic"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Keywords Ranking"}),s.jsx(We,{type:"number",value:b.metrics.keywords_ranking||0,onChange:F=>N({...b,metrics:{...b.metrics,keywords_ranking:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-seo-keywords"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Top 10 Keywords"}),s.jsx(We,{type:"number",value:b.metrics.top_10_keywords||0,onChange:F=>N({...b,metrics:{...b.metrics,top_10_keywords:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-seo-top10"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Backlinks Acquired"}),s.jsx(We,{type:"number",value:b.metrics.backlinks_acquired||0,onChange:F=>N({...b,metrics:{...b.metrics,backlinks_acquired:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-seo-backlinks"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Domain Authority"}),s.jsx(We,{type:"number",value:b.metrics.domain_authority||0,onChange:F=>N({...b,metrics:{...b.metrics,domain_authority:parseInt(F.target.value)||0}}),min:"0",max:"100","data-testid":"input-seo-domain-auth"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Pages Indexed"}),s.jsx(We,{type:"number",value:b.metrics.pages_indexed||0,onChange:F=>N({...b,metrics:{...b.metrics,pages_indexed:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-seo-pages-indexed"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Avg. Session Duration (seconds)"}),s.jsx(We,{type:"number",value:b.metrics.avg_session_duration||0,onChange:F=>N({...b,metrics:{...b.metrics,avg_session_duration:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-seo-session-duration"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Bounce Rate (%)"}),s.jsx(We,{type:"number",step:"0.1",value:b.metrics.bounce_rate||0,onChange:F=>N({...b,metrics:{...b.metrics,bounce_rate:parseFloat(F.target.value)||0}}),min:"0",max:"100","data-testid":"input-seo-bounce-rate"})]})]})]}),D=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Social Media Management Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Posts Published"}),s.jsx(We,{type:"number",value:b.metrics.posts_published||0,onChange:F=>N({...b,metrics:{...b.metrics,posts_published:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-social-posts"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Total Reach"}),s.jsx(We,{type:"number",value:b.metrics.total_reach||0,onChange:F=>N({...b,metrics:{...b.metrics,total_reach:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-social-reach"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Total Impressions"}),s.jsx(We,{type:"number",value:b.metrics.total_impressions||0,onChange:F=>N({...b,metrics:{...b.metrics,total_impressions:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-social-impressions"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Engagement Rate (%)"}),s.jsx(We,{type:"number",step:"0.1",value:b.metrics.engagement_rate||0,onChange:F=>N({...b,metrics:{...b.metrics,engagement_rate:parseFloat(F.target.value)||0}}),min:"0","data-testid":"input-social-engagement"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"New Followers"}),s.jsx(We,{type:"number",value:b.metrics.new_followers||0,onChange:F=>N({...b,metrics:{...b.metrics,new_followers:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-social-followers"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Total Likes"}),s.jsx(We,{type:"number",value:b.metrics.total_likes||0,onChange:F=>N({...b,metrics:{...b.metrics,total_likes:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-social-likes"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Total Comments"}),s.jsx(We,{type:"number",value:b.metrics.total_comments||0,onChange:F=>N({...b,metrics:{...b.metrics,total_comments:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-social-comments"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Total Shares"}),s.jsx(We,{type:"number",value:b.metrics.total_shares||0,onChange:F=>N({...b,metrics:{...b.metrics,total_shares:parseInt(F.target.value)||0}}),min:"0","data-testid":"input-social-shares"})]})]})]}),M=()=>{if(!(i!=null&&i.service))return null;const F=i.service.slug;return F==="linkedin_outreach"?z():F==="email_outreach"?H():F==="meta_ads"||F==="facebook_ads"||F==="instagram_ads"?X():F==="google_ads"?pe():F==="seo"?xe():F==="social_media"||F==="social_media_management"?D():s.jsx(Le,{className:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",children:s.jsx(Fe,{className:"p-6",children:s.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:"Service-specific metrics form is not yet configured for this service. Please add metrics data in the work summary section above."})})})};if(o)return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-64 mb-2"}),s.jsx(ke,{className:"h-4 w-80"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(F=>s.jsx(ke,{className:"h-40"},F))})]});if(m)return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full mb-4",children:s.jsx(Sn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),s.jsx("h2",{className:"text-2xl font-semibold tracking-tight text-foreground mb-2",children:"Report Submitted"}),s.jsx("p",{className:"text-muted-foreground",children:"Your weekly report has been submitted successfully."})]})});if(!i){const F=r.reduce((W,te)=>{const Y=te.client_id;return W[Y]||(W[Y]={client:te.client,services:[]}),W[Y].services.push(te),W},{});return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Submit Weekly Report"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a client and service to submit your report"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[Object.values(F).map(W=>{var te,Y,oe;return s.jsxs(Le,{className:"hover-elevate","data-testid":`assignment-card-${(te=W.client)==null?void 0:te.id}`,children:[s.jsx(Rr,{children:s.jsx(Ir,{children:(Y=W.client)==null?void 0:Y.name})}),s.jsx(Fe,{children:s.jsx("div",{className:"space-y-2",children:W.services.map(we=>{var ve;return s.jsx(je,{variant:"secondary",className:"w-full justify-start",onClick:()=>a(we),"data-testid":`button-select-assignment-${we.id}`,children:(ve=we.service)==null?void 0:ve.name},we.id)})})})]},(oe=W.client)==null?void 0:oe.id)}),r.length===0&&s.jsx(Le,{className:"col-span-full",children:s.jsx(Fe,{className:"p-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No assignments yet. Contact your admin."})})})]})]})}return s.jsxs("div",{className:"max-w-6xl space-y-6",children:[s.jsxs(je,{variant:"ghost",onClick:()=>{a(null),ie()},"data-testid":"button-back-to-assignments",children:[s.jsx(_w,{className:"h-5 w-5 mr-2"}),"Back to assignments"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Le,{children:[s.jsxs(Rr,{children:[s.jsx(Ir,{className:"text-2xl",children:(T=i.client)==null?void 0:T.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(V=i.service)==null?void 0:V.name})]}),s.jsx(Fe,{children:s.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Week Start Date"}),s.jsx(We,{type:"date",value:b.week_start_date,onChange:F=>N({...b,week_start_date:F.target.value}),required:!0,"data-testid":"input-week-start-date"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Work Summary"}),s.jsx(Mi,{value:b.work_summary,onChange:F=>N({...b,work_summary:F.target.value}),rows:4,placeholder:"Describe what you worked on this week...",required:!0,"data-testid":"textarea-work-summary"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Status"}),s.jsxs(_t,{value:b.status,onValueChange:F=>N({...b,status:F}),children:[s.jsx(wt,{"data-testid":"select-status",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"on_track",children:"On Track"}),s.jsx(Ce,{value:"needs_attention",children:"Needs Attention"}),s.jsx(Ce,{value:"delayed",children:"Delayed"})]})]})]}),s.jsx("div",{className:"bg-muted rounded-md p-6",children:M()}),s.jsxs("div",{children:[s.jsx(be,{children:"Key Wins"}),s.jsx(Mi,{value:b.key_wins,onChange:F=>N({...b,key_wins:F.target.value}),rows:3,placeholder:"What went well this week?","data-testid":"textarea-key-wins"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Challenges / Blockers"}),s.jsx(Mi,{value:b.challenges,onChange:F=>N({...b,challenges:F.target.value}),rows:3,placeholder:"Any issues or blockers?","data-testid":"textarea-challenges"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Next Week Plan"}),s.jsx(Mi,{value:b.next_week_plan,onChange:F=>N({...b,next_week_plan:F.target.value}),rows:3,placeholder:"What are you planning for next week?","data-testid":"textarea-next-week-plan"})]}),w?s.jsx("div",{className:"border-t border-border pt-6",children:s.jsx(MZ,{reportId:w,canUpload:!0,canDelete:!0})}):s.jsx(Le,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:s.jsx(Fe,{className:"p-4",children:s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Save as draft first to attach files to this report."})})}),s.jsxs("div",{className:"flex justify-end gap-3 flex-wrap pt-4 border-t border-border",children:[s.jsxs(je,{type:"button",variant:"secondary",onClick:O,disabled:d,"data-testid":"button-save-draft",children:[d?s.jsx(Ya,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(pC,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Draft"]}),s.jsxs(je,{type:"submit",disabled:c,"data-testid":"button-submit-report",children:[c&&s.jsx(Ya,{className:"h-4 w-4 mr-2 animate-spin"}),c?"Submitting...":"Submit Report"]})]})]})})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Le,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:s.jsx(Fe,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(wi,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Auto-Save Enabled"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your progress is automatically saved every 30 seconds."})]})]})})}),v&&s.jsxs(Le,{"data-testid":"card-last-report",children:[s.jsx(Rr,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Zn,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx(Ir,{className:"text-base",children:"Last Report"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:cr(new Date(v.week_start_date),"MMM d, yyyy")})]})]})}),s.jsx(Fe,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Status: "}),s.jsx($t,{variant:v.status==="on_track"?"default":v.status==="needs_attention"?"secondary":"destructive",className:"text-xs",children:v.status})]}),v.work_summary&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Summary: "}),s.jsx("p",{className:"text-muted-foreground mt-1 line-clamp-3",children:v.work_summary})]})]})})]})]})]})]})}function X9e({daysUntilMeeting:e,urgencyLabel:t,meetingDay:r,meetingTime:n,size:i="md",showIcon:a=!0}){const l=(d=>d===0?{bgColor:"bg-red-100 border-red-300",textColor:"text-red-800",iconColor:"text-red-600",icon:Xn,emoji:""}:d===1?{bgColor:"bg-orange-100 border-orange-300",textColor:"text-orange-800",iconColor:"text-orange-600",icon:wi,emoji:""}:d<=3?{bgColor:"bg-yellow-100 border-yellow-300",textColor:"text-yellow-800",iconColor:"text-yellow-600",icon:ea,emoji:""}:{bgColor:"bg-gray-100 border-gray-300",textColor:"text-gray-600",iconColor:"text-gray-500",icon:ea,emoji:""})(e),c=l.icon,u={sm:{badge:"px-2 py-0.5 text-xs",icon:"h-3 w-3"},md:{badge:"px-3 py-1 text-sm",icon:"h-4 w-4"},lg:{badge:"px-4 py-2 text-base",icon:"h-5 w-5"}};return e>=999?null:s.jsxs("div",{className:`inline-flex items-center gap-1.5 ${l.bgColor} ${l.textColor} ${u[i].badge} rounded-full border font-medium`,children:[a&&s.jsx(c,{className:`${u[i].icon} ${l.iconColor}`}),s.jsx("span",{children:t}),e<=1&&s.jsx("span",{className:"font-bold",children:l.emoji})]})}function J9e(){const{user:e}=Fi(),[t,r]=p.useState([]),[n,i]=p.useState(!0);p.useEffect(()=>{e&&a()},[e]);const a=async()=>{try{const{data:l,error:c}=await ge.from("client_assignments").select("client_id").eq("employee_id",e.id);if(c)throw c;const u=(l==null?void 0:l.map(v=>v.client_id))||[];if(u.length===0){i(!1);return}const{data:d,error:f}=await ge.from("clients").select("id, name, weekly_meeting_day, meeting_time").in("id",u).not("weekly_meeting_day","is",null);if(f)throw f;const h=(await Promise.all((d||[]).map(async v=>{const{count:g}=await ge.from("tasks").select("*",{count:"exact",head:!0}).eq("client_id",v.id).eq("assigned_to",e.id).neq("status","completed"),x=new Date().getDay();let y=0;return v.weekly_meeting_day>=x?y=v.weekly_meeting_day-x:y=7-x+v.weekly_meeting_day,{id:v.id,name:v.name,weekly_meeting_day:v.weekly_meeting_day,meeting_time:v.meeting_time,days_until_meeting:y,pending_tasks:g||0}}))).filter(v=>v.days_until_meeting<=3).sort((v,g)=>v.days_until_meeting-g.days_until_meeting);r(h)}catch(l){console.error("Error loading meetings:",l)}finally{i(!1)}},o=l=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l];return n||t.length===0?null:s.jsx("div",{className:"mb-6",children:s.jsxs(Le,{"data-testid":"card-upcoming-meetings",children:[s.jsx(Rr,{children:s.jsxs("div",{className:"flex items-start gap-3 flex-wrap",children:[s.jsx(Xn,{className:"h-6 w-6 text-destructive flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx(Ir,{className:"text-lg",children:"Priority Alert: Upcoming Meetings"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Focus on these clients with meetings in the next few days"})]})]})}),s.jsx(Fe,{className:"space-y-3",children:t.map(l=>s.jsx(Le,{"data-testid":`card-meeting-${l.id}`,children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-1","data-testid":`text-meeting-client-${l.id}`,children:l.name}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-foreground",children:[s.jsx(ea,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:l.days_until_meeting===0?"Meeting Today":l.days_until_meeting===1?"Meeting Tomorrow":`Meeting ${o(l.weekly_meeting_day)}`})]}),s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(wi,{className:"h-4 w-4"}),s.jsx("span",{children:l.meeting_time})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":`text-pending-tasks-${l.id}`,children:l.pending_tasks}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"pending tasks"})]})]})})},l.id))})]})})}function Z9e(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:m,children:h,...v}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:x,children:h})};u.displayName=a+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Q9e(i,...t)]}function Q9e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function eBe(e){const t=tBe(e),r=p.forwardRef((n,i)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(nBe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function tBe(e){const t=p.forwardRef((r,n)=>{const{children:i,...a}=r;if(p.isValidElement(i)){const o=aBe(i),l=iBe(a,i.props);return i.type!==p.Fragment&&(l.ref=n?Mn(n,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rBe=Symbol("radix.slottable");function nBe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rBe}function iBe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function aBe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sBe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bj=sBe.reduce((e,t)=>{const r=eBe(`Primitive.${t}`),n=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),_j="Tabs",[oBe]=Z9e(_j,[H2]),JZ=H2(),[lBe,YP]=oBe(_j),ZZ=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Gv(l),[f,m]=xl({prop:n,onChange:i,defaultProp:a??"",caller:_j});return s.jsx(lBe,{scope:r,baseId:jo(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:s.jsx(bj.div,{dir:d,"data-orientation":o,...u,ref:t})})});ZZ.displayName=_j;var QZ="TabsList",eQ=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=YP(QZ,r),o=JZ(r);return s.jsx(wz,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(bj.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});eQ.displayName=QZ;var tQ="TabsTrigger",rQ=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=YP(tQ,r),l=JZ(r),c=aQ(o.baseId,n),u=sQ(o.baseId,n),d=n===o.value;return s.jsx(bz,{asChild:!0,...l,focusable:!i,active:d,children:s.jsx(bj.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:ut(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ut(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ut(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});rQ.displayName=tQ;var nQ="TabsContent",iQ=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,l=YP(nQ,r),c=aQ(l.baseId,n),u=sQ(l.baseId,n),d=n===l.value,f=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(ra,{present:i||d,children:({present:m})=>s.jsx(bj.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});iQ.displayName=nQ;function aQ(e,t){return`${e}-trigger-${t}`}function sQ(e,t){return`${e}-content-${t}`}var cBe=ZZ,oQ=eQ,lQ=rQ,cQ=iQ;const uBe=cBe,uQ=p.forwardRef(({className:e,...t},r)=>s.jsx(oQ,{ref:r,className:ot("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));uQ.displayName=oQ.displayName;const cE=p.forwardRef(({className:e,...t},r)=>s.jsx(lQ,{ref:r,className:ot("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));cE.displayName=lQ.displayName;const uE=p.forwardRef(({className:e,...t},r)=>s.jsx(cQ,{ref:r,className:ot("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));uE.displayName=cQ.displayName;function dBe(e){switch(e){case"linkedin_outreach":return{connection_requests_sent:0,accepted:0,replies:0,messages_sent:0,meetings_booked:0};case"email_outreach":return{emails_sent:0,emails_opened:0,replies:0,positive_replies:0,meetings_booked:0};case"meta_ads":case"facebook_ads":case"instagram_ads":return{ad_spend:0,impressions:0,clicks:0,ctr:0,conversions:0,cost_per_conversion:0,leads:0};case"google_ads":return{ad_spend:0,impressions:0,clicks:0,ctr:0,cpc:0,conversions:0,conversion_rate:0,quality_score:0};case"seo":return{organic_traffic:0,keywords_ranking:0,top_10_keywords:0,backlinks_acquired:0,pages_optimized:0,domain_authority:0};case"social_media":case"social_media_management":return{posts_published:0,total_reach:0,total_impressions:0,engagement_rate:0,new_followers:0,likes:0,comments:0,shares:0};default:return{}}}function fBe(e){switch(e){case"linkedin_outreach":return"bg-blue-50 dark:bg-blue-950/40 text-blue-700 dark:text-blue-300";case"email_outreach":return"bg-emerald-50 dark:bg-emerald-950/40 text-emerald-700 dark:text-emerald-300";case"meta_ads":case"facebook_ads":case"instagram_ads":return"bg-indigo-50 dark:bg-indigo-950/40 text-indigo-700 dark:text-indigo-300";case"google_ads":return"bg-amber-50 dark:bg-amber-950/40 text-amber-700 dark:text-amber-300";case"seo":return"bg-purple-50 dark:bg-purple-950/40 text-purple-700 dark:text-purple-300";case"social_media":case"social_media_management":return"bg-pink-50 dark:bg-pink-950/40 text-pink-700 dark:text-pink-300";default:return"bg-muted text-muted-foreground"}}function hBe(e){switch(e){case"linkedin_outreach":return"bg-blue-100 dark:bg-blue-900/50";case"email_outreach":return"bg-emerald-100 dark:bg-emerald-900/50";case"meta_ads":case"facebook_ads":case"instagram_ads":return"bg-indigo-100 dark:bg-indigo-900/50";case"google_ads":return"bg-amber-100 dark:bg-amber-900/50";case"seo":return"bg-purple-100 dark:bg-purple-900/50";case"social_media":case"social_media_management":return"bg-pink-100 dark:bg-pink-900/50";default:return"bg-muted"}}function mBe(e){switch(e){case"linkedin_outreach":return[{key:"connection_requests_sent",label:"Connection Requests Sent",type:"number"},{key:"accepted",label:"Connections Accepted",type:"number"},{key:"messages_sent",label:"Messages Sent",type:"number"},{key:"replies",label:"Replies Received",type:"number"},{key:"meetings_booked",label:"Meetings Booked",type:"number"}];case"email_outreach":return[{key:"emails_sent",label:"Emails Sent",type:"number"},{key:"emails_opened",label:"Emails Opened",type:"number"},{key:"replies",label:"Replies Received",type:"number"},{key:"positive_replies",label:"Positive Replies",type:"number"},{key:"meetings_booked",label:"Meetings Booked",type:"number"}];case"meta_ads":case"facebook_ads":case"instagram_ads":return[{key:"ad_spend",label:"Ad Spend ($)",type:"decimal",step:"0.01"},{key:"impressions",label:"Impressions",type:"number"},{key:"clicks",label:"Clicks",type:"number"},{key:"ctr",label:"CTR (%)",type:"decimal",step:"0.01"},{key:"conversions",label:"Conversions",type:"number"},{key:"cost_per_conversion",label:"Cost per Conversion ($)",type:"decimal",step:"0.01"},{key:"leads",label:"Leads Generated",type:"number"}];case"google_ads":return[{key:"ad_spend",label:"Ad Spend ($)",type:"decimal",step:"0.01"},{key:"impressions",label:"Impressions",type:"number"},{key:"clicks",label:"Clicks",type:"number"},{key:"ctr",label:"CTR (%)",type:"decimal",step:"0.01"},{key:"cpc",label:"CPC ($)",type:"decimal",step:"0.01"},{key:"conversions",label:"Conversions",type:"number"},{key:"conversion_rate",label:"Conversion Rate (%)",type:"decimal",step:"0.01"},{key:"quality_score",label:"Quality Score",type:"decimal",step:"0.1"}];case"seo":return[{key:"organic_traffic",label:"Organic Traffic",type:"number"},{key:"keywords_ranking",label:"Keywords Ranking",type:"number"},{key:"top_10_keywords",label:"Top 10 Keywords",type:"number"},{key:"backlinks_acquired",label:"Backlinks Acquired",type:"number"},{key:"pages_optimized",label:"Pages Optimized",type:"number"},{key:"domain_authority",label:"Domain Authority",type:"decimal",step:"0.1"}];case"social_media":case"social_media_management":return[{key:"posts_published",label:"Posts Published",type:"number"},{key:"total_reach",label:"Total Reach",type:"number"},{key:"total_impressions",label:"Total Impressions",type:"number"},{key:"engagement_rate",label:"Engagement Rate (%)",type:"decimal",step:"0.01"},{key:"new_followers",label:"New Followers",type:"number"},{key:"likes",label:"Total Likes",type:"number"},{key:"comments",label:"Comments",type:"number"},{key:"shares",label:"Shares",type:"number"}];default:return[]}}function pBe(){const{user:e}=Fi(),{showToast:t}=Cr(),[r,n]=p.useState("tasks"),[i,a]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState("all"),[d,f]=p.useState(new Set),[m,h]=p.useState(null),[v,g]=p.useState(""),[x,y]=p.useState(!1),[w,_]=p.useState([]),[b,N]=p.useState([]),[C,S]=p.useState({title:"",description:"",assigned_to:"",client_id:"",priority:"medium",due_date:""}),[A,k]=p.useState(!1),[R,O]=p.useState(cr(new Date,"yyyy-MM-dd")),[L,U]=p.useState([]),[q,Q]=p.useState({}),[ie,z]=p.useState({}),[H,X]=p.useState({}),[pe,xe]=p.useState(!0),[D,M]=p.useState(new Set),[T,V]=p.useState(new Set),F=async()=>{try{const{data:ye,error:Ve}=await ge.rpc("get_prioritized_tasks_for_employee",{p_employee_id:e.id});if(Ve)throw Ve;const tt=ye||[],Qt=[...new Set(tt.filter(Dt=>Dt.created_by&&Dt.created_by!==Dt.assigned_to).map(Dt=>Dt.created_by))];if(Qt.length>0){const{data:Dt}=await ge.from("profiles").select("id, full_name").in("id",Qt),Vt={};(Dt||[]).forEach(Bt=>{Vt[Bt.id]=Bt.full_name}),tt.forEach(Bt=>{Bt.created_by&&Vt[Bt.created_by]&&(Bt.creator_profile={full_name:Vt[Bt.created_by]})})}a(tt)}catch(ye){t("error",ye.message)}finally{l(!1)}},W=p.useCallback(async()=>{if(e){xe(!0);try{const{data:ye,error:Ve}=await ge.from("client_assignments").select("id, client_id, employee_id, service_id, clients(id, name), services(id, name, slug)").eq("employee_id",e.id);if(Ve)throw Ve;U(ye||[]);const tt=(ye||[]).map(Qt=>Qt.id);if(tt.length>0){const{data:Qt,error:Dt}=await ge.from("daily_task_logs").select("*").in("assignment_id",tt).eq("log_date",R);if(Dt)throw Dt;const Vt={},Bt={},Ar={};(Qt||[]).forEach(yt=>{Vt[yt.assignment_id]=yt,Bt[yt.assignment_id]=yt.metrics||{},Ar[yt.assignment_id]=yt.notes||""}),(ye||[]).forEach(yt=>{var wr;Bt[yt.id]||(Bt[yt.id]=dBe(((wr=yt.services)==null?void 0:wr.slug)||"")),Ar[yt.id]===void 0&&(Ar[yt.id]="")}),Q(Vt),z(Bt),X(Ar)}else Q({}),z({}),X({})}catch(ye){t("error",ye.message||"Failed to load submissions")}finally{xe(!1)}}},[e,R]),te=async()=>{const[ye,Ve]=await Promise.all([ge.from("profiles").select("id, full_name, email").eq("role","employee").eq("status","active").order("full_name"),ge.from("clients").select("id, name").eq("status","active").order("name")]);_(ye.data||[]),N(Ve.data||[])};p.useEffect(()=>{e&&(F(),te())},[e]),p.useEffect(()=>{W()},[W]);const Y=async ye=>{try{const Ve=ye.status==="completed"?"pending":"completed",{error:tt}=await ge.from("tasks").update({status:Ve,completed_at:Ve==="completed"?new Date().toISOString():null}).eq("id",ye.id);if(tt)throw tt;t("success",Ve==="completed"?"Task marked as completed":"Task marked as pending"),F()}catch(Ve){t("error",Ve.message)}},oe=async ye=>{try{const{error:Ve}=await ge.from("tasks").update({remarks:v}).eq("id",ye);if(Ve)throw Ve;t("success","Remarks saved"),h(null),g(""),F()}catch(Ve){t("error",Ve.message)}},we=async ye=>{if(ye.preventDefault(),!C.title||!C.assigned_to||!C.due_date){t("error","Please fill in the task title, assign to, and due date");return}k(!0);try{const{error:Ve}=await ge.from("tasks").insert({title:C.title,description:C.description||null,assigned_to:C.assigned_to,created_by:e.id,client_id:C.client_id||null,priority:C.priority,due_date:C.due_date});if(Ve)throw Ve;t("success","Task request sent successfully"),y(!1),S({title:"",description:"",assigned_to:"",client_id:"",priority:"medium",due_date:""}),F()}catch(Ve){t("error",Ve.message||"Failed to raise task")}finally{k(!1)}},ve=ye=>ye.status==="pending"&&dz(Wl(ye.due_date))&&!Pm(Wl(ye.due_date)),He=ye=>{const Ve=new Set(d);Ve.has(ye)?Ve.delete(ye):Ve.add(ye),f(Ve)},ze=ye=>{h(ye.id),g(ye.remarks||"")},ne=ye=>{switch(ye){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},Be=i.filter(ye=>c==="today"?Pm(Wl(ye.due_date)):c==="overdue"?ve(ye):!0),qe=i.filter(ye=>ye.status==="pending"),rt=i.filter(ye=>ye.status==="completed"),Pe=i.filter(ve),ct=i.filter(ye=>Pm(Wl(ye.due_date))),at=(ye,Ve,tt)=>{z(Qt=>({...Qt,[ye]:{...Qt[ye],[Ve]:tt}}))},Rt=(ye,Ve)=>{X(tt=>({...tt,[ye]:Ve}))},It=async ye=>{M(Ve=>new Set(Ve).add(ye.id));try{const Ve=q[ye.id],tt={assignment_id:ye.id,employee_id:e.id,client_id:ye.client_id,service_id:ye.service_id,log_date:R,metrics:ie[ye.id]||{},notes:H[ye.id]||null,status:"pending"},Qt=ge.from("daily_task_logs");if(Ve){const{error:Dt}=await Qt.update({metrics:tt.metrics,notes:tt.notes,updated_at:new Date().toISOString()}).eq("id",Ve.id);if(Dt)throw Dt}else{const{error:Dt}=await Qt.insert(tt);if(Dt)throw Dt}t("success","Draft saved"),await W()}catch(Ve){t("error",Ve.message||"Failed to save draft")}finally{M(Ve=>{const tt=new Set(Ve);return tt.delete(ye.id),tt})}},Zt=async ye=>{V(Ve=>new Set(Ve).add(ye.id));try{const Ve=q[ye.id],tt={assignment_id:ye.id,employee_id:e.id,client_id:ye.client_id,service_id:ye.service_id,log_date:R,metrics:ie[ye.id]||{},notes:H[ye.id]||null,status:"submitted",submitted_at:new Date().toISOString()},Qt=ge.from("daily_task_logs");if(Ve){const{error:Dt}=await Qt.update({metrics:tt.metrics,notes:tt.notes,status:"submitted",submitted_at:tt.submitted_at,updated_at:new Date().toISOString()}).eq("id",Ve.id);if(Dt)throw Dt}else{const{error:Dt}=await Qt.insert(tt);if(Dt)throw Dt}t("success","Submission completed"),await W()}catch(Ve){t("error",Ve.message||"Failed to submit")}finally{V(Ve=>{const tt=new Set(Ve);return tt.delete(ye.id),tt})}},or=ye=>{const Ve=new Date(R);Ve.setDate(Ve.getDate()+ye),O(cr(Ve,"yyyy-MM-dd"))},Yt=L.filter(ye=>{var Ve;return((Ve=q[ye.id])==null?void 0:Ve.status)==="submitted"}).length,dr=L.filter(ye=>{var Ve;return((Ve=q[ye.id])==null?void 0:Ve.status)==="pending"}).length,rr=L.length-Yt-dr;return o&&pe?s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-48 mb-2"}),s.jsx(ke,{className:"h-4 w-72"})]}),s.jsx(ke,{className:"h-12 w-80"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(ye=>s.jsx(ke,{className:"h-28"},ye))}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(ye=>s.jsx(ke,{className:"h-32"},ye))})]}):s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-my-tasks-title",children:"My Tasks"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your tasks, raise requests, and log daily submissions"})]}),s.jsxs(je,{onClick:()=>y(!0),"data-testid":"button-raise-task",children:[s.jsx(on,{className:"h-4 w-4 mr-1.5"}),"Raise Task Request"]})]}),s.jsxs(uBe,{value:r,onValueChange:n,className:"w-full",children:[s.jsxs(uQ,{"data-testid":"tabs-my-tasks",children:[s.jsxs(cE,{value:"tasks","data-testid":"tab-tasks",children:[s.jsx(Hl,{className:"h-4 w-4 mr-1.5"}),"Assigned Tasks",qe.length>0&&s.jsx($t,{variant:"secondary",className:"ml-2 text-xs",children:qe.length})]}),s.jsxs(cE,{value:"submissions","data-testid":"tab-submissions",children:[s.jsx(nv,{className:"h-4 w-4 mr-1.5"}),"Daily Submissions",rr>0&&s.jsx($t,{variant:"secondary",className:"ml-2 text-xs",children:rr})]})]}),s.jsxs(uE,{value:"tasks",className:"space-y-6 mt-6",children:[s.jsx(J9e,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Le,{"data-testid":"stat-card-total",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Total Tasks"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-total-tasks",children:i.length})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:s.jsx(ea,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-card-pending",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Pending"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-pending-tasks",children:qe.length})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:s.jsx(rv,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-card-overdue",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Overdue"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-overdue-tasks",children:Pe.length})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-red-50 dark:bg-red-950/40",children:s.jsx(Us,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-card-completed",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Completed"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-completed-tasks",children:rt.length})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-green-50 dark:bg-green-950/40",children:s.jsx(Hl,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(x9,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filter:"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(je,{variant:c==="all"?"default":"secondary",size:"sm",onClick:()=>u("all"),"data-testid":"filter-all",children:["All Tasks (",i.length,")"]}),s.jsxs(je,{variant:c==="today"?"default":"secondary",size:"sm",onClick:()=>u("today"),"data-testid":"filter-today",children:["Today (",ct.length,")"]}),s.jsxs(je,{variant:c==="overdue"?"destructive":"secondary",size:"sm",onClick:()=>u("overdue"),"data-testid":"filter-overdue",children:["Overdue (",Pe.length,")"]})]})]})})}),Be.length===0?s.jsx(Le,{children:s.jsxs(Fe,{className:"p-12 text-center",children:[s.jsx(Hl,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-foreground text-lg",children:"No tasks found"}),s.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:c==="all"?"You don't have any tasks assigned yet":`No ${c} tasks`})]})}):s.jsx("div",{className:"space-y-3",children:Be.map(ye=>{var Vt;const Ve=ve(ye),tt=Pm(Wl(ye.due_date)),Qt=d.has(ye.id),Dt=ye.created_by&&ye.created_by!==ye.assigned_to;return s.jsx(Le,{"data-testid":`task-card-${ye.id}`,className:`border-2 ${Ve&&ye.status==="pending"?"border-destructive/50 bg-destructive/5":ye.status==="completed"?"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 opacity-75":tt?"border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20":"border-border"}`,children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(je,{variant:"ghost",size:"icon",onClick:()=>Y(ye),className:`mt-1 flex-shrink-0 ${ye.status==="completed"?"text-green-600 dark:text-green-400":"text-muted-foreground"}`,"data-testid":`button-toggle-task-${ye.id}`,children:ye.status==="completed"?s.jsx(Hl,{className:"h-7 w-7"}):s.jsx(rv,{className:"h-7 w-7"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`text-lg font-semibold mb-2 ${ye.status==="completed"?"text-muted-foreground line-through":"text-foreground"}`,children:ye.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx($t,{variant:ne(ye.priority),className:"text-xs",children:ye.priority.toUpperCase()}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(ea,{className:"h-4 w-4"}),s.jsxs("span",{className:Ve&&ye.status==="pending"?"text-destructive font-semibold":"",children:[cr(Wl(ye.due_date),"MMM d, yyyy"),tt&&" (Today)",Ve&&ye.status==="pending"&&" - OVERDUE"]})]}),(ye.clients||ye.client_name)&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(fs,{className:"h-4 w-4"}),s.jsx("span",{children:((Vt=ye.clients)==null?void 0:Vt.name)||ye.client_name})]}),Dt&&ye.creator_profile&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(_6,{className:"h-4 w-4"}),s.jsxs("span",{children:["From: ",ye.creator_profile.full_name]})]}),ye.meeting_urgency_label&&ye.days_until_meeting!==void 0&&s.jsx(X9e,{daysUntilMeeting:ye.days_until_meeting,urgencyLabel:ye.meeting_urgency_label,size:"sm"}),ye.status==="completed"&&ye.completed_at&&s.jsxs("span",{className:"text-xs text-green-700 dark:text-green-400 font-medium",children:["Completed ",cr(Wl(ye.completed_at),"MMM d, h:mm a")]})]})]}),Ve&&ye.status==="pending"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs($t,{variant:"destructive",className:"text-xs font-bold",children:[s.jsx(Us,{className:"h-3 w-3 mr-1"}),"OVERDUE"]})})]}),ye.description&&s.jsx("p",{className:"text-muted-foreground mb-3 text-sm",children:ye.description}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx(je,{variant:"link",size:"sm",className:"p-0 h-auto",onClick:()=>He(ye.id),"data-testid":`button-toggle-details-${ye.id}`,children:Qt?s.jsxs(s.Fragment,{children:[s.jsx(Cf,{className:"h-4 w-4 mr-1"})," Hide Details"]}):s.jsxs(s.Fragment,{children:[s.jsx(ad,{className:"h-4 w-4 mr-1"})," Show Details"]})}),ye.status==="pending"&&s.jsxs(je,{variant:"link",size:"sm",className:"p-0 h-auto text-muted-foreground",onClick:()=>ze(ye),"data-testid":`button-edit-remarks-${ye.id}`,children:[s.jsx(_o,{className:"h-4 w-4 mr-1"}),ye.remarks?"Edit Remarks":"Add Remarks"]})]}),Qt&&s.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:s.jsxs("div",{className:"bg-muted rounded-md p-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-foreground mb-2 flex items-center gap-2",children:[s.jsx(_o,{className:"h-4 w-4"}),"Task Remarks"]}),m===ye.id?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Mi,{value:v,onChange:Bt=>g(Bt.target.value),placeholder:"Add your remarks about this task...",rows:4,"data-testid":`textarea-remarks-${ye.id}`}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(je,{size:"sm",onClick:()=>oe(ye.id),"data-testid":`button-save-remarks-${ye.id}`,children:"Save Remarks"}),s.jsx(je,{size:"sm",variant:"secondary",onClick:()=>{h(null),g("")},"data-testid":`button-cancel-remarks-${ye.id}`,children:"Cancel"})]})]}):s.jsx("div",{children:ye.remarks?s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:ye.remarks}):s.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No remarks added yet"})})]})})]})]})})},ye.id)})})]}),s.jsxs(uE,{value:"submissions",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 flex-1",children:[s.jsx(Le,{"data-testid":"stat-card-submitted",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Submitted"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-submitted",children:Yt})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-green-50 dark:bg-green-950/40",children:s.jsx(Hl,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-card-drafts",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Drafts"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-drafts",children:dr})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:s.jsx(Zn,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-card-not-started",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Not Started"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-not-started",children:rr})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-muted",children:s.jsx(wi,{className:"h-5 w-5 text-muted-foreground"})})]})})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{variant:"outline",size:"icon",onClick:()=>or(-1),"data-testid":"button-prev-date",children:s.jsx(fC,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-muted text-sm font-medium text-foreground min-w-[140px] justify-center",children:[s.jsx(wi,{className:"h-4 w-4 text-muted-foreground"}),cr(new Date(R+"T00:00:00"),"EEE, MMM d, yyyy")]}),s.jsx(je,{variant:"outline",size:"icon",onClick:()=>or(1),"data-testid":"button-next-date",children:s.jsx(Ap,{className:"h-4 w-4"})})]})]}),pe?s.jsx("div",{className:"space-y-4",children:[1,2].map(ye=>s.jsx(ke,{className:"h-64"},ye))}):L.length===0?s.jsx(Le,{children:s.jsxs(Fe,{className:"p-12 text-center",children:[s.jsx(nv,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-foreground text-lg font-medium",children:"No assignments found"}),s.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"You don't have any client-service assignments yet. Contact your admin to get started."})]})}):s.jsx("div",{className:"space-y-4",children:L.map(ye=>{var Gt,er,zr;const Ve=((Gt=ye.services)==null?void 0:Gt.slug)||"",tt=q[ye.id],Qt=(tt==null?void 0:tt.status)==="submitted",Dt=(tt==null?void 0:tt.status)==="pending",Vt=mBe(Ve),Bt=ie[ye.id]||{},Ar=H[ye.id]||"",yt=D.has(ye.id),wr=T.has(ye.id);return s.jsxs(Le,{"data-testid":`card-assignment-${ye.id}`,children:[s.jsx(Rr,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`rounded-lg p-2.5 ${hBe(Ve)}`,children:s.jsx(gs,{className:"h-5 w-5 text-foreground"})}),s.jsxs("div",{children:[s.jsx(Ir,{className:"text-base",children:((er=ye.services)==null?void 0:er.name)||"Unknown Service"}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[s.jsx(fs,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:((zr=ye.clients)==null?void 0:zr.name)||"Unknown Client"})]})]})]}),Qt?s.jsxs($t,{variant:"default",className:"bg-green-600 dark:bg-green-700",children:[s.jsx(Hl,{className:"h-3 w-3 mr-1"})," Submitted"]}):Dt?s.jsxs($t,{variant:"secondary",children:[s.jsx(Zn,{className:"h-3 w-3 mr-1"})," Draft"]}):s.jsxs($t,{variant:"outline",children:[s.jsx(wi,{className:"h-3 w-3 mr-1"})," Not Started"]})]})}),s.jsx(Fe,{className:"pt-0",children:Vt.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:`rounded-lg p-4 ${fBe(Ve)}`,children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:Vt.map(Xt=>s.jsxs("div",{children:[s.jsx(be,{className:"text-xs font-medium mb-1 block",children:Xt.label}),s.jsx(We,{type:"number",step:Xt.step||"1",min:"0",value:Bt[Xt.key]??0,onChange:Ht=>{const Sr=Xt.type==="decimal"?parseFloat(Ht.target.value)||0:parseInt(Ht.target.value)||0;at(ye.id,Xt.key,Sr)},disabled:Qt,className:"bg-background","data-testid":`input-${Ve}-${Xt.key}-${ye.id}`})]},Xt.key))})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm font-medium mb-1.5 block",children:"Notes"}),s.jsx(Mi,{placeholder:"Add any notes about today's work...",value:Ar,onChange:Xt=>Rt(ye.id,Xt.target.value),disabled:Qt,rows:2,"data-testid":`textarea-notes-${ye.id}`})]}),!Qt&&s.jsxs("div",{className:"flex items-center gap-2 justify-end flex-wrap",children:[s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>It(ye),disabled:yt||wr,"data-testid":`button-save-draft-${ye.id}`,children:[yt?s.jsx(Ya,{className:"h-4 w-4 mr-1.5 animate-spin"}):s.jsx(pC,{className:"h-4 w-4 mr-1.5"}),"Save Draft"]}),s.jsxs(je,{size:"sm",onClick:()=>Zt(ye),disabled:yt||wr,"data-testid":`button-submit-${ye.id}`,children:[wr?s.jsx(Ya,{className:"h-4 w-4 mr-1.5 animate-spin"}):s.jsx(_9,{className:"h-4 w-4 mr-1.5"}),"Submit"]})]}),Qt&&(tt==null?void 0:tt.submitted_at)&&s.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:["Submitted at ",cr(new Date(tt.submitted_at),"h:mm a")]})]}):s.jsx("div",{className:"p-6 text-center text-muted-foreground",children:s.jsx("p",{className:"text-sm",children:"No metric fields configured for this service type."})})})]},ye.id)})})]})]}),s.jsx(Zr,{open:x,onOpenChange:y,children:s.jsxs(Ur,{className:"sm:max-w-[500px]",children:[s.jsx(Qr,{children:s.jsx(tn,{children:"Raise Task Request"})}),s.jsxs("form",{onSubmit:we,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-sm font-medium mb-1.5 block",children:"Task Title *"}),s.jsx(We,{value:C.title,onChange:ye=>S(Ve=>({...Ve,title:ye.target.value})),placeholder:"Enter task title","data-testid":"input-raise-task-title"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm font-medium mb-1.5 block",children:"Description"}),s.jsx(Mi,{value:C.description,onChange:ye=>S(Ve=>({...Ve,description:ye.target.value})),placeholder:"Describe the task...",rows:3,"data-testid":"input-raise-task-description"})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm font-medium mb-1.5 block",children:"Assign To *"}),s.jsxs(_t,{value:C.assigned_to,onValueChange:ye=>S(Ve=>({...Ve,assigned_to:ye})),children:[s.jsx(wt,{"data-testid":"select-raise-task-assignee",children:s.jsx(jt,{placeholder:"Select an employee"})}),s.jsx(bt,{children:w.filter(ye=>ye.id!==(e==null?void 0:e.id)).map(ye=>s.jsx(Ce,{value:ye.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($d,{className:"h-4 w-4 text-muted-foreground"}),ye.full_name]})},ye.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-sm font-medium mb-1.5 block",children:"Priority"}),s.jsxs(_t,{value:C.priority,onValueChange:ye=>S(Ve=>({...Ve,priority:ye})),children:[s.jsx(wt,{"data-testid":"select-raise-task-priority",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"low",children:"Low"}),s.jsx(Ce,{value:"medium",children:"Medium"}),s.jsx(Ce,{value:"high",children:"High"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm font-medium mb-1.5 block",children:"Due Date *"}),s.jsx(We,{type:"date",value:C.due_date,onChange:ye=>S(Ve=>({...Ve,due_date:ye.target.value})),"data-testid":"input-raise-task-due-date"})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm font-medium mb-1.5 block",children:"Client (Optional)"}),s.jsxs(_t,{value:C.client_id,onValueChange:ye=>S(Ve=>({...Ve,client_id:ye})),children:[s.jsx(wt,{"data-testid":"select-raise-task-client",children:s.jsx(jt,{placeholder:"Select a client (optional)"})}),s.jsx(bt,{children:b.map(ye=>s.jsx(Ce,{value:ye.id,children:ye.name},ye.id))})]})]}),s.jsxs(en,{children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>y(!1),"data-testid":"button-cancel-raise-task",children:"Cancel"}),s.jsxs(je,{type:"submit",disabled:A,"data-testid":"button-submit-raise-task",children:[A?s.jsx(Ya,{className:"h-4 w-4 mr-1.5 animate-spin"}):s.jsx(_6,{className:"h-4 w-4 mr-1.5"}),"Send Task"]})]})]})]})})]})}function gBe(e){switch(e){case"linkedin_outreach":return"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800";case"email_outreach":return"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 border-emerald-200 dark:border-emerald-800";case"meta_ads":return"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 border-indigo-200 dark:border-indigo-800";case"google_ads":return"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300 border-amber-200 dark:border-amber-800";case"seo":return"bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-800";case"social_media":return"bg-pink-100 dark:bg-pink-900/50 text-pink-700 dark:text-pink-300 border-pink-200 dark:border-pink-800";default:return""}}function vBe(e){return e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()).replace("Ctr","CTR").replace("Cpc","CPC").replace("Cpl","CPL")}function xBe(e,t){return typeof t!="number"?String(t):e.includes("spend")||e.includes("cost")||e.includes("cpc")||e.includes("cpl")?`$${t.toFixed(2)}`:e.includes("rate")||e==="ctr"||e.includes("percent")?`${t.toFixed(1)}%`:t.toLocaleString()}function yBe(){const{showToast:e}=Cr(),[t,r]=p.useState(cr(new Date,"yyyy-MM-dd")),[n,i]=p.useState([]),[a,o]=p.useState(!0),[l,c]=p.useState(""),[u,d]=p.useState("all"),[f,m]=p.useState(null),h=p.useCallback(async()=>{o(!0);try{const{data:w,error:_}=await ge.from("daily_task_logs").select("*, profiles!daily_task_logs_employee_id_fkey(full_name, email), clients(name), services(name, slug)").eq("log_date",t).order("submitted_at",{ascending:!1,nullsFirst:!1});if(_)throw _;i(w||[])}catch(w){e("error",w.message||"Failed to load submissions")}finally{o(!1)}},[t]);p.useEffect(()=>{h()},[h]);const v=w=>{const _=new Date(t);_.setDate(_.getDate()+w),r(cr(_,"yyyy-MM-dd"))},g=n.filter(w=>{var _,b,N,C,S,A;if(u!=="all"&&w.status!==u)return!1;if(l){const k=l.toLowerCase();return((b=(_=w.profiles)==null?void 0:_.full_name)==null?void 0:b.toLowerCase().includes(k))||((C=(N=w.clients)==null?void 0:N.name)==null?void 0:C.toLowerCase().includes(k))||((A=(S=w.services)==null?void 0:S.name)==null?void 0:A.toLowerCase().includes(k))}return!0}),x=n.filter(w=>w.status==="submitted").length,y=n.filter(w=>w.status==="pending").length;return a?s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"h-8 w-56 mb-2"}),s.jsx(ke,{className:"h-4 w-80"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(w=>s.jsx(ke,{className:"h-28"},w))}),s.jsx(ke,{className:"h-12"}),[1,2,3].map(w=>s.jsx(ke,{className:"h-20"},w))]}):s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-admin-daily-title",children:"Daily Submissions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review employee daily task submissions and metrics"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{variant:"outline",size:"icon",onClick:()=>v(-1),"data-testid":"button-admin-prev-date",children:s.jsx(fC,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-muted text-sm font-medium text-foreground min-w-[140px] justify-center",children:[s.jsx(wi,{className:"h-4 w-4 text-muted-foreground"}),cr(new Date(t+"T00:00:00"),"EEE, MMM d, yyyy")]}),s.jsx(je,{variant:"outline",size:"icon",onClick:()=>v(1),"data-testid":"button-admin-next-date",children:s.jsx(Ap,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(Le,{"data-testid":"stat-admin-total",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Total Logs"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:n.length})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:s.jsx(nv,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-admin-submitted",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Submitted"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:x})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-green-50 dark:bg-green-950/40",children:s.jsx(Hl,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),s.jsx(Le,{"data-testid":"stat-admin-drafts",children:s.jsx(Fe,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Drafts"}),s.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:y})]}),s.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:s.jsx(Zn,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})})]}),s.jsx(Le,{children:s.jsx(Fe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(We,{placeholder:"Search by employee, client, or service...",value:l,onChange:w=>c(w.target.value),className:"pl-9","data-testid":"input-admin-search"})]}),s.jsxs(_t,{value:u,onValueChange:w=>d(w),children:[s.jsx(wt,{className:"w-[160px]","data-testid":"select-admin-status-filter",children:s.jsx(jt,{placeholder:"Status"})}),s.jsxs(bt,{children:[s.jsx(Ce,{value:"all",children:"All Status"}),s.jsx(Ce,{value:"submitted",children:"Submitted"}),s.jsx(Ce,{value:"pending",children:"Drafts"})]})]})]})})}),g.length===0?s.jsx(Le,{children:s.jsxs(Fe,{className:"p-12 text-center",children:[s.jsx(nv,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-foreground text-lg font-medium",children:"No submissions found"}),s.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:n.length===0?"No daily task logs have been submitted for this date":"No results match your current filters"})]})}):s.jsx("div",{className:"space-y-3",children:g.map(w=>{var N,C,S,A;const _=f===w.id,b=Object.entries(w.metrics||{}).filter(([k,R])=>R!==0&&R!==null);return s.jsx(Le,{"data-testid":`card-daily-log-${w.id}`,className:"hover-elevate cursor-pointer",onClick:()=>m(_?null:w.id),children:s.jsxs(Fe,{className:"p-5",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"rounded-full p-2 bg-muted flex-shrink-0",children:s.jsx($d,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-foreground truncate",children:((N=w.profiles)==null?void 0:N.full_name)||"Unknown"}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap mt-0.5",children:[s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(fs,{className:"h-3.5 w-3.5"}),((C=w.clients)==null?void 0:C.name)||"Unknown"]}),s.jsxs($t,{variant:"outline",className:`text-xs ${gBe(((S=w.services)==null?void 0:S.slug)||"")}`,children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),((A=w.services)==null?void 0:A.name)||"Unknown"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[w.status==="submitted"?s.jsxs($t,{variant:"default",className:"bg-green-600 dark:bg-green-700",children:[s.jsx(Hl,{className:"h-3 w-3 mr-1"}),"Submitted"]}):s.jsxs($t,{variant:"secondary",children:[s.jsx(Zn,{className:"h-3 w-3 mr-1"}),"Draft"]}),w.submitted_at&&s.jsx("span",{className:"text-xs text-muted-foreground",children:cr(new Date(w.submitted_at),"h:mm a")})]})]}),_&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[b.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 mb-3",children:b.map(([k,R])=>s.jsxs("div",{className:"bg-muted rounded-md p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:vBe(k)}),s.jsx("p",{className:"text-sm font-semibold text-foreground",children:xBe(k,R)})]},k))}):s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No metrics recorded"}),w.notes&&s.jsxs("div",{className:"bg-muted rounded-md p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Notes"}),s.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:w.notes})]})]})]})},w.id)})})]})}function wBe(){const[e,t]=p.useState(!1),[r,n]=p.useState(""),[i,a]=p.useState({clients:[],profiles:[],reports:[],tasks:[]}),[o,l]=p.useState(!1),[,c]=cc();p.useEffect(()=>{if(!r.trim()){a({clients:[],profiles:[],reports:[],tasks:[]});return}const h=setTimeout(()=>{u()},300);return()=>clearTimeout(h)},[r]);const u=async()=>{l(!0);try{const h=`%${r}%`,[v,g,x,y]=await Promise.all([ge.from("clients").select("id, name, industry").ilike("name",h).limit(5),ge.from("profiles").select("id, full_name, email, role").ilike("full_name",h).limit(5),ge.from("weekly_reports").select("id, week_start_date, status, client:clients(name)").or(`status.ilike.${h},week_start_date.ilike.${h}`).limit(5),ge.from("tasks").select("id, title, status").ilike("title",h).limit(5)]);a({clients:v.data||[],profiles:g.data||[],reports:x.data||[],tasks:y.data||[]})}catch(h){console.error("Search error:",h),a({clients:[],profiles:[],reports:[],tasks:[]})}finally{l(!1)}};p.useEffect(()=>{const h=v=>{(v.metaKey||v.ctrlKey)&&v.key==="k"&&(v.preventDefault(),t(!0)),v.key==="Escape"&&t(!1)};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[]);const d=h=>{t(!1),n(""),c(h)},f=i.clients.length>0||i.profiles.length>0||i.reports.length>0||i.tasks.length>0,m=!o&&r.trim()&&!f;return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>t(!0),"data-testid":"button-global-search-open",className:"hidden md:flex items-center gap-2 rounded-md border border-border bg-muted px-3 py-1.5 text-sm text-muted-foreground hover-elevate",title:"Open global search (Cmd+K)",children:[s.jsx(zs,{className:"h-4 w-4"}),s.jsx("span",{children:"Search..."}),s.jsxs("kbd",{className:"ml-auto rounded border border-border bg-background px-1.5 py-0.5 text-xs font-semibold",children:[s.jsx(Iae,{className:"inline h-3 w-3 mr-1"}),"K"]})]}),s.jsx("button",{onClick:()=>t(!0),"data-testid":"button-global-search-mobile",className:"md:hidden p-1 hover-elevate",children:s.jsx(zs,{className:"h-5 w-5 text-foreground"})}),s.jsx(Zr,{open:e,onOpenChange:t,children:s.jsx(Ur,{className:"max-h-[80vh] overflow-hidden p-0 shadow-2xl sm:rounded-lg",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"border-b border-border p-4 sticky top-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zs,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),s.jsx(We,{autoFocus:!0,placeholder:"Search clients, employees, reports, tasks...",value:r,onChange:h=>n(h.target.value),"data-testid":"input-global-search",className:"border-0 bg-transparent px-0 focus-visible:ring-0 text-base"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Use arrow keys to navigate, Enter to select, Esc to close"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o&&!r.trim()&&s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx(ke,{className:"h-10 w-full rounded"}),s.jsx(ke,{className:"h-10 w-full rounded"}),s.jsx(ke,{className:"h-10 w-full rounded"})]}),m&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx(zs,{className:"h-12 w-12 text-muted-foreground mb-3 opacity-50"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:['No results found for "',r,'"']})]}),!o&&r.trim()&&f&&s.jsxs("div",{className:"divide-y divide-border",children:[i.clients.length>0&&s.jsxs("div",{"data-testid":"section-clients",children:[s.jsx("div",{className:"sticky top-0 bg-muted/30 px-4 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qi,{className:"h-3.5 w-3.5"}),"Clients"]})}),s.jsx("div",{className:"space-y-1",children:i.clients.map(h=>s.jsxs("button",{onClick:()=>d(`/clients/${h.id}`),"data-testid":`result-client-${h.id}`,className:"w-full text-left px-4 py-2.5 hover-elevate active-elevate-2 transition-colors rounded-none flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:h.name}),h.industry&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:h.industry})]}),s.jsx($t,{variant:"secondary",className:"flex-shrink-0",children:"Client"})]},h.id))})]}),i.profiles.length>0&&s.jsxs("div",{"data-testid":"section-employees",children:[s.jsx("div",{className:"sticky top-0 bg-muted/30 px-4 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gf,{className:"h-3.5 w-3.5"}),"Employees"]})}),s.jsx("div",{className:"space-y-1",children:i.profiles.map(h=>s.jsxs("button",{onClick:()=>d("/employees"),"data-testid":`result-employee-${h.id}`,className:"w-full text-left px-4 py-2.5 hover-elevate active-elevate-2 transition-colors rounded-none flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:h.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:h.email})]}),s.jsx($t,{variant:"secondary",className:"flex-shrink-0",children:h.role})]},h.id))})]}),i.reports.length>0&&s.jsxs("div",{"data-testid":"section-reports",children:[s.jsx("div",{className:"sticky top-0 bg-muted/30 px-4 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zn,{className:"h-3.5 w-3.5"}),"Reports"]})}),s.jsx("div",{className:"space-y-1",children:i.reports.map(h=>{var v;return s.jsxs("button",{onClick:()=>d("/reports"),"data-testid":`result-report-${h.id}`,className:"w-full text-left px-4 py-2.5 hover-elevate active-elevate-2 transition-colors rounded-none flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-foreground truncate",children:[((v=h.client)==null?void 0:v.name)||"Unnamed Client"," Report"]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:new Date(h.week_start_date).toLocaleDateString()})]}),s.jsx($t,{variant:"secondary",className:"flex-shrink-0",children:h.status})]},h.id)})})]}),i.tasks.length>0&&s.jsxs("div",{"data-testid":"section-tasks",children:[s.jsx("div",{className:"sticky top-0 bg-muted/30 px-4 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tv,{className:"h-3.5 w-3.5"}),"Tasks"]})}),s.jsx("div",{className:"space-y-1",children:i.tasks.map(h=>s.jsxs("button",{onClick:()=>d("/tasks"),"data-testid":`result-task-${h.id}`,className:"w-full text-left px-4 py-2.5 hover-elevate active-elevate-2 transition-colors rounded-none flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:h.title}),h.status&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:h.status})]}),s.jsx($t,{variant:"secondary",className:"flex-shrink-0",children:"Task"})]},h.id))})]})]})]})]})})})]})}function bBe(){const[e,t]=p.useState(null),[,r]=cc(),n=a=>{t(a),r("/clients/"+a)},i=()=>{t(null),r("/clients")};return s.jsxs(X$,{children:[s.jsx(xr,{path:"/",component:yR}),s.jsx(xr,{path:"/dashboard",component:yR}),s.jsx(xr,{path:"/analytics",component:UPe}),s.jsx(xr,{path:"/clients",children:s.jsx(GPe,{onViewClient:n})}),s.jsx(xr,{path:"/clients/:id",children:a=>s.jsx(QPe,{clientId:a.id,onBack:i})}),s.jsx(xr,{path:"/client-health",component:E9e}),s.jsx(xr,{path:"/employees",component:pTe}),s.jsx(xr,{path:"/workload",component:V9e}),s.jsx(xr,{path:"/daily-view",component:K9e}),s.jsx(xr,{path:"/daily-submissions",component:yBe}),s.jsx(xr,{path:"/assignments",component:gTe}),s.jsx(xr,{path:"/reports",component:B$e}),s.jsx(xr,{path:"/calendar",component:V$e}),s.jsx(xr,{path:"/goals",component:G$e}),s.jsx(xr,{path:"/tasks",component:s9e}),s.jsx(xr,{path:"/time-tracking",component:K$e}),s.jsx(xr,{path:"/communications",component:Y$e}),s.jsx(xr,{path:"/resources",component:X$e}),s.jsx(xr,{path:"/budget",component:U$e}),s.jsx(xr,{path:"/benchmarks",component:i9e}),s.jsx(xr,{path:"/metrics",component:a9e}),s.jsx(xr,{path:"/approvals",component:e9e}),s.jsx(xr,{path:"/templates",component:t9e}),s.jsx(xr,{path:"/customize",component:r9e}),s.jsx(xr,{path:"/import",component:n9e}),s.jsx(xr,{path:"/bulk",component:z$e}),s.jsx(xr,{path:"/portal",component:W$e}),s.jsx(xr,{path:"/credentials",component:XZ}),s.jsx(xr,{path:"/logs",component:q$e}),s.jsx(xr,{path:"/settings",component:b9e}),s.jsx(xr,{children:s.jsx(J$,{to:"/dashboard"})})]})}function _Be(){return s.jsxs(X$,{children:[s.jsx(xr,{path:"/",component:NF}),s.jsx(xr,{path:"/dashboard",component:NF}),s.jsx(xr,{path:"/reports",component:Y9e}),s.jsx(xr,{path:"/tasks",component:pBe}),s.jsx(xr,{path:"/credentials",component:XZ}),s.jsx(xr,{children:s.jsx(J$,{to:"/dashboard"})})]})}function jBe(){const{profile:e,signOut:t}=Fi(),[,r]=cc(),n=e!=null&&e.full_name?e.full_name.split(" ").map(i=>i[0]).join("").toUpperCase().slice(0,2):"U";return s.jsxs(T0e,{children:[s.jsx(O0e,{asChild:!0,children:s.jsx("button",{"data-testid":"button-user-menu",className:"flex items-center gap-2 rounded-md p-1 hover-elevate",children:s.jsx(hs,{className:"h-8 w-8",children:s.jsx(ms,{className:"text-xs bg-primary/10 text-primary",children:n})})})}),s.jsxs(pW,{align:"end",className:"w-48",children:[s.jsxs("div",{className:"px-2 py-1.5",children:[s.jsx("p",{className:"text-sm font-medium","data-testid":"text-user-name",children:(e==null?void 0:e.full_name)||"User"}),s.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-user-role",children:(e==null?void 0:e.role)||"employee"})]}),s.jsx(Ek,{}),s.jsxs(kk,{onClick:()=>r("/settings"),children:[s.jsx(gC,{className:"mr-2 h-4 w-4"}),"Settings"]}),s.jsx(Ek,{}),s.jsxs(kk,{onClick:t,children:[s.jsx(mC,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})}function SBe(){const{user:e,profile:t,loading:r,isPortalUser:n}=Fi(),[i]=cc();if(i==="/forgot-password")return s.jsx(ihe,{});if(i==="/reset-password")return s.jsx(ahe,{});if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})});if(!e)return s.jsx(nhe,{});if(n)return s.jsx(Ome,{});if(!t)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Setting up your workspace..."}),s.jsx(je,{variant:"outline",size:"sm","data-testid":"button-retry-profile",onClick:()=>window.location.reload(),children:"Taking too long? Refresh"})]})});const a=t.role==="admin",o={"--sidebar-width":"15rem","--sidebar-width-icon":"3rem"};return s.jsx(nU,{style:o,children:s.jsxs("div",{className:"flex h-screen w-full",children:[s.jsx(rfe,{isAdmin:a}),s.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[s.jsxs("header",{className:"sticky top-0 z-50 flex items-center justify-between gap-4 border-b bg-card/80 backdrop-blur-sm px-6 h-14",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(aU,{"data-testid":"button-sidebar-toggle"}),s.jsx(wBe,{})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Dme,{}),s.jsx(Rme,{}),s.jsx(jBe,{})]})]}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsx("div",{className:"px-6 py-6 lg:px-8",children:a?s.jsx(bBe,{}):s.jsx(_Be,{})})})]})]})})}function NBe(){return s.jsx(tse,{children:s.jsx(Aae,{children:s.jsx(ese,{children:s.jsx(Cae,{children:s.jsxs(eU,{children:[s.jsx(Lme,{}),s.jsx(SBe,{}),s.jsx(Gfe,{})]})})})})})}F$(document.getElementById("root")).render(s.jsx(p.StrictMode,{children:s.jsx(NBe,{})}));export{Yr as _,EBe as c,lc as g};
