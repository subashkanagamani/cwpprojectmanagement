var cee=Object.defineProperty;var uee=(e,t,r)=>t in e?cee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ar=(e,t,r)=>uee(e,typeof t!="symbol"?t+"":t,r);function dee(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var WBe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var DF={exports:{}},f2={},LF={exports:{}},_r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=Symbol.for("react.element"),fee=Symbol.for("react.portal"),hee=Symbol.for("react.fragment"),mee=Symbol.for("react.strict_mode"),pee=Symbol.for("react.profiler"),gee=Symbol.for("react.provider"),vee=Symbol.for("react.context"),xee=Symbol.for("react.forward_ref"),yee=Symbol.for("react.suspense"),wee=Symbol.for("react.memo"),bee=Symbol.for("react.lazy"),FT=Symbol.iterator;function _ee(e){return e===null||typeof e!="object"?null:(e=FT&&e[FT]||e["@@iterator"],typeof e=="function"?e:null)}var MF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FF=Object.assign,$F={};function Ep(e,t,r){this.props=e,this.context=t,this.refs=$F,this.updater=r||MF}Ep.prototype.isReactComponent={};Ep.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ep.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BF(){}BF.prototype=Ep.prototype;function xE(e,t,r){this.props=e,this.context=t,this.refs=$F,this.updater=r||MF}var yE=xE.prototype=new BF;yE.constructor=xE;FF(yE,Ep.prototype);yE.isPureReactComponent=!0;var $T=Array.isArray,UF=Object.prototype.hasOwnProperty,wE={current:null},zF={key:!0,ref:!0,__self:!0,__source:!0};function WF(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)UF.call(t,n)&&!zF.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Fv,type:e,key:s,ref:o,props:a,_owner:wE.current}}function jee(e,t){return{$$typeof:Fv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bE(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fv}function See(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var BT=/\/+/g;function cS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?See(""+e.key):t.toString(36)}function k1(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fv:case fee:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+cS(o,0):n,$T(a)?(r="",e!=null&&(r=e.replace(BT,"$&/")+"/"),k1(a,t,r,"",function(u){return u})):a!=null&&(bE(a)&&(a=jee(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(BT,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",$T(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+cS(s,l);o+=k1(s,t,r,c,a)}else if(c=_ee(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+cS(s,l++),o+=k1(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function dy(e,t,r){if(e==null)return e;var n=[],a=0;return k1(e,n,"","",function(s){return t.call(r,s,a++)}),n}function Nee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var si={current:null},E1={transition:null},kee={ReactCurrentDispatcher:si,ReactCurrentBatchConfig:E1,ReactCurrentOwner:wE};function HF(){throw Error("act(...) is not supported in production builds of React.")}_r.Children={map:dy,forEach:function(e,t,r){dy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return dy(e,function(){t++}),t},toArray:function(e){return dy(e,function(t){return t})||[]},only:function(e){if(!bE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_r.Component=Ep;_r.Fragment=hee;_r.Profiler=pee;_r.PureComponent=xE;_r.StrictMode=mee;_r.Suspense=yee;_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kee;_r.act=HF;_r.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=FF({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=wE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)UF.call(t,c)&&!zF.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fv,type:e.type,key:a,ref:s,props:n,_owner:o}};_r.createContext=function(e){return e={$$typeof:vee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gee,_context:e},e.Consumer=e};_r.createElement=WF;_r.createFactory=function(e){var t=WF.bind(null,e);return t.type=e,t};_r.createRef=function(){return{current:null}};_r.forwardRef=function(e){return{$$typeof:xee,render:e}};_r.isValidElement=bE;_r.lazy=function(e){return{$$typeof:bee,_payload:{_status:-1,_result:e},_init:Nee}};_r.memo=function(e,t){return{$$typeof:wee,type:e,compare:t===void 0?null:t}};_r.startTransition=function(e){var t=E1.transition;E1.transition={};try{e()}finally{E1.transition=t}};_r.unstable_act=HF;_r.useCallback=function(e,t){return si.current.useCallback(e,t)};_r.useContext=function(e){return si.current.useContext(e)};_r.useDebugValue=function(){};_r.useDeferredValue=function(e){return si.current.useDeferredValue(e)};_r.useEffect=function(e,t){return si.current.useEffect(e,t)};_r.useId=function(){return si.current.useId()};_r.useImperativeHandle=function(e,t,r){return si.current.useImperativeHandle(e,t,r)};_r.useInsertionEffect=function(e,t){return si.current.useInsertionEffect(e,t)};_r.useLayoutEffect=function(e,t){return si.current.useLayoutEffect(e,t)};_r.useMemo=function(e,t){return si.current.useMemo(e,t)};_r.useReducer=function(e,t,r){return si.current.useReducer(e,t,r)};_r.useRef=function(e){return si.current.useRef(e)};_r.useState=function(e){return si.current.useState(e)};_r.useSyncExternalStore=function(e,t,r){return si.current.useSyncExternalStore(e,t,r)};_r.useTransition=function(){return si.current.useTransition()};_r.version="18.3.1";LF.exports=_r;var p=LF.exports;const Xu=fc(p),$v=dee({__proto__:null,default:Xu},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eee=p,Cee=Symbol.for("react.element"),Aee=Symbol.for("react.fragment"),Pee=Object.prototype.hasOwnProperty,Tee=Eee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oee={key:!0,ref:!0,__self:!0,__source:!0};function qF(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Pee.call(t,n)&&!Oee.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Cee,type:e,key:s,ref:o,props:a,_owner:Tee.current}}f2.Fragment=Aee;f2.jsx=qF;f2.jsxs=qF;DF.exports=f2;var i=DF.exports,VF={exports:{}},no={},GF={exports:{}},KF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,X){var pe=q.length;q.push(X);e:for(;0<pe;){var xe=pe-1>>>1,D=q[xe];if(0<a(D,X))q[xe]=X,q[pe]=D,pe=xe;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var X=q[0],pe=q.pop();if(pe!==X){q[0]=pe;e:for(var xe=0,D=q.length,M=D>>>1;xe<M;){var R=2*(xe+1)-1,H=q[R],B=R+1,W=q[B];if(0>a(H,pe))B<D&&0>a(W,H)?(q[xe]=W,q[B]=pe,xe=B):(q[xe]=H,q[R]=pe,xe=R);else if(B<D&&0>a(W,pe))q[xe]=W,q[B]=pe,xe=B;else break e}}return X}function a(q,X){var pe=q.sortIndex-X.sortIndex;return pe!==0?pe:q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=q)n(u),X.sortIndex=X.expirationTime,t(c,X);else break;X=r(u)}}function w(q){if(g=!1,_(q),!v)if(r(c)!==null)v=!0,re(N);else{var X=r(u);X!==null&&U(w,X.startTime-q)}}function N(q,X){v=!1,g&&(g=!1,x(A),A=-1),h=!0;var pe=m;try{for(_(X),f=r(c);f!==null&&(!(f.expirationTime>X)||q&&!T());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,m=f.priorityLevel;var D=xe(f.expirationTime<=X);X=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),_(X)}else n(c);f=r(c)}if(f!==null)var M=!0;else{var R=r(u);R!==null&&U(w,R.startTime-X),M=!1}return M}finally{f=null,m=pe,h=!1}}var C=!1,j=null,A=-1,k=5,I=-1;function T(){return!(e.unstable_now()-I<k)}function P(){if(j!==null){var q=e.unstable_now();I=q;var X=!0;try{X=j(!0,q)}finally{X?V():(C=!1,j=null)}}else C=!1}var V;if(typeof b=="function")V=function(){b(P)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Y=F.port2;F.port1.onmessage=P,V=function(){Y.postMessage(null)}}else V=function(){y(P,0)};function re(q){j=q,C||(C=!0,V())}function U(q,X){A=y(function(){q(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,re(N))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var pe=m;m=X;try{return q()}finally{m=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var pe=m;m=q;try{return X()}finally{m=pe}},e.unstable_scheduleCallback=function(q,X,pe){var xe=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?xe+pe:xe):pe=xe,q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,q={id:d++,callback:X,priorityLevel:q,startTime:pe,expirationTime:D,sortIndex:-1},pe>xe?(q.sortIndex=pe,t(u,q),r(c)===null&&q===r(u)&&(g?(x(A),A=-1):g=!0,U(w,pe-xe))):(q.sortIndex=D,t(c,q),v||h||(v=!0,re(N))),q},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(q){var X=m;return function(){var pe=m;m=X;try{return q.apply(this,arguments)}finally{m=pe}}}})(KF);GF.exports=KF;var Ree=GF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iee=p,Zi=Ree;function ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YF=new Set,Lg={};function gh(e,t){ip(e,t),ip(e+"Capture",t)}function ip(e,t){for(Lg[e]=t,e=0;e<t.length;e++)YF.add(t[e])}var eu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xN=Object.prototype.hasOwnProperty,Dee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UT={},zT={};function Lee(e){return xN.call(zT,e)?!0:xN.call(UT,e)?!1:Dee.test(e)?zT[e]=!0:(UT[e]=!0,!1)}function Mee(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fee(e,t,r,n){if(t===null||typeof t>"u"||Mee(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ii(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var js={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){js[e]=new ii(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];js[t]=new ii(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){js[e]=new ii(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){js[e]=new ii(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){js[e]=new ii(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){js[e]=new ii(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){js[e]=new ii(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){js[e]=new ii(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){js[e]=new ii(e,5,!1,e.toLowerCase(),null,!1,!1)});var _E=/[\-:]([a-z])/g;function jE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_E,jE);js[t]=new ii(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_E,jE);js[t]=new ii(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_E,jE);js[t]=new ii(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){js[e]=new ii(e,1,!1,e.toLowerCase(),null,!1,!1)});js.xlinkHref=new ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){js[e]=new ii(e,1,!1,e.toLowerCase(),null,!0,!0)});function SE(e,t,r,n){var a=js.hasOwnProperty(t)?js[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fee(t,r,a,n)&&(r=null),n||a===null?Lee(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gu=Iee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fy=Symbol.for("react.element"),_m=Symbol.for("react.portal"),jm=Symbol.for("react.fragment"),NE=Symbol.for("react.strict_mode"),yN=Symbol.for("react.profiler"),XF=Symbol.for("react.provider"),JF=Symbol.for("react.context"),kE=Symbol.for("react.forward_ref"),wN=Symbol.for("react.suspense"),bN=Symbol.for("react.suspense_list"),EE=Symbol.for("react.memo"),Zu=Symbol.for("react.lazy"),ZF=Symbol.for("react.offscreen"),WT=Symbol.iterator;function O0(e){return e===null||typeof e!="object"?null:(e=WT&&e[WT]||e["@@iterator"],typeof e=="function"?e:null)}var Un=Object.assign,uS;function ng(e){if(uS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);uS=t&&t[1]||""}return`
`+uS+e}var dS=!1;function fS(e,t){if(!e||dS)return"";dS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{dS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ng(e):""}function $ee(e){switch(e.tag){case 5:return ng(e.type);case 16:return ng("Lazy");case 13:return ng("Suspense");case 19:return ng("SuspenseList");case 0:case 2:case 15:return e=fS(e.type,!1),e;case 11:return e=fS(e.type.render,!1),e;case 1:return e=fS(e.type,!0),e;default:return""}}function _N(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jm:return"Fragment";case _m:return"Portal";case yN:return"Profiler";case NE:return"StrictMode";case wN:return"Suspense";case bN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JF:return(e.displayName||"Context")+".Consumer";case XF:return(e._context.displayName||"Context")+".Provider";case kE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case EE:return t=e.displayName||null,t!==null?t:_N(e.type)||"Memo";case Zu:t=e._payload,e=e._init;try{return _N(e(t))}catch{}}return null}function Bee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _N(t);case 8:return t===NE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function QF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uee(e){var t=QF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hy(e){e._valueTracker||(e._valueTracker=Uee(e))}function e7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=QF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function nw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jN(e,t){var r=t.checked;return Un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function HT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=kd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function t7(e,t){t=t.checked,t!=null&&SE(e,"checked",t,!1)}function SN(e,t){t7(e,t);var r=kd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?NN(e,t.type,r):t.hasOwnProperty("defaultValue")&&NN(e,t.type,kd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function NN(e,t,r){(t!=="number"||nw(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ag=Array.isArray;function Bm(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+kd(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function kN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ot(91));return Un({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function VT(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ot(92));if(ag(r)){if(1<r.length)throw Error(ot(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:kd(r)}}function r7(e,t){var r=kd(t.value),n=kd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function GT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function n7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function EN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?n7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var my,a7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(my=my||document.createElement("div"),my.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=my.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zee=["Webkit","ms","Moz","O"];Object.keys(mg).forEach(function(e){zee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mg[t]=mg[e]})});function s7(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mg.hasOwnProperty(e)&&mg[e]?(""+t).trim():t+"px"}function i7(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=s7(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Wee=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CN(e,t){if(t){if(Wee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ot(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ot(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ot(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ot(62))}}function AN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PN=null;function CE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var TN=null,Um=null,zm=null;function KT(e){if(e=zv(e)){if(typeof TN!="function")throw Error(ot(280));var t=e.stateNode;t&&(t=v2(t),TN(e.stateNode,e.type,t))}}function o7(e){Um?zm?zm.push(e):zm=[e]:Um=e}function l7(){if(Um){var e=Um,t=zm;if(zm=Um=null,KT(e),t)for(e=0;e<t.length;e++)KT(t[e])}}function c7(e,t){return e(t)}function u7(){}var hS=!1;function d7(e,t,r){if(hS)return e(t,r);hS=!0;try{return c7(e,t,r)}finally{hS=!1,(Um!==null||zm!==null)&&(u7(),l7())}}function Fg(e,t){var r=e.stateNode;if(r===null)return null;var n=v2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ot(231,t,typeof r));return r}var ON=!1;if(eu)try{var R0={};Object.defineProperty(R0,"passive",{get:function(){ON=!0}}),window.addEventListener("test",R0,R0),window.removeEventListener("test",R0,R0)}catch{ON=!1}function Hee(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var pg=!1,aw=null,sw=!1,RN=null,qee={onError:function(e){pg=!0,aw=e}};function Vee(e,t,r,n,a,s,o,l,c){pg=!1,aw=null,Hee.apply(qee,arguments)}function Gee(e,t,r,n,a,s,o,l,c){if(Vee.apply(this,arguments),pg){if(pg){var u=aw;pg=!1,aw=null}else throw Error(ot(198));sw||(sw=!0,RN=u)}}function vh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function YT(e){if(vh(e)!==e)throw Error(ot(188))}function Kee(e){var t=e.alternate;if(!t){if(t=vh(e),t===null)throw Error(ot(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return YT(a),e;if(s===n)return YT(a),t;s=s.sibling}throw Error(ot(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(ot(189))}}if(r.alternate!==n)throw Error(ot(190))}if(r.tag!==3)throw Error(ot(188));return r.stateNode.current===r?e:t}function h7(e){return e=Kee(e),e!==null?m7(e):null}function m7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=m7(e);if(t!==null)return t;e=e.sibling}return null}var p7=Zi.unstable_scheduleCallback,XT=Zi.unstable_cancelCallback,Yee=Zi.unstable_shouldYield,Xee=Zi.unstable_requestPaint,da=Zi.unstable_now,Jee=Zi.unstable_getCurrentPriorityLevel,AE=Zi.unstable_ImmediatePriority,g7=Zi.unstable_UserBlockingPriority,iw=Zi.unstable_NormalPriority,Zee=Zi.unstable_LowPriority,v7=Zi.unstable_IdlePriority,h2=null,tc=null;function Qee(e){if(tc&&typeof tc.onCommitFiberRoot=="function")try{tc.onCommitFiberRoot(h2,e,void 0,(e.current.flags&128)===128)}catch{}}var gl=Math.clz32?Math.clz32:rte,ete=Math.log,tte=Math.LN2;function rte(e){return e>>>=0,e===0?32:31-(ete(e)/tte|0)|0}var py=64,gy=4194304;function sg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ow(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=sg(l):(s&=o,s!==0&&(n=sg(s)))}else o=r&~a,o!==0?n=sg(o):s!==0&&(n=sg(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gl(t),a=1<<r,n|=e[r],t&=~a;return n}function nte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ate(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-gl(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=nte(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function IN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function x7(){var e=py;return py<<=1,!(py&4194240)&&(py=64),e}function mS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gl(t),e[t]=r}function ste(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-gl(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function PE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gl(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var tn=0;function y7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var w7,TE,b7,_7,j7,DN=!1,vy=[],md=null,pd=null,gd=null,$g=new Map,Bg=new Map,nd=[],ite="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JT(e,t){switch(e){case"focusin":case"focusout":md=null;break;case"dragenter":case"dragleave":pd=null;break;case"mouseover":case"mouseout":gd=null;break;case"pointerover":case"pointerout":$g.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bg.delete(t.pointerId)}}function I0(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=zv(t),t!==null&&TE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ote(e,t,r,n,a){switch(t){case"focusin":return md=I0(md,e,t,r,n,a),!0;case"dragenter":return pd=I0(pd,e,t,r,n,a),!0;case"mouseover":return gd=I0(gd,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return $g.set(s,I0($g.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Bg.set(s,I0(Bg.get(s)||null,e,t,r,n,a)),!0}return!1}function S7(e){var t=Ef(e.target);if(t!==null){var r=vh(t);if(r!==null){if(t=r.tag,t===13){if(t=f7(r),t!==null){e.blockedOn=t,j7(e.priority,function(){b7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function C1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=LN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);PN=n,r.target.dispatchEvent(n),PN=null}else return t=zv(r),t!==null&&TE(t),e.blockedOn=r,!1;t.shift()}return!0}function ZT(e,t,r){C1(e)&&r.delete(t)}function lte(){DN=!1,md!==null&&C1(md)&&(md=null),pd!==null&&C1(pd)&&(pd=null),gd!==null&&C1(gd)&&(gd=null),$g.forEach(ZT),Bg.forEach(ZT)}function D0(e,t){e.blockedOn===t&&(e.blockedOn=null,DN||(DN=!0,Zi.unstable_scheduleCallback(Zi.unstable_NormalPriority,lte)))}function Ug(e){function t(a){return D0(a,e)}if(0<vy.length){D0(vy[0],e);for(var r=1;r<vy.length;r++){var n=vy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(md!==null&&D0(md,e),pd!==null&&D0(pd,e),gd!==null&&D0(gd,e),$g.forEach(t),Bg.forEach(t),r=0;r<nd.length;r++)n=nd[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<nd.length&&(r=nd[0],r.blockedOn===null);)S7(r),r.blockedOn===null&&nd.shift()}var Wm=gu.ReactCurrentBatchConfig,lw=!0;function cte(e,t,r,n){var a=tn,s=Wm.transition;Wm.transition=null;try{tn=1,OE(e,t,r,n)}finally{tn=a,Wm.transition=s}}function ute(e,t,r,n){var a=tn,s=Wm.transition;Wm.transition=null;try{tn=4,OE(e,t,r,n)}finally{tn=a,Wm.transition=s}}function OE(e,t,r,n){if(lw){var a=LN(e,t,r,n);if(a===null)SS(e,t,n,cw,r),JT(e,n);else if(ote(a,e,t,r,n))n.stopPropagation();else if(JT(e,n),t&4&&-1<ite.indexOf(e)){for(;a!==null;){var s=zv(a);if(s!==null&&w7(s),s=LN(e,t,r,n),s===null&&SS(e,t,n,cw,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else SS(e,t,n,null,r)}}var cw=null;function LN(e,t,r,n){if(cw=null,e=CE(n),e=Ef(e),e!==null)if(t=vh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=f7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cw=e,null}function N7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jee()){case AE:return 1;case g7:return 4;case iw:case Zee:return 16;case v7:return 536870912;default:return 16}default:return 16}}var od=null,RE=null,A1=null;function k7(){if(A1)return A1;var e,t=RE,r=t.length,n,a="value"in od?od.value:od.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return A1=a.slice(e,1<n?1-n:void 0)}function P1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xy(){return!0}function QT(){return!1}function ao(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xy:QT,this.isPropagationStopped=QT,this}return Un(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xy)},persist:function(){},isPersistent:xy}),t}var Cp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IE=ao(Cp),Uv=Un({},Cp,{view:0,detail:0}),dte=ao(Uv),pS,gS,L0,m2=Un({},Uv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==L0&&(L0&&e.type==="mousemove"?(pS=e.screenX-L0.screenX,gS=e.screenY-L0.screenY):gS=pS=0,L0=e),pS)},movementY:function(e){return"movementY"in e?e.movementY:gS}}),eO=ao(m2),fte=Un({},m2,{dataTransfer:0}),hte=ao(fte),mte=Un({},Uv,{relatedTarget:0}),vS=ao(mte),pte=Un({},Cp,{animationName:0,elapsedTime:0,pseudoElement:0}),gte=ao(pte),vte=Un({},Cp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xte=ao(vte),yte=Un({},Cp,{data:0}),tO=ao(yte),wte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jte(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_te[e])?!!t[e]:!1}function DE(){return jte}var Ste=Un({},Uv,{key:function(e){if(e.key){var t=wte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=P1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DE,charCode:function(e){return e.type==="keypress"?P1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?P1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nte=ao(Ste),kte=Un({},m2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rO=ao(kte),Ete=Un({},Uv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DE}),Cte=ao(Ete),Ate=Un({},Cp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pte=ao(Ate),Tte=Un({},m2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ote=ao(Tte),Rte=[9,13,27,32],LE=eu&&"CompositionEvent"in window,gg=null;eu&&"documentMode"in document&&(gg=document.documentMode);var Ite=eu&&"TextEvent"in window&&!gg,E7=eu&&(!LE||gg&&8<gg&&11>=gg),nO=" ",aO=!1;function C7(e,t){switch(e){case"keyup":return Rte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sm=!1;function Dte(e,t){switch(e){case"compositionend":return A7(t);case"keypress":return t.which!==32?null:(aO=!0,nO);case"textInput":return e=t.data,e===nO&&aO?null:e;default:return null}}function Lte(e,t){if(Sm)return e==="compositionend"||!LE&&C7(e,t)?(e=k7(),A1=RE=od=null,Sm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return E7&&t.locale!=="ko"?null:t.data;default:return null}}var Mte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mte[e.type]:t==="textarea"}function P7(e,t,r,n){o7(n),t=uw(t,"onChange"),0<t.length&&(r=new IE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vg=null,zg=null;function Fte(e){U7(e,0)}function p2(e){var t=Em(e);if(e7(t))return e}function $te(e,t){if(e==="change")return t}var T7=!1;if(eu){var xS;if(eu){var yS="oninput"in document;if(!yS){var iO=document.createElement("div");iO.setAttribute("oninput","return;"),yS=typeof iO.oninput=="function"}xS=yS}else xS=!1;T7=xS&&(!document.documentMode||9<document.documentMode)}function oO(){vg&&(vg.detachEvent("onpropertychange",O7),zg=vg=null)}function O7(e){if(e.propertyName==="value"&&p2(zg)){var t=[];P7(t,zg,e,CE(e)),d7(Fte,t)}}function Bte(e,t,r){e==="focusin"?(oO(),vg=t,zg=r,vg.attachEvent("onpropertychange",O7)):e==="focusout"&&oO()}function Ute(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return p2(zg)}function zte(e,t){if(e==="click")return p2(t)}function Wte(e,t){if(e==="input"||e==="change")return p2(t)}function Hte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bl=typeof Object.is=="function"?Object.is:Hte;function Wg(e,t){if(bl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!xN.call(t,a)||!bl(e[a],t[a]))return!1}return!0}function lO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cO(e,t){var r=lO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lO(r)}}function R7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?R7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I7(){for(var e=window,t=nw();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nw(e.document)}return t}function ME(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qte(e){var t=I7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&R7(r.ownerDocument.documentElement,r)){if(n!==null&&ME(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=cO(r,s);var o=cO(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vte=eu&&"documentMode"in document&&11>=document.documentMode,Nm=null,MN=null,xg=null,FN=!1;function uO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;FN||Nm==null||Nm!==nw(n)||(n=Nm,"selectionStart"in n&&ME(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xg&&Wg(xg,n)||(xg=n,n=uw(MN,"onSelect"),0<n.length&&(t=new IE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nm)))}function yy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var km={animationend:yy("Animation","AnimationEnd"),animationiteration:yy("Animation","AnimationIteration"),animationstart:yy("Animation","AnimationStart"),transitionend:yy("Transition","TransitionEnd")},wS={},D7={};eu&&(D7=document.createElement("div").style,"AnimationEvent"in window||(delete km.animationend.animation,delete km.animationiteration.animation,delete km.animationstart.animation),"TransitionEvent"in window||delete km.transitionend.transition);function g2(e){if(wS[e])return wS[e];if(!km[e])return e;var t=km[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in D7)return wS[e]=t[r];return e}var L7=g2("animationend"),M7=g2("animationiteration"),F7=g2("animationstart"),$7=g2("transitionend"),B7=new Map,dO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bd(e,t){B7.set(e,t),gh(t,[e])}for(var bS=0;bS<dO.length;bS++){var _S=dO[bS],Gte=_S.toLowerCase(),Kte=_S[0].toUpperCase()+_S.slice(1);Bd(Gte,"on"+Kte)}Bd(L7,"onAnimationEnd");Bd(M7,"onAnimationIteration");Bd(F7,"onAnimationStart");Bd("dblclick","onDoubleClick");Bd("focusin","onFocus");Bd("focusout","onBlur");Bd($7,"onTransitionEnd");ip("onMouseEnter",["mouseout","mouseover"]);ip("onMouseLeave",["mouseout","mouseover"]);ip("onPointerEnter",["pointerout","pointerover"]);ip("onPointerLeave",["pointerout","pointerover"]);gh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gh("onBeforeInput",["compositionend","keypress","textInput","paste"]);gh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ig="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yte=new Set("cancel close invalid load scroll toggle".split(" ").concat(ig));function fO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Gee(n,t,void 0,e),e.currentTarget=null}function U7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;fO(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;fO(a,l,u),s=c}}}if(sw)throw e=RN,sw=!1,RN=null,e}function bn(e,t){var r=t[WN];r===void 0&&(r=t[WN]=new Set);var n=e+"__bubble";r.has(n)||(z7(t,e,2,!1),r.add(n))}function jS(e,t,r){var n=0;t&&(n|=4),z7(r,e,n,t)}var wy="_reactListening"+Math.random().toString(36).slice(2);function Hg(e){if(!e[wy]){e[wy]=!0,YF.forEach(function(r){r!=="selectionchange"&&(Yte.has(r)||jS(r,!1,e),jS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wy]||(t[wy]=!0,jS("selectionchange",!1,t))}}function z7(e,t,r,n){switch(N7(t)){case 1:var a=cte;break;case 4:a=ute;break;default:a=OE}r=a.bind(null,t,r,e),a=void 0,!ON||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function SS(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ef(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}d7(function(){var u=s,d=CE(r),f=[];e:{var m=B7.get(e);if(m!==void 0){var h=IE,v=e;switch(e){case"keypress":if(P1(r)===0)break e;case"keydown":case"keyup":h=Nte;break;case"focusin":v="focus",h=vS;break;case"focusout":v="blur",h=vS;break;case"beforeblur":case"afterblur":h=vS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=eO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=hte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Cte;break;case L7:case M7:case F7:h=gte;break;case $7:h=Pte;break;case"scroll":h=dte;break;case"wheel":h=Ote;break;case"copy":case"cut":case"paste":h=xte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=rO}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?m!==null?m+"Capture":null:m;g=[];for(var b=u,_;b!==null;){_=b;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,x!==null&&(w=Fg(b,x),w!=null&&g.push(qg(b,w,_)))),y)break;b=b.return}0<g.length&&(m=new h(m,v,null,r,d),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==PN&&(v=r.relatedTarget||r.fromElement)&&(Ef(v)||v[tu]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=u,v=v?Ef(v):null,v!==null&&(y=vh(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(g=eO,w="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=rO,w="onPointerLeave",x="onPointerEnter",b="pointer"),y=h==null?m:Em(h),_=v==null?m:Em(v),m=new g(w,b+"leave",h,r,d),m.target=y,m.relatedTarget=_,w=null,Ef(d)===u&&(g=new g(x,b+"enter",v,r,d),g.target=_,g.relatedTarget=y,w=g),y=w,h&&v)t:{for(g=h,x=v,b=0,_=g;_;_=qh(_))b++;for(_=0,w=x;w;w=qh(w))_++;for(;0<b-_;)g=qh(g),b--;for(;0<_-b;)x=qh(x),_--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=qh(g),x=qh(x)}g=null}else g=null;h!==null&&hO(f,m,h,g,!1),v!==null&&y!==null&&hO(f,y,v,g,!0)}}e:{if(m=u?Em(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=$te;else if(sO(m))if(T7)N=Wte;else{N=Ute;var C=Bte}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=zte);if(N&&(N=N(e,u))){P7(f,N,r,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&NN(m,"number",m.value)}switch(C=u?Em(u):window,e){case"focusin":(sO(C)||C.contentEditable==="true")&&(Nm=C,MN=u,xg=null);break;case"focusout":xg=MN=Nm=null;break;case"mousedown":FN=!0;break;case"contextmenu":case"mouseup":case"dragend":FN=!1,uO(f,r,d);break;case"selectionchange":if(Vte)break;case"keydown":case"keyup":uO(f,r,d)}var j;if(LE)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Sm?C7(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(E7&&r.locale!=="ko"&&(Sm||A!=="onCompositionStart"?A==="onCompositionEnd"&&Sm&&(j=k7()):(od=d,RE="value"in od?od.value:od.textContent,Sm=!0)),C=uw(u,A),0<C.length&&(A=new tO(A,e,null,r,d),f.push({event:A,listeners:C}),j?A.data=j:(j=A7(r),j!==null&&(A.data=j)))),(j=Ite?Dte(e,r):Lte(e,r))&&(u=uw(u,"onBeforeInput"),0<u.length&&(d=new tO("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}U7(f,t)})}function qg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function uw(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Fg(e,r),s!=null&&n.unshift(qg(e,s,a)),s=Fg(e,t),s!=null&&n.push(qg(e,s,a))),e=e.return}return n}function qh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hO(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Fg(r,s),c!=null&&o.unshift(qg(r,c,l))):a||(c=Fg(r,s),c!=null&&o.push(qg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Xte=/\r\n?/g,Jte=/\u0000|\uFFFD/g;function mO(e){return(typeof e=="string"?e:""+e).replace(Xte,`
`).replace(Jte,"")}function by(e,t,r){if(t=mO(t),mO(e)!==t&&r)throw Error(ot(425))}function dw(){}var $N=null,BN=null;function UN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zN=typeof setTimeout=="function"?setTimeout:void 0,Zte=typeof clearTimeout=="function"?clearTimeout:void 0,pO=typeof Promise=="function"?Promise:void 0,Qte=typeof queueMicrotask=="function"?queueMicrotask:typeof pO<"u"?function(e){return pO.resolve(null).then(e).catch(ere)}:zN;function ere(e){setTimeout(function(){throw e})}function NS(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ug(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ug(t)}function vd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ap=Math.random().toString(36).slice(2),Yl="__reactFiber$"+Ap,Vg="__reactProps$"+Ap,tu="__reactContainer$"+Ap,WN="__reactEvents$"+Ap,tre="__reactListeners$"+Ap,rre="__reactHandles$"+Ap;function Ef(e){var t=e[Yl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[tu]||r[Yl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gO(e);e!==null;){if(r=e[Yl])return r;e=gO(e)}return t}e=r,r=e.parentNode}return null}function zv(e){return e=e[Yl]||e[tu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Em(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ot(33))}function v2(e){return e[Vg]||null}var HN=[],Cm=-1;function Ud(e){return{current:e}}function Sn(e){0>Cm||(e.current=HN[Cm],HN[Cm]=null,Cm--)}function xn(e,t){Cm++,HN[Cm]=e.current,e.current=t}var Ed={},$s=Ud(Ed),gi=Ud(!1),Wf=Ed;function op(e,t){var r=e.type.contextTypes;if(!r)return Ed;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function vi(e){return e=e.childContextTypes,e!=null}function fw(){Sn(gi),Sn($s)}function vO(e,t,r){if($s.current!==Ed)throw Error(ot(168));xn($s,t),xn(gi,r)}function W7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ot(108,Bee(e)||"Unknown",a));return Un({},r,n)}function hw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ed,Wf=$s.current,xn($s,e),xn(gi,gi.current),!0}function xO(e,t,r){var n=e.stateNode;if(!n)throw Error(ot(169));r?(e=W7(e,t,Wf),n.__reactInternalMemoizedMergedChildContext=e,Sn(gi),Sn($s),xn($s,e)):Sn(gi),xn(gi,r)}var Fc=null,x2=!1,kS=!1;function H7(e){Fc===null?Fc=[e]:Fc.push(e)}function nre(e){x2=!0,H7(e)}function zd(){if(!kS&&Fc!==null){kS=!0;var e=0,t=tn;try{var r=Fc;for(tn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fc=null,x2=!1}catch(a){throw Fc!==null&&(Fc=Fc.slice(e+1)),p7(AE,zd),a}finally{tn=t,kS=!1}}return null}var Am=[],Pm=0,mw=null,pw=0,wo=[],bo=0,Hf=null,zc=1,Wc="";function pf(e,t){Am[Pm++]=pw,Am[Pm++]=mw,mw=e,pw=t}function q7(e,t,r){wo[bo++]=zc,wo[bo++]=Wc,wo[bo++]=Hf,Hf=e;var n=zc;e=Wc;var a=32-gl(n)-1;n&=~(1<<a),r+=1;var s=32-gl(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,zc=1<<32-gl(t)+a|r<<a|n,Wc=s+e}else zc=1<<s|r<<a|n,Wc=e}function FE(e){e.return!==null&&(pf(e,1),q7(e,1,0))}function $E(e){for(;e===mw;)mw=Am[--Pm],Am[Pm]=null,pw=Am[--Pm],Am[Pm]=null;for(;e===Hf;)Hf=wo[--bo],wo[bo]=null,Wc=wo[--bo],wo[bo]=null,zc=wo[--bo],wo[bo]=null}var Yi=null,Hi=null,Rn=!1,cl=null;function V7(e,t){var r=_o(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yi=e,Hi=vd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yi=e,Hi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hf!==null?{id:zc,overflow:Wc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_o(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yi=e,Hi=null,!0):!1;default:return!1}}function qN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function VN(e){if(Rn){var t=Hi;if(t){var r=t;if(!yO(e,t)){if(qN(e))throw Error(ot(418));t=vd(r.nextSibling);var n=Yi;t&&yO(e,t)?V7(n,r):(e.flags=e.flags&-4097|2,Rn=!1,Yi=e)}}else{if(qN(e))throw Error(ot(418));e.flags=e.flags&-4097|2,Rn=!1,Yi=e}}}function wO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yi=e}function _y(e){if(e!==Yi)return!1;if(!Rn)return wO(e),Rn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!UN(e.type,e.memoizedProps)),t&&(t=Hi)){if(qN(e))throw G7(),Error(ot(418));for(;t;)V7(e,t),t=vd(t.nextSibling)}if(wO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ot(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hi=vd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hi=null}}else Hi=Yi?vd(e.stateNode.nextSibling):null;return!0}function G7(){for(var e=Hi;e;)e=vd(e.nextSibling)}function lp(){Hi=Yi=null,Rn=!1}function BE(e){cl===null?cl=[e]:cl.push(e)}var are=gu.ReactCurrentBatchConfig;function M0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ot(309));var n=r.stateNode}if(!n)throw Error(ot(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ot(284));if(!r._owner)throw Error(ot(290,e))}return e}function jy(e,t){throw e=Object.prototype.toString.call(t),Error(ot(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bO(e){var t=e._init;return t(e._payload)}function K7(e){function t(x,b){if(e){var _=x.deletions;_===null?(x.deletions=[b],x.flags|=16):_.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=bd(x,b),x.index=0,x.sibling=null,x}function s(x,b,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<b?(x.flags|=2,b):_):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,_,w){return b===null||b.tag!==6?(b=RS(_,x.mode,w),b.return=x,b):(b=a(b,_),b.return=x,b)}function c(x,b,_,w){var N=_.type;return N===jm?d(x,b,_.props.children,w,_.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zu&&bO(N)===b.type)?(w=a(b,_.props),w.ref=M0(x,b,_),w.return=x,w):(w=M1(_.type,_.key,_.props,null,x.mode,w),w.ref=M0(x,b,_),w.return=x,w)}function u(x,b,_,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=IS(_,x.mode,w),b.return=x,b):(b=a(b,_.children||[]),b.return=x,b)}function d(x,b,_,w,N){return b===null||b.tag!==7?(b=Lf(_,x.mode,w,N),b.return=x,b):(b=a(b,_),b.return=x,b)}function f(x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=RS(""+b,x.mode,_),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fy:return _=M1(b.type,b.key,b.props,null,x.mode,_),_.ref=M0(x,null,b),_.return=x,_;case _m:return b=IS(b,x.mode,_),b.return=x,b;case Zu:var w=b._init;return f(x,w(b._payload),_)}if(ag(b)||O0(b))return b=Lf(b,x.mode,_,null),b.return=x,b;jy(x,b)}return null}function m(x,b,_,w){var N=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:l(x,b,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fy:return _.key===N?c(x,b,_,w):null;case _m:return _.key===N?u(x,b,_,w):null;case Zu:return N=_._init,m(x,b,N(_._payload),w)}if(ag(_)||O0(_))return N!==null?null:d(x,b,_,w,null);jy(x,_)}return null}function h(x,b,_,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(_)||null,l(b,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fy:return x=x.get(w.key===null?_:w.key)||null,c(b,x,w,N);case _m:return x=x.get(w.key===null?_:w.key)||null,u(b,x,w,N);case Zu:var C=w._init;return h(x,b,_,C(w._payload),N)}if(ag(w)||O0(w))return x=x.get(_)||null,d(b,x,w,N,null);jy(b,w)}return null}function v(x,b,_,w){for(var N=null,C=null,j=b,A=b=0,k=null;j!==null&&A<_.length;A++){j.index>A?(k=j,j=null):k=j.sibling;var I=m(x,j,_[A],w);if(I===null){j===null&&(j=k);break}e&&j&&I.alternate===null&&t(x,j),b=s(I,b,A),C===null?N=I:C.sibling=I,C=I,j=k}if(A===_.length)return r(x,j),Rn&&pf(x,A),N;if(j===null){for(;A<_.length;A++)j=f(x,_[A],w),j!==null&&(b=s(j,b,A),C===null?N=j:C.sibling=j,C=j);return Rn&&pf(x,A),N}for(j=n(x,j);A<_.length;A++)k=h(j,x,A,_[A],w),k!==null&&(e&&k.alternate!==null&&j.delete(k.key===null?A:k.key),b=s(k,b,A),C===null?N=k:C.sibling=k,C=k);return e&&j.forEach(function(T){return t(x,T)}),Rn&&pf(x,A),N}function g(x,b,_,w){var N=O0(_);if(typeof N!="function")throw Error(ot(150));if(_=N.call(_),_==null)throw Error(ot(151));for(var C=N=null,j=b,A=b=0,k=null,I=_.next();j!==null&&!I.done;A++,I=_.next()){j.index>A?(k=j,j=null):k=j.sibling;var T=m(x,j,I.value,w);if(T===null){j===null&&(j=k);break}e&&j&&T.alternate===null&&t(x,j),b=s(T,b,A),C===null?N=T:C.sibling=T,C=T,j=k}if(I.done)return r(x,j),Rn&&pf(x,A),N;if(j===null){for(;!I.done;A++,I=_.next())I=f(x,I.value,w),I!==null&&(b=s(I,b,A),C===null?N=I:C.sibling=I,C=I);return Rn&&pf(x,A),N}for(j=n(x,j);!I.done;A++,I=_.next())I=h(j,x,A,I.value,w),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?A:I.key),b=s(I,b,A),C===null?N=I:C.sibling=I,C=I);return e&&j.forEach(function(P){return t(x,P)}),Rn&&pf(x,A),N}function y(x,b,_,w){if(typeof _=="object"&&_!==null&&_.type===jm&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case fy:e:{for(var N=_.key,C=b;C!==null;){if(C.key===N){if(N=_.type,N===jm){if(C.tag===7){r(x,C.sibling),b=a(C,_.props.children),b.return=x,x=b;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zu&&bO(N)===C.type){r(x,C.sibling),b=a(C,_.props),b.ref=M0(x,C,_),b.return=x,x=b;break e}r(x,C);break}else t(x,C);C=C.sibling}_.type===jm?(b=Lf(_.props.children,x.mode,w,_.key),b.return=x,x=b):(w=M1(_.type,_.key,_.props,null,x.mode,w),w.ref=M0(x,b,_),w.return=x,x=w)}return o(x);case _m:e:{for(C=_.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(x,b.sibling),b=a(b,_.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=IS(_,x.mode,w),b.return=x,x=b}return o(x);case Zu:return C=_._init,y(x,b,C(_._payload),w)}if(ag(_))return v(x,b,_,w);if(O0(_))return g(x,b,_,w);jy(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,_),b.return=x,x=b):(r(x,b),b=RS(_,x.mode,w),b.return=x,x=b),o(x)):r(x,b)}return y}var cp=K7(!0),Y7=K7(!1),gw=Ud(null),vw=null,Tm=null,UE=null;function zE(){UE=Tm=vw=null}function WE(e){var t=gw.current;Sn(gw),e._currentValue=t}function GN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hm(e,t){vw=e,UE=Tm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hi=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(UE!==e)if(e={context:e,memoizedValue:t,next:null},Tm===null){if(vw===null)throw Error(ot(308));Tm=e,vw.dependencies={lanes:0,firstContext:e}}else Tm=Tm.next=e;return t}var Cf=null;function HE(e){Cf===null?Cf=[e]:Cf.push(e)}function X7(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,HE(t)):(r.next=a.next,a.next=r),t.interleaved=r,ru(e,n)}function ru(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qu=!1;function qE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xd(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ir&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ru(e,r)}return a=n.interleaved,a===null?(t.next=t,HE(n)):(t.next=a.next,a.next=t),n.interleaved=t,ru(e,r)}function T1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,PE(e,r)}}function _O(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xw(e,t,r,n){var a=e.updateQueue;Qu=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(m=t,h=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(h,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,m=typeof v=="function"?v.call(h,f,m):v,m==null)break e;f=Un({},f,m);break e;case 2:Qu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Vf|=o,e.lanes=o,e.memoizedState=f}}function jO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ot(191,a));a.call(n)}}}var Wv={},rc=Ud(Wv),Gg=Ud(Wv),Kg=Ud(Wv);function Af(e){if(e===Wv)throw Error(ot(174));return e}function VE(e,t){switch(xn(Kg,t),xn(Gg,e),xn(rc,Wv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:EN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=EN(t,e)}Sn(rc),xn(rc,t)}function up(){Sn(rc),Sn(Gg),Sn(Kg)}function Z7(e){Af(Kg.current);var t=Af(rc.current),r=EN(t,e.type);t!==r&&(xn(Gg,e),xn(rc,r))}function GE(e){Gg.current===e&&(Sn(rc),Sn(Gg))}var Fn=Ud(0);function yw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ES=[];function KE(){for(var e=0;e<ES.length;e++)ES[e]._workInProgressVersionPrimary=null;ES.length=0}var O1=gu.ReactCurrentDispatcher,CS=gu.ReactCurrentBatchConfig,qf=0,Bn=null,Fa=null,Ka=null,ww=!1,yg=!1,Yg=0,sre=0;function Es(){throw Error(ot(321))}function YE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bl(e[r],t[r]))return!1;return!0}function XE(e,t,r,n,a,s){if(qf=s,Bn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O1.current=e===null||e.memoizedState===null?cre:ure,e=r(n,a),yg){s=0;do{if(yg=!1,Yg=0,25<=s)throw Error(ot(301));s+=1,Ka=Fa=null,t.updateQueue=null,O1.current=dre,e=r(n,a)}while(yg)}if(O1.current=bw,t=Fa!==null&&Fa.next!==null,qf=0,Ka=Fa=Bn=null,ww=!1,t)throw Error(ot(300));return e}function JE(){var e=Yg!==0;return Yg=0,e}function Vl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ka===null?Bn.memoizedState=Ka=e:Ka=Ka.next=e,Ka}function Ao(){if(Fa===null){var e=Bn.alternate;e=e!==null?e.memoizedState:null}else e=Fa.next;var t=Ka===null?Bn.memoizedState:Ka.next;if(t!==null)Ka=t,Fa=e;else{if(e===null)throw Error(ot(310));Fa=e,e={memoizedState:Fa.memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},Ka===null?Bn.memoizedState=Ka=e:Ka=Ka.next=e}return Ka}function Xg(e,t){return typeof t=="function"?t(e):t}function AS(e){var t=Ao(),r=t.queue;if(r===null)throw Error(ot(311));r.lastRenderedReducer=e;var n=Fa,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((qf&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Bn.lanes|=d,Vf|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,bl(n,t.memoizedState)||(hi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Bn.lanes|=s,Vf|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function PS(e){var t=Ao(),r=t.queue;if(r===null)throw Error(ot(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);bl(s,t.memoizedState)||(hi=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Q7(){}function e9(e,t){var r=Bn,n=Ao(),a=t(),s=!bl(n.memoizedState,a);if(s&&(n.memoizedState=a,hi=!0),n=n.queue,ZE(n9.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ka!==null&&Ka.memoizedState.tag&1){if(r.flags|=2048,Jg(9,r9.bind(null,r,n,a,t),void 0,null),es===null)throw Error(ot(349));qf&30||t9(r,t,a)}return a}function t9(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function r9(e,t,r,n){t.value=r,t.getSnapshot=n,a9(t)&&s9(e)}function n9(e,t,r){return r(function(){a9(t)&&s9(e)})}function a9(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bl(e,r)}catch{return!0}}function s9(e){var t=ru(e,1);t!==null&&vl(t,e,1,-1)}function SO(e){var t=Vl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:e},t.queue=e,e=e.dispatch=lre.bind(null,Bn,e),[t.memoizedState,e]}function Jg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function i9(){return Ao().memoizedState}function R1(e,t,r,n){var a=Vl();Bn.flags|=e,a.memoizedState=Jg(1|t,r,void 0,n===void 0?null:n)}function y2(e,t,r,n){var a=Ao();n=n===void 0?null:n;var s=void 0;if(Fa!==null){var o=Fa.memoizedState;if(s=o.destroy,n!==null&&YE(n,o.deps)){a.memoizedState=Jg(t,r,s,n);return}}Bn.flags|=e,a.memoizedState=Jg(1|t,r,s,n)}function NO(e,t){return R1(8390656,8,e,t)}function ZE(e,t){return y2(2048,8,e,t)}function o9(e,t){return y2(4,2,e,t)}function l9(e,t){return y2(4,4,e,t)}function c9(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u9(e,t,r){return r=r!=null?r.concat([e]):null,y2(4,4,c9.bind(null,t,e),r)}function QE(){}function d9(e,t){var r=Ao();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&YE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function f9(e,t){var r=Ao();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&YE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function h9(e,t,r){return qf&21?(bl(r,t)||(r=x7(),Bn.lanes|=r,Vf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hi=!0),e.memoizedState=r)}function ire(e,t){var r=tn;tn=r!==0&&4>r?r:4,e(!0);var n=CS.transition;CS.transition={};try{e(!1),t()}finally{tn=r,CS.transition=n}}function m9(){return Ao().memoizedState}function ore(e,t,r){var n=wd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},p9(e))g9(t,r);else if(r=X7(e,t,r,n),r!==null){var a=Xs();vl(r,e,n,a),v9(r,t,n)}}function lre(e,t,r){var n=wd(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(p9(e))g9(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,bl(l,o)){var c=t.interleaved;c===null?(a.next=a,HE(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=X7(e,t,a,n),r!==null&&(a=Xs(),vl(r,e,n,a),v9(r,t,n))}}function p9(e){var t=e.alternate;return e===Bn||t!==null&&t===Bn}function g9(e,t){yg=ww=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function v9(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,PE(e,r)}}var bw={readContext:Co,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},cre={readContext:Co,useCallback:function(e,t){return Vl().memoizedState=[e,t===void 0?null:t],e},useContext:Co,useEffect:NO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,R1(4194308,4,c9.bind(null,t,e),r)},useLayoutEffect:function(e,t){return R1(4194308,4,e,t)},useInsertionEffect:function(e,t){return R1(4,2,e,t)},useMemo:function(e,t){var r=Vl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ore.bind(null,Bn,e),[n.memoizedState,e]},useRef:function(e){var t=Vl();return e={current:e},t.memoizedState=e},useState:SO,useDebugValue:QE,useDeferredValue:function(e){return Vl().memoizedState=e},useTransition:function(){var e=SO(!1),t=e[0];return e=ire.bind(null,e[1]),Vl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Bn,a=Vl();if(Rn){if(r===void 0)throw Error(ot(407));r=r()}else{if(r=t(),es===null)throw Error(ot(349));qf&30||t9(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,NO(n9.bind(null,n,s,e),[e]),n.flags|=2048,Jg(9,r9.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Vl(),t=es.identifierPrefix;if(Rn){var r=Wc,n=zc;r=(n&~(1<<32-gl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sre++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ure={readContext:Co,useCallback:d9,useContext:Co,useEffect:ZE,useImperativeHandle:u9,useInsertionEffect:o9,useLayoutEffect:l9,useMemo:f9,useReducer:AS,useRef:i9,useState:function(){return AS(Xg)},useDebugValue:QE,useDeferredValue:function(e){var t=Ao();return h9(t,Fa.memoizedState,e)},useTransition:function(){var e=AS(Xg)[0],t=Ao().memoizedState;return[e,t]},useMutableSource:Q7,useSyncExternalStore:e9,useId:m9,unstable_isNewReconciler:!1},dre={readContext:Co,useCallback:d9,useContext:Co,useEffect:ZE,useImperativeHandle:u9,useInsertionEffect:o9,useLayoutEffect:l9,useMemo:f9,useReducer:PS,useRef:i9,useState:function(){return PS(Xg)},useDebugValue:QE,useDeferredValue:function(e){var t=Ao();return Fa===null?t.memoizedState=e:h9(t,Fa.memoizedState,e)},useTransition:function(){var e=PS(Xg)[0],t=Ao().memoizedState;return[e,t]},useMutableSource:Q7,useSyncExternalStore:e9,useId:m9,unstable_isNewReconciler:!1};function sl(e,t){if(e&&e.defaultProps){t=Un({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function KN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Un({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var w2={isMounted:function(e){return(e=e._reactInternals)?vh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xs(),a=wd(e),s=Kc(n,a);s.payload=t,r!=null&&(s.callback=r),t=xd(e,s,a),t!==null&&(vl(t,e,a,n),T1(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xs(),a=wd(e),s=Kc(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=xd(e,s,a),t!==null&&(vl(t,e,a,n),T1(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xs(),n=wd(e),a=Kc(r,n);a.tag=2,t!=null&&(a.callback=t),t=xd(e,a,n),t!==null&&(vl(t,e,n,r),T1(t,e,n))}};function kO(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Wg(r,n)||!Wg(a,s):!0}function x9(e,t,r){var n=!1,a=Ed,s=t.contextType;return typeof s=="object"&&s!==null?s=Co(s):(a=vi(t)?Wf:$s.current,n=t.contextTypes,s=(n=n!=null)?op(e,a):Ed),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=w2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function EO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&w2.enqueueReplaceState(t,t.state,null)}function YN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},qE(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Co(s):(s=vi(t)?Wf:$s.current,a.context=op(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(KN(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&w2.enqueueReplaceState(a,a.state,null),xw(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function dp(e,t){try{var r="",n=t;do r+=$ee(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function TS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function XN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fre=typeof WeakMap=="function"?WeakMap:Map;function y9(e,t,r){r=Kc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){jw||(jw=!0,ik=n),XN(e,t)},r}function w9(e,t,r){r=Kc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){XN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){XN(e,t),typeof n!="function"&&(yd===null?yd=new Set([this]):yd.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function CO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fre;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=kre.bind(null,e,t,r),t.then(e,e))}function AO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function PO(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Kc(-1,1),t.tag=2,xd(r,t,1))),r.lanes|=1),e)}var hre=gu.ReactCurrentOwner,hi=!1;function qs(e,t,r,n){t.child=e===null?Y7(t,null,r,n):cp(t,e.child,r,n)}function TO(e,t,r,n,a){r=r.render;var s=t.ref;return Hm(t,a),n=XE(e,t,r,n,s,a),r=JE(),e!==null&&!hi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,nu(e,t,a)):(Rn&&r&&FE(t),t.flags|=1,qs(e,t,n,a),t.child)}function OO(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!oC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,b9(e,t,s,n,a)):(e=M1(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Wg,r(o,n)&&e.ref===t.ref)return nu(e,t,a)}return t.flags|=1,e=bd(s,n),e.ref=t.ref,e.return=t,t.child=e}function b9(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Wg(s,n)&&e.ref===t.ref)if(hi=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(hi=!0);else return t.lanes=e.lanes,nu(e,t,a)}return JN(e,t,r,n,a)}function _9(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xn(Rm,Li),Li|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xn(Rm,Li),Li|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,xn(Rm,Li),Li|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,xn(Rm,Li),Li|=n;return qs(e,t,a,r),t.child}function j9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function JN(e,t,r,n,a){var s=vi(r)?Wf:$s.current;return s=op(t,s),Hm(t,a),r=XE(e,t,r,n,s,a),n=JE(),e!==null&&!hi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,nu(e,t,a)):(Rn&&n&&FE(t),t.flags|=1,qs(e,t,r,a),t.child)}function RO(e,t,r,n,a){if(vi(r)){var s=!0;hw(t)}else s=!1;if(Hm(t,a),t.stateNode===null)I1(e,t),x9(t,r,n),YN(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Co(u):(u=vi(r)?Wf:$s.current,u=op(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&EO(t,o,n,u),Qu=!1;var m=t.memoizedState;o.state=m,xw(t,n,o,a),c=t.memoizedState,l!==n||m!==c||gi.current||Qu?(typeof d=="function"&&(KN(t,r,d,n),c=t.memoizedState),(l=Qu||kO(t,r,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,J7(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:sl(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Co(c):(c=vi(r)?Wf:$s.current,c=op(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&EO(t,o,n,c),Qu=!1,m=t.memoizedState,o.state=m,xw(t,n,o,a);var v=t.memoizedState;l!==f||m!==v||gi.current||Qu?(typeof h=="function"&&(KN(t,r,h,n),v=t.memoizedState),(u=Qu||kO(t,r,u,n,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return ZN(e,t,r,n,s,a)}function ZN(e,t,r,n,a,s){j9(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&xO(t,r,!1),nu(e,t,s);n=t.stateNode,hre.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=cp(t,e.child,null,s),t.child=cp(t,null,l,s)):qs(e,t,l,s),t.memoizedState=n.state,a&&xO(t,r,!0),t.child}function S9(e){var t=e.stateNode;t.pendingContext?vO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vO(e,t.context,!1),VE(e,t.containerInfo)}function IO(e,t,r,n,a){return lp(),BE(a),t.flags|=256,qs(e,t,r,n),t.child}var QN={dehydrated:null,treeContext:null,retryLane:0};function ek(e){return{baseLanes:e,cachePool:null,transitions:null}}function N9(e,t,r){var n=t.pendingProps,a=Fn.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),xn(Fn,a&1),e===null)return VN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=j2(o,n,0,null),e=Lf(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ek(r),t.memoizedState=QN,e):eC(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return mre(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=bd(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=bd(l,s):(s=Lf(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?ek(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=QN,n}return s=e.child,e=s.sibling,n=bd(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function eC(e,t){return t=j2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sy(e,t,r,n){return n!==null&&BE(n),cp(t,e.child,null,r),e=eC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mre(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=TS(Error(ot(422))),Sy(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=j2({mode:"visible",children:n.children},a,0,null),s=Lf(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&cp(t,e.child,null,o),t.child.memoizedState=ek(o),t.memoizedState=QN,s);if(!(t.mode&1))return Sy(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ot(419)),n=TS(s,n,void 0),Sy(e,t,o,n)}if(l=(o&e.childLanes)!==0,hi||l){if(n=es,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,ru(e,a),vl(n,e,a,-1))}return iC(),n=TS(Error(ot(421))),Sy(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Ere.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Hi=vd(a.nextSibling),Yi=t,Rn=!0,cl=null,e!==null&&(wo[bo++]=zc,wo[bo++]=Wc,wo[bo++]=Hf,zc=e.id,Wc=e.overflow,Hf=t),t=eC(t,n.children),t.flags|=4096,t)}function DO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),GN(e.return,t,r)}function OS(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function k9(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(qs(e,t,n.children,r),n=Fn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&DO(e,r,t);else if(e.tag===19)DO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xn(Fn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&yw(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),OS(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&yw(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}OS(t,!0,r,null,s);break;case"together":OS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function I1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ot(153));if(t.child!==null){for(e=t.child,r=bd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pre(e,t,r){switch(t.tag){case 3:S9(t),lp();break;case 5:Z7(t);break;case 1:vi(t.type)&&hw(t);break;case 4:VE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;xn(gw,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(xn(Fn,Fn.current&1),t.flags|=128,null):r&t.child.childLanes?N9(e,t,r):(xn(Fn,Fn.current&1),e=nu(e,t,r),e!==null?e.sibling:null);xn(Fn,Fn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return k9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xn(Fn,Fn.current),n)break;return null;case 22:case 23:return t.lanes=0,_9(e,t,r)}return nu(e,t,r)}var E9,tk,C9,A9;E9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tk=function(){};C9=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Af(rc.current);var s=null;switch(r){case"input":a=jN(e,a),n=jN(e,n),s=[];break;case"select":a=Un({},a,{value:void 0}),n=Un({},n,{value:void 0}),s=[];break;case"textarea":a=kN(e,a),n=kN(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=dw)}CN(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&bn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};A9=function(e,t,r,n){r!==n&&(t.flags|=4)};function F0(e,t){if(!Rn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Cs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gre(e,t,r){var n=t.pendingProps;switch($E(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cs(t),null;case 1:return vi(t.type)&&fw(),Cs(t),null;case 3:return n=t.stateNode,up(),Sn(gi),Sn($s),KE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_y(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cl!==null&&(ck(cl),cl=null))),tk(e,t),Cs(t),null;case 5:GE(t);var a=Af(Kg.current);if(r=t.type,e!==null&&t.stateNode!=null)C9(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ot(166));return Cs(t),null}if(e=Af(rc.current),_y(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Yl]=t,n[Vg]=s,e=(t.mode&1)!==0,r){case"dialog":bn("cancel",n),bn("close",n);break;case"iframe":case"object":case"embed":bn("load",n);break;case"video":case"audio":for(a=0;a<ig.length;a++)bn(ig[a],n);break;case"source":bn("error",n);break;case"img":case"image":case"link":bn("error",n),bn("load",n);break;case"details":bn("toggle",n);break;case"input":HT(n,s),bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},bn("invalid",n);break;case"textarea":VT(n,s),bn("invalid",n)}CN(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&by(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&by(n.textContent,l,e),a=["children",""+l]):Lg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&bn("scroll",n)}switch(r){case"input":hy(n),qT(n,s,!0);break;case"textarea":hy(n),GT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=dw)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=n7(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Yl]=t,e[Vg]=n,E9(e,t,!1,!1),t.stateNode=e;e:{switch(o=AN(r,n),r){case"dialog":bn("cancel",e),bn("close",e),a=n;break;case"iframe":case"object":case"embed":bn("load",e),a=n;break;case"video":case"audio":for(a=0;a<ig.length;a++)bn(ig[a],e);a=n;break;case"source":bn("error",e),a=n;break;case"img":case"image":case"link":bn("error",e),bn("load",e),a=n;break;case"details":bn("toggle",e),a=n;break;case"input":HT(e,n),a=jN(e,n),bn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Un({},n,{value:void 0}),bn("invalid",e);break;case"textarea":VT(e,n),a=kN(e,n),bn("invalid",e);break;default:a=n}CN(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?i7(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&a7(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mg(e,c):typeof c=="number"&&Mg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lg.hasOwnProperty(s)?c!=null&&s==="onScroll"&&bn("scroll",e):c!=null&&SE(e,s,c,o))}switch(r){case"input":hy(e),qT(e,n,!1);break;case"textarea":hy(e),GT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+kd(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Bm(e,!!n.multiple,s,!1):n.defaultValue!=null&&Bm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=dw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Cs(t),null;case 6:if(e&&t.stateNode!=null)A9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ot(166));if(r=Af(Kg.current),Af(rc.current),_y(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yl]=t,(s=n.nodeValue!==r)&&(e=Yi,e!==null))switch(e.tag){case 3:by(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&by(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yl]=t,t.stateNode=n}return Cs(t),null;case 13:if(Sn(Fn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rn&&Hi!==null&&t.mode&1&&!(t.flags&128))G7(),lp(),t.flags|=98560,s=!1;else if(s=_y(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ot(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ot(317));s[Yl]=t}else lp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Cs(t),s=!1}else cl!==null&&(ck(cl),cl=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fn.current&1?Ba===0&&(Ba=3):iC())),t.updateQueue!==null&&(t.flags|=4),Cs(t),null);case 4:return up(),tk(e,t),e===null&&Hg(t.stateNode.containerInfo),Cs(t),null;case 10:return WE(t.type._context),Cs(t),null;case 17:return vi(t.type)&&fw(),Cs(t),null;case 19:if(Sn(Fn),s=t.memoizedState,s===null)return Cs(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)F0(s,!1);else{if(Ba!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yw(e),o!==null){for(t.flags|=128,F0(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xn(Fn,Fn.current&1|2),t.child}e=e.sibling}s.tail!==null&&da()>fp&&(t.flags|=128,n=!0,F0(s,!1),t.lanes=4194304)}else{if(!n)if(e=yw(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),F0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Rn)return Cs(t),null}else 2*da()-s.renderingStartTime>fp&&r!==1073741824&&(t.flags|=128,n=!0,F0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=da(),t.sibling=null,r=Fn.current,xn(Fn,n?r&1|2:r&1),t):(Cs(t),null);case 22:case 23:return sC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Li&1073741824&&(Cs(t),t.subtreeFlags&6&&(t.flags|=8192)):Cs(t),null;case 24:return null;case 25:return null}throw Error(ot(156,t.tag))}function vre(e,t){switch($E(t),t.tag){case 1:return vi(t.type)&&fw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return up(),Sn(gi),Sn($s),KE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return GE(t),null;case 13:if(Sn(Fn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ot(340));lp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Sn(Fn),null;case 4:return up(),null;case 10:return WE(t.type._context),null;case 22:case 23:return sC(),null;case 24:return null;default:return null}}var Ny=!1,Is=!1,xre=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function Om(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zn(e,t,n)}else r.current=null}function rk(e,t,r){try{r()}catch(n){Zn(e,t,n)}}var LO=!1;function yre(e,t){if($N=lw,e=I7(),ME(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++u===a&&(l=o),m===s&&++d===n&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(BN={focusedElem:e,selectionRange:r},lw=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){t=Ct;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:sl(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ot(163))}}catch(w){Zn(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}return v=LO,LO=!1,v}function wg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&rk(t,r,s)}a=a.next}while(a!==n)}}function b2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function nk(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function P9(e){var t=e.alternate;t!==null&&(e.alternate=null,P9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yl],delete t[Vg],delete t[WN],delete t[tre],delete t[rre])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function T9(e){return e.tag===5||e.tag===3||e.tag===4}function MO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||T9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ak(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=dw));else if(n!==4&&(e=e.child,e!==null))for(ak(e,t,r),e=e.sibling;e!==null;)ak(e,t,r),e=e.sibling}function sk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sk(e,t,r),e=e.sibling;e!==null;)sk(e,t,r),e=e.sibling}var ms=null,ol=!1;function Hu(e,t,r){for(r=r.child;r!==null;)O9(e,t,r),r=r.sibling}function O9(e,t,r){if(tc&&typeof tc.onCommitFiberUnmount=="function")try{tc.onCommitFiberUnmount(h2,r)}catch{}switch(r.tag){case 5:Is||Om(r,t);case 6:var n=ms,a=ol;ms=null,Hu(e,t,r),ms=n,ol=a,ms!==null&&(ol?(e=ms,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ms.removeChild(r.stateNode));break;case 18:ms!==null&&(ol?(e=ms,r=r.stateNode,e.nodeType===8?NS(e.parentNode,r):e.nodeType===1&&NS(e,r),Ug(e)):NS(ms,r.stateNode));break;case 4:n=ms,a=ol,ms=r.stateNode.containerInfo,ol=!0,Hu(e,t,r),ms=n,ol=a;break;case 0:case 11:case 14:case 15:if(!Is&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rk(r,t,o),a=a.next}while(a!==n)}Hu(e,t,r);break;case 1:if(!Is&&(Om(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Zn(r,t,l)}Hu(e,t,r);break;case 21:Hu(e,t,r);break;case 22:r.mode&1?(Is=(n=Is)||r.memoizedState!==null,Hu(e,t,r),Is=n):Hu(e,t,r);break;default:Hu(e,t,r)}}function FO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xre),t.forEach(function(n){var a=Cre.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Zo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ms=l.stateNode,ol=!1;break e;case 3:ms=l.stateNode.containerInfo,ol=!0;break e;case 4:ms=l.stateNode.containerInfo,ol=!0;break e}l=l.return}if(ms===null)throw Error(ot(160));O9(s,o,a),ms=null,ol=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Zn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)R9(t,e),t=t.sibling}function R9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zo(t,e),Fl(e),n&4){try{wg(3,e,e.return),b2(3,e)}catch(g){Zn(e,e.return,g)}try{wg(5,e,e.return)}catch(g){Zn(e,e.return,g)}}break;case 1:Zo(t,e),Fl(e),n&512&&r!==null&&Om(r,r.return);break;case 5:if(Zo(t,e),Fl(e),n&512&&r!==null&&Om(r,r.return),e.flags&32){var a=e.stateNode;try{Mg(a,"")}catch(g){Zn(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&t7(a,s),AN(l,o);var u=AN(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?i7(a,f):d==="dangerouslySetInnerHTML"?a7(a,f):d==="children"?Mg(a,f):SE(a,d,f,u)}switch(l){case"input":SN(a,s);break;case"textarea":r7(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Bm(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?Bm(a,!!s.multiple,s.defaultValue,!0):Bm(a,!!s.multiple,s.multiple?[]:"",!1))}a[Vg]=s}catch(g){Zn(e,e.return,g)}}break;case 6:if(Zo(t,e),Fl(e),n&4){if(e.stateNode===null)throw Error(ot(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Zn(e,e.return,g)}}break;case 3:if(Zo(t,e),Fl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ug(t.containerInfo)}catch(g){Zn(e,e.return,g)}break;case 4:Zo(t,e),Fl(e);break;case 13:Zo(t,e),Fl(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(nC=da())),n&4&&FO(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Is=(u=Is)||d,Zo(t,e),Is=u):Zo(t,e),Fl(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ct=e,d=e.child;d!==null;){for(f=Ct=d;Ct!==null;){switch(m=Ct,h=m.child,m.tag){case 0:case 11:case 14:case 15:wg(4,m,m.return);break;case 1:Om(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Zn(n,r,g)}}break;case 5:Om(m,m.return);break;case 22:if(m.memoizedState!==null){BO(f);continue}}h!==null?(h.return=m,Ct=h):BO(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=s7("display",o))}catch(g){Zn(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Zn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zo(t,e),Fl(e),n&4&&FO(e);break;case 21:break;default:Zo(t,e),Fl(e)}}function Fl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(T9(r)){var n=r;break e}r=r.return}throw Error(ot(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Mg(a,""),n.flags&=-33);var s=MO(e);sk(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=MO(e);ak(e,l,o);break;default:throw Error(ot(161))}}catch(c){Zn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wre(e,t,r){Ct=e,I9(e)}function I9(e,t,r){for(var n=(e.mode&1)!==0;Ct!==null;){var a=Ct,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ny;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Is;l=Ny;var u=Is;if(Ny=o,(Is=c)&&!u)for(Ct=a;Ct!==null;)o=Ct,c=o.child,o.tag===22&&o.memoizedState!==null?UO(a):c!==null?(c.return=o,Ct=c):UO(a);for(;s!==null;)Ct=s,I9(s),s=s.sibling;Ct=a,Ny=l,Is=u}$O(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Ct=s):$O(e)}}function $O(e){for(;Ct!==null;){var t=Ct;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Is||b2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Is)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:sl(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&jO(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jO(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ug(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ot(163))}Is||t.flags&512&&nk(t)}catch(m){Zn(t,t.return,m)}}if(t===e){Ct=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ct=r;break}Ct=t.return}}function BO(e){for(;Ct!==null;){var t=Ct;if(t===e){Ct=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ct=r;break}Ct=t.return}}function UO(e){for(;Ct!==null;){var t=Ct;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{b2(4,t)}catch(c){Zn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Zn(t,a,c)}}var s=t.return;try{nk(t)}catch(c){Zn(t,s,c)}break;case 5:var o=t.return;try{nk(t)}catch(c){Zn(t,o,c)}}}catch(c){Zn(t,t.return,c)}if(t===e){Ct=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ct=l;break}Ct=t.return}}var bre=Math.ceil,_w=gu.ReactCurrentDispatcher,tC=gu.ReactCurrentOwner,So=gu.ReactCurrentBatchConfig,Ir=0,es=null,_a=null,ys=0,Li=0,Rm=Ud(0),Ba=0,Zg=null,Vf=0,_2=0,rC=0,bg=null,fi=null,nC=0,fp=1/0,Lc=null,jw=!1,ik=null,yd=null,ky=!1,ld=null,Sw=0,_g=0,ok=null,D1=-1,L1=0;function Xs(){return Ir&6?da():D1!==-1?D1:D1=da()}function wd(e){return e.mode&1?Ir&2&&ys!==0?ys&-ys:are.transition!==null?(L1===0&&(L1=x7()),L1):(e=tn,e!==0||(e=window.event,e=e===void 0?16:N7(e.type)),e):1}function vl(e,t,r,n){if(50<_g)throw _g=0,ok=null,Error(ot(185));Bv(e,r,n),(!(Ir&2)||e!==es)&&(e===es&&(!(Ir&2)&&(_2|=r),Ba===4&&ad(e,ys)),xi(e,n),r===1&&Ir===0&&!(t.mode&1)&&(fp=da()+500,x2&&zd()))}function xi(e,t){var r=e.callbackNode;ate(e,t);var n=ow(e,e===es?ys:0);if(n===0)r!==null&&XT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&XT(r),t===1)e.tag===0?nre(zO.bind(null,e)):H7(zO.bind(null,e)),Qte(function(){!(Ir&6)&&zd()}),r=null;else{switch(y7(n)){case 1:r=AE;break;case 4:r=g7;break;case 16:r=iw;break;case 536870912:r=v7;break;default:r=iw}r=z9(r,D9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function D9(e,t){if(D1=-1,L1=0,Ir&6)throw Error(ot(327));var r=e.callbackNode;if(qm()&&e.callbackNode!==r)return null;var n=ow(e,e===es?ys:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Nw(e,n);else{t=n;var a=Ir;Ir|=2;var s=M9();(es!==e||ys!==t)&&(Lc=null,fp=da()+500,Df(e,t));do try{Sre();break}catch(l){L9(e,l)}while(!0);zE(),_w.current=s,Ir=a,_a!==null?t=0:(es=null,ys=0,t=Ba)}if(t!==0){if(t===2&&(a=IN(e),a!==0&&(n=a,t=lk(e,a))),t===1)throw r=Zg,Df(e,0),ad(e,n),xi(e,da()),r;if(t===6)ad(e,n);else{if(a=e.current.alternate,!(n&30)&&!_re(a)&&(t=Nw(e,n),t===2&&(s=IN(e),s!==0&&(n=s,t=lk(e,s))),t===1))throw r=Zg,Df(e,0),ad(e,n),xi(e,da()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ot(345));case 2:gf(e,fi,Lc);break;case 3:if(ad(e,n),(n&130023424)===n&&(t=nC+500-da(),10<t)){if(ow(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Xs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=zN(gf.bind(null,e,fi,Lc),t);break}gf(e,fi,Lc);break;case 4:if(ad(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-gl(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=da()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bre(n/1960))-n,10<n){e.timeoutHandle=zN(gf.bind(null,e,fi,Lc),n);break}gf(e,fi,Lc);break;case 5:gf(e,fi,Lc);break;default:throw Error(ot(329))}}}return xi(e,da()),e.callbackNode===r?D9.bind(null,e):null}function lk(e,t){var r=bg;return e.current.memoizedState.isDehydrated&&(Df(e,t).flags|=256),e=Nw(e,t),e!==2&&(t=fi,fi=r,t!==null&&ck(t)),e}function ck(e){fi===null?fi=e:fi.push.apply(fi,e)}function _re(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!bl(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ad(e,t){for(t&=~rC,t&=~_2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gl(t),n=1<<r;e[r]=-1,t&=~n}}function zO(e){if(Ir&6)throw Error(ot(327));qm();var t=ow(e,0);if(!(t&1))return xi(e,da()),null;var r=Nw(e,t);if(e.tag!==0&&r===2){var n=IN(e);n!==0&&(t=n,r=lk(e,n))}if(r===1)throw r=Zg,Df(e,0),ad(e,t),xi(e,da()),r;if(r===6)throw Error(ot(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gf(e,fi,Lc),xi(e,da()),null}function aC(e,t){var r=Ir;Ir|=1;try{return e(t)}finally{Ir=r,Ir===0&&(fp=da()+500,x2&&zd())}}function Gf(e){ld!==null&&ld.tag===0&&!(Ir&6)&&qm();var t=Ir;Ir|=1;var r=So.transition,n=tn;try{if(So.transition=null,tn=1,e)return e()}finally{tn=n,So.transition=r,Ir=t,!(Ir&6)&&zd()}}function sC(){Li=Rm.current,Sn(Rm)}function Df(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zte(r)),_a!==null)for(r=_a.return;r!==null;){var n=r;switch($E(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fw();break;case 3:up(),Sn(gi),Sn($s),KE();break;case 5:GE(n);break;case 4:up();break;case 13:Sn(Fn);break;case 19:Sn(Fn);break;case 10:WE(n.type._context);break;case 22:case 23:sC()}r=r.return}if(es=e,_a=e=bd(e.current,null),ys=Li=t,Ba=0,Zg=null,rC=_2=Vf=0,fi=bg=null,Cf!==null){for(t=0;t<Cf.length;t++)if(r=Cf[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}Cf=null}return e}function L9(e,t){do{var r=_a;try{if(zE(),O1.current=bw,ww){for(var n=Bn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ww=!1}if(qf=0,Ka=Fa=Bn=null,yg=!1,Yg=0,tC.current=null,r===null||r.return===null){Ba=1,Zg=t,_a=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=ys,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=AO(o);if(h!==null){h.flags&=-257,PO(h,o,l,s,t),h.mode&1&&CO(s,u,t),t=h,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){CO(s,u,t),iC();break e}c=Error(ot(426))}}else if(Rn&&l.mode&1){var y=AO(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),PO(y,o,l,s,t),BE(dp(c,l));break e}}s=c=dp(c,l),Ba!==4&&(Ba=2),bg===null?bg=[s]:bg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=y9(s,c,t);_O(s,x);break e;case 1:l=c;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(yd===null||!yd.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=w9(s,l,t);_O(s,w);break e}}s=s.return}while(s!==null)}$9(r)}catch(N){t=N,_a===r&&r!==null&&(_a=r=r.return);continue}break}while(!0)}function M9(){var e=_w.current;return _w.current=bw,e===null?bw:e}function iC(){(Ba===0||Ba===3||Ba===2)&&(Ba=4),es===null||!(Vf&268435455)&&!(_2&268435455)||ad(es,ys)}function Nw(e,t){var r=Ir;Ir|=2;var n=M9();(es!==e||ys!==t)&&(Lc=null,Df(e,t));do try{jre();break}catch(a){L9(e,a)}while(!0);if(zE(),Ir=r,_w.current=n,_a!==null)throw Error(ot(261));return es=null,ys=0,Ba}function jre(){for(;_a!==null;)F9(_a)}function Sre(){for(;_a!==null&&!Yee();)F9(_a)}function F9(e){var t=U9(e.alternate,e,Li);e.memoizedProps=e.pendingProps,t===null?$9(e):_a=t,tC.current=null}function $9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vre(r,t),r!==null){r.flags&=32767,_a=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ba=6,_a=null;return}}else if(r=gre(r,t,Li),r!==null){_a=r;return}if(t=t.sibling,t!==null){_a=t;return}_a=t=e}while(t!==null);Ba===0&&(Ba=5)}function gf(e,t,r){var n=tn,a=So.transition;try{So.transition=null,tn=1,Nre(e,t,r,n)}finally{So.transition=a,tn=n}return null}function Nre(e,t,r,n){do qm();while(ld!==null);if(Ir&6)throw Error(ot(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ot(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(ste(e,s),e===es&&(_a=es=null,ys=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ky||(ky=!0,z9(iw,function(){return qm(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=So.transition,So.transition=null;var o=tn;tn=1;var l=Ir;Ir|=4,tC.current=null,yre(e,r),R9(r,e),qte(BN),lw=!!$N,BN=$N=null,e.current=r,wre(r),Xee(),Ir=l,tn=o,So.transition=s}else e.current=r;if(ky&&(ky=!1,ld=e,Sw=a),s=e.pendingLanes,s===0&&(yd=null),Qee(r.stateNode),xi(e,da()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(jw)throw jw=!1,e=ik,ik=null,e;return Sw&1&&e.tag!==0&&qm(),s=e.pendingLanes,s&1?e===ok?_g++:(_g=0,ok=e):_g=0,zd(),null}function qm(){if(ld!==null){var e=y7(Sw),t=So.transition,r=tn;try{if(So.transition=null,tn=16>e?16:e,ld===null)var n=!1;else{if(e=ld,ld=null,Sw=0,Ir&6)throw Error(ot(331));var a=Ir;for(Ir|=4,Ct=e.current;Ct!==null;){var s=Ct,o=s.child;if(Ct.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ct=u;Ct!==null;){var d=Ct;switch(d.tag){case 0:case 11:case 15:wg(8,d,s)}var f=d.child;if(f!==null)f.return=d,Ct=f;else for(;Ct!==null;){d=Ct;var m=d.sibling,h=d.return;if(P9(d),d===u){Ct=null;break}if(m!==null){m.return=h,Ct=m;break}Ct=h}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ct=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ct=o;else e:for(;Ct!==null;){if(s=Ct,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wg(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Ct=x;break e}Ct=s.return}}var b=e.current;for(Ct=b;Ct!==null;){o=Ct;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ct=_;else e:for(o=b;Ct!==null;){if(l=Ct,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:b2(9,l)}}catch(N){Zn(l,l.return,N)}if(l===o){Ct=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Ct=w;break e}Ct=l.return}}if(Ir=a,zd(),tc&&typeof tc.onPostCommitFiberRoot=="function")try{tc.onPostCommitFiberRoot(h2,e)}catch{}n=!0}return n}finally{tn=r,So.transition=t}}return!1}function WO(e,t,r){t=dp(r,t),t=y9(e,t,1),e=xd(e,t,1),t=Xs(),e!==null&&(Bv(e,1,t),xi(e,t))}function Zn(e,t,r){if(e.tag===3)WO(e,e,r);else for(;t!==null;){if(t.tag===3){WO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yd===null||!yd.has(n))){e=dp(r,e),e=w9(t,e,1),t=xd(t,e,1),e=Xs(),t!==null&&(Bv(t,1,e),xi(t,e));break}}t=t.return}}function kre(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&r,es===e&&(ys&r)===r&&(Ba===4||Ba===3&&(ys&130023424)===ys&&500>da()-nC?Df(e,0):rC|=r),xi(e,t)}function B9(e,t){t===0&&(e.mode&1?(t=gy,gy<<=1,!(gy&130023424)&&(gy=4194304)):t=1);var r=Xs();e=ru(e,t),e!==null&&(Bv(e,t,r),xi(e,r))}function Ere(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),B9(e,r)}function Cre(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ot(314))}n!==null&&n.delete(t),B9(e,r)}var U9;U9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gi.current)hi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hi=!1,pre(e,t,r);hi=!!(e.flags&131072)}else hi=!1,Rn&&t.flags&1048576&&q7(t,pw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;I1(e,t),e=t.pendingProps;var a=op(t,$s.current);Hm(t,r),a=XE(null,t,n,e,a,r);var s=JE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(n)?(s=!0,hw(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,qE(t),a.updater=w2,t.stateNode=a,a._reactInternals=t,YN(t,n,e,r),t=ZN(null,t,n,!0,s,r)):(t.tag=0,Rn&&s&&FE(t),qs(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(I1(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Pre(n),e=sl(n,e),a){case 0:t=JN(null,t,n,e,r);break e;case 1:t=RO(null,t,n,e,r);break e;case 11:t=TO(null,t,n,e,r);break e;case 14:t=OO(null,t,n,sl(n.type,e),r);break e}throw Error(ot(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sl(n,a),JN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sl(n,a),RO(e,t,n,a,r);case 3:e:{if(S9(t),e===null)throw Error(ot(387));n=t.pendingProps,s=t.memoizedState,a=s.element,J7(e,t),xw(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=dp(Error(ot(423)),t),t=IO(e,t,n,r,a);break e}else if(n!==a){a=dp(Error(ot(424)),t),t=IO(e,t,n,r,a);break e}else for(Hi=vd(t.stateNode.containerInfo.firstChild),Yi=t,Rn=!0,cl=null,r=Y7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lp(),n===a){t=nu(e,t,r);break e}qs(e,t,n,r)}t=t.child}return t;case 5:return Z7(t),e===null&&VN(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,UN(n,a)?o=null:s!==null&&UN(n,s)&&(t.flags|=32),j9(e,t),qs(e,t,o,r),t.child;case 6:return e===null&&VN(t),null;case 13:return N9(e,t,r);case 4:return VE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cp(t,null,n,r):qs(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sl(n,a),TO(e,t,n,a,r);case 7:return qs(e,t,t.pendingProps,r),t.child;case 8:return qs(e,t,t.pendingProps.children,r),t.child;case 12:return qs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,xn(gw,n._currentValue),n._currentValue=o,s!==null)if(bl(s.value,o)){if(s.children===a.children&&!gi.current){t=nu(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Kc(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),GN(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ot(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),GN(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qs(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Hm(t,r),a=Co(a),n=n(a),t.flags|=1,qs(e,t,n,r),t.child;case 14:return n=t.type,a=sl(n,t.pendingProps),a=sl(n.type,a),OO(e,t,n,a,r);case 15:return b9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sl(n,a),I1(e,t),t.tag=1,vi(n)?(e=!0,hw(t)):e=!1,Hm(t,r),x9(t,n,a),YN(t,n,a,r),ZN(null,t,n,!0,e,r);case 19:return k9(e,t,r);case 22:return _9(e,t,r)}throw Error(ot(156,t.tag))};function z9(e,t){return p7(e,t)}function Are(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(e,t,r,n){return new Are(e,t,r,n)}function oC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pre(e){if(typeof e=="function")return oC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kE)return 11;if(e===EE)return 14}return 2}function bd(e,t){var r=e.alternate;return r===null?(r=_o(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function M1(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")oC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jm:return Lf(r.children,a,s,t);case NE:o=8,a|=8;break;case yN:return e=_o(12,r,t,a|2),e.elementType=yN,e.lanes=s,e;case wN:return e=_o(13,r,t,a),e.elementType=wN,e.lanes=s,e;case bN:return e=_o(19,r,t,a),e.elementType=bN,e.lanes=s,e;case ZF:return j2(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XF:o=10;break e;case JF:o=9;break e;case kE:o=11;break e;case EE:o=14;break e;case Zu:o=16,n=null;break e}throw Error(ot(130,e==null?e:typeof e,""))}return t=_o(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Lf(e,t,r,n){return e=_o(7,e,n,t),e.lanes=r,e}function j2(e,t,r,n){return e=_o(22,e,n,t),e.elementType=ZF,e.lanes=r,e.stateNode={isHidden:!1},e}function RS(e,t,r){return e=_o(6,e,null,t),e.lanes=r,e}function IS(e,t,r){return t=_o(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tre(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mS(0),this.expirationTimes=mS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mS(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function lC(e,t,r,n,a,s,o,l,c){return e=new Tre(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=_o(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qE(s),e}function Ore(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_m,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function W9(e){if(!e)return Ed;e=e._reactInternals;e:{if(vh(e)!==e||e.tag!==1)throw Error(ot(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ot(171))}if(e.tag===1){var r=e.type;if(vi(r))return W7(e,r,t)}return t}function H9(e,t,r,n,a,s,o,l,c){return e=lC(r,n,!0,e,a,s,o,l,c),e.context=W9(null),r=e.current,n=Xs(),a=wd(r),s=Kc(n,a),s.callback=t??null,xd(r,s,a),e.current.lanes=a,Bv(e,a,n),xi(e,n),e}function S2(e,t,r,n){var a=t.current,s=Xs(),o=wd(a);return r=W9(r),t.context===null?t.context=r:t.pendingContext=r,t=Kc(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xd(a,t,o),e!==null&&(vl(e,a,o,s),T1(e,a,o)),o}function kw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function HO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cC(e,t){HO(e,t),(e=e.alternate)&&HO(e,t)}function Rre(){return null}var q9=typeof reportError=="function"?reportError:function(e){console.error(e)};function uC(e){this._internalRoot=e}N2.prototype.render=uC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ot(409));S2(e,t,null,null)};N2.prototype.unmount=uC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gf(function(){S2(null,e,null,null)}),t[tu]=null}};function N2(e){this._internalRoot=e}N2.prototype.unstable_scheduleHydration=function(e){if(e){var t=_7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<nd.length&&t!==0&&t<nd[r].priority;r++);nd.splice(r,0,e),r===0&&S7(e)}};function dC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function k2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qO(){}function Ire(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=kw(o);s.call(u)}}var o=H9(t,n,e,0,null,!1,!1,"",qO);return e._reactRootContainer=o,e[tu]=o.current,Hg(e.nodeType===8?e.parentNode:e),Gf(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=kw(c);l.call(u)}}var c=lC(e,0,!1,null,null,!1,!1,"",qO);return e._reactRootContainer=c,e[tu]=c.current,Hg(e.nodeType===8?e.parentNode:e),Gf(function(){S2(t,c,r,n)}),c}function E2(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=kw(o);l.call(c)}}S2(t,o,e,a)}else o=Ire(r,t,e,a,n);return kw(o)}w7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sg(t.pendingLanes);r!==0&&(PE(t,r|1),xi(t,da()),!(Ir&6)&&(fp=da()+500,zd()))}break;case 13:Gf(function(){var n=ru(e,1);if(n!==null){var a=Xs();vl(n,e,1,a)}}),cC(e,1)}};TE=function(e){if(e.tag===13){var t=ru(e,134217728);if(t!==null){var r=Xs();vl(t,e,134217728,r)}cC(e,134217728)}};b7=function(e){if(e.tag===13){var t=wd(e),r=ru(e,t);if(r!==null){var n=Xs();vl(r,e,t,n)}cC(e,t)}};_7=function(){return tn};j7=function(e,t){var r=tn;try{return tn=e,t()}finally{tn=r}};TN=function(e,t,r){switch(t){case"input":if(SN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=v2(n);if(!a)throw Error(ot(90));e7(n),SN(n,a)}}}break;case"textarea":r7(e,r);break;case"select":t=r.value,t!=null&&Bm(e,!!r.multiple,t,!1)}};c7=aC;u7=Gf;var Dre={usingClientEntryPoint:!1,Events:[zv,Em,v2,o7,l7,aC]},$0={findFiberByHostInstance:Ef,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lre={bundleType:$0.bundleType,version:$0.version,rendererPackageName:$0.rendererPackageName,rendererConfig:$0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h7(e),e===null?null:e.stateNode},findFiberByHostInstance:$0.findFiberByHostInstance||Rre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ey=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ey.isDisabled&&Ey.supportsFiber)try{h2=Ey.inject(Lre),tc=Ey}catch{}}no.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dre;no.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dC(t))throw Error(ot(200));return Ore(e,t,null,r)};no.createRoot=function(e,t){if(!dC(e))throw Error(ot(299));var r=!1,n="",a=q9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=lC(e,1,!1,null,null,r,!1,n,a),e[tu]=t.current,Hg(e.nodeType===8?e.parentNode:e),new uC(t)};no.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ot(188)):(e=Object.keys(e).join(","),Error(ot(268,e)));return e=h7(t),e=e===null?null:e.stateNode,e};no.flushSync=function(e){return Gf(e)};no.hydrate=function(e,t,r){if(!k2(t))throw Error(ot(200));return E2(null,e,t,!0,r)};no.hydrateRoot=function(e,t,r){if(!dC(e))throw Error(ot(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=q9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=H9(t,null,e,1,r??null,a,!1,s,o),e[tu]=t.current,Hg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new N2(t)};no.render=function(e,t,r){if(!k2(t))throw Error(ot(200));return E2(null,e,t,!1,r)};no.unmountComponentAtNode=function(e){if(!k2(e))throw Error(ot(40));return e._reactRootContainer?(Gf(function(){E2(null,null,e,!1,function(){e._reactRootContainer=null,e[tu]=null})}),!0):!1};no.unstable_batchedUpdates=aC;no.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!k2(r))throw Error(ot(200));if(e==null||e._reactInternals===void 0)throw Error(ot(38));return E2(e,t,r,!1,n)};no.version="18.3.1-next-f1338f8080-20240426";function V9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V9)}catch(e){console.error(e)}}V9(),VF.exports=no;var Mo=VF.exports;const Mre=fc(Mo);var G9,VO=Mo;G9=VO.createRoot,VO.hydrateRoot;function Fre(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,s,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),s=a.indexOf(".",1),o.push(a.substring(1,~n?n:~s?s:a.length)),l+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~n?"?":"")+"\\"+a.substring(s))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var K9={exports:{}},Y9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp=p;function $re(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bre=typeof Object.is=="function"?Object.is:$re,Ure=hp.useState,zre=hp.useEffect,Wre=hp.useLayoutEffect,Hre=hp.useDebugValue;function qre(e,t){var r=t(),n=Ure({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return Wre(function(){a.value=r,a.getSnapshot=t,DS(a)&&s({inst:a})},[e,r,t]),zre(function(){return DS(a)&&s({inst:a}),e(function(){DS(a)&&s({inst:a})})},[e]),Hre(r),r}function DS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bre(e,r)}catch{return!0}}function Vre(e,t){return t()}var Gre=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vre:qre;Y9.useSyncExternalStore=hp.useSyncExternalStore!==void 0?hp.useSyncExternalStore:Gre;K9.exports=Y9;var fC=K9.exports;const Kre=$v.useInsertionEffect,Yre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X9=Yre?p.useLayoutEffect:p.useEffect,Xre=Kre||X9,hC=e=>{const t=p.useRef([e,(...r)=>t[0](...r)]).current;return Xre(()=>{t[0]=e}),t[1]},Jre="popstate",mC="pushState",pC="replaceState",Zre="hashchange",GO=[Jre,mC,pC,Zre],Qre=e=>{for(const t of GO)addEventListener(t,e);return()=>{for(const t of GO)removeEventListener(t,e)}},J9=(e,t)=>fC.useSyncExternalStore(Qre,e,t),KO=()=>location.search,ene=({ssrSearch:e}={})=>J9(KO,e!=null?()=>e:KO),YO=()=>location.pathname,tne=({ssrPath:e}={})=>J9(YO,e!=null?()=>e:YO),rne=(e,{replace:t=!1,state:r=null}={})=>history[t?pC:mC](r,"",e),nne=(e={})=>[tne(e),rne],XO=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[XO]>"u"){for(const e of[mC,pC]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,XO,{value:!0})}const ane=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Z9=(e="")=>e==="/"?"":e,sne=(e,t)=>e[0]==="~"?e.slice(1):Z9(t)+e,ine=(e="",t)=>ane(JO(Z9(e)),JO(t)),JO=e=>{try{return decodeURI(e)}catch{return e}},Q9={hook:nne,searchHook:ene,parser:Fre,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},e$=p.createContext(Q9),Pp=()=>p.useContext(e$),t$={},r$=p.createContext(t$),one=()=>p.useContext(r$),Hv=e=>{const[t,r]=e.hook(e);return[ine(e.base,t),hC((n,a)=>e.aroundNav(r,sne(n,e.base),a))]},hc=()=>Hv(Pp()),n$=(e,t,r,n)=>{const{pattern:a,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,m)=>[f,c[m]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},lne=({children:e,...t})=>{var d,f,m;const r=Pp(),n=t.hook?Q9:r;let a=n;const[s,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];s&&(t.ssrSearch=o,t.ssrPath=s),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((m=t.hook)==null?void 0:m.searchHook);let l=p.useRef({}),c=l.current,u=c;for(let h in n){const v=h==="base"?n[h]+(t[h]??""):t[h]??n[h];c===u&&v!==u[h]&&(l.current=u={...u}),u[h]=v,(v!==n[h]||v!==a[h])&&(a=u)}return p.createElement(e$.Provider,{value:a,children:e})},ZO=({children:e,component:t},r)=>t?p.createElement(t,{params:r}):typeof e=="function"?e(r):e,cne=e=>{let t=p.useRef(t$);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,a])=>a!==r[n])?e:r},dr=({path:e,nest:t,match:r,...n})=>{const a=Pp(),[s]=Hv(a),[o,l,c]=r??n$(a.parser,e,s,t),u=cne({...one(),...l});if(!o)return null;const d=c?p.createElement(lne,{base:c},ZO(n,u)):ZO(n,u);return p.createElement(r$.Provider,{value:u,children:d})};p.forwardRef((e,t)=>{const r=Pp(),[n,a]=Hv(r),{to:s="",href:o=s,onClick:l,asChild:c,children:u,className:d,replace:f,state:m,transition:h,...v}=e,g=hC(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),a(o,e)))}),y=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&p.isValidElement(u)?p.cloneElement(u,{onClick:g,href:y}):p.createElement("a",{...v,onClick:g,href:y,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})});const a$=e=>Array.isArray(e)?e.flatMap(t=>a$(t&&t.type===p.Fragment?t.props.children:t)):[e],s$=({children:e,location:t})=>{const r=Pp(),[n]=Hv(r);for(const a of a$(e)){let s=0;if(p.isValidElement(a)&&(s=n$(r.parser,a.props.path,t||n,a.props.nest))[0])return p.cloneElement(a,{match:s})}return null},i$=e=>{const{to:t,href:r=t}=e,n=Pp(),[,a]=Hv(n),s=hC(()=>a(t||r,e)),{ssrContext:o}=n;return X9(()=>{s()},[]),o&&(o.redirectTo=t),null};var Xl=function(){return Xl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Xl.apply(this,arguments)};function Tp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function une(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function dne(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}const fne=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class gC extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class hne extends gC{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class QO extends gC{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class e6 extends gC{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uk;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uk||(uk={}));class mne{constructor(t,{headers:r={},customFetch:n,region:a=uk.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=fne(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return une(this,arguments,void 0,function*(r,n={}){var a;let s,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let m={},{region:h}=n;h||(h=this.region);const v=new URL(`${this.url}/${r}`);h&&h!=="any"&&(m["x-region"]=h,v.searchParams.set("forceFunctionRegion",h));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(m["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(m["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let y=d;f&&(o=new AbortController,s=setTimeout(()=>o.abort(),f),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const x=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:g,signal:y}).catch(N=>{throw new hne(N)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new QO(x);if(!x.ok)throw new e6(x);let _=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield x.json():_==="application/octet-stream"||_==="application/pdf"?w=yield x.blob():_==="text/event-stream"?w=x:_==="multipart/form-data"?w=yield x.formData():w=yield x.text(),{data:w,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof e6||l instanceof QO?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var pne=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},gne=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,l=null,c=null,u=s.status,d=s.statusText;if(s.ok){var f,m;if(r.method!=="HEAD"){var h;const x=await s.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),y=(m=s.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");g&&y&&y.length>1&&(c=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const g=await s.text();try{o=JSON.parse(g),Array.isArray(o)&&s.status===404&&(l=[],o=null,u=200,d="OK")}catch{s.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new pne(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(s=>{var o;let l="",c="",u="";const d=s==null?void 0:s.cause;if(d){var f,m,h,v;const x=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",b=(m=d==null?void 0:d.code)!==null&&m!==void 0?m:"";l=`${(h=s==null?void 0:s.name)!==null&&h!==void 0?h:"FetchError"}: ${s==null?void 0:s.message}`,l+=`

Caused by: ${(v=d==null?void 0:d.name)!==null&&v!==void 0?v:"Error"}: ${x}`,b&&(l+=` (${b})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var g;l=(g=s==null?void 0:s.stack)!==null&&g!==void 0?g:""}const y=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(c+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},vne=class extends gne{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const t6=new RegExp("[,()]");var pm=class extends vne{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&t6.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&t6.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},xne=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new pm({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);s.searchParams.set("columns",c.join(","))}}return new pm({method:a,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new pm({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new pm({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new pm({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function yne(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wne(e){var t=yne(e,"string");return Qg(t)=="symbol"?t:t+""}function bne(e,t,r){return(t=wne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(r),!0).forEach(function(n){bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var _ne=class o${constructor(t,{headers:r={},schema:n,fetch:a,timeout:s,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const l=a??globalThis.fetch;s!==void 0&&s>0?this.fetch=(c,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),s),m=u==null?void 0:u.signal;if(m){if(m.aborted)return clearTimeout(f),l(c,u);const h=()=>{clearTimeout(f),d.abort()};return m.addEventListener("abort",h,{once:!0}),l(c,Cy(Cy({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),m.removeEventListener("abort",h)})}return l(c,Cy(Cy({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xne(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new o$(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,v])=>v!==void 0).map(([h,v])=>[h,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([h,v])=>{c.searchParams.append(h,v)})):(l="POST",u=r);const m=new Headers(this.headers);return f?m.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&m.set("Prefer",`count=${s}`),new pm({method:l,url:c,headers:m,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class jne{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Sne="2.95.3",Nne=`realtime-js/${Sne}`,kne="1.0.0",l$="2.0.0",n6=l$,dk=1e4,Ene=1e3,Cne=100;var ed;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ed||(ed={}));var La;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(La||(La={}));var ll;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ll||(ll={}));var fk;(function(e){e.websocket="websocket"})(fk||(fk={}));var jf;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jf||(jf={}));class Ane{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,s;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,h=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(h),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,l.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,f.length),v.setUint8(g++,r),Array.from(c,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(l,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(o,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(u,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(f,x=>v.setUint8(g++,x.charCodeAt(0)));var y=new Uint8Array(h.byteLength+n.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(n),h.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,o,l,c]=n;return r({join_ref:a,ref:s,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+s));c=c+s;const f=n.decode(t.slice(c,c+o));c=c+o;const m=t.slice(c,t.byteLength),h=l===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,v={type:this.BROADCAST_EVENT,event:d,payload:h};return o>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class c${constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(gn||(gn={}));const a6=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=Pne(o,e,t,a),s),{}):{}},Pne=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,o=r[e];return s&&!n.includes(s)?u$(s,o):hk(o)},u$=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ine(t,r)}switch(e){case gn.bool:return Tne(t);case gn.float4:case gn.float8:case gn.int2:case gn.int4:case gn.int8:case gn.numeric:case gn.oid:return One(t);case gn.json:case gn.jsonb:return Rne(t);case gn.timestamp:return Dne(t);case gn.abstime:case gn.date:case gn.daterange:case gn.int4range:case gn.int8range:case gn.money:case gn.reltime:case gn.text:case gn.time:case gn.timestamptz:case gn.timetz:case gn.tsrange:case gn.tstzrange:return hk(t);default:return hk(t)}},hk=e=>e,Tne=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},One=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Rne=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Ine=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>u$(t,l))}return e},Dne=e=>typeof e=="string"?e.replace(" ","T"):e,d$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class LS{constructor(t,r,n={},a=dk){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var s6;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(s6||(s6={}));class jg{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jg.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=jg.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=jg.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const m=d.map(y=>y.presence_ref),h=f.map(y=>y.presence_ref),v=d.filter(y=>h.indexOf(y.presence_ref)<0),g=f.filter(y=>m.indexOf(y.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(h=>h.presence_ref),m=d.filter(h=>f.indexOf(h.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var i6;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(i6||(i6={}));var Sg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sg||(Sg={}));var Mc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mc||(Mc={}));class Im{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=La.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new LS(this,ll.join,this.params,this.timeout),this.rejoinTimer=new c$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=La.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=La.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ll.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new jg(this),this.broadcastEndpointURL=d$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==La.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Sg.PRESENCE]&&this.bindings[Sg.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Mc.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Mc.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(Mc.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,x=[];for(let b=0;b<y;b++){const _=g[b],{filter:{event:w,schema:N,table:C,filter:j}}=_,A=h&&h[b];if(A&&A.event===w&&Im.isFilterValueEqual(A.schema,N)&&Im.isFilterValueEqual(A.table,C)&&Im.isFilterValueEqual(A.filter,j))x.push(Object.assign(Object.assign({},_),{id:A.id}));else{this.unsubscribe(),this.state=La.errored,t==null||t(Mc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Mc.SUBSCRIBED);return}}).receive("error",h=>{this.state=La.errored,t==null||t(Mc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===La.joined&&t===Sg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=La.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ll.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new LS(this,ll.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=La.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new LS(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Cne){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ll;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var v,g,y;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=h.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(h=>h.callback(m,n)):(s=this.bindings[o])===null||s===void 0||s.filter(h=>{var v,g,y,x,b,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const w=h.id,N=(v=h.filter)===null||v===void 0?void 0:v.event;return w&&((g=r.ids)===null||g===void 0?void 0:g.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(b=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return w==="*"||w===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:g,table:y,commit_timestamp:x,type:b,errors:_}=v;m=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(v))}h.callback(m,n)})}_isClosed(){return this.state===La.closed}_isJoined(){return this.state===La.joined}_isJoining(){return this.state===La.joining}_isLeaving(){return this.state===La.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Im.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ll.close,{},t)}_onError(t){this._on(ll.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=La.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=a6(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=a6(t.columns,t.old_record)),r}}const MS=()=>{},Ay={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Lne=[1e3,2e3,5e3,1e4],Mne=1e4,Fne=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $ne{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dk,this.transport=null,this.heartbeatIntervalMs=Ay.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=MS,this.ref=0,this.reconnectTimer=null,this.vsn=n6,this.logger=MS,this.conn=null,this.sendBuffer=[],this.serializer=new Ane,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${fk.websocket}`,this.httpEndpoint=d$(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jne.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ed.connecting:return jf.Connecting;case ed.open:return jf.Open;case ed.closing:return jf.Closing;default:return jf.Closed}}isConnected(){return this.connectionState()===jf.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Im(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ene,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ay.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:o}=r,l=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ed.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ed.open||this.conn.readyState===ed.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ll.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Fne],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:Nne};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(ll.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new c$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ay.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,o,l,c,u,d,f,m,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:dk,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Ay.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:MS,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:n6,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>Lne[v-1]||Mne,this.vsn){case kne:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,g)=>g(JSON.parse(v));break;case l$:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ev=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Bne(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function Une(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function zne(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:o}){const l=Bne(e.baseUrl,n,a),c=await Une(e.auth),u=await t(l,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...c,...o},body:s?JSON.stringify(s):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),m=f&&d?JSON.parse(d):d;if(!u.ok){const h=f?m:void 0,v=h==null?void 0:h.error;throw new ev((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:h})}return{status:u.status,headers:u.headers,data:m}}}}function Py(e){return e.join("")}var Wne=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Py(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Py(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Py(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Py(e.namespace)}`}),!0}catch(t){if(t instanceof ev&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ev&&r.status===409)return;throw r}}};function Vh(e){return e.join("")}var Hne=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vh(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vh(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vh(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vh(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vh(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vh(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ev&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ev&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},qne=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=zne({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Wne(this.client,t),this.tableOps=new Hne(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},C2=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function A2(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ty=class extends C2{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},f$=class extends C2{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Vne=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Gne=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mk=e=>{if(Array.isArray(e))return e.map(r=>mk(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=mk(n)}),t},Kne=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function Yne(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xne(e){var t=Yne(e,"string");return tv(t)=="symbol"?t:t+""}function Jne(e,t,r){return(t=Xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(r),!0).forEach(function(n){Jne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const l6=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Zne=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Ty(l6(o),s,l,n))}).catch(()=>{if(n==="vectors"){const o=s+"";t(new Ty(a.statusText||`HTTP ${s} error`,s,o,n))}else{const o=s+"";t(new Ty(a.statusText||`HTTP ${s} error`,s,o,n))}});else{const o=s+"";t(new Ty(a.statusText||`HTTP ${s} error`,s,o,n))}}else t(new f$(l6(e),e,n))},Qne=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?nr(nr({},a),r):(Gne(n)?(a.headers=nr({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),nr(nr({},a),r))};async function B0(e,t,r,n,a,s,o){return new Promise((l,c)=>{e(r,Qne(t,n,a,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>Zne(u,c,n,o))})}function h$(e="storage"){return{get:async(t,r,n,a)=>B0(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>B0(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>B0(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>B0(t,"HEAD",r,nr(nr({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>B0(t,"DELETE",r,a,s,n,e)}}const eae=h$("storage"),{get:rv,post:il,put:pk,head:tae,remove:vC}=eae,zi=h$("vectors");var Op=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Vne(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(A2(r))return{data:null,error:r};throw r}}},rae=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(A2(t))return{data:null,error:t};throw t}}};let m$;m$=Symbol.toStringTag;var nae=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[m$]="BlobDownloadBuilder",this.promise=null}asStream(){return new rae(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(A2(t))return{data:null,error:t};throw t}}};const aae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},c6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sae=class extends Op{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const o=nr(nr({},c6),n);let l=nr(nr({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",a.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),c&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=nr(nr({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?pk:il)(a.fetch,`${a.url}/object/${d}`,s,nr({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),o=a._getFinalPath(s),l=new URL(a.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=nr({upsert:c6.upsert},n),d=nr(nr({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:s,fullPath:(await pk(a.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=nr({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await il(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+s.url),l=o.searchParams.get("token");if(!l)throw new C2("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await il(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await il(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await il(n.fetch,`${n.url}/object/sign/${a}`,nr({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await il(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(o=>nr(nr({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(e),l=()=>rv(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0},r);return new nae(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>mk(await rv(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await tae(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(A2(n)&&n instanceof f$){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await vC(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=nr(nr(nr({},aae),t),{},{prefix:e||""});return await il(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=nr({},e);return await il(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const iae="2.95.3",qv={"X-Client-Info":`storage-js/${iae}`};var oae=class extends Op{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),o=nr(nr({},qv),t);super(s,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await rv(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await rv(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await il(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await pk(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await il(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vC(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},lae=class extends Op{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=nr(nr({},qv),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await il(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await rv(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vC(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Kne(e))throw new C2("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new qne({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const o=a[s];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},cae=class extends Op{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=nr(nr({},qv),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await zi.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await zi.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},uae=class extends Op{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=nr(nr({},qv),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},dae=class extends Op{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=nr(nr({},qv),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await zi.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},fae=class extends dae{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new hae(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},hae=class extends cae{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,nr(nr({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,nr(nr({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new mae(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},mae=class extends uae{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,nr(nr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,nr(nr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,nr(nr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,nr(nr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,nr(nr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},pae=class extends oae{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new sae(this.url,this.headers,e,this.fetch)}get vectors(){return new fae(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lae(this.url+"/iceberg",this.headers,this.fetch)}};const p$="2.95.3",gm=30*1e3,gk=3,FS=gk*gm,gae="http://localhost:9999",vae="supabase.auth.token",xae={"X-Client-Info":`gotrue-js/${p$}`},vk="X-Supabase-Api-Version",g$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yae=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wae=10*60*1e3;class nv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Wt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bae extends nv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _ae(e){return Wt(e)&&e.name==="AuthApiError"}class Sf extends nv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vu extends nv{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ii extends vu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $S(e){return Wt(e)&&e.name==="AuthSessionMissingError"}class Gh extends vu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oy extends vu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ry extends vu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jae(e){return Wt(e)&&e.name==="AuthImplicitGrantRedirectError"}class u6 extends vu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sae extends vu{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class xk extends vu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function BS(e){return Wt(e)&&e.name==="AuthRetryableFetchError"}class d6 extends vu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yk extends vu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ew="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),f6=` 	
\r=`.split(""),Nae=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<f6.length;t+=1)e[f6[t].charCodeAt(0)]=-2;for(let t=0;t<Ew.length;t+=1)e[Ew[t].charCodeAt(0)]=t;return e})();function h6(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ew[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ew[n]),t.queuedBits-=6}}function v$(e,t,r){const n=Nae[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function m6(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{Cae(o,n,r)};for(let o=0;o<e.length;o+=1)v$(e.charCodeAt(o),a,s);return t.join("")}function kae(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Eae(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}kae(n,t)}}function Cae(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Vm(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)v$(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Aae(e){const t=[];return Eae(e,r=>t.push(r)),new Uint8Array(t)}function Pf(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>h6(a,r,n)),h6(null,r,n),t.join("")}function Pae(e){return Math.round(Date.now()/1e3)+e}function Tae(){return Symbol("auth-callback")}const ds=()=>typeof window<"u"&&typeof document<"u",df={tested:!1,writable:!1},x$=()=>{if(!ds())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(df.tested)return df.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),df.tested=!0,df.writable=!0}catch{df.tested=!0,df.writable=!1}return df.writable};function Oae(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const y$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Rae=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vm=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ff=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},us=async(e,t)=>{await e.removeItem(t)};class P2{constructor(){this.promise=new P2.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}P2.promiseConstructor=Promise;function Iy(e){const t=e.split(".");if(t.length!==3)throw new yk("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!yae.test(t[n]))throw new yk("JWT not in base64url format");return{header:JSON.parse(m6(t[0])),payload:JSON.parse(m6(t[1])),signature:Vm(t[2]),raw:{header:t[0],payload:t[1]}}}async function Iae(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dae(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){a(o);return}}})()})}function Lae(e){return("0"+e.toString(16)).substr(-2)}function Mae(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Lae).join("")}async function Fae(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function $ae(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Fae(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kh(e,t,r=!1){const n=Mae();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await vm(e,`${t}-code-verifier`,a);const s=await $ae(n);return[s,n===s?"plain":"s256"]}const Bae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uae(e){const t=e.headers.get(vk);if(!t||!t.match(Bae))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zae(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Wae(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yh(e){if(!Hae.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function US(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qae(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function p6(e){return JSON.parse(JSON.stringify(e))}const vf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vae=[502,503,504];async function g6(e){var t;if(!Rae(e))throw new xk(vf(e),0);if(Vae.includes(e.status))throw new xk(vf(e),e.status);let r;try{r=await e.json()}catch(s){throw new Sf(vf(s),s)}let n;const a=Uae(e);if(a&&a.getTime()>=g$["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new d6(vf(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ii}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new d6(vf(r),e.status,r.weak_password.reasons);throw new bae(vf(r),e.status||500,n)}const Gae=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function er(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[vk]||(s[vk]=g$["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Kae(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Kae(e,t,r,n,a,s){const o=Gae(t,n,a,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new xk(vf(c),0)}if(l.ok||await g6(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await g6(c)}}function nl(e){var t;let r=null;Jae(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Pae(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function v6(e){const t=nl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function sd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Yae(e){return{data:e,error:null}}function Xae(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=Tp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function x6(e){return e}function Jae(e){return e.access_token&&e.refresh_token&&e.expires_in}const zS=["global","local","others"];class Zae{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=y$(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zS[0]){if(zS.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zS.join(", ")}`);try{return await er(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await er(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sd})}catch(n){if(Wt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Tp(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await er(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Xae,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Wt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await er(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sd})}catch(r){if(Wt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await er(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:x6});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Wt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Yh(t);try{return await er(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sd})}catch(r){if(Wt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yh(t);try{return await er(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:sd})}catch(n){if(Wt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yh(t);try{return await er(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:sd})}catch(n){if(Wt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yh(t.userId);try{const{data:r,error:n}=await er(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yh(t.userId),Yh(t.id);try{return{data:await er(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await er(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:x6});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Wt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await er(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await er(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Wt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await er(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Wt(r))return{data:null,error:r};throw r}}}function y6(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xh={debug:!!(globalThis&&x$()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class w$ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Qae extends w${}async function ese(e,t,r){Xh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Xh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Xh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Xh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Qae(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function tse(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function b$(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function rse(e){return parseInt(e,16)}function nse(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ase(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=b$(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${h}

${g}`;let x=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}x+=b}return`${y}
${x}`}class ba extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Cw extends ba{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function sse({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ba({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ba({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ba({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ba({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ba({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ba({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ba({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ba({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(_$(o)){if(s.rp.id!==o)return new ba({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ba({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ba({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ba({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ba({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ise({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ba({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ba({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(_$(n)){if(r.rpId!==n)return new ba({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ba({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ba({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ba({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ose{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const lse=new ose;function cse(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Tp(e,["challenge","user","excludeCredentials"]),s=Vm(t).buffer,o=Object.assign(Object.assign({},r),{id:Vm(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:s,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Vm(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function use(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Tp(e,["challenge","allowCredentials"]),a=Vm(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Vm(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function dse(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Pf(new Uint8Array(e.response.attestationObject)),clientDataJSON:Pf(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fse(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Pf(new Uint8Array(a.authenticatorData)),clientDataJSON:Pf(new Uint8Array(a.clientDataJSON)),signature:Pf(new Uint8Array(a.signature)),userHandle:a.userHandle?Pf(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _$(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function w6(){var e,t;return!!(ds()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function hse(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cw("Browser returned unexpected credential type",t)}:{data:null,error:new Cw("Empty credential response",t)}}catch(t){return{data:null,error:sse({error:t,options:e})}}}async function mse(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cw("Browser returned unexpected credential type",t)}:{data:null,error:new Cw("Empty credential response",t)}}catch(t){return{data:null,error:ise({error:t,options:e})}}}const pse={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gse={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Aw(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const o=a[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(t(o)){const l=n[s];t(l)?n[s]=Aw(l,o):n[s]=Aw(o)}else n[s]=o}return n}function vse(e,t){return Aw(pse,e,t||{})}function xse(e,t){return Aw(gse,e,t||{})}class yse{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=a??lse.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const h=(await this.client.getUser()).data.user,v=((o=h==null?void 0:h.user_metadata)===null||o===void 0?void 0:o.name)||(h==null?void 0:h.email)||(h==null?void 0:h.id)||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=vse(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:m}=await hse({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const d=xse(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:m}=await mse(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(l){return Wt(l)?{data:null,error:l}:{data:null,error:new Sf("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new nv("rpId is required for WebAuthn authentication")};try{if(!w6())return{data:null,error:new Sf("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Wt(o)?{data:null,error:o}:{data:null,error:new Sf("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new nv("rpId is required for WebAuthn registration")};try{if(!w6())return{data:null,error:new Sf("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Wt(o)?{data:null,error:o}:{data:null,error:new Sf("Unexpected error in register",o)}}}}tse();const wse={url:gae,storageKey:vae,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function b6(e,t,r){return await r()}const Jh={};class av{get jwks(){var t,r;return(r=(t=Jh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Jh[this.storageKey]=Object.assign(Object.assign({},Jh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Jh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Jh[this.storageKey]=Object.assign(Object.assign({},Jh[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},wse),t);if(this.storageKey=s.storageKey,this.instanceID=(r=av.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,av.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ds()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Zae({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=y$(s.fetch),this.lock=s.lock||b6,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&ds()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ese:this.lock=b6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yse(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:x$()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=y6(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=y6(this.memoryStorage)),ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${p$}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ds()&&(r=Oae(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ds()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),jae(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Wt(r)?this._returnResult({error:r}):this._returnResult({error:new Sf("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:nl}),{data:o,error:l}=s;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Wt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:m}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Kh(this.storage,this.storageKey)),s=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:v},xform:nl})}else if("phone"in t){const{phone:d,password:f,options:m}=t;s=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:nl})}else throw new Oy("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return await us(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(await us(this.storage,`${this.storageKey}-code-verifier`),Wt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:v6})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:v6})}else throw new Oy("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Gh;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,o,l,c,u,d,f,m;let h,v;if("message"in t)h=t.message,v=t.signature;else{const{chain:g,wallet:y,statement:x,options:b}=t;let _;if(ds())if(typeof y=="object")_=y;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),N=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=b$(N[0]);let j=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const k=await _.request({method:"eth_chainId"});j=rse(k)}const A={domain:w.host,address:C,statement:x,uri:w.href,version:"1",chainId:j,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=ase(A),v=await _.request({method:"personal_sign",params:[nse(h),C]})}try{const{data:g,error:y}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:nl});if(y)throw y;if(!g||!g.session||!g.user){const x=new Gh;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(Wt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,a,s,o,l,c,u,d,f,m,h;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:y,wallet:x,statement:b,options:_}=t;let w;if(ds())if(typeof x=="object")w=x;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))w=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const N=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const C=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:y,error:x}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Pf(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:nl});if(x)throw x;if(!y||!y.session||!y.user){const b=new Gh;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(Wt(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await ff(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Sae;const{data:s,error:o}=await er(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:nl});if(await us(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const l=new Gh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(await us(this.storage,`${this.storageKey}-code-verifier`),Wt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=t,l=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nl}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Gh;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Kh(this.storage,this.storageKey));const{error:f}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Oy("You must provide either an email or phone number.")}catch(l){if(await us(this.storage,`${this.storageKey}-code-verifier`),Wt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await er(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:nl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Wt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Kh(this.storage,this.storageKey));const u=await er(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Yae});return!((s=u.data)===null||s===void 0)&&s.url&&ds()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await us(this.storage,`${this.storageKey}-code-verifier`),Wt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ii;const{error:a}=await er(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Wt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:o}=await er(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:o,error:l}=await er(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Oy("You must provide either an email or phone number and a type")}catch(r){if(Wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ff(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<FS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ff(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=US()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=qae(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sd}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ii}:await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:sd})})}catch(r){if(Wt(r))return $S(r)&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Ii;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Kh(this.storage,this.storageKey));const{data:u,error:d}=await er(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:sd});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await us(this.storage,`${this.storageKey}-code-verifier`),Wt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ii;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=Iy(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Wt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ii;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ds())throw new Ry("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ry(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new u6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ry("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new u6("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new Ry("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const h=m-d;h*1e3<=gm&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=m-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:g,error:y}=await this._getUser(s);if(y)throw y;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(Wt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ff(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!$S(s))return this._returnResult({error:s});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(_ae(l)&&(l.status===404||l.status===401||l.status===403)||$S(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Tae(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Kh(this.storage,this.storageKey,!0));try{return await er(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await us(this.storage,`${this.storageKey}-code-verifier`),Wt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Wt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,u,d;const{data:f,error:m}=s;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await er(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return ds()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Wt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nl}),{data:m,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Gh}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:h}))}catch(a){if(await us(this.storage,`${this.storageKey}-code-verifier`),Wt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await er(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Wt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Dae(async a=>(a>0&&await Iae(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await er(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nl})),(a,s)=>{const o=200*Math.pow(2,a);return s&&BS(s)&&Date.now()+o-n<gm})}catch(n){if(this._debug(r,"error",n),Wt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ds()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ff(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ff(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await vm(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:US()}else if(a&&!a.user&&!a.user){const o=await ff(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await us(this.storage,this.storageKey+"-user"),await vm(this.storage,this.storageKey,a)):a.user=US()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<FS;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${FS}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),BS(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new P2;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Ii;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),Wt(s)){const o={data:null,error:s};return BS(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await us(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vm(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=p6(a);await vm(this.storage,this.storageKey,s)}else{const a=p6(r);await vm(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await us(this.storage,this.storageKey),await us(this.storage,this.storageKey+"-code-verifier"),await us(this.storage,this.storageKey+"-user"),this.userStorage&&await us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ds()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),gm);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/gm);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${gm}ms, refresh threshold is ${gk} ticks`),a<=gk&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof w$)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ds()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Kh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await er(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Wt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await er(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Wt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?dse(t.webauthn.credential_response):fse(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await er(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Wt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await er(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:cse(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:use(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Wt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:h}=Iy(t);let v=null;h.aal&&(v=h.aal);let g=v;const{data:{user:y},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=y==null?void 0:y.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const _=h.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:_},error:null}}catch(h){if(Wt(h))return this._returnResult({data:null,error:h});throw h}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Iy(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((s=(a=o.user.factors)===null||a===void 0?void 0:a.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await er(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ii})})}catch(r){if(Wt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Ii});const o=await er(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ds()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Wt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Ii});const o=await er(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ds()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Wt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await er(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ii})})}catch(t){if(Wt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await er(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ii})})}catch(r){if(Wt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+wae>a)return n;const{data:s,error:o}=await er(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return this._returnResult({data:null,error:v});n=h.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=Iy(n);r!=null&&r.allowExpired||zae(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:s,header:a,signature:o},error:null}}const d=Wae(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Aae(`${l}.${c}`)))throw new yk("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(Wt(n))return this._returnResult({data:null,error:n});throw n}}}av.nextInstanceID={};const bse=av,_se="2.95.3";let og="";typeof Deno<"u"?og="deno":typeof document<"u"?og="web":typeof navigator<"u"&&navigator.product==="ReactNative"?og="react-native":og="node";const jse={"X-Client-Info":`supabase-js-${og}/${_se}`},Sse={headers:jse},Nse={schema:"public"},kse={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ese={};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function Cse(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ase(e){var t=Cse(e,"string");return sv(t)=="symbol"?t:t+""}function Pse(e,t,r){return(t=Ase(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(r),!0).forEach(function(n){Pse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Tse=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ose=()=>Headers,Rse=(e,t,r)=>{const n=Tse(r),a=Ose();return async(s,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Yn(Yn({},o),{},{headers:u}))}};function Ise(e){return e.endsWith("/")?e:e+"/"}function Dse(e,t){var r,n;const{db:a,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Yn(Yn({},c),a),auth:Yn(Yn({},u),s),realtime:Yn(Yn({},d),o),storage:{},global:Yn(Yn(Yn({},f),l),{},{headers:Yn(Yn({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function Lse(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ise(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Mse=class extends bse{constructor(e){super(e)}},Fse=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=Lse(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:Nse,realtime:Ese,auth:Yn(Yn({},kse),{},{storageKey:o}),global:Sse},c=Dse(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Rse(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Yn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new _ne(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new pae(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new mne(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mse({url:this.authUrl.href,headers:Yn(Yn({},m),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $ne(this.realtimeUrl.href,Yn(Yn({},e),{},{params:Yn(Yn({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $se=(e,t,r)=>new Fse(e,t,r);function Bse(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Bse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Use="https://hhprkpnudprpwmaiizxr.supabase.co",zse="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhocHJrcG51ZHBycHdtYWlpenhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4NDcxOTAsImV4cCI6MjA4NTQyMzE5MH0.f6fhGdGFWBkvwvpa3B2Zx6f6RarvF5-X2PpJMjv61g8",ce=$se(Use,zse,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{fetch:(e,t={})=>{const r=new AbortController,n=setTimeout(()=>r.abort(),1e4);return fetch(e,{...t,signal:r.signal}).finally(()=>clearTimeout(n))}}}),j$=p.createContext(void 0),Qo=e=>{var a;if(!e)return!1;const t=["invalid claim","expired","invalid signature","invalid token","jwt","unauthorized","session"],r=((a=e==null?void 0:e.message)==null?void 0:a.toLowerCase())||"",n=e==null?void 0:e.status;return n===401||n===403||t.some(s=>r.includes(s))};function Wse({children:e}){const[t,r]=p.useState(null),[n,a]=p.useState(null),[s,o]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState(typeof navigator<"u"?navigator.onLine:!0),[f,m]=p.useState(!1);p.useEffect(()=>{const N=()=>{d(!0),m(!1)},C=()=>{d(!1)};return window.addEventListener("online",N),window.addEventListener("offline",C),()=>{window.removeEventListener("online",N),window.removeEventListener("offline",C)}},[]),p.useEffect(()=>{let N=!0;const{data:{subscription:C}}=ce.auth.onAuthStateChange(async(A,k)=>{if(N)try{A==="INITIAL_SESSION"?k!=null&&k.user&&(k!=null&&k.access_token)?(r(k.user),await h(k.access_token)):(r(null),o(!1)):A==="SIGNED_IN"?(r((k==null?void 0:k.user)??null),k!=null&&k.user&&(k!=null&&k.access_token)&&await h(k.access_token),m(!1)):A==="SIGNED_OUT"?(r(null),a(null),c(!1),m(!1),o(!1)):A==="TOKEN_REFRESHED"?(r((k==null?void 0:k.user)??null),m(!1)):A==="USER_UPDATED"&&(r((k==null?void 0:k.user)??null),k!=null&&k.user&&(k!=null&&k.access_token)&&await h(k.access_token))}catch(I){console.error("Error handling auth state change:",I),N&&o(!1)}}),j=setTimeout(()=>{N&&o(A=>(A&&console.warn("Auth initialization timed out - showing login"),!1))},4e3);return()=>{N=!1,clearTimeout(j),C.unsubscribe()}},[]);const h=async N=>{try{const C=await fetch("/api/profile",{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}});if(C.status===401){m(!0),await ce.auth.signOut();return}if(!C.ok)throw new Error(`Profile load failed: ${C.status}`);const j=await C.json();j._portalUser?(c(!0),a(null)):(a(j),c(!1))}catch(C){if(console.error("Error loading profile:",(C==null?void 0:C.message)||C),Qo(C)){m(!0),a(null),c(!1);try{await ce.auth.signOut()}catch{}}}finally{o(!1)}},w={user:t,profile:n,loading:s,isPortalUser:l,isOnline:u,sessionExpired:f,signIn:async(N,C)=>{try{o(!0);const{error:j}=await ce.auth.signInWithPassword({email:N,password:C});return j?(o(!1),Qo(j)&&m(!0),{error:j}):(m(!1),{error:null})}catch(j){o(!1);const A=j;return Qo(A)&&m(!0),{error:A}}},signUp:async(N,C)=>{try{const{error:j}=await ce.auth.signUp({email:N,password:C});return j&&Qo(j)?(m(!0),{error:j}):(m(!1),{error:j})}catch(j){const A=j;return Qo(A)&&m(!0),{error:A}}},signOut:async()=>{try{await ce.auth.signOut(),a(null),r(null),c(!1),m(!1)}catch(N){console.error("Error signing out:",N),a(null),r(null),c(!1),m(!1)}},resetPassword:async N=>{try{const{error:C}=await ce.auth.resetPasswordForEmail(N,{redirectTo:`${window.location.origin}/reset-password`});return C&&Qo(C)?(m(!0),{error:C}):{error:C}}catch(C){const j=C;return Qo(j)&&m(!0),{error:j}}},updatePassword:async N=>{try{const{error:C}=await ce.auth.updateUser({password:N});return C&&Qo(C)?(m(!0),{error:C}):(m(!1),{error:C})}catch(C){const j=C;return Qo(j)&&m(!0),{error:j}}},refreshSession:async()=>{var N;try{const{data:C,error:j}=await ce.auth.refreshSession();return j?(Qo(j)&&(m(!0),await ce.auth.signOut()),{error:j}):((N=C.session)!=null&&N.user&&(r(C.session.user),m(!1)),{error:null})}catch(C){const j=C;return Qo(j)&&(m(!0),await ce.auth.signOut()),{error:j}}}};return i.jsx(j$.Provider,{value:w,children:e})}function Ln(){const e=p.useContext(j$);return e===void 0?{user:null,profile:null,loading:!0,isPortalUser:!1,isOnline:!0,sessionExpired:!1,signIn:async()=>({error:new Error("Auth not ready")}),signUp:async()=>({error:new Error("Auth not ready")}),signOut:async()=>{},resetPassword:async()=>({error:new Error("Auth not ready")}),updatePassword:async()=>({error:new Error("Auth not ready")}),refreshSession:async()=>({error:new Error("Auth not ready")})}:e}const S$=p.createContext(void 0);function Hse({children:e}){const[t,r]=p.useState(()=>localStorage.getItem("theme")||"light"),[n,a]=p.useState("light");p.useEffect(()=>{const o=document.documentElement;let l="light";if(t==="auto"){const c=window.matchMedia("(prefers-color-scheme: dark)");l=c.matches?"dark":"light";const u=d=>{const f=d.matches?"dark":"light";a(f),o.classList.toggle("dark",f==="dark")};return c.addEventListener("change",u),a(l),o.classList.toggle("dark",l==="dark"),()=>c.removeEventListener("change",u)}else l=t,a(l),o.classList.toggle("dark",l==="dark")},[t]);const s=o=>{r(o),localStorage.setItem("theme",o)};return i.jsx(S$.Provider,{value:{theme:t,effectiveTheme:n,setTheme:s},children:e})}function qse(){const e=p.useContext(S$);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ut=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>p.createElement("svg",{ref:d,...Vse,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${Gse(e)}`,l].join(" "),...u},[...t.map(([f,m])=>p.createElement(f,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=ut("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ut("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=ut("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=ut("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ut("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=ut("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ut("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ut("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ut("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ut("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ut("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ut("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ut("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=ut("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ut("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ut("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=ut("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=ut("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=ut("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=ut("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=ut("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ut("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ut("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=ut("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ut("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ut("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=ut("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=ut("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=ut("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=ut("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=ut("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=ut("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=ut("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ut("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ut("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=ut("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=ut("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=ut("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=ut("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=ut("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=ut("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=ut("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=ut("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=ut("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ut("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=ut("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=ut("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=ut("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=ut("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ut("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=ut("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=ut("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=ut("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=ut("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=ut("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=ut("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=ut("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=ut("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=ut("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=ut("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=ut("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=ut("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=ut("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=ut("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=ut("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=ut("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),I$=p.createContext(void 0);function gie({children:e}){const[t,r]=p.useState([]),n=p.useCallback(f=>{r(m=>m.filter(h=>h.id!==f))},[]),a=p.useCallback((f,m,h=5e3)=>{const v=Math.random().toString(36).substr(2,9),g={id:v,type:f,message:m,duration:h};r(y=>[...y,g]),h>0&&setTimeout(()=>n(v),h)},[n]),s=p.useCallback((f,m)=>{a("success",f,m)},[a]),o=p.useCallback((f,m)=>{a("error",f,m)},[a]),l=p.useCallback((f,m)=>{a("warning",f,m)},[a]),c=p.useCallback((f,m)=>{a("info",f,m)},[a]),u=f=>{switch(f){case"success":return i.jsx(kn,{className:"h-5 w-5 text-green-600"});case"error":return i.jsx(Ow,{className:"h-5 w-5 text-red-600"});case"warning":return i.jsx(Dn,{className:"h-5 w-5 text-yellow-600"});case"info":return i.jsx(Qse,{className:"h-5 w-5 text-blue-600"})}},d=f=>{switch(f){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200"}};return i.jsxs(I$.Provider,{value:{showToast:a,success:s,error:o,warning:l,info:c},children:[e,i.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 max-w-md",children:t.map(f=>i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border shadow-lg animate-slide-in ${d(f.type)}`,role:"alert","aria-live":"assertive",children:[i.jsx("div",{className:"flex-shrink-0",children:u(f.type)}),i.jsx("p",{className:"text-sm text-gray-800 flex-1",children:f.message}),i.jsx("button",{onClick:()=>n(f.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition","aria-label":"Close notification",children:i.jsx(oi,{className:"h-4 w-4"})})]},f.id))})]})}function yr(){const e=p.useContext(I$);if(!e)throw new Error("useToast must be used within ToastProvider");return e}class vie extends p.Component{constructor(r){super(r);Ar(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});Ar(this,"handleReload",()=>{window.location.reload()});Ar(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Error caught by boundary:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[i.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mx-auto mb-4",children:i.jsx(qi,{className:"w-8 h-8 text-red-600"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),this.state.error&&i.jsxs("details",{className:"mb-6 p-4 bg-gray-50 rounded border",children:[i.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 mb-2",children:"Error Details"}),i.jsxs("div",{className:"text-xs text-gray-600 font-mono overflow-auto max-h-40",children:[i.jsx("p",{className:"font-semibold mb-1",children:this.state.error.toString()}),this.state.errorInfo&&i.jsx("pre",{className:"whitespace-pre-wrap break-words",children:this.state.errorInfo.componentStack})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(Ip,{className:"w-4 h-4"}),"Try Again"]}),i.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx(Zse,{className:"w-4 h-4"}),"Go Home"]})]}),i.jsx("button",{onClick:this.handleReload,className:"w-full mt-3 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Reload Page"})]})}):this.props.children}}function P6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Wn(...e){return t=>{let r=!1;const n=e.map(a=>{const s=P6(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():P6(e[a],null)}}}}function mr(...e){return p.useCallback(Wn(...e),e)}var xie=Symbol.for("react.lazy"),Rw=$v[" use ".trim().toString()];function yie(e){return typeof e=="object"&&e!==null&&"then"in e}function D$(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===xie&&"_payload"in e&&yie(e._payload)}function L$(e){const t=wie(e),r=p.forwardRef((n,a)=>{let{children:s,...o}=n;D$(s)&&typeof Rw=="function"&&(s=Rw(s._payload));const l=p.Children.toArray(s),c=l.find(_ie);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var Dp=L$("Slot");function wie(e){const t=p.forwardRef((r,n)=>{let{children:a,...s}=r;if(D$(a)&&typeof Rw=="function"&&(a=Rw(a._payload)),p.isValidElement(a)){const o=Sie(a),l=jie(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bie=Symbol("radix.slottable");function _ie(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bie}function jie(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Sie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function M$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=M$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=M$(e))&&(n&&(n+=" "),n+=t);return n}const T6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,O6=Pr,Lp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return O6(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const m=T6(d)||T6(f);return a[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...s,...l}[g]):{...s,...l}[g]===y})?[...u,f,m]:u},[]);return O6(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},HS=768;function Nie(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const r=window.matchMedia(`(max-width: ${HS-1}px)`),n=()=>{t(window.innerWidth<HS)};return r.addEventListener("change",n),t(window.innerWidth<HS),()=>r.removeEventListener("change",n)},[]),!!e}const kie=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},Eie=(e,t)=>({classGroupId:e,validator:t}),F$=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Iw="-",R6=[],Cie="arbitrary..",Aie=e=>{const t=Tie(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Pie(o);const l=o.split(Iw),c=l[0]===""&&l.length>1?1:0;return $$(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],u=r[o];return c?u?kie(u,c):c:u||R6}return r[o]||R6}}},$$=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],s=r.nextPart.get(a);if(s){const u=$$(e,t+1,s);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(Iw):e.slice(t).join(Iw),c=o.length;for(let u=0;u<c;u++){const d=o[u];if(d.validator(l))return d.classGroupId}},Pie=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?Cie+n:void 0})(),Tie=e=>{const{theme:t,classGroups:r}=e;return Oie(r,t)},Oie=(e,t)=>{const r=F$();for(const n in e){const a=e[n];jC(a,r,n,t)}return r},jC=(e,t,r,n)=>{const a=e.length;for(let s=0;s<a;s++){const o=e[s];Rie(o,t,r,n)}},Rie=(e,t,r,n)=>{if(typeof e=="string"){Iie(e,t,r);return}if(typeof e=="function"){Die(e,t,r,n);return}Lie(e,t,r,n)},Iie=(e,t,r)=>{const n=e===""?t:B$(t,e);n.classGroupId=r},Die=(e,t,r,n)=>{if(Mie(e)){jC(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(Eie(r,e))},Lie=(e,t,r,n)=>{const a=Object.entries(e),s=a.length;for(let o=0;o<s;o++){const[l,c]=a[o];jC(c,B$(t,l),r,n)}},B$=(e,t)=>{let r=e;const n=t.split(Iw),a=n.length;for(let s=0;s<a;s++){const o=n[s];let l=r.nextPart.get(o);l||(l=F$(),r.nextPart.set(o,l)),r=l}return r},Mie=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Fie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(s,o)=>{r[s]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(s){let o=r[s];if(o!==void 0)return o;if((o=n[s])!==void 0)return a(s,o),o},set(s,o){s in r?r[s]=o:a(s,o)}}},bk="!",I6=":",$ie=[],D6=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Bie=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const s=[];let o=0,l=0,c=0,u;const d=a.length;for(let g=0;g<d;g++){const y=a[g];if(o===0&&l===0){if(y===I6){s.push(a.slice(c,g)),c=g+1;continue}if(y==="/"){u=g;continue}}y==="["?o++:y==="]"?o--:y==="("?l++:y===")"&&l--}const f=s.length===0?a:a.slice(c);let m=f,h=!1;f.endsWith(bk)?(m=f.slice(0,-1),h=!0):f.startsWith(bk)&&(m=f.slice(1),h=!0);const v=u&&u>c?u-c:void 0;return D6(s,h,m,v)};if(t){const a=t+I6,s=n;n=o=>o.startsWith(a)?s(o.slice(a.length)):D6($ie,!1,o,void 0,!0)}if(r){const a=n;n=s=>r({className:s,parseClassName:a})}return n},Uie=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let s=0;s<r.length;s++){const o=r[s],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},zie=e=>({cache:Fie(e.cacheSize),parseClassName:Bie(e),sortModifiers:Uie(e),...Aie(e)}),Wie=/\s+/,Hie=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,o=[],l=e.trim().split(Wie);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:m,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:g}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let y=!!g,x=n(y?v.substring(0,g):v);if(!x){if(!y){c=d+(c.length>0?" "+c:c);continue}if(x=n(v),!x){c=d+(c.length>0?" "+c:c);continue}y=!1}const b=m.length===0?"":m.length===1?m[0]:s(m).join(":"),_=h?b+bk:b,w=_+x;if(o.indexOf(w)>-1)continue;o.push(w);const N=a(x,y);for(let C=0;C<N.length;++C){const j=N[C];o.push(_+j)}c=d+(c.length>0?" "+c:c)}return c},qie=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=U$(r))&&(a&&(a+=" "),a+=n);return a},U$=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=U$(e[n]))&&(r&&(r+=" "),r+=t);return r},Vie=(e,...t)=>{let r,n,a,s;const o=c=>{const u=t.reduce((d,f)=>f(d),e());return r=zie(u),n=r.cache.get,a=r.cache.set,s=l,l(c)},l=c=>{const u=n(c);if(u)return u;const d=Hie(c,r);return a(c,d),d};return s=o,(...c)=>s(qie(...c))},Gie=[],Da=e=>{const t=r=>r[e]||Gie;return t.isThemeGetter=!0,t},z$=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,W$=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Kie=/^\d+\/\d+$/,Yie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Zie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qh=e=>Kie.test(e),xr=e=>!!e&&!Number.isNaN(Number(e)),qu=e=>!!e&&Number.isInteger(Number(e)),qS=e=>e.endsWith("%")&&xr(e.slice(0,-1)),Rc=e=>Yie.test(e),eoe=()=>!0,toe=e=>Xie.test(e)&&!Jie.test(e),H$=()=>!1,roe=e=>Zie.test(e),noe=e=>Qie.test(e),aoe=e=>!Ot(e)&&!Rt(e),soe=e=>Mp(e,G$,H$),Ot=e=>z$.test(e),hf=e=>Mp(e,K$,toe),VS=e=>Mp(e,uoe,xr),L6=e=>Mp(e,q$,H$),ioe=e=>Mp(e,V$,noe),My=e=>Mp(e,Y$,roe),Rt=e=>W$.test(e),U0=e=>Fp(e,K$),ooe=e=>Fp(e,doe),M6=e=>Fp(e,q$),loe=e=>Fp(e,G$),coe=e=>Fp(e,V$),Fy=e=>Fp(e,Y$,!0),Mp=(e,t,r)=>{const n=z$.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Fp=(e,t,r=!1)=>{const n=W$.exec(e);return n?n[1]?t(n[1]):r:!1},q$=e=>e==="position"||e==="percentage",V$=e=>e==="image"||e==="url",G$=e=>e==="length"||e==="size"||e==="bg-size",K$=e=>e==="length",uoe=e=>e==="number",doe=e=>e==="family-name",Y$=e=>e==="shadow",foe=()=>{const e=Da("color"),t=Da("font"),r=Da("text"),n=Da("font-weight"),a=Da("tracking"),s=Da("leading"),o=Da("breakpoint"),l=Da("container"),c=Da("spacing"),u=Da("radius"),d=Da("shadow"),f=Da("inset-shadow"),m=Da("text-shadow"),h=Da("drop-shadow"),v=Da("blur"),g=Da("perspective"),y=Da("aspect"),x=Da("ease"),b=Da("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...w(),Rt,Ot],C=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],A=()=>[Rt,Ot,c],k=()=>[Qh,"full","auto",...A()],I=()=>[qu,"none","subgrid",Rt,Ot],T=()=>["auto",{span:["full",qu,Rt,Ot]},qu,Rt,Ot],P=()=>[qu,"auto",Rt,Ot],V=()=>["auto","min","max","fr",Rt,Ot],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...A()],U=()=>[Qh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],q=()=>[e,Rt,Ot],X=()=>[...w(),M6,L6,{position:[Rt,Ot]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],xe=()=>["auto","cover","contain",loe,soe,{size:[Rt,Ot]}],D=()=>[qS,U0,hf],M=()=>["","none","full",u,Rt,Ot],R=()=>["",xr,U0,hf],H=()=>["solid","dashed","dotted","double"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[xr,qS,M6,L6],te=()=>["","none",v,Rt,Ot],J=()=>["none",xr,Rt,Ot],oe=()=>["none",xr,Rt,Ot],_e=()=>[xr,Rt,Ot],ve=()=>[Qh,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Rc],breakpoint:[Rc],color:[eoe],container:[Rc],"drop-shadow":[Rc],ease:["in","out","in-out"],font:[aoe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Rc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Rc],shadow:[Rc],spacing:["px",xr],text:[Rc],"text-shadow":[Rc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qh,Ot,Rt,y]}],container:["container"],columns:[{columns:[xr,Ot,Rt,l]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[qu,"auto",Rt,Ot]}],basis:[{basis:[Qh,"full","auto",l,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xr,Qh,"auto","initial","none",Ot]}],grow:[{grow:["",xr,Rt,Ot]}],shrink:[{shrink:["",xr,Rt,Ot]}],order:[{order:[qu,"first","last","none",Rt,Ot]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[l,"screen",...U()]}],"min-w":[{"min-w":[l,"screen","none",...U()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",r,U0,hf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Rt,VS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qS,Ot]}],"font-family":[{font:[ooe,Ot,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Rt,Ot]}],"line-clamp":[{"line-clamp":[xr,"none",Rt,VS]}],leading:[{leading:[s,...A()]}],"list-image":[{"list-image":["none",Rt,Ot]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Rt,Ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[xr,"from-font","auto",Rt,hf]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[xr,"auto",Rt,Ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt,Ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt,Ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:xe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qu,Rt,Ot],radial:["",Rt,Ot],conic:[qu,Rt,Ot]},coe,ioe]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:R()}],"border-w-x":[{"border-x":R()}],"border-w-y":[{"border-y":R()}],"border-w-s":[{"border-s":R()}],"border-w-e":[{"border-e":R()}],"border-w-t":[{"border-t":R()}],"border-w-r":[{"border-r":R()}],"border-w-b":[{"border-b":R()}],"border-w-l":[{"border-l":R()}],"divide-x":[{"divide-x":R()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":R()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xr,Rt,Ot]}],"outline-w":[{outline:["",xr,U0,hf]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",d,Fy,My]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",f,Fy,My]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[xr,hf]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":R()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",m,Fy,My]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[xr,Rt,Ot]}],"mix-blend":[{"mix-blend":[...B(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":B()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xr]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Rt,Ot]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[xr]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:xe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Rt,Ot]}],filter:[{filter:["","none",Rt,Ot]}],blur:[{blur:te()}],brightness:[{brightness:[xr,Rt,Ot]}],contrast:[{contrast:[xr,Rt,Ot]}],"drop-shadow":[{"drop-shadow":["","none",h,Fy,My]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",xr,Rt,Ot]}],"hue-rotate":[{"hue-rotate":[xr,Rt,Ot]}],invert:[{invert:["",xr,Rt,Ot]}],saturate:[{saturate:[xr,Rt,Ot]}],sepia:[{sepia:["",xr,Rt,Ot]}],"backdrop-filter":[{"backdrop-filter":["","none",Rt,Ot]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[xr,Rt,Ot]}],"backdrop-contrast":[{"backdrop-contrast":[xr,Rt,Ot]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xr,Rt,Ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xr,Rt,Ot]}],"backdrop-invert":[{"backdrop-invert":["",xr,Rt,Ot]}],"backdrop-opacity":[{"backdrop-opacity":[xr,Rt,Ot]}],"backdrop-saturate":[{"backdrop-saturate":[xr,Rt,Ot]}],"backdrop-sepia":[{"backdrop-sepia":["",xr,Rt,Ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Rt,Ot]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xr,"initial",Rt,Ot]}],ease:[{ease:["linear","initial",x,Rt,Ot]}],delay:[{delay:[xr,Rt,Ot]}],animate:[{animate:["none",b,Rt,Ot]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Rt,Ot]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[Rt,Ot,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ve()}],"translate-x":[{"translate-x":ve()}],"translate-y":[{"translate-y":ve()}],"translate-z":[{"translate-z":ve()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt,Ot]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt,Ot]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[xr,U0,hf,VS]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hoe=Vie(foe);function lt(...e){return hoe(Pr(e))}const moe=Lp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground",destructive:"bg-destructive text-destructive-foreground",outline:"border border-input bg-background",secondary:"bg-secondary text-secondary-foreground",ghost:"",link:"text-primary underline-offset-4 hover:underline no-default-hover-elevate no-default-active-elevate"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),be=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?Dp:"button";return i.jsx(o,{className:lt(moe({variant:t,size:r,className:e})),ref:s,...a})});be.displayName="Button";const Ue=p.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:lt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ue.displayName="Input";var poe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yh=poe.reduce((e,t)=>{const r=L$(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),goe="Separator",F6="horizontal",voe=["horizontal","vertical"],X$=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=F6,...a}=e,s=xoe(n)?n:F6,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(yh.div,{"data-orientation":s,...l,...a,ref:t})});X$.displayName=goe;function xoe(e){return voe.includes(e)}var J$=X$;const ml=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>i.jsx(J$,{ref:a,decorative:r,orientation:t,className:lt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ml.displayName=J$.displayName;function dt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function yoe(e,t){const r=p.createContext(t),n=s=>{const{children:o,...l}=s,c=p.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function woe(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,boe(a,...t)]}function boe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var aa=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},_oe=$v[" useId ".trim().toString()]||(()=>{}),joe=0;function No(e){const[t,r]=p.useState(_oe());return aa(()=>{r(n=>n??String(joe++))},[e]),e||(t?`radix-${t}`:"")}var Soe=$v[" useInsertionEffect ".trim().toString()]||aa;function _l({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=Noe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const m=koe(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else s(d)},[l,e,s,o]);return[c,u]}function Noe({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),s=p.useRef(t);return Soe(()=>{s.current=t},[t]),p.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function koe(e){return typeof e=="function"}function Eoe(e){const t=Coe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(Poe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Coe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=Ooe(a),l=Toe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Aoe=Symbol("radix.slottable");function Poe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Aoe}function Toe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Ooe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Roe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Z$=Roe.reduce((e,t)=>{const r=Eoe(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ioe(e,t){e&&Mo.flushSync(()=>e.dispatchEvent(t))}function ta(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Doe(e,t=globalThis==null?void 0:globalThis.document){const r=ta(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Loe="DismissableLayer",_k="dismissableLayer.update",Moe="dismissableLayer.pointerDownOutside",Foe="dismissableLayer.focusOutside",$6,Q$=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$p=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(Q$),[d,f]=p.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=p.useState({}),v=mr(t,j=>f(j)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),b=d?g.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=x,N=Boe(j=>{const A=j.target,k=[...u.branches].some(I=>I.contains(A));!w||k||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},m),C=Uoe(j=>{const A=j.target;[...u.branches].some(I=>I.contains(A))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},m);return Doe(j=>{b===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},m),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($6=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),B6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$6)}},[d,m,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),B6())},[d,u]),p.useEffect(()=>{const j=()=>h({});return document.addEventListener(_k,j),()=>document.removeEventListener(_k,j)},[]),i.jsx(Z$.div,{...c,ref:v,style:{pointerEvents:_?w?"auto":"none":void 0,...e.style},onFocusCapture:dt(e.onFocusCapture,C.onFocusCapture),onBlurCapture:dt(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:dt(e.onPointerDownCapture,N.onPointerDownCapture)})});$p.displayName=Loe;var $oe="DismissableLayerBranch",eB=p.forwardRef((e,t)=>{const r=p.useContext(Q$),n=p.useRef(null),a=mr(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(Z$.div,{...e,ref:a})});eB.displayName=$oe;function Boe(e,t=globalThis==null?void 0:globalThis.document){const r=ta(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){tB(Moe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Uoe(e,t=globalThis==null?void 0:globalThis.document){const r=ta(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&tB(Foe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function B6(){const e=new CustomEvent(_k);document.dispatchEvent(e)}function tB(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Ioe(a,s):a.dispatchEvent(s)}var zoe=$p,Woe=eB;function Hoe(e){const t=qoe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(Goe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function qoe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=Yoe(a),l=Koe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Voe=Symbol("radix.slottable");function Goe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Voe}function Koe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Yoe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Joe=Xoe.reduce((e,t)=>{const r=Hoe(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),GS="focusScope.autoFocusOnMount",KS="focusScope.autoFocusOnUnmount",U6={bubbles:!1,cancelable:!0},Zoe="FocusScope",I2=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=p.useState(null),u=ta(a),d=ta(s),f=p.useRef(null),m=mr(t,g=>c(g)),h=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(_){if(h.paused||!l)return;const w=_.target;l.contains(w)?f.current=w:Ju(f.current,{select:!0})},y=function(_){if(h.paused||!l)return;const w=_.relatedTarget;w!==null&&(l.contains(w)||Ju(f.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&Ju(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,h.paused]),p.useEffect(()=>{if(l){W6.add(h);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(GS,U6);l.addEventListener(GS,u),l.dispatchEvent(x),x.defaultPrevented||(Qoe(ale(rB(l)),{select:!0}),document.activeElement===g&&Ju(l))}return()=>{l.removeEventListener(GS,u),setTimeout(()=>{const x=new CustomEvent(KS,U6);l.addEventListener(KS,d),l.dispatchEvent(x),x.defaultPrevented||Ju(g??document.body,{select:!0}),l.removeEventListener(KS,d),W6.remove(h)},0)}}},[l,u,d,h]);const v=p.useCallback(g=>{if(!r&&!n||h.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const b=g.currentTarget,[_,w]=ele(b);_&&w?!g.shiftKey&&x===w?(g.preventDefault(),r&&Ju(_,{select:!0})):g.shiftKey&&x===_&&(g.preventDefault(),r&&Ju(w,{select:!0})):x===b&&g.preventDefault()}},[r,n,h.paused]);return i.jsx(Joe.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});I2.displayName=Zoe;function Qoe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ju(n,{select:t}),document.activeElement!==r)return}function ele(e){const t=rB(e),r=z6(t,e),n=z6(t.reverse(),e);return[r,n]}function rB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function z6(e,t){for(const r of e)if(!tle(r,{upTo:t}))return r}function tle(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rle(e){return e instanceof HTMLInputElement&&"select"in e}function Ju(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&rle(e)&&t&&e.select()}}var W6=nle();function nle(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=H6(e,t),e.unshift(t)},remove(t){var r;e=H6(e,t),(r=e[0])==null||r.resume()}}}function H6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ale(e){return e.filter(t=>t.tagName!=="A")}function sle(e){const t=ile(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(lle);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function ile(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=ule(a),l=cle(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ole=Symbol("radix.slottable");function lle(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ole}function cle(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function ule(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fle=dle.reduce((e,t)=>{const r=sle(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),hle="Portal",Bp=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=p.useState(!1);aa(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Mre.createPortal(i.jsx(fle.div,{...n,ref:t}),o):null});Bp.displayName=hle;function mle(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var rs=e=>{const{present:t,children:r}=e,n=ple(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=mr(n.ref,gle(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:s}):null};rs.displayName="Presence";function ple(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),s=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=mle(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=$y(n.current);s.current=l==="mounted"?u:"none"},[l]),aa(()=>{const u=n.current,d=a.current;if(d!==e){const m=s.current,h=$y(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),aa(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const g=$y(n.current).includes(CSS.escape(h.animationName));if(h.target===t&&g&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=h=>{h.target===t&&(s.current=$y(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function $y(e){return(e==null?void 0:e.animationName)||"none"}function gle(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function nB(e){const t=vle(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(yle);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function vle(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=ble(a),l=wle(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xle=Symbol("radix.slottable");function yle(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xle}function wle(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function ble(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _le=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vv=_le.reduce((e,t)=>{const r=nB(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),YS=0;function SC(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??q6()),document.body.insertAdjacentElement("beforeend",e[1]??q6()),YS++,()=>{YS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),YS--}},[])}function q6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $1="right-scroll-bar-position",B1="width-before-scroll-bar",jle="with-scroll-bars-hidden",Sle="--removed-body-scroll-bar-size";function XS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Nle(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var kle=typeof window<"u"?p.useLayoutEffect:p.useEffect,V6=new WeakMap;function Ele(e,t){var r=Nle(null,function(n){return e.forEach(function(a){return XS(a,n)})});return kle(function(){var n=V6.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||XS(l,null)}),s.forEach(function(l){a.has(l)||XS(l,o)})}V6.set(r,e)},[e]),r}function Cle(e){return e}function Ale(e,t){t===void 0&&(t=Cle);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Ple(e){e===void 0&&(e={});var t=Ale(null);return t.options=Xl({async:!0,ssr:!1},e),t}var aB=function(e){var t=e.sideCar,r=Tp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Xl({},r))};aB.isSideCarExport=!0;function Tle(e,t){return e.useMedium(t),aB}var sB=Ple(),JS=function(){},D2=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:JS,onWheelCapture:JS,onTouchMoveCapture:JS}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,h=e.noRelative,v=e.noIsolation,g=e.inert,y=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,_=e.gapMode,w=Tp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,C=Ele([r,t]),j=Xl(Xl({},w),a);return p.createElement(p.Fragment,null,d&&p.createElement(N,{sideCar:sB,removeScrollBar:u,shards:f,noRelative:h,noIsolation:v,inert:g,setCallbacks:s,allowPinchZoom:!!y,lockRef:r,gapMode:_}),o?p.cloneElement(p.Children.only(l),Xl(Xl({},j),{ref:C})):p.createElement(b,Xl({},j,{className:c,ref:C}),l))});D2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};D2.classNames={fullWidth:B1,zeroRight:$1};var Ole=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Rle(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ole();return t&&e.setAttribute("nonce",t),e}function Ile(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Dle(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Lle=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Rle())&&(Ile(t,r),Dle(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Mle=function(){var e=Lle();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},iB=function(){var e=Mle(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Fle={left:0,top:0,right:0,gap:0},ZS=function(e){return parseInt(e||"",10)||0},$le=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ZS(r),ZS(n),ZS(a)]},Ble=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Fle;var t=$le(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Ule=iB(),Gm="data-scroll-locked",zle=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(jle,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Gm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(B1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat($1," .").concat($1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(B1," .").concat(B1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Gm,`] {
    `).concat(Sle,": ").concat(l,`px;
  }
`)},G6=function(){var e=parseInt(document.body.getAttribute(Gm)||"0",10);return isFinite(e)?e:0},Wle=function(){p.useEffect(function(){return document.body.setAttribute(Gm,(G6()+1).toString()),function(){var e=G6()-1;e<=0?document.body.removeAttribute(Gm):document.body.setAttribute(Gm,e.toString())}},[])},Hle=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Wle();var s=p.useMemo(function(){return Ble(a)},[a]);return p.createElement(Ule,{styles:zle(s,!t,a,r?"":"!important")})},jk=!1;if(typeof window<"u")try{var By=Object.defineProperty({},"passive",{get:function(){return jk=!0,!0}});window.addEventListener("test",By,By),window.removeEventListener("test",By,By)}catch{jk=!1}var em=jk?{passive:!1}:!1,qle=function(e){return e.tagName==="TEXTAREA"},oB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!qle(e)&&r[t]==="visible")},Vle=function(e){return oB(e,"overflowY")},Gle=function(e){return oB(e,"overflowX")},K6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=lB(e,n);if(a){var s=cB(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Kle=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Yle=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},lB=function(e,t){return e==="v"?Vle(t):Gle(t)},cB=function(e,t){return e==="v"?Kle(t):Yle(t)},Xle=function(e,t){return e==="h"&&t==="rtl"?-1:1},Jle=function(e,t,r,n,a){var s=Xle(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var h=cB(e,l),v=h[0],g=h[1],y=h[2],x=g-y-s*v;(v||x)&&lB(e,l)&&(f+=x,m+=v);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Uy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Y6=function(e){return[e.deltaX,e.deltaY]},X6=function(e){return e&&"current"in e?e.current:e},Zle=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Qle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ece=0,tm=[];function tce(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(ece++)[0],s=p.useState(iB)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=dne([e.lockRef.current],(e.shards||[]).map(X6),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Uy(g),b=r.current,_="deltaX"in g?g.deltaX:b[0]-x[0],w="deltaY"in g?g.deltaY:b[1]-x[1],N,C=g.target,j=Math.abs(_)>Math.abs(w)?"h":"v";if("touches"in g&&j==="h"&&C.type==="range")return!1;var A=window.getSelection(),k=A&&A.anchorNode,I=k?k===C||k.contains(C):!1;if(I)return!1;var T=K6(j,C);if(!T)return!0;if(T?N=j:(N=j==="v"?"h":"v",T=K6(j,C)),!T)return!1;if(!n.current&&"changedTouches"in g&&(_||w)&&(n.current=N),!N)return!0;var P=n.current||N;return Jle(P,y,g,P==="h"?_:w)},[]),c=p.useCallback(function(g){var y=g;if(!(!tm.length||tm[tm.length-1]!==s)){var x="deltaY"in y?Y6(y):Uy(y),b=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&Zle(N.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var _=(o.current.shards||[]).map(X6).filter(Boolean).filter(function(N){return N.contains(y.target)}),w=_.length>0?l(y,_[0]):!o.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(g,y,x,b){var _={name:g,delta:y,target:x,should:b,shadowParent:rce(x)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(w){return w!==_})},1)},[]),d=p.useCallback(function(g){r.current=Uy(g),n.current=void 0},[]),f=p.useCallback(function(g){u(g.type,Y6(g),g.target,l(g,e.lockRef.current))},[]),m=p.useCallback(function(g){u(g.type,Uy(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return tm.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,em),document.addEventListener("touchmove",c,em),document.addEventListener("touchstart",d,em),function(){tm=tm.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,em),document.removeEventListener("touchmove",c,em),document.removeEventListener("touchstart",d,em)}},[]);var h=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(s,{styles:Qle(a)}):null,h?p.createElement(Hle,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rce(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nce=Tle(sB,tce);var L2=p.forwardRef(function(e,t){return p.createElement(D2,Xl({},e,{ref:t,sideCar:nce}))});L2.classNames=D2.classNames;var ace=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rm=new WeakMap,zy=new WeakMap,Wy={},QS=0,uB=function(e){return e&&(e.host||uB(e.parentNode))},sce=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=uB(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ice=function(e,t,r,n){var a=sce(t,Array.isArray(e)?e:[e]);Wy[r]||(Wy[r]=new WeakMap);var s=Wy[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(n),v=h!==null&&h!=="false",g=(rm.get(m)||0)+1,y=(s.get(m)||0)+1;rm.set(m,g),s.set(m,y),o.push(m),g===1&&v&&zy.set(m,!0),y===1&&m.setAttribute(r,"true"),v||m.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return d(t),l.clear(),QS++,function(){o.forEach(function(f){var m=rm.get(f)-1,h=s.get(f)-1;rm.set(f,m),s.set(f,h),m||(zy.has(f)||f.removeAttribute(n),zy.delete(f)),h||f.removeAttribute(r)}),QS--,QS||(rm=new WeakMap,rm=new WeakMap,zy=new WeakMap,Wy={})}},NC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=ace(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),ice(n,a,r,"aria-hidden")):function(){return null}},M2="Dialog",[dB]=woe(M2),[oce,El]=dB(M2),fB=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=_l({prop:n,defaultProp:a??!1,onChange:s,caller:M2});return i.jsx(oce,{scope:t,triggerRef:l,contentRef:c,contentId:No(),titleId:No(),descriptionId:No(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};fB.displayName=M2;var hB="DialogTrigger",lce=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=El(hB,r),s=mr(t,a.triggerRef);return i.jsx(Vv.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":CC(a.open),...n,ref:s,onClick:dt(e.onClick,a.onOpenToggle)})});lce.displayName=hB;var kC="DialogPortal",[cce,mB]=dB(kC,{forceMount:void 0}),pB=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=El(kC,t);return i.jsx(cce,{scope:t,forceMount:r,children:p.Children.map(n,o=>i.jsx(rs,{present:r||s.open,children:i.jsx(Bp,{asChild:!0,container:a,children:o})}))})};pB.displayName=kC;var Dw="DialogOverlay",gB=p.forwardRef((e,t)=>{const r=mB(Dw,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=El(Dw,e.__scopeDialog);return s.modal?i.jsx(rs,{present:n||s.open,children:i.jsx(dce,{...a,ref:t})}):null});gB.displayName=Dw;var uce=nB("DialogOverlay.RemoveScroll"),dce=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=El(Dw,r);return i.jsx(L2,{as:uce,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Vv.div,{"data-state":CC(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Jf="DialogContent",vB=p.forwardRef((e,t)=>{const r=mB(Jf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=El(Jf,e.__scopeDialog);return i.jsx(rs,{present:n||s.open,children:s.modal?i.jsx(fce,{...a,ref:t}):i.jsx(hce,{...a,ref:t})})});vB.displayName=Jf;var fce=p.forwardRef((e,t)=>{const r=El(Jf,e.__scopeDialog),n=p.useRef(null),a=mr(t,r.contentRef,n);return p.useEffect(()=>{const s=n.current;if(s)return NC(s)},[]),i.jsx(xB,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:dt(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:dt(e.onFocusOutside,s=>s.preventDefault())})}),hce=p.forwardRef((e,t)=>{const r=El(Jf,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return i.jsx(xB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),xB=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=El(Jf,r),c=p.useRef(null),u=mr(t,c);return SC(),i.jsxs(i.Fragment,{children:[i.jsx(I2,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx($p,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":CC(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(mce,{titleId:l.titleId}),i.jsx(gce,{contentRef:c,descriptionId:l.descriptionId})]})]})}),EC="DialogTitle",yB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=El(EC,r);return i.jsx(Vv.h2,{id:a.titleId,...n,ref:t})});yB.displayName=EC;var wB="DialogDescription",bB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=El(wB,r);return i.jsx(Vv.p,{id:a.descriptionId,...n,ref:t})});bB.displayName=wB;var _B="DialogClose",jB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=El(_B,r);return i.jsx(Vv.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,()=>a.onOpenChange(!1))})});jB.displayName=_B;function CC(e){return e?"open":"closed"}var SB="DialogTitleWarning",[HBe,NB]=yoe(SB,{contentName:Jf,titleName:EC,docsSlug:"dialog"}),mce=({titleId:e})=>{const t=NB(SB),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},pce="DialogDescriptionWarning",gce=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NB(pce).contentName}}.`;return p.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},kB=fB,EB=pB,F2=gB,$2=vB,B2=yB,U2=bB,CB=jB;const vce=kB,xce=EB,AB=p.forwardRef(({className:e,...t},r)=>i.jsx(F2,{className:lt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));AB.displayName=F2.displayName;const yce=Lp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),PB=p.forwardRef(({side:e="right",className:t,children:r,...n},a)=>i.jsxs(xce,{children:[i.jsx(AB,{}),i.jsxs($2,{ref:a,className:lt(yce({side:e}),t),...n,children:[i.jsxs(CB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(oi,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));PB.displayName=$2.displayName;const wce=p.forwardRef(({className:e,...t},r)=>i.jsx(B2,{ref:r,className:lt("text-lg font-semibold text-foreground",e),...t}));wce.displayName=B2.displayName;const bce=p.forwardRef(({className:e,...t},r)=>i.jsx(U2,{ref:r,className:lt("text-sm text-muted-foreground",e),...t}));bce.displayName=U2.displayName;function Ne({className:e,...t}){return i.jsx("div",{className:lt("animate-pulse rounded-md bg-muted",e),...t})}function _ce(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,jce(a,...t)]}function jce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const Sce=["top","right","bottom","left"],Ad=Math.min,$i=Math.max,Lw=Math.round,Hy=Math.floor,nc=e=>({x:e,y:e}),Nce={left:"right",right:"left",bottom:"top",top:"bottom"},kce={start:"end",end:"start"};function Sk(e,t,r){return $i(e,Ad(t,r))}function au(e,t){return typeof e=="function"?e(t):e}function su(e){return e.split("-")[0]}function Up(e){return e.split("-")[1]}function AC(e){return e==="x"?"y":"x"}function PC(e){return e==="y"?"height":"width"}const Ece=new Set(["top","bottom"]);function Jl(e){return Ece.has(su(e))?"y":"x"}function TC(e){return AC(Jl(e))}function Cce(e,t,r){r===void 0&&(r=!1);const n=Up(e),a=TC(e),s=PC(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Mw(o)),[o,Mw(o)]}function Ace(e){const t=Mw(e);return[Nk(e),t,Nk(t)]}function Nk(e){return e.replace(/start|end/g,t=>kce[t])}const J6=["left","right"],Z6=["right","left"],Pce=["top","bottom"],Tce=["bottom","top"];function Oce(e,t,r){switch(e){case"top":case"bottom":return r?t?Z6:J6:t?J6:Z6;case"left":case"right":return t?Pce:Tce;default:return[]}}function Rce(e,t,r,n){const a=Up(e);let s=Oce(su(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(Nk)))),s}function Mw(e){return e.replace(/left|right|bottom|top/g,t=>Nce[t])}function Ice(e){return{top:0,right:0,bottom:0,left:0,...e}}function TB(e){return typeof e!="number"?Ice(e):{top:e,right:e,bottom:e,left:e}}function Fw(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Q6(e,t,r){let{reference:n,floating:a}=e;const s=Jl(t),o=TC(t),l=PC(o),c=su(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let h;switch(c){case"top":h={x:d,y:n.y-a.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Up(t)){case"start":h[o]-=m*(r&&u?-1:1);break;case"end":h[o]+=m*(r&&u?-1:1);break}return h}async function Dce(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=au(t,e),v=TB(h),y=l[m?f==="floating"?"reference":"floating":f],x=Fw(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(y)))==null||r?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),w=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},N=Fw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:_,strategy:c}):b);return{top:(x.top-N.top+v.top)/w.y,bottom:(N.bottom-x.bottom+v.bottom)/w.y,left:(x.left-N.left+v.left)/w.x,right:(N.right-x.right+v.right)/w.x}}const Lce=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Q6(u,n,c),m=n,h={},v=0;for(let y=0;y<l.length;y++){var g;const{name:x,fn:b}=l[y],{x:_,y:w,data:N,reset:C}=await b({x:d,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:h,rects:u,platform:{...o,detectOverflow:(g=o.detectOverflow)!=null?g:Dce},elements:{reference:e,floating:t}});d=_??d,f=w??f,h={...h,[x]:{...h[x],...N}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:d,y:f}=Q6(u,m,c)),y=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:h}},Mce=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=au(e,t)||{};if(u==null)return{};const f=TB(d),m={x:r,y:n},h=TC(a),v=PC(h),g=await o.getDimensions(u),y=h==="y",x=y?"top":"left",b=y?"bottom":"right",_=y?"clientHeight":"clientWidth",w=s.reference[v]+s.reference[h]-m[h]-s.floating[v],N=m[h]-s.reference[h],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=C?C[_]:0;(!j||!await(o.isElement==null?void 0:o.isElement(C)))&&(j=l.floating[_]||s.floating[v]);const A=w/2-N/2,k=j/2-g[v]/2-1,I=Ad(f[x],k),T=Ad(f[b],k),P=I,V=j-g[v]-T,F=j/2-g[v]/2+A,Y=Sk(P,F,V),re=!c.arrow&&Up(a)!=null&&F!==Y&&s.reference[v]/2-(F<P?I:T)-g[v]/2<0,U=re?F<P?F-P:F-V:0;return{[h]:m[h]+U,data:{[h]:Y,centerOffset:F-Y-U,...re&&{alignmentOffset:U}},reset:re}}}),Fce=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=au(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=su(a),b=Jl(l),_=su(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(_||!g?[Mw(l)]:Ace(l)),C=v!=="none";!m&&C&&N.push(...Rce(l,g,v,w));const j=[l,...N],A=await c.detectOverflow(t,y),k=[];let I=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&k.push(A[x]),f){const F=Cce(a,o,w);k.push(A[F[0]],A[F[1]])}if(I=[...I,{placement:a,overflows:k}],!k.every(F=>F<=0)){var T,P;const F=(((T=s.flip)==null?void 0:T.index)||0)+1,Y=j[F];if(Y&&(!(f==="alignment"?b!==Jl(Y):!1)||I.every(q=>Jl(q.placement)===b?q.overflows[0]>0:!0)))return{data:{index:F,overflows:I},reset:{placement:Y}};let re=(P=I.filter(U=>U.overflows[0]<=0).sort((U,q)=>U.overflows[1]-q.overflows[1])[0])==null?void 0:P.placement;if(!re)switch(h){case"bestFit":{var V;const U=(V=I.filter(q=>{if(C){const X=Jl(q.placement);return X===b||X==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(X=>X>0).reduce((X,pe)=>X+pe,0)]).sort((q,X)=>q[1]-X[1])[0])==null?void 0:V[0];U&&(re=U);break}case"initialPlacement":re=l;break}if(a!==re)return{reset:{placement:re}}}return{}}}};function eR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tR(e){return Sce.some(t=>e[t]>=0)}const $ce=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:a="referenceHidden",...s}=au(e,t);switch(a){case"referenceHidden":{const o=await n.detectOverflow(t,{...s,elementContext:"reference"}),l=eR(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:tR(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...s,altBoundary:!0}),l=eR(o,r.floating);return{data:{escapedOffsets:l,escaped:tR(l)}}}default:return{}}}}},OB=new Set(["left","top"]);async function Bce(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=su(r),l=Up(r),c=Jl(r)==="y",u=OB.has(o)?-1:1,d=s&&c?-1:1,f=au(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(h=l==="end"?v*-1:v),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const Uce=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await Bce(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},zce=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a,platform:s}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:x=>{let{x:b,y:_}=x;return{x:b,y:_}}},...u}=au(e,t),d={x:r,y:n},f=await s.detectOverflow(t,u),m=Jl(su(a)),h=AC(m);let v=d[h],g=d[m];if(o){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",_=v+f[x],w=v-f[b];v=Sk(_,v,w)}if(l){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",_=g+f[x],w=g-f[b];g=Sk(_,g,w)}const y=c.fn({...t,[h]:v,[m]:g});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[h]:o,[m]:l}}}}}},Wce=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=au(e,t),d={x:r,y:n},f=Jl(a),m=AC(f);let h=d[m],v=d[f];const g=au(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const _=m==="y"?"height":"width",w=s.reference[m]-s.floating[_]+y.mainAxis,N=s.reference[m]+s.reference[_]-y.mainAxis;h<w?h=w:h>N&&(h=N)}if(u){var x,b;const _=m==="y"?"width":"height",w=OB.has(su(a)),N=s.reference[f]-s.floating[_]+(w&&((x=o.offset)==null?void 0:x[f])||0)+(w?0:y.crossAxis),C=s.reference[f]+s.reference[_]+(w?0:((b=o.offset)==null?void 0:b[f])||0)-(w?y.crossAxis:0);v<N?v=N:v>C&&(v=C)}return{[m]:h,[f]:v}}}},Hce=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=au(e,t),d=await o.detectOverflow(t,u),f=su(a),m=Up(a),h=Jl(a)==="y",{width:v,height:g}=s.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=m==="end"?"top":"bottom");const b=g-d.top-d.bottom,_=v-d.left-d.right,w=Ad(g-d[y],b),N=Ad(v-d[x],_),C=!t.middlewareData.shift;let j=w,A=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=b),C&&!m){const I=$i(d.left,0),T=$i(d.right,0),P=$i(d.top,0),V=$i(d.bottom,0);h?A=v-2*(I!==0||T!==0?I+T:$i(d.left,d.right)):j=g-2*(P!==0||V!==0?P+V:$i(d.top,d.bottom))}await c({...t,availableWidth:A,availableHeight:j});const k=await o.getDimensions(l.floating);return v!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function z2(){return typeof window<"u"}function zp(e){return RB(e)?(e.nodeName||"").toLowerCase():"#document"}function Xi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mc(e){var t;return(t=(RB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RB(e){return z2()?e instanceof Node||e instanceof Xi(e).Node:!1}function jl(e){return z2()?e instanceof Element||e instanceof Xi(e).Element:!1}function ic(e){return z2()?e instanceof HTMLElement||e instanceof Xi(e).HTMLElement:!1}function rR(e){return!z2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xi(e).ShadowRoot}const qce=new Set(["inline","contents"]);function Gv(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Sl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!qce.has(a)}const Vce=new Set(["table","td","th"]);function Gce(e){return Vce.has(zp(e))}const Kce=[":popover-open",":modal"];function W2(e){return Kce.some(t=>{try{return e.matches(t)}catch{return!1}})}const Yce=["transform","translate","scale","rotate","perspective"],Xce=["transform","translate","scale","rotate","perspective","filter"],Jce=["paint","layout","strict","content"];function OC(e){const t=RC(),r=jl(e)?Sl(e):e;return Yce.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Xce.some(n=>(r.willChange||"").includes(n))||Jce.some(n=>(r.contain||"").includes(n))}function Zce(e){let t=Pd(e);for(;ic(t)&&!gp(t);){if(OC(t))return t;if(W2(t))return null;t=Pd(t)}return null}function RC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Qce=new Set(["html","body","#document"]);function gp(e){return Qce.has(zp(e))}function Sl(e){return Xi(e).getComputedStyle(e)}function H2(e){return jl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pd(e){if(zp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rR(e)&&e.host||mc(e);return rR(t)?t.host:t}function IB(e){const t=Pd(e);return gp(t)?e.ownerDocument?e.ownerDocument.body:e.body:ic(t)&&Gv(t)?t:IB(t)}function cv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=IB(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=Xi(a);if(s){const l=kk(o);return t.concat(o,o.visualViewport||[],Gv(a)?a:[],l&&r?cv(l):[])}return t.concat(a,cv(a,[],r))}function kk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DB(e){const t=Sl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ic(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Lw(r)!==s||Lw(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function IC(e){return jl(e)?e:e.contextElement}function Km(e){const t=IC(e);if(!ic(t))return nc(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=DB(t);let o=(s?Lw(r.width):r.width)/n,l=(s?Lw(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const eue=nc(0);function LB(e){const t=Xi(e);return!RC()||!t.visualViewport?eue:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tue(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xi(e)?!1:t}function Zf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=IC(e);let o=nc(1);t&&(n?jl(n)&&(o=Km(n)):o=Km(e));const l=tue(s,r,n)?LB(s):nc(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const m=Xi(s),h=n&&jl(n)?Xi(n):n;let v=m,g=kk(v);for(;g&&n&&h!==v;){const y=Km(g),x=g.getBoundingClientRect(),b=Sl(g),_=x.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,w=x.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=_,u+=w,v=Xi(g),g=kk(v)}}return Fw({width:d,height:f,x:c,y:u})}function q2(e,t){const r=H2(e).scrollLeft;return t?t.left+r:Zf(mc(e)).left+r}function MB(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-q2(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function rue(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=mc(n),l=t?W2(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=nc(1);const d=nc(0),f=ic(n);if((f||!f&&!s)&&((zp(n)!=="body"||Gv(o))&&(c=H2(n)),ic(n))){const h=Zf(n);u=Km(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const m=o&&!f&&!s?MB(o,c):nc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function nue(e){return Array.from(e.getClientRects())}function aue(e){const t=mc(e),r=H2(e),n=e.ownerDocument.body,a=$i(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=$i(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+q2(e);const l=-r.scrollTop;return Sl(n).direction==="rtl"&&(o+=$i(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}const nR=25;function sue(e,t){const r=Xi(e),n=mc(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const d=RC();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=q2(n);if(u<=0){const d=n.ownerDocument,f=d.body,m=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-h);v<=nR&&(s-=v)}else u<=nR&&(s+=u);return{width:s,height:o,x:l,y:c}}const iue=new Set(["absolute","fixed"]);function oue(e,t){const r=Zf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=ic(e)?Km(e):nc(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function aR(e,t,r){let n;if(t==="viewport")n=sue(e,r);else if(t==="document")n=aue(mc(e));else if(jl(t))n=oue(t,r);else{const a=LB(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Fw(n)}function FB(e,t){const r=Pd(e);return r===t||!jl(r)||gp(r)?!1:Sl(r).position==="fixed"||FB(r,t)}function lue(e,t){const r=t.get(e);if(r)return r;let n=cv(e,[],!1).filter(l=>jl(l)&&zp(l)!=="body"),a=null;const s=Sl(e).position==="fixed";let o=s?Pd(e):e;for(;jl(o)&&!gp(o);){const l=Sl(o),c=OC(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&iue.has(a.position)||Gv(o)&&!c&&FB(e,o))?n=n.filter(d=>d!==o):a=l,o=Pd(o)}return t.set(e,n),n}function cue(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?W2(t)?[]:lue(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=aR(t,d,a);return u.top=$i(f.top,u.top),u.right=Ad(f.right,u.right),u.bottom=Ad(f.bottom,u.bottom),u.left=$i(f.left,u.left),u},aR(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function uue(e){const{width:t,height:r}=DB(e);return{width:t,height:r}}function due(e,t,r){const n=ic(t),a=mc(t),s=r==="fixed",o=Zf(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=nc(0);function u(){c.x=q2(a)}if(n||!n&&!s)if((zp(t)!=="body"||Gv(a))&&(l=H2(t)),n){const h=Zf(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?MB(a,l):nc(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function e5(e){return Sl(e).position==="static"}function sR(e,t){if(!ic(e)||Sl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return mc(e)===r&&(r=r.ownerDocument.body),r}function $B(e,t){const r=Xi(e);if(W2(e))return r;if(!ic(e)){let a=Pd(e);for(;a&&!gp(a);){if(jl(a)&&!e5(a))return a;a=Pd(a)}return r}let n=sR(e,t);for(;n&&Gce(n)&&e5(n);)n=sR(n,t);return n&&gp(n)&&e5(n)&&!OC(n)?r:n||Zce(e)||r}const fue=async function(e){const t=this.getOffsetParent||$B,r=this.getDimensions,n=await r(e.floating);return{reference:due(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function hue(e){return Sl(e).direction==="rtl"}const mue={convertOffsetParentRelativeRectToViewportRelativeRect:rue,getDocumentElement:mc,getClippingRect:cue,getOffsetParent:$B,getElementRects:fue,getClientRects:nue,getDimensions:uue,getScale:Km,isElement:jl,isRTL:hue};function BB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function pue(e,t){let r=null,n;const a=mc(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||t(),!m||!h)return;const v=Hy(f),g=Hy(a.clientWidth-(d+m)),y=Hy(a.clientHeight-(f+h)),x=Hy(d),_={rootMargin:-v+"px "+-g+"px "+-y+"px "+-x+"px",threshold:$i(0,Ad(1,c))||1};let w=!0;function N(C){const j=C[0].intersectionRatio;if(j!==c){if(!w)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!BB(u,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(N,{..._,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,_)}r.observe(e)}return o(!0),s}function gue(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=IC(e),d=a||s?[...u?cv(u):[],...cv(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=u&&l?pue(u,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),r()}),u&&!c&&h.observe(u),h.observe(t));let v,g=c?Zf(e):null;c&&y();function y(){const x=Zf(e);g&&!BB(g,x)&&r(),g=x,v=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(v)}}const vue=Uce,xue=zce,yue=Fce,wue=Hce,bue=$ce,iR=Mce,_ue=Wce,jue=(e,t,r)=>{const n=new Map,a={platform:mue,...r},s={...a.platform,_c:n};return Lce(e,t,{...a,platform:s})};var Sue=typeof document<"u",Nue=function(){},U1=Sue?p.useLayoutEffect:Nue;function $w(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$w(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!$w(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function UB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oR(e,t){const r=UB(e);return Math.round(t*r)/r}function t5(e){const t=p.useRef(e);return U1(()=>{t.current=e}),t}function kue(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=p.useState(n);$w(m,n)||h(n);const[v,g]=p.useState(null),[y,x]=p.useState(null),b=p.useCallback(q=>{q!==C.current&&(C.current=q,g(q))},[]),_=p.useCallback(q=>{q!==j.current&&(j.current=q,x(q))},[]),w=s||v,N=o||y,C=p.useRef(null),j=p.useRef(null),A=p.useRef(d),k=c!=null,I=t5(c),T=t5(a),P=t5(u),V=p.useCallback(()=>{if(!C.current||!j.current)return;const q={placement:t,strategy:r,middleware:m};T.current&&(q.platform=T.current),jue(C.current,j.current,q).then(X=>{const pe={...X,isPositioned:P.current!==!1};F.current&&!$w(A.current,pe)&&(A.current=pe,Mo.flushSync(()=>{f(pe)}))})},[m,t,r,T,P]);U1(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const F=p.useRef(!1);U1(()=>(F.current=!0,()=>{F.current=!1}),[]),U1(()=>{if(w&&(C.current=w),N&&(j.current=N),w&&N){if(I.current)return I.current(w,N,V);V()}},[w,N,V,I,k]);const Y=p.useMemo(()=>({reference:C,floating:j,setReference:b,setFloating:_}),[b,_]),re=p.useMemo(()=>({reference:w,floating:N}),[w,N]),U=p.useMemo(()=>{const q={position:r,left:0,top:0};if(!re.floating)return q;const X=oR(re.floating,d.x),pe=oR(re.floating,d.y);return l?{...q,transform:"translate("+X+"px, "+pe+"px)",...UB(re.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:pe}},[r,l,re.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:V,refs:Y,elements:re,floatingStyles:U}),[d,V,Y,re,U])}const Eue=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?iR({element:n.current,padding:a}).fn(r):{}:n?iR({element:n,padding:a}).fn(r):{}}}},Cue=(e,t)=>({...vue(e),options:[e,t]}),Aue=(e,t)=>({...xue(e),options:[e,t]}),Pue=(e,t)=>({..._ue(e),options:[e,t]}),Tue=(e,t)=>({...yue(e),options:[e,t]}),Oue=(e,t)=>({...wue(e),options:[e,t]}),Rue=(e,t)=>({...bue(e),options:[e,t]}),Iue=(e,t)=>({...Eue(e),options:[e,t]});function Due(e){const t=Lue(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(Fue);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Lue(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=Bue(a),l=$ue(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mue=Symbol("radix.slottable");function Fue(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Mue}function $ue(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Bue(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Uue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zue=Uue.reduce((e,t)=>{const r=Due(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Wue="Arrow",zB=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(zue.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});zB.displayName=Wue;var Hue=zB;function que(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Vue(a,...t)]}function Vue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Gue(e){const t=Kue(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(Xue);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Kue(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=Zue(a),l=Jue(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yue=Symbol("radix.slottable");function Xue(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yue}function Jue(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Zue(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Que=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],WB=Que.reduce((e,t)=>{const r=Gue(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function DC(e){const[t,r]=p.useState(void 0);return aa(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var LC="Popper",[HB,Wp]=que(LC),[ede,qB]=HB(LC),VB=e=>{const{__scopePopper:t,children:r}=e,[n,a]=p.useState(null);return i.jsx(ede,{scope:t,anchor:n,onAnchorChange:a,children:r})};VB.displayName=LC;var GB="PopperAnchor",KB=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=qB(GB,r),o=p.useRef(null),l=mr(t,o),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:i.jsx(WB.div,{...a,ref:l})});KB.displayName=GB;var MC="PopperContent",[tde,rde]=HB(MC),YB=p.forwardRef((e,t)=>{var W,te,J,oe,_e,ve;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:v,...g}=e,y=qB(MC,r),[x,b]=p.useState(null),_=mr(t,We=>b(We)),[w,N]=p.useState(null),C=DC(w),j=(C==null?void 0:C.width)??0,A=(C==null?void 0:C.height)??0,k=n+(s!=="center"?"-"+s:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],P=T.length>0,V={padding:I,boundary:T.filter(ade),altBoundary:P},{refs:F,floatingStyles:Y,placement:re,isPositioned:U,middlewareData:q}=kue({strategy:"fixed",placement:k,whileElementsMounted:(...We)=>gue(...We,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[Cue({mainAxis:a+A,alignmentAxis:o}),c&&Aue({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Pue():void 0,...V}),c&&Tue({...V}),Oue({...V,apply:({elements:We,rects:ze,availableWidth:ae,availableHeight:$e})=>{const{width:He,height:nt}=ze.reference,Ke=We.floating.style;Ke.setProperty("--radix-popper-available-width",`${ae}px`),Ke.setProperty("--radix-popper-available-height",`${$e}px`),Ke.setProperty("--radix-popper-anchor-width",`${He}px`),Ke.setProperty("--radix-popper-anchor-height",`${nt}px`)}}),w&&Iue({element:w,padding:l}),sde({arrowWidth:j,arrowHeight:A}),m&&Rue({strategy:"referenceHidden",...V})]}),[X,pe]=ZB(re),xe=ta(v);aa(()=>{U&&(xe==null||xe())},[U,xe]);const D=(W=q.arrow)==null?void 0:W.x,M=(te=q.arrow)==null?void 0:te.y,R=((J=q.arrow)==null?void 0:J.centerOffset)!==0,[H,B]=p.useState();return aa(()=>{x&&B(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:U?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(oe=q.transformOrigin)==null?void 0:oe.x,(_e=q.transformOrigin)==null?void 0:_e.y].join(" "),...((ve=q.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(tde,{scope:r,placedSide:X,onArrowChange:N,arrowX:D,arrowY:M,shouldHideArrow:R,children:i.jsx(WB.div,{"data-side":X,"data-align":pe,...g,ref:_,style:{...g.style,animation:U?void 0:"none"}})})})});YB.displayName=MC;var XB="PopperArrow",nde={top:"bottom",right:"left",bottom:"top",left:"right"},JB=p.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=rde(XB,n),o=nde[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Hue,{...a,ref:r,style:{...a.style,display:"block"}})})});JB.displayName=XB;function ade(e){return e!==null}var sde=e=>({name:"transformOrigin",options:e,fn(t){var y,x,b;const{placement:r,rects:n,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=ZB(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,h=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=o?f:`${m}px`,g=`${-c}px`):u==="top"?(v=o?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=o?f:`${h}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=o?f:`${h}px`),{data:{x:v,y:g}}}});function ZB(e){const[t,r="center"]=e.split("-");return[t,r]}var FC=VB,$C=KB,BC=YB,UC=JB;function ide(e){const t=ode(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(cde);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function ode(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=dde(a),l=ude(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QB=Symbol("radix.slottable");function lde(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=QB,t}function cde(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QB}function ude(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function dde(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hde=fde.reduce((e,t)=>{const r=ide(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function mde(e){const t=pde(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(vde);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function pde(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=yde(a),l=xde(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gde=Symbol("radix.slottable");function vde(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gde}function xde(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function yde(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bde=wde.reduce((e,t)=>{const r=mde(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),eU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_de="VisuallyHidden",V2=p.forwardRef((e,t)=>i.jsx(bde.span,{...e,ref:t,style:{...eU,...e.style}}));V2.displayName=_de;var jde=V2,[G2]=_ce("Tooltip",[Wp]),K2=Wp(),tU="TooltipProvider",Sde=700,Ek="tooltip.open",[Nde,zC]=G2(tU),rU=e=>{const{__scopeTooltip:t,delayDuration:r=Sde,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(Nde,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};rU.displayName=tU;var uv="Tooltip",[kde,Kv]=G2(uv),nU=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=zC(uv,e.__scopeTooltip),u=K2(t),[d,f]=p.useState(null),m=No(),h=p.useRef(0),v=o??c.disableHoverableContent,g=l??c.delayDuration,y=p.useRef(!1),[x,b]=_l({prop:n,defaultProp:a??!1,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ek))):c.onClose(),s==null||s(j)},caller:uv}),_=p.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),w=p.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y.current=!1,b(!0)},[b]),N=p.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),C=p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{y.current=!0,b(!0),h.current=0},g)},[g,b]);return p.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),i.jsx(FC,{...u,children:i.jsx(kde,{scope:t,contentId:m,open:x,stateAttribute:_,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?C():w()},[c.isOpenDelayedRef,C,w]),onTriggerLeave:p.useCallback(()=>{v?N():(window.clearTimeout(h.current),h.current=0)},[N,v]),onOpen:w,onClose:N,disableHoverableContent:v,children:r})})};nU.displayName=uv;var Ck="TooltipTrigger",aU=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Kv(Ck,r),s=zC(Ck,r),o=K2(r),l=p.useRef(null),c=mr(t,l,a.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx($C,{asChild:!0,...o,children:i.jsx(hde.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:dt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:dt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:dt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:dt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:dt(e.onBlur,a.onClose),onClick:dt(e.onClick,a.onClose)})})});aU.displayName=Ck;var WC="TooltipPortal",[Ede,Cde]=G2(WC,{forceMount:void 0}),sU=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:a}=e,s=Kv(WC,t);return i.jsx(Ede,{scope:t,forceMount:r,children:i.jsx(rs,{present:r||s.open,children:i.jsx(Bp,{asChild:!0,container:a,children:n})})})};sU.displayName=WC;var vp="TooltipContent",iU=p.forwardRef((e,t)=>{const r=Cde(vp,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,o=Kv(vp,e.__scopeTooltip);return i.jsx(rs,{present:n||o.open,children:o.disableHoverableContent?i.jsx(oU,{side:a,...s,ref:t}):i.jsx(Ade,{side:a,...s,ref:t})})}),Ade=p.forwardRef((e,t)=>{const r=Kv(vp,e.__scopeTooltip),n=zC(vp,e.__scopeTooltip),a=p.useRef(null),s=mr(t,a),[o,l]=p.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,m=p.useCallback(()=>{l(null),f(!1)},[f]),h=p.useCallback((v,g)=>{const y=v.currentTarget,x={x:v.clientX,y:v.clientY},b=Ide(x,y.getBoundingClientRect()),_=Dde(x,b),w=Lde(g.getBoundingClientRect()),N=Fde([..._,...w]);l(N),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&d){const v=y=>h(y,d),g=y=>h(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,h,m]),p.useEffect(()=>{if(o){const v=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),_=!Mde(x,o);b?m():_&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,m]),i.jsx(oU,{...e,ref:s})}),[Pde,Tde]=G2(uv,{isInside:!1}),Ode=lde("TooltipContent"),oU=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=Kv(vp,r),u=K2(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(Ek,d),()=>document.removeEventListener(Ek,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx($p,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(BC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Ode,{children:n}),i.jsx(Pde,{scope:r,isInside:!0,children:i.jsx(jde,{id:c.contentId,role:"tooltip",children:a||n})})]})})});iU.displayName=vp;var lU="TooltipArrow",Rde=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=K2(r);return Tde(lU,r).isInside?null:i.jsx(UC,{...a,...n,ref:t})});Rde.displayName=lU;function Ide(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Dde(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Lde(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Mde(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function Fde(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),$de(t)}function $de(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Bde=rU,Ude=nU,zde=aU,Wde=sU,cU=iU;const uU=Bde,Hde=Ude,qde=zde,dU=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(Wde,{children:i.jsx(cU,{ref:n,sideOffset:t,className:lt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));dU.displayName=cU.displayName;const Vde="sidebar:state",Gde=60*60*24*7,Kde="16rem",Yde="18rem",Xde="3rem",Jde="b",fU=p.createContext(null);function Y2(){const e=p.useContext(fU);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const hU=p.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:s,...o},l)=>{const c=Nie(),[u,d]=p.useState(!1),[f,m]=p.useState(e),h=t??f,v=p.useCallback(b=>{const _=typeof b=="function"?b(h):b;r?r(_):m(_),document.cookie=`${Vde}=${_}; path=/; max-age=${Gde}`},[r,h]),g=p.useCallback(()=>c?d(b=>!b):v(b=>!b),[c,v,d]);p.useEffect(()=>{const b=_=>{_.key===Jde&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),g())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[g]);const y=h?"expanded":"collapsed",x=p.useMemo(()=>({state:y,open:h,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:g}),[y,h,v,c,u,d,g]);return i.jsx(fU.Provider,{value:x,children:i.jsx(uU,{delayDuration:0,children:i.jsx("div",{style:{"--sidebar-width":Kde,"--sidebar-width-icon":Xde,...a},className:lt("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:s})})})});hU.displayName="SidebarProvider";const mU=p.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...s},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=Y2();return r==="none"?i.jsx("div",{className:lt("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...s,children:a}):l?i.jsx(vce,{open:u,onOpenChange:d,...s,children:i.jsx(PB,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Yde},side:e,children:i.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):i.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[i.jsx("div",{className:lt("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),i.jsx("div",{className:lt("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:i.jsx("div",{"data-sidebar":"sidebar",className:lt("flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow"),children:a})})]})});mU.displayName="Sidebar";const pU=p.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=Y2();return i.jsxs(be,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:lt("h-7 w-7",e),onClick:s=>{t==null||t(s),a()},...r,children:[i.jsx(rie,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});pU.displayName="SidebarTrigger";const Zde=p.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Y2();return i.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:lt("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Zde.displayName="SidebarRail";const Qde=p.forwardRef(({className:e,...t},r)=>i.jsx("main",{ref:r,className:lt("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Qde.displayName="SidebarInset";const efe=p.forwardRef(({className:e,...t},r)=>i.jsx(Ue,{ref:r,"data-sidebar":"input",className:lt("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));efe.displayName="SidebarInput";const gU=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"header",className:lt("flex flex-col gap-2 p-2",e),...t}));gU.displayName="SidebarHeader";const vU=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"footer",className:lt("flex flex-col gap-2 p-2",e),...t}));vU.displayName="SidebarFooter";const Ak=p.forwardRef(({className:e,...t},r)=>i.jsx(ml,{ref:r,"data-sidebar":"separator",className:lt("mx-2 w-auto bg-sidebar-border",e),...t}));Ak.displayName="SidebarSeparator";const xU=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"content",className:lt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));xU.displayName="SidebarContent";const yU=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"group",className:lt("relative flex w-full min-w-0 flex-col p-2",e),...t}));yU.displayName="SidebarGroup";const wU=p.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Dp:"div";return i.jsx(a,{ref:n,"data-sidebar":"group-label",className:lt("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});wU.displayName="SidebarGroupLabel";const tfe=p.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Dp:"button";return i.jsx(a,{ref:n,"data-sidebar":"group-action",className:lt("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});tfe.displayName="SidebarGroupAction";const bU=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"group-content",className:lt("w-full text-sm",e),...t}));bU.displayName="SidebarGroupContent";const _U=p.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,"data-sidebar":"menu",className:lt("flex w-full min-w-0 flex-col gap-1",e),...t}));_U.displayName="SidebarMenu";const jU=p.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,"data-sidebar":"menu-item",className:lt("group/menu-item relative",e),...t}));jU.displayName="SidebarMenuItem";const rfe=Lp("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),SU=p.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:s,...o},l)=>{const c=e?Dp:"button",{isMobile:u,state:d}=Y2(),f=i.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:lt(rfe({variant:r,size:n}),s),...o});return a?(typeof a=="string"&&(a={children:a}),i.jsxs(Hde,{children:[i.jsx(qde,{asChild:!0,children:f}),i.jsx(dU,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):f});SU.displayName="SidebarMenuButton";const nfe=p.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const s=t?Dp:"button";return i.jsx(s,{ref:a,"data-sidebar":"menu-action",className:lt("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});nfe.displayName="SidebarMenuAction";const afe=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:lt("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","group-data-[collapsible=icon]:hidden",e),...t}));afe.displayName="SidebarMenuBadge";const sfe=p.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return i.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:lt("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&i.jsx(Ne,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),i.jsx(Ne,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});sfe.displayName="SidebarMenuSkeleton";const ife=p.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:lt("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));ife.displayName="SidebarMenuSub";const ofe=p.forwardRef(({...e},t)=>i.jsx("li",{ref:t,...e}));ofe.displayName="SidebarMenuSubItem";const lfe=p.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},s)=>{const o=e?Dp:"a";return i.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:lt("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});lfe.displayName="SidebarMenuSubButton";function NU(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o);l.displayName=s+"Context";const c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,cfe(a,...t)]}function cfe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ufe(){return fC.useSyncExternalStore(dfe,()=>!0,()=>!1)}function dfe(){return()=>{}}var HC="Avatar",[ffe]=NU(HC),[hfe,kU]=ffe(HC),EU=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=p.useState("idle");return i.jsx(hfe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(yh.span,{...n,ref:t})})});EU.displayName=HC;var CU="AvatarImage",AU=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=kU(CU,r),l=mfe(n,s),c=ta(u=>{a(u),o.onImageLoadingStatusChange(u)});return aa(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(yh.img,{...s,ref:t,src:n}):null});AU.displayName=CU;var PU="AvatarFallback",TU=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=kU(PU,r),[o,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(yh.span,{...a,ref:t}):null});TU.displayName=PU;function lR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function mfe(e,{referrerPolicy:t,crossOrigin:r}){const n=ufe(),a=p.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=p.useState(()=>lR(s,e));return aa(()=>{l(lR(s,e))},[s,e]),aa(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}var OU=EU,RU=AU,IU=TU;const ws=p.forwardRef(({className:e,...t},r)=>i.jsx(OU,{ref:r,className:lt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ws.displayName=OU.displayName;const pfe=p.forwardRef(({className:e,...t},r)=>i.jsx(RU,{ref:r,className:lt("aspect-square h-full w-full",e),...t}));pfe.displayName=RU.displayName;const bs=p.forwardRef(({className:e,...t},r)=>i.jsx(IU,{ref:r,className:lt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));bs.displayName=IU.displayName;const gfe=[{label:"Overview",items:[{id:"dashboard",label:"Dashboard",icon:eie,path:"/dashboard"},{id:"analytics",label:"Analytics",icon:T2,path:"/analytics"}]},{label:"Clients",items:[{id:"clients",label:"Clients",icon:ti,path:"/clients"},{id:"client-health",label:"Client Health",icon:wk,path:"/client-health"},{id:"credentials",label:"Credentials",icon:Tw,path:"/credentials"}]},{label:"Team",items:[{id:"employees",label:"Employees",icon:ra,path:"/employees"},{id:"workload",label:"Workload",icon:sie,path:"/workload"},{id:"daily-view",label:"Daily View",icon:k$,path:"/daily-view"},{id:"team-monitoring",label:"Team Monitoring",icon:R$,path:"/team-monitoring"},{id:"daily-submissions",label:"Daily Submissions",icon:ov,path:"/daily-submissions"},{id:"assignments",label:"Assignments",icon:hie,path:"/assignments"},{id:"resources",label:"Resources",icon:Xf,path:"/resources"}]},{label:"Work",items:[{id:"reports",label:"Reports",icon:En,path:"/reports"},{id:"tasks",label:"Tasks",icon:iv,path:"/tasks"},{id:"calendar",label:"Calendar",icon:Nn,path:"/calendar"},{id:"goals",label:"Goals",icon:R2,path:"/goals"},{id:"feedback",label:"Feedback",icon:Qs,path:"/feedback"},{id:"time-off",label:"Time Off",icon:Nn,path:"/time-off"},{id:"time-tracking",label:"Time Tracking",icon:ln,path:"/time-tracking"},{id:"approvals",label:"Approvals",icon:kn,path:"/approvals"}]},{label:"Finance",items:[{id:"budget",label:"Budget",icon:_d,path:"/budget"},{id:"benchmarks",label:"Benchmarks",icon:ri,path:"/benchmarks"},{id:"metrics",label:"Metrics",icon:O$,path:"/metrics"}]},{label:"Tools",items:[{id:"communications",label:"Messages",icon:Qs,path:"/communications"},{id:"templates",label:"Templates",icon:Yf,path:"/templates"},{id:"import",label:"Import",icon:_C,path:"/import"},{id:"bulk",label:"Bulk Ops",icon:C$,path:"/bulk"},{id:"portal",label:"Portal",icon:xC,path:"/portal"}]},{label:"System",items:[{id:"logs",label:"Activity Logs",icon:wk,path:"/logs"},{id:"settings",label:"Settings",icon:bC,path:"/settings"}]}],vfe=[{label:"My Work",items:[{id:"dashboard",label:"My Clients",icon:ti,path:"/dashboard"},{id:"reports",label:"Submit Report",icon:En,path:"/reports"},{id:"tasks",label:"My Tasks",icon:iv,path:"/tasks"},{id:"team-progress",label:"Team Progress",icon:R$,path:"/team-progress"},{id:"feedback",label:"Feedback",icon:Qs,path:"/feedback"},{id:"time-off",label:"Time Off",icon:Nn,path:"/time-off"},{id:"credentials",label:"Credentials",icon:Tw,path:"/credentials"}]}];function xfe({isAdmin:e}){const[t,r]=hc(),{profile:n,signOut:a}=Ln(),s=e?gfe:vfe,o=c=>!!(c==="/dashboard"&&(t==="/"||t==="/dashboard")||c!=="/dashboard"&&t.startsWith(c)),l=n!=null&&n.full_name?n.full_name.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2):"U";return i.jsxs(mU,{children:[i.jsx(gU,{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:i.jsx(Js,{className:"h-4 w-4"})}),i.jsx("span",{className:"text-[15px] font-semibold","data-testid":"text-app-name",children:"ClientFlow"})]})}),i.jsx(Ak,{}),i.jsx(xU,{className:"px-2",children:s.map(c=>i.jsxs(yU,{className:"py-1",children:[i.jsx(wU,{className:"text-[11px] uppercase tracking-wider font-medium text-muted-foreground px-2",children:c.label}),i.jsx(bU,{children:i.jsx(_U,{children:c.items.map(u=>{const d=u.icon,f=o(u.path);return i.jsx(jU,{children:i.jsxs(SU,{isActive:f,onClick:()=>r(u.path),"data-testid":`nav-${u.id}`,className:"text-[13px]",children:[i.jsx(d,{className:"h-4 w-4"}),i.jsx("span",{children:u.label})]})},u.id)})})})]},c.label))}),i.jsx(Ak,{}),i.jsx(vU,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx(ws,{className:"h-8 w-8",children:i.jsx(bs,{className:"text-xs bg-primary/10 text-primary font-medium",children:l})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[13px] font-medium truncate","data-testid":"text-sidebar-user",children:(n==null?void 0:n.full_name)||"User"}),i.jsx("p",{className:"text-[11px] text-muted-foreground capitalize",children:(n==null?void 0:n.role)||"employee"})]}),i.jsx(be,{variant:"ghost",size:"icon",onClick:a,"data-testid":"button-sidebar-logout",children:i.jsx(yC,{className:"h-3.5 w-3.5"})})]})})]})}const yfe=1,wfe=1e6;let r5=0;function bfe(){return r5=(r5+1)%Number.MAX_SAFE_INTEGER,r5.toString()}const n5=new Map,cR=e=>{if(n5.has(e))return;const t=setTimeout(()=>{n5.delete(e),Ng({type:"REMOVE_TOAST",toastId:e})},wfe);n5.set(e,t)},_fe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,yfe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?cR(r):e.toasts.forEach(n=>{cR(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},z1=[];let W1={toasts:[]};function Ng(e){W1=_fe(W1,e),z1.forEach(t=>{t(W1)})}function jfe({...e}){const t=bfe(),r=a=>Ng({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ng({type:"DISMISS_TOAST",toastId:t});return Ng({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Sfe(){const[e,t]=p.useState(W1);return p.useEffect(()=>(z1.push(t),()=>{const r=z1.indexOf(t);r>-1&&z1.splice(r,1)}),[e]),{...e,toast:jfe,dismiss:r=>Ng({type:"DISMISS_TOAST",toastId:r})}}function Nfe(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,kfe(a,...t)]}function kfe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function uR(e){const t=Efe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(Afe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Efe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=Tfe(a),l=Pfe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cfe=Symbol("radix.slottable");function Afe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cfe}function Pfe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Tfe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function X2(e){const t=e+"CollectionProvider",[r,n]=Nfe(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:x}=g,b=Xu.useRef(null),_=Xu.useRef(new Map).current;return i.jsx(a,{scope:y,itemMap:_,collectionRef:b,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=uR(l),u=Xu.forwardRef((g,y)=>{const{scope:x,children:b}=g,_=s(l,x),w=mr(y,_.collectionRef);return i.jsx(c,{ref:w,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=uR(d),h=Xu.forwardRef((g,y)=>{const{scope:x,children:b,..._}=g,w=Xu.useRef(null),N=mr(y,w),C=s(d,x);return Xu.useEffect(()=>(C.itemMap.set(w,{ref:w,..._}),()=>void C.itemMap.delete(w))),i.jsx(m,{[f]:"",ref:N,children:b})});h.displayName=d;function v(g){const y=s(e+"CollectionConsumer",g);return Xu.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((C,j)=>_.indexOf(C.ref.current)-_.indexOf(j.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},v,n]}function Ofe(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Rfe(a,...t)]}function Rfe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ife(e){const t=Dfe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(Mfe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Dfe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=$fe(a),l=Ffe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lfe=Symbol("radix.slottable");function Mfe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lfe}function Ffe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function $fe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Bfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hp=Bfe.reduce((e,t)=>{const r=Ife(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ufe(e,t){e&&Mo.flushSync(()=>e.dispatchEvent(t))}var qC="ToastProvider",[VC,zfe,Wfe]=X2("Toast"),[DU]=Ofe("Toast",[Wfe]),[Hfe,J2]=DU(qC),LU=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${qC}\`. Expected non-empty \`string\`.`),i.jsx(VC.Provider,{scope:t,children:i.jsx(Hfe,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(h=>h+1),[]),onToastRemove:p.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};LU.displayName=qC;var MU="ToastViewport",qfe=["F8"],Pk="toast.viewportPause",Tk="toast.viewportResume",FU=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=qfe,label:a="Notifications ({hotkey})",...s}=e,o=J2(MU,r),l=zfe(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),m=mr(t,f,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;p.useEffect(()=>{const y=x=>{var _;n.length!==0&&n.every(w=>x[w]||x.code===w)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),p.useEffect(()=>{const y=c.current,x=f.current;if(v&&y&&x){const b=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Pk);x.dispatchEvent(C),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Tk);x.dispatchEvent(C),o.isClosePausedRef.current=!1}},w=C=>{!y.contains(C.relatedTarget)&&_()},N=()=>{y.contains(document.activeElement)||_()};return y.addEventListener("focusin",b),y.addEventListener("focusout",w),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",_),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",w),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",_)}}},[v,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:y})=>{const b=l().map(_=>{const w=_.ref.current,N=[w,...ahe(w)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return p.useEffect(()=>{const y=f.current;if(y){const x=b=>{var N,C,j;const _=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!_){const A=document.activeElement,k=b.shiftKey;if(b.target===y&&k){(N=u.current)==null||N.focus();return}const P=g({tabbingDirection:k?"backwards":"forwards"}),V=P.findIndex(F=>F===A);a5(P.slice(V+1))?b.preventDefault():k?(C=u.current)==null||C.focus():(j=d.current)==null||j.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,g]),i.jsxs(Woe,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&i.jsx(Ok,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});a5(y)}}),i.jsx(VC.Slot,{scope:r,children:i.jsx(Hp.ol,{tabIndex:-1,...s,ref:m})}),v&&i.jsx(Ok,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});a5(y)}})]})});FU.displayName=MU;var $U="ToastFocusProxy",Ok=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=J2($U,r);return i.jsx(V2,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});Ok.displayName=$U;var Yv="Toast",Vfe="toast.swipeStart",Gfe="toast.swipeMove",Kfe="toast.swipeCancel",Yfe="toast.swipeEnd",BU=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=e,[l,c]=_l({prop:n,defaultProp:a??!0,onChange:s,caller:Yv});return i.jsx(rs,{present:r||l,children:i.jsx(Zfe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ta(e.onPause),onResume:ta(e.onResume),onSwipeStart:dt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dt(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:dt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dt(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});BU.displayName=Yv;var[Xfe,Jfe]=DU(Yv,{onClose(){}}),Zfe=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...v}=e,g=J2(Yv,r),[y,x]=p.useState(null),b=mr(t,F=>x(F)),_=p.useRef(null),w=p.useRef(null),N=a||g.duration,C=p.useRef(0),j=p.useRef(N),A=p.useRef(0),{onToastAdd:k,onToastRemove:I}=g,T=ta(()=>{var Y;(y==null?void 0:y.contains(document.activeElement))&&((Y=g.viewport)==null||Y.focus()),o()}),P=p.useCallback(F=>{!F||F===1/0||(window.clearTimeout(A.current),C.current=new Date().getTime(),A.current=window.setTimeout(T,F))},[T]);p.useEffect(()=>{const F=g.viewport;if(F){const Y=()=>{P(j.current),u==null||u()},re=()=>{const U=new Date().getTime()-C.current;j.current=j.current-U,window.clearTimeout(A.current),c==null||c()};return F.addEventListener(Pk,re),F.addEventListener(Tk,Y),()=>{F.removeEventListener(Pk,re),F.removeEventListener(Tk,Y)}}},[g.viewport,N,c,u,P]),p.useEffect(()=>{s&&!g.isClosePausedRef.current&&P(N)},[s,N,g.isClosePausedRef,P]),p.useEffect(()=>(k(),()=>I()),[k,I]);const V=p.useMemo(()=>y?GU(y):null,[y]);return g.viewport?i.jsxs(i.Fragment,{children:[V&&i.jsx(Qfe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:V}),i.jsx(Xfe,{scope:r,onClose:T,children:Mo.createPortal(i.jsx(VC.ItemSlot,{scope:r,children:i.jsx(zoe,{asChild:!0,onEscapeKeyDown:dt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Hp.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:dt(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:dt(e.onPointerDown,F=>{F.button===0&&(_.current={x:F.clientX,y:F.clientY})}),onPointerMove:dt(e.onPointerMove,F=>{if(!_.current)return;const Y=F.clientX-_.current.x,re=F.clientY-_.current.y,U=!!w.current,q=["left","right"].includes(g.swipeDirection),X=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,pe=q?X(0,Y):0,xe=q?0:X(0,re),D=F.pointerType==="touch"?10:2,M={x:pe,y:xe},R={originalEvent:F,delta:M};U?(w.current=M,qy(Gfe,f,R,{discrete:!1})):dR(M,g.swipeDirection,D)?(w.current=M,qy(Vfe,d,R,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(Y)>D||Math.abs(re)>D)&&(_.current=null)}),onPointerUp:dt(e.onPointerUp,F=>{const Y=w.current,re=F.target;if(re.hasPointerCapture(F.pointerId)&&re.releasePointerCapture(F.pointerId),w.current=null,_.current=null,Y){const U=F.currentTarget,q={originalEvent:F,delta:Y};dR(Y,g.swipeDirection,g.swipeThreshold)?qy(Yfe,h,q,{discrete:!0}):qy(Kfe,m,q,{discrete:!0}),U.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Qfe=e=>{const{__scopeToast:t,children:r,...n}=e,a=J2(Yv,t),[s,o]=p.useState(!1),[l,c]=p.useState(!1);return rhe(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Bp,{asChild:!0,children:i.jsx(V2,{...n,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},ehe="ToastTitle",UU=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Hp.div,{...n,ref:t})});UU.displayName=ehe;var the="ToastDescription",zU=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Hp.div,{...n,ref:t})});zU.displayName=the;var WU="ToastAction",HU=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(VU,{altText:r,asChild:!0,children:i.jsx(GC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${WU}\`. Expected non-empty \`string\`.`),null)});HU.displayName=WU;var qU="ToastClose",GC=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Jfe(qU,r);return i.jsx(VU,{asChild:!0,children:i.jsx(Hp.button,{type:"button",...n,ref:t,onClick:dt(e.onClick,a.onClose)})})});GC.displayName=qU;var VU=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return i.jsx(Hp.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function GU(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),nhe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...GU(n))}}),t}function qy(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Ufe(a,s):a.dispatchEvent(s)}var dR=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function rhe(e=()=>{}){const t=ta(e);aa(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function nhe(e){return e.nodeType===e.ELEMENT_NODE}function ahe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function a5(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var she=LU,KU=FU,YU=BU,XU=UU,JU=zU,ZU=HU,QU=GC;const ihe=she,ez=p.forwardRef(({className:e,...t},r)=>i.jsx(KU,{ref:r,className:lt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ez.displayName=KU.displayName;const ohe=Lp("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tz=p.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(YU,{ref:n,className:lt(ohe({variant:t}),e),...r}));tz.displayName=YU.displayName;const lhe=p.forwardRef(({className:e,...t},r)=>i.jsx(ZU,{ref:r,className:lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));lhe.displayName=ZU.displayName;const rz=p.forwardRef(({className:e,...t},r)=>i.jsx(QU,{ref:r,className:lt("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(oi,{className:"h-4 w-4"})}));rz.displayName=QU.displayName;const nz=p.forwardRef(({className:e,...t},r)=>i.jsx(XU,{ref:r,className:lt("text-sm font-semibold [&+div]:text-xs",e),...t}));nz.displayName=XU.displayName;const az=p.forwardRef(({className:e,...t},r)=>i.jsx(JU,{ref:r,className:lt("text-sm opacity-90",e),...t}));az.displayName=JU.displayName;function che(){const{toasts:e}=Sfe();return i.jsxs(ihe,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return i.jsxs(tz,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(nz,{children:r}),n&&i.jsx(az,{children:n})]}),a,i.jsx(rz,{})]},t)}),i.jsx(ez,{})]})}function Bw(e){if(!e)return"An unexpected error occurred";if(typeof e=="string")return e;if(e.code)switch(e.code){case"23505":return"This record already exists. Please check your data and try again.";case"23503":return"Cannot delete: This record is being used elsewhere in the system.";case"23502":return"Required field is missing. Please fill in all required fields.";case"42P01":return"Database table not found. Please contact support.";case"PGRST116":return"No records found matching your criteria.";case"22P02":return"Invalid data format. Please check your input.";default:if(e.code.startsWith("23"))return"Database constraint violation. Please check your input."}if(e.message){const t=e.message.toLowerCase();return t.includes("invalid login")||t.includes("invalid credentials")?"Invalid email or password. Please check your credentials and try again.":t.includes("user already registered")?"An account with this email already exists. Try logging in instead.":t.includes("email not confirmed")?"Please verify your email address before logging in.":t.includes("network")||t.includes("fetch")?"Network error. Please check your internet connection and try again.":t.includes("timeout")?"Request timed out. Please try again.":t.includes("jwt")||t.includes("token")?"Your session has expired. Please log in again.":t.includes("permission")||t.includes("unauthorized")?"You do not have permission to perform this action.":e.message}return"An unexpected error occurred. Please try again."}const Mf={required:(e,t="This field")=>e==null||e===""?`${t} is required`:typeof e=="string"&&e.trim()===""?`${t} is required`:null,email:e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Please enter a valid email address":"Email is required",password:e=>e?e.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?null:"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password is required",passwordSimple:e=>e?e.length<8?"Password must be at least 8 characters long":null:"Password is required",minLength:(e,t,r="This field")=>e?e.length<t?`${r} must be at least ${t} characters`:null:`${r} is required`,maxLength:(e,t,r="This field")=>e&&e.length>t?`${r} must be no more than ${t} characters`:null,numeric:(e,t="This field")=>e===""||e===null||e===void 0?`${t} is required`:isNaN(Number(e))?`${t} must be a number`:null,positiveNumber:(e,t="This field")=>{const r=Mf.numeric(e,t);return r||(Number(e)<=0?`${t} must be greater than 0`:null)},minValue:(e,t,r="This field")=>{const n=Mf.numeric(e,r);return n||(Number(e)<t?`${r} must be at least ${t}`:null)},maxValue:(e,t,r="This field")=>{const n=Mf.numeric(e,r);return n||(Number(e)>t?`${r} must be no more than ${t}`:null)},url:e=>{if(!e)return null;try{return new URL(e),null}catch{return"Please enter a valid URL"}},phone:e=>e?/^[\d\s\-\+\(\)]+$/.test(e)?e.replace(/\D/g,"").length<10?"Phone number must have at least 10 digits":null:"Please enter a valid phone number":null,date:(e,t="Date")=>{if(!e)return`${t} is required`;const r=new Date(e);return isNaN(r.getTime())?"Please enter a valid date":null},dateRange:(e,t)=>{if(!e||!t)return"Both dates are required";const r=new Date(e),n=new Date(t);return r>n?"End date must be after start date":null},match:(e,t,r="Field")=>e!==t?`${r} does not match`:null};function sz(e){if(!e)return{score:0,label:"None",color:"gray"};let t=0;return e.length>=8&&(t+=1),e.length>=12&&(t+=1),/[a-z]/.test(e)&&(t+=1),/[A-Z]/.test(e)&&(t+=1),/[0-9]/.test(e)&&(t+=1),/[^a-zA-Z0-9]/.test(e)&&(t+=1),t<=2?{score:t,label:"Weak",color:"red"}:t<=4?{score:t,label:"Fair",color:"yellow"}:t<=5?{score:t,label:"Good",color:"blue"}:{score:t,label:"Strong",color:"green"}}var uhe="Label",iz=p.forwardRef((e,t)=>i.jsx(yh.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));iz.displayName=uhe;var oz=iz;const dhe=Lp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ye=p.forwardRef(({className:e,...t},r)=>i.jsx(oz,{ref:r,className:lt(dhe(),e),...t}));ye.displayName=oz.displayName;var KC="Progress",YC=100,[fhe]=NU(KC),[hhe,mhe]=fhe(KC),lz=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=phe,...o}=e;(a||a===0)&&!fR(a)&&console.error(ghe(`${a}`,"Progress"));const l=fR(a)?a:YC;n!==null&&!hR(n,l)&&console.error(vhe(`${n}`,"Progress"));const c=hR(n,l)?n:null,u=Uw(c)?s(c,l):void 0;return i.jsx(hhe,{scope:r,value:c,max:l,children:i.jsx(yh.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Uw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":dz(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});lz.displayName=KC;var cz="ProgressIndicator",uz=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=mhe(cz,r);return i.jsx(yh.div,{"data-state":dz(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});uz.displayName=cz;function phe(e,t){return`${Math.round(e/t*100)}%`}function dz(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Uw(e){return typeof e=="number"}function fR(e){return Uw(e)&&!isNaN(e)&&e>0}function hR(e,t){return Uw(e)&&!isNaN(e)&&e<=t&&e>=0}function ghe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${YC}\`.`}function vhe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${YC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var fz=lz,xhe=uz;const Wd=p.forwardRef(({className:e,value:t,...r},n)=>i.jsx(fz,{ref:n,className:lt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:i.jsx(xhe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Wd.displayName=fz.displayName;function yhe(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[a,s]=p.useState(""),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),{signIn:m,signUp:h}=Ln(),[,v]=hc(),g=c?sz(r):null,y=async _=>{_.preventDefault(),s("");const w=Mf.email(e);if(w){s(w);return}if(c){const N=Mf.password(r);if(N){s(N);return}}else if(r.length<1){s("Password is required");return}if(l(!0),c){const{error:N}=await h(e,r);N&&s(Bw(N))}else{const{error:N}=await m(e,r);N&&s(Bw(N))}l(!1)},x=g?g.score<=2?"text-destructive":g.score<=4?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400":"",b=g?g.score/6*100:0;return i.jsxs("div",{className:"min-h-screen bg-background flex","data-testid":"login-page",children:[i.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-primary/5 items-center justify-center p-12",children:i.jsxs("div",{className:"max-w-md space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-primary text-primary-foreground",children:i.jsx(Js,{className:"h-5 w-5"})}),i.jsx("span",{className:"text-2xl font-semibold tracking-tight",children:"ClientFlow"})]}),i.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Manage your clients with confidence"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Weekly reporting, health monitoring, budget tracking, and team workload management  all in one place."}),i.jsx("div",{className:"space-y-3 pt-4",children:["Real-time client health scoring","Automated weekly report workflows","Team capacity and workload insights","Budget tracking and forecasting"].map(_=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:_})]},_))})]})}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:i.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[i.jsxs("div",{className:"lg:hidden flex items-center gap-3 justify-center mb-2",children:[i.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-md bg-primary text-primary-foreground",children:i.jsx(Js,{className:"h-4 w-4"})}),i.jsx("span",{className:"text-xl font-semibold tracking-tight",children:"ClientFlow"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"text-xl font-semibold tracking-tight","data-testid":"text-auth-title",children:c?"Create an account":"Welcome back"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c?"Enter your details to get started":"Sign in to your account to continue"})]}),i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a&&i.jsx("div",{className:"rounded-md border border-destructive/20 bg-destructive/5 px-3 py-2.5 text-sm text-destructive","data-testid":"text-auth-error",children:a}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(ye,{htmlFor:"email",children:"Email"}),i.jsx(Ue,{id:"email",type:"email",value:e,onChange:_=>t(_.target.value),placeholder:"you@company.com",autoComplete:"email",required:!0,"data-testid":"input-email"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx(ye,{htmlFor:"password",children:"Password"}),!c&&i.jsx("button",{type:"button",onClick:()=>v("/forgot-password"),className:"text-xs text-muted-foreground hover:text-primary transition-colors","data-testid":"link-forgot-password",children:"Forgot password?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ue,{id:"password",type:d?"text":"password",value:r,onChange:_=>n(_.target.value),placeholder:c?"Create a password":"Enter your password",autoComplete:c?"new-password":"current-password",className:"pr-10",required:!0,"data-testid":"input-password"}),i.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,"data-testid":"button-toggle-password",children:d?i.jsx(pp,{className:"h-4 w-4"}):i.jsx(Cd,{className:"h-4 w-4"})})]}),c&&r&&g&&i.jsxs("div",{className:"space-y-1 pt-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Strength"}),i.jsx("span",{className:`text-xs font-medium ${x}`,children:g.label})]}),i.jsx(Wd,{value:b,className:"h-1"})]})]}),i.jsx(be,{type:"submit",disabled:o,className:"w-full","data-testid":"button-submit",children:o?i.jsx(Zs,{className:"h-4 w-4 animate-spin"}):i.jsxs(i.Fragment,{children:[c?"Create account":"Sign in",i.jsx(N$,{className:"ml-2 h-4 w-4"})]})})]}),i.jsx("div",{className:"relative",children:i.jsx(ml,{})}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[c?"Already have an account?":"Don't have an account?"," ",i.jsx("button",{type:"button",onClick:()=>{u(!c),s("")},className:"font-medium text-primary hover:underline","data-testid":"link-toggle-auth",children:c?"Sign in":"Sign up"})]})]})})]})}function whe(){const{resetPassword:e}=Ln(),[t,r]=p.useState(""),[n,a]=p.useState(!1),[s,o]=p.useState(!1),[l,c]=p.useState(""),[,u]=hc(),d=async f=>{f.preventDefault(),c("");const m=Mf.email(t);if(m){c(m);return}a(!0);const{error:h}=await e(t);h?(c(Bw(h)),a(!1)):(o(!0),a(!1))};return s?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6","data-testid":"forgot-password-success",children:i.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[i.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:i.jsx(kn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Check your email"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a reset link to ",i.jsx("span",{className:"font-medium text-foreground",children:t})]})]}),i.jsx(be,{onClick:()=>u("/"),className:"w-full","data-testid":"button-back-login",children:"Back to sign in"})]})}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6","data-testid":"forgot-password-page",children:i.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[i.jsxs("button",{onClick:()=>u("/"),className:"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors","data-testid":"link-back-login",children:[i.jsx(Pw,{className:"h-4 w-4"}),"Back to sign in"]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"text-xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Reset your password"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email and we'll send you a link to reset it."})]}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l&&i.jsx("div",{className:"rounded-md border border-destructive/20 bg-destructive/5 px-3 py-2.5 text-sm text-destructive","data-testid":"text-error",children:l}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(ye,{htmlFor:"email",children:"Email"}),i.jsx(Ue,{id:"email",type:"email",value:t,onChange:f=>r(f.target.value),placeholder:"you@company.com",autoComplete:"email",required:!0,"data-testid":"input-email"})]}),i.jsx(be,{type:"submit",disabled:n,className:"w-full","data-testid":"button-submit",children:n?i.jsx(Zs,{className:"h-4 w-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Yf,{className:"mr-2 h-4 w-4"}),"Send reset link"]})})]})]})})}function bhe(){const{updatePassword:e}=Ln(),[t,r]=p.useState(""),[n,a]=p.useState(""),[s,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,m]=p.useState(!1),[h,v]=p.useState({}),[,g]=hc(),y=sz(t),x=y.score<=2?"text-destructive":y.score<=4?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",b=async _=>{_.preventDefault();const w={},N=Mf.password(t);if(N&&(w.password=N),t!==n&&(w.confirmPassword="Passwords do not match"),Object.keys(w).length>0){v(w);return}v({}),d(!0);const{error:C}=await e(t);C?(v({password:Bw(C)}),d(!1)):(m(!0),d(!1),setTimeout(()=>g("/dashboard"),2e3))};return f?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6","data-testid":"reset-success",children:i.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[i.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:i.jsx(kn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Password updated"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting you to the dashboard..."})]})]})}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6","data-testid":"reset-password-page",children:i.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"Set a new password"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a strong password for your account."})]}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(ye,{htmlFor:"password",children:"New password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ue,{id:"password",type:s?"text":"password",value:t,onChange:_=>r(_.target.value),placeholder:"Create a password",autoComplete:"new-password",className:"pr-10",required:!0,"data-testid":"input-password"}),i.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,children:s?i.jsx(pp,{className:"h-4 w-4"}):i.jsx(Cd,{className:"h-4 w-4"})})]}),h.password&&i.jsx("p",{className:"text-xs text-destructive",children:h.password}),t&&!h.password&&i.jsxs("div",{className:"space-y-1 pt-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"Strength"}),i.jsx("span",{className:`text-xs font-medium ${x}`,children:y.label})]}),i.jsx(Wd,{value:y.score/6*100,className:"h-1"})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(ye,{htmlFor:"confirm-password",children:"Confirm password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ue,{id:"confirm-password",type:l?"text":"password",value:n,onChange:_=>a(_.target.value),placeholder:"Confirm your password",autoComplete:"new-password",className:"pr-10",required:!0,"data-testid":"input-confirm-password"}),i.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-0 top-0 h-full px-3 text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,children:l?i.jsx(pp,{className:"h-4 w-4"}):i.jsx(Cd,{className:"h-4 w-4"})})]}),h.confirmPassword&&i.jsx("p",{className:"text-xs text-destructive",children:h.confirmPassword})]}),i.jsxs("div",{className:"rounded-md bg-muted/50 px-3 py-2.5",children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium mb-1.5",children:"Requirements:"}),i.jsxs("ul",{className:"space-y-0.5 text-xs text-muted-foreground",children:[i.jsx("li",{children:"At least 8 characters"}),i.jsx("li",{children:"One uppercase and one lowercase letter"}),i.jsx("li",{children:"One number"})]})]}),i.jsx(be,{type:"submit",disabled:u,className:"w-full","data-testid":"button-submit",children:u?i.jsx(Zs,{className:"h-4 w-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(A$,{className:"mr-2 h-4 w-4"}),"Update password"]})})]})]})})}const hz=6048e5,_he=864e5,mz=6e4,pz=36e5,mR=Symbol.for("constructDateFrom");function Qi(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&mR in e?e[mR](t):e instanceof Date?new e.constructor(t):new Date(t)}function sa(e,t){return Qi(t||e,e)}function gz(e,t,r){const n=sa(e,r==null?void 0:r.in);return isNaN(t)?Qi(e,NaN):(t&&n.setDate(n.getDate()+t),n)}let jhe={};function Xv(){return jhe}function Qf(e,t){var l,c,u,d;const r=Xv(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=sa(e,t==null?void 0:t.in),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function zw(e,t){return Qf(e,{...t,weekStartsOn:1})}function vz(e,t){const r=sa(e,t==null?void 0:t.in),n=r.getFullYear(),a=Qi(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=zw(a),o=Qi(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=zw(o);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function pR(e){const t=sa(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Jv(e,...t){const r=Qi.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Ww(e,t){const r=sa(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function xz(e,t,r){const[n,a]=Jv(r==null?void 0:r.in,e,t),s=Ww(n),o=Ww(a),l=+s-pR(s),c=+o-pR(o);return Math.round((l-c)/_he)}function She(e,t){const r=vz(e,t),n=Qi(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),zw(n)}function gR(e,t,r){return gz(e,t*7,r)}function Nhe(e){return Qi(e,Date.now())}function yz(e,t,r){const[n,a]=Jv(r==null?void 0:r.in,e,t);return+Ww(n)==+Ww(a)}function khe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ehe(e){return!(!khe(e)&&typeof e!="number"||isNaN(+sa(e)))}function vR(e,t,r){const[n,a]=Jv(r==null?void 0:r.in,e,t),s=xR(n,a),o=Math.abs(xz(n,a));n.setDate(n.getDate()-s*o);const l=+(xR(n,a)===-s),c=s*(o-l);return c===0?0:c}function xR(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function yR(e,t){const r=sa(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Che(e,t){const[r,n]=Jv(e,t.start,t.end);return{start:r,end:n}}function Ahe(e,t){const{start:r,end:n}=Che(t==null?void 0:t.in,e);let a=+r>+n;const s=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=s;)c.push(Qi(r,o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function wR(e,t){const r=sa(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Phe(e,t){const r=sa(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function The(e,t){var l,c;const r=Xv(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=sa(e,t==null?void 0:t.in),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const Ohe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rhe=(e,t,r)=>{let n;const a=Ohe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function s5(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ihe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lhe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mhe={date:s5({formats:Ihe,defaultWidth:"full"}),time:s5({formats:Dhe,defaultWidth:"full"}),dateTime:s5({formats:Lhe,defaultWidth:"full"})},Fhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$he=(e,t,r,n)=>Fhe[e];function z0(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Bhe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Uhe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zhe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Whe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vhe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ghe={ordinalNumber:Vhe,era:z0({values:Bhe,defaultWidth:"wide"}),quarter:z0({values:Uhe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:z0({values:zhe,defaultWidth:"wide"}),day:z0({values:Whe,defaultWidth:"wide"}),dayPeriod:z0({values:Hhe,defaultWidth:"wide",formattingValues:qhe,defaultFormattingWidth:"wide"})};function W0(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Yhe(l,f=>f.test(o)):Khe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Khe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Yhe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Xhe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Jhe=/^(\d+)(th|st|nd|rd)?/i,Zhe=/\d+/i,Qhe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eme={any:[/^b/i,/^(a|c)/i]},tme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rme={any:[/1/i,/2/i,/3/i,/4/i]},nme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ame={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ime={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ome={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cme={ordinalNumber:Xhe({matchPattern:Jhe,parsePattern:Zhe,valueCallback:e=>parseInt(e,10)}),era:W0({matchPatterns:Qhe,defaultMatchWidth:"wide",parsePatterns:eme,defaultParseWidth:"any"}),quarter:W0({matchPatterns:tme,defaultMatchWidth:"wide",parsePatterns:rme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:W0({matchPatterns:nme,defaultMatchWidth:"wide",parsePatterns:ame,defaultParseWidth:"any"}),day:W0({matchPatterns:sme,defaultMatchWidth:"wide",parsePatterns:ime,defaultParseWidth:"any"}),dayPeriod:W0({matchPatterns:ome,defaultMatchWidth:"any",parsePatterns:lme,defaultParseWidth:"any"})},ume={code:"en-US",formatDistance:Rhe,formatLong:Mhe,formatRelative:$he,localize:Ghe,match:cme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dme(e,t){const r=sa(e,t==null?void 0:t.in);return xz(r,Phe(r))+1}function fme(e,t){const r=sa(e,t==null?void 0:t.in),n=+zw(r)-+She(r);return Math.round(n/hz)+1}function wz(e,t){var d,f,m,h;const r=sa(e,t==null?void 0:t.in),n=r.getFullYear(),a=Xv(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=Qi((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Qf(o,t),c=Qi((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Qf(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function hme(e,t){var l,c,u,d;const r=Xv(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=wz(e,t),s=Qi((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Qf(s,t)}function mme(e,t){const r=sa(e,t==null?void 0:t.in),n=+Qf(r,t)-+hme(r,t);return Math.round(n/hz)+1}function Xr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Vu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Xr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Xr(r+1,2)},d(e,t){return Xr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Xr(e.getHours()%12||12,t.length)},H(e,t){return Xr(e.getHours(),t.length)},m(e,t){return Xr(e.getMinutes(),t.length)},s(e,t){return Xr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Xr(a,t.length)}},nm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Vu.y(e,t)},Y:function(e,t,r,n){const a=wz(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return Xr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Xr(s,t.length)},R:function(e,t){const r=vz(e);return Xr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Xr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Xr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Xr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Vu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Xr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=mme(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Xr(a,t.length)},I:function(e,t,r){const n=fme(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Xr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Vu.d(e,t)},D:function(e,t,r){const n=dme(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Xr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Xr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Xr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Xr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=nm.noon:n===0?a=nm.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=nm.evening:n>=12?a=nm.afternoon:n>=4?a=nm.morning:a=nm.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Vu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Vu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Xr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Xr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Vu.s(e,t)},S:function(e,t){return Vu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return jR(n);case"XXXX":case"XX":return xf(n);case"XXXXX":case"XXX":default:return xf(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return jR(n);case"xxxx":case"xx":return xf(n);case"xxxxx":case"xxx":default:return xf(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_R(n,":");case"OOOO":default:return"GMT"+xf(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_R(n,":");case"zzzz":default:return"GMT"+xf(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Xr(n,t.length)},T:function(e,t,r){return Xr(+e,t.length)}};function _R(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+Xr(s,2)}function jR(e,t){return e%60===0?(e>0?"-":"+")+Xr(Math.abs(e)/60,2):xf(e,t)}function xf(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Xr(Math.trunc(n/60),2),s=Xr(n%60,2);return r+a+t+s}const SR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pme=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return SR(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",SR(n,t)).replace("{{time}}",bz(a,t))},gme={p:bz,P:pme},vme=/^D+$/,xme=/^Y+$/,yme=["D","DD","YY","YYYY"];function wme(e){return vme.test(e)}function bme(e){return xme.test(e)}function _me(e,t,r){const n=jme(e,t,r);if(console.warn(n),yme.includes(e))throw new RangeError(n)}function jme(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kme=/^'([^]*?)'?$/,Eme=/''/g,Cme=/[a-zA-Z]/;function Bt(e,t,r){var d,f,m,h;const n=Xv(),a=n.locale??ume,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=sa(e,r==null?void 0:r.in);if(!Ehe(l))throw new RangeError("Invalid time value");let c=t.match(Nme).map(v=>{const g=v[0];if(g==="p"||g==="P"){const y=gme[g];return y(v,a.formatLong)}return v}).join("").match(Sme).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:Ame(v)};if(bR[g])return{isToken:!0,value:v};if(g.match(Cme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(bme(g)||wme(g))&&_me(g,t,String(e));const y=bR[g[0]];return y(l,g,a.localize,u)}).join("")}function Ame(e){const t=e.match(kme);return t?t[1].replace(Eme,"'"):e}function Pme(e,t){return+sa(e)>+sa(t)}function NR(e,t){return+sa(e)<+sa(t)}function _z(e){return+sa(e)<Date.now()}function Tme(e,t,r){const[n,a]=Jv(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Dm(e,t){return yz(Qi(e,e),Nhe(e))}function Gl(e,t){const r=()=>Qi(t==null?void 0:t.in,NaN),a=Dme(e);let s;if(a.date){const u=Lme(a.date,2);s=Mme(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const o=+s;let l=0,c;if(a.time&&(l=Fme(a.time),isNaN(l)))return r();if(a.timezone){if(c=$me(a.timezone),isNaN(c))return r()}else{const u=new Date(o+l),d=sa(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return sa(o+l+c,t==null?void 0:t.in)}const Vy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ome=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Rme=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ime=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Dme(e){const t={},r=e.split(Vy.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Vy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Vy.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Vy.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Lme(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function Mme(e,t){if(t===null)return new Date(NaN);const r=e.match(Ome);if(!r)return new Date(NaN);const n=!!r[4],a=H0(r[1]),s=H0(r[2])-1,o=H0(r[3]),l=H0(r[4]),c=H0(r[5])-1;if(n)return Hme(t,l,c)?Bme(t,l,c):new Date(NaN);{const u=new Date(0);return!zme(t,s,o)||!Wme(t,a)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(a,o)),u)}}function H0(e){return e?parseInt(e):1}function Fme(e){const t=e.match(Rme);if(!t)return NaN;const r=i5(t[1]),n=i5(t[2]),a=i5(t[3]);return qme(r,n,a)?r*pz+n*mz+a*1e3:NaN}function i5(e){return e&&parseFloat(e.replace(",","."))||0}function $me(e){if(e==="Z")return 0;const t=e.match(Ime);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Vme(n,a)?r*(n*pz+a*mz):NaN}function Bme(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Ume=[31,null,31,30,31,30,31,31,30,31,30,31];function jz(e){return e%400===0||e%4===0&&e%100!==0}function zme(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Ume[t]||(jz(e)?29:28))}function Wme(e,t){return t>=1&&t<=(jz(e)?366:365)}function Hme(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function qme(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Vme(e,t){return t>=0&&t<=59}function Gme({reportId:e,isClientPortal:t,portalUserId:r}){const{showToast:n}=yr(),[a,s]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(0),[m,h]=p.useState(0),[v,g]=p.useState(""),[y,x]=p.useState(!1);p.useEffect(()=>{b()},[e]);const b=async()=>{try{const{data:N,error:C}=await ce.from("report_feedback").select(`
          *,
          client_portal_users:portal_user_id(full_name, email)
        `).eq("report_id",e).order("created_at",{ascending:!1});if(C)throw C;s(N||[])}catch(N){console.error("Error loading feedback:",N)}finally{l(!1)}},_=async N=>{if(N.preventDefault(),!d||!r){n("Please provide a rating","error");return}x(!0);try{const{error:C}=await ce.from("report_feedback").insert({report_id:e,portal_user_id:r,rating:d,feedback:v});if(C)throw C;n("Thank you for your feedback!","success"),f(0),g(""),u(!1),b()}catch{n("Failed to submit feedback","error")}finally{x(!1)}},w=a.length>0?a.reduce((N,C)=>N+C.rating,0)/a.length:0;return o?i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[i.jsx(Qs,{className:"h-5 w-5 text-blue-600"}),"Client Feedback"]}),a.length>0&&i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(N=>i.jsx(WS,{className:`h-4 w-4 ${N<=Math.round(w)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},N))}),i.jsxs("span",{className:"text-sm text-gray-600",children:[w.toFixed(1)," (",a.length," review",a.length!==1?"s":"",")"]})]})]}),t&&r&&i.jsxs("button",{onClick:()=>u(!c),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[i.jsx(cie,{className:"h-4 w-4"}),c?"Cancel":"Leave Feedback"]})]}),c&&t&&i.jsxs("form",{onSubmit:_,className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate this report"}),i.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(N=>i.jsx("button",{type:"button",onClick:()=>f(N),onMouseEnter:()=>h(N),onMouseLeave:()=>h(0),className:"focus:outline-none",children:i.jsx(WS,{className:`h-8 w-8 transition-colors ${N<=(m||d)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},N))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional comments (optional)"}),i.jsx("textarea",{id:"feedback",value:v,onChange:N=>g(N.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg resize-none",placeholder:"Share your thoughts about this report..."})]}),i.jsx("button",{type:"submit",disabled:!d||y,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Submitting...":"Submit Feedback"})]}),i.jsxs("div",{className:"space-y-4",children:[a.map(N=>{var C;return i.jsxs("div",{className:"border-l-4 border-blue-200 pl-4 py-2",children:[i.jsx("div",{className:"flex items-start justify-between mb-2",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"flex",children:[1,2,3,4,5].map(j=>i.jsx(WS,{className:`h-4 w-4 ${j<=N.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},j))}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:((C=N.client_portal_users)==null?void 0:C.full_name)||"Client"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:Bt(new Date(N.created_at),"MMM d, yyyy h:mm a")})]})}),N.feedback&&i.jsx("p",{className:"text-sm text-gray-700 mt-2",children:N.feedback})]},N.id)}),a.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Qs,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),i.jsx("p",{className:"text-sm",children:"No feedback yet"})]})]})]})}function Kme(){const{user:e,signOut:t}=Ln(),[r,n]=p.useState(null),[a,s]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState(null),[d,f]=p.useState(!0),[m,h]=p.useState("recent");p.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const{data:b,error:_}=await ce.from("client_portal_users").select("*").eq("auth_user_id",e.id).single();if(_)throw _;if(!b)throw new Error("Portal user not found");n(b);const{data:w,error:N}=await ce.from("clients").select("*").eq("id",b.client_id).single();if(N)throw N;s(w);const{data:C,error:j}=await ce.from("weekly_reports").select(`
          *,
          services(name),
          profiles(full_name),
          service_metrics(metric_data)
        `).eq("client_id",b.client_id).eq("approval_status","approved").order("week_start_date",{ascending:!1});if(j)throw j;l(C||[])}catch(b){console.error("Error loading portal data:",b)}finally{f(!1)}},g=b=>({on_track:"bg-green-100 text-green-800",needs_attention:"bg-yellow-100 text-yellow-800",delayed:"bg-red-100 text-red-800"})[b]||"bg-gray-100 text-gray-800",y=async()=>{await t()};if(d)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading your portal..."})]})});if(!r||!a)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-600",children:"Unable to load portal data"}),i.jsx("button",{onClick:y,className:"mt-4 text-blue-600 hover:text-blue-700",children:"Logout"})]})});const x=m==="recent"?o.slice(0,10):o;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:[i.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx(En,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"ClientFlow Portal"}),i.jsx("p",{className:"text-xs text-gray-500",children:a.name})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right hidden sm:block",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.full_name}),i.jsx("p",{className:"text-xs text-gray-500",children:r.email})]}),i.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition",children:[i.jsx(yC,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Js,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.name}),a.industry&&i.jsx("p",{className:"text-sm text-gray-600",children:a.industry})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Total Reports"}),i.jsx("p",{className:"text-3xl font-bold text-blue-900",children:o.length})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"On Track"}),i.jsx("p",{className:"text-3xl font-bold text-green-900",children:o.filter(b=>b.status==="on_track").length})]}),i.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-yellow-700 font-medium mb-1",children:"Needs Attention"}),i.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:o.filter(b=>b.status==="needs_attention").length})]})]})]})})})}),i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Weekly Reports"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>h("recent"),className:`px-4 py-2 rounded-lg font-medium transition ${m==="recent"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:"Recent (10)"}),i.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg font-medium transition ${m==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:"All Reports"})]})]}),x.length===0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[i.jsx(En,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 text-lg",children:"No reports available yet"}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Reports will appear here once they are approved"})]}):i.jsx("div",{className:"grid grid-cols-1 gap-6",children:x.map(b=>i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Nn,{className:"h-5 w-5 text-blue-600"}),i.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Week of ",Bt(new Date(b.week_start_date),"MMM d, yyyy")]})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[b.services&&i.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[i.jsx(ri,{className:"h-4 w-4"}),b.services.name]}),b.profiles&&i.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[i.jsx(Po,{className:"h-4 w-4"}),b.profiles.full_name]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${g(b.status)}`,children:b.status.replace("_"," ")})]})]})}),b.service_metrics&&b.service_metrics.length>0&&i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 mb-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[i.jsx(ri,{className:"h-4 w-4 text-blue-600"}),"Performance Metrics"]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(b.service_metrics[0].metric_data||{}).slice(0,8).map(([_,w])=>i.jsxs("div",{className:"bg-white rounded-lg p-3",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:_.replace(/_/g," ")}),i.jsx("p",{className:"text-lg font-bold text-gray-900",children:String(w)})]},_))})]}),i.jsxs("div",{className:"space-y-4",children:[b.work_summary&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Work Summary"}),i.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:b.work_summary})]}),b.key_wins&&i.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-l-4 border-green-500",children:[i.jsx("h4",{className:"text-sm font-semibold text-green-900 mb-2",children:"Key Wins"}),i.jsx("p",{className:"text-green-800 whitespace-pre-wrap",children:b.key_wins})]}),b.challenges&&i.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"Challenges"}),i.jsx("p",{className:"text-yellow-800 whitespace-pre-wrap",children:b.challenges})]}),b.next_week_plan&&i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Next Week's Plan"}),i.jsx("p",{className:"text-blue-800 whitespace-pre-wrap",children:b.next_week_plan})]})]}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx(Gme,{reportId:b.id,isClientPortal:!0,portalUserId:r.id})})]})},b.id))})]}),i.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:i.jsx("p",{className:"text-center text-sm text-gray-500",children:"Powered by ClientFlow - Client Performance Management System"})})})]})}function Yme(){const{theme:e,setTheme:t}=qse();return i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),"data-testid":"button-theme-toggle",children:e==="dark"?i.jsx(lie,{className:"h-4 w-4"}):i.jsx(tie,{className:"h-4 w-4"})})}function Xme(e,t){p.useEffect(()=>{if(!e)return;const r=ce.channel(`notifications-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},n=>{t(n.new)}).subscribe();return()=>{ce.removeChannel(r)}},[e,t])}function Jme(){const{user:e}=Ln(),{showToast:t}=yr(),[r,n]=p.useState([]),[a,s]=p.useState(!1),[o,l]=p.useState(0);Xme((e==null?void 0:e.id)||"",m=>{n(h=>[m,...h]),l(h=>h+1),t(m.type||"info",m.title)}),p.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{const{data:m,error:h}=await ce.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);!h&&m&&(n(m),l(m.filter(v=>!v.is_read).length))}catch(m){console.error("Error loading notifications:",m)}},u=async m=>{try{await ce.from("notifications").update({is_read:!0}).eq("id",m),c()}catch(h){console.error("Error marking notification as read:",h)}},d=async()=>{try{await ce.from("notifications").update({is_read:!0}).eq("user_id",e.id),c()}catch(m){console.error("Error marking all as read:",m)}},f=m=>{switch(m){case"success":return"bg-green-50 dark:bg-green-950/40 text-green-700 dark:text-green-400";case"warning":return"bg-yellow-50 dark:bg-yellow-950/40 text-yellow-700 dark:text-yellow-400";case"error":return"bg-red-50 dark:bg-red-950/40 text-red-700 dark:text-red-400";default:return"bg-blue-50 dark:bg-blue-950/40 text-blue-700 dark:text-blue-400"}};return i.jsxs("div",{className:"relative",children:[i.jsxs(be,{variant:"ghost",size:"icon",onClick:()=>s(!a),className:"relative text-muted-foreground","data-testid":"button-notifications-toggle",children:[i.jsx(F1,{className:"h-5 w-5"}),o>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-destructive text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:o>9?"9+":o})]}),a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1),"data-testid":"backdrop-notifications"}),i.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-card rounded-xl shadow-xl border border-border z-20 max-h-[32rem] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[i.jsx("h3",{className:"font-bold text-foreground",children:"Notifications"}),o>0&&i.jsx(be,{variant:"ghost",size:"sm",onClick:d,"data-testid":"button-mark-all-as-read",children:"Mark all as read"})]}),i.jsx("div",{className:"overflow-y-auto flex-1",children:r.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(F1,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-muted-foreground",children:"No notifications"})]}):i.jsx("div",{children:r.map(m=>i.jsx("div",{className:`p-4 border-b border-border hover:bg-muted transition ${m.is_read?"":"bg-primary/5"}`,"data-testid":`notification-item-${m.id}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg flex-shrink-0 ${f(m.type)}`,children:i.jsx(F1,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-foreground text-sm",children:m.title}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m.message}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:Bt(new Date(m.created_at),"MMM d, h:mm a")})]}),!m.is_read&&i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>u(m.id),title:"Mark as read",className:"flex-shrink-0","data-testid":`button-mark-as-read-${m.id}`,children:i.jsx(Rp,{className:"h-4 w-4"})})]})},m.id))})})]})]})]})}function Zme(){const[e,t]=p.useState(!0),[r,n]=p.useState(!1);return p.useEffect(()=>{const a=()=>{t(!0),n(!0);const o=setTimeout(()=>{n(!1)},3e3);return()=>clearTimeout(o)},s=()=>{t(!1),n(!1)};return window.addEventListener("online",a),window.addEventListener("offline",s),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}},[]),e&&!r?null:i.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-yellow-600 dark:bg-yellow-700 text-yellow-50","data-testid":"banner-offline",children:i.jsx("div",{className:"flex items-center gap-3 px-4 py-3 max-w-screen-xl mx-auto",children:r?i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"text-sm font-medium",children:"Back online!"})]}):i.jsxs(i.Fragment,{children:[i.jsx(pie,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"text-sm font-medium",children:"You're offline. Some features may not work until you reconnect."})]})})})}function Qme(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,epe(a,...t)]}function epe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function tpe(e){const t=rpe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(ape);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function rpe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=ipe(a),l=spe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var npe=Symbol("radix.slottable");function ape(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===npe}function spe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function ipe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ope=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lpe=ope.reduce((e,t)=>{const r=tpe(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function cpe(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,upe(a,...t)]}function upe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var dpe=p.createContext(void 0);function Zv(e){const t=p.useContext(dpe);return e||t||"ltr"}function Sz(e){const t=fpe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(mpe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function fpe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=gpe(a),l=ppe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hpe=Symbol("radix.slottable");function mpe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hpe}function ppe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function gpe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qv=vpe.reduce((e,t)=>{const r=Sz(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function xpe(e,t){e&&Mo.flushSync(()=>e.dispatchEvent(t))}function ype(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,wpe(a,...t)]}function wpe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function bpe(e){const t=_pe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(Spe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function _pe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=kpe(a),l=Npe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jpe=Symbol("radix.slottable");function Spe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jpe}function Npe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function kpe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Epe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nz=Epe.reduce((e,t)=>{const r=bpe(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),o5="rovingFocusGroup.onEntryFocus",Cpe={bubbles:!1,cancelable:!0},ex="RovingFocusGroup",[Rk,kz,Ape]=X2(ex),[Ppe,Z2]=ype(ex,[Ape]),[Tpe,Ope]=Ppe(ex),Ez=p.forwardRef((e,t)=>i.jsx(Rk.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Rk.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Rpe,{...e,ref:t})})}));Ez.displayName=ex;var Rpe=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=p.useRef(null),h=mr(t,m),v=Zv(s),[g,y]=_l({prop:o,defaultProp:l??null,onChange:c,caller:ex}),[x,b]=p.useState(!1),_=ta(u),w=kz(r),N=p.useRef(!1),[C,j]=p.useState(0);return p.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(o5,_),()=>A.removeEventListener(o5,_)},[_]),i.jsx(Tpe,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:g,onItemFocus:p.useCallback(A=>y(A),[y]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>j(A=>A+1),[]),onFocusableItemRemove:p.useCallback(()=>j(A=>A-1),[]),children:i.jsx(Nz.div,{tabIndex:x||C===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:dt(e.onMouseDown,()=>{N.current=!0}),onFocus:dt(e.onFocus,A=>{const k=!N.current;if(A.target===A.currentTarget&&k&&!x){const I=new CustomEvent(o5,Cpe);if(A.currentTarget.dispatchEvent(I),!I.defaultPrevented){const T=w().filter(re=>re.focusable),P=T.find(re=>re.active),V=T.find(re=>re.id===g),Y=[P,V,...T].filter(Boolean).map(re=>re.ref.current);Pz(Y,d)}}N.current=!1}),onBlur:dt(e.onBlur,()=>b(!1))})})}),Cz="RovingFocusGroupItem",Az=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=No(),u=s||c,d=Ope(Cz,r),f=d.currentTabStopId===u,m=kz(r),{onFocusableItemAdd:h,onFocusableItemRemove:v,currentTabStopId:g}=d;return p.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),i.jsx(Rk.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:i.jsx(Nz.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:dt(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:dt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:dt(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=Lpe(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let _=m().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const w=_.indexOf(y.currentTarget);_=d.loop?Mpe(_,w+1):_.slice(w+1)}setTimeout(()=>Pz(_))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});Az.displayName=Cz;var Ipe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dpe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Lpe(e,t,r){const n=Dpe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ipe[n]}function Pz(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Mpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Tz=Ez,Oz=Az,Ik=["Enter"," "],Fpe=["ArrowDown","PageUp","Home"],Rz=["ArrowUp","PageDown","End"],$pe=[...Fpe,...Rz],Bpe={ltr:[...Ik,"ArrowRight"],rtl:[...Ik,"ArrowLeft"]},Upe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tx="Menu",[dv,zpe,Wpe]=X2(tx),[wh,Iz]=cpe(tx,[Wpe,Wp,Z2]),Q2=Wp(),Dz=Z2(),[Hpe,bh]=wh(tx),[qpe,rx]=wh(tx),Lz=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=Q2(t),[c,u]=p.useState(null),d=p.useRef(!1),f=ta(s),m=Zv(a);return p.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),i.jsx(FC,{...l,children:i.jsx(Hpe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(qpe,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};Lz.displayName=tx;var Vpe="MenuAnchor",XC=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Q2(r);return i.jsx($C,{...a,...n,ref:t})});XC.displayName=Vpe;var JC="MenuPortal",[Gpe,Mz]=wh(JC,{forceMount:void 0}),Fz=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=bh(JC,t);return i.jsx(Gpe,{scope:t,forceMount:r,children:i.jsx(rs,{present:r||s.open,children:i.jsx(Bp,{asChild:!0,container:a,children:n})})})};Fz.displayName=JC;var ko="MenuContent",[Kpe,ZC]=wh(ko),$z=p.forwardRef((e,t)=>{const r=Mz(ko,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=bh(ko,e.__scopeMenu),o=rx(ko,e.__scopeMenu);return i.jsx(dv.Provider,{scope:e.__scopeMenu,children:i.jsx(rs,{present:n||s.open,children:i.jsx(dv.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(Ype,{...a,ref:t}):i.jsx(Xpe,{...a,ref:t})})})})}),Ype=p.forwardRef((e,t)=>{const r=bh(ko,e.__scopeMenu),n=p.useRef(null),a=mr(t,n);return p.useEffect(()=>{const s=n.current;if(s)return NC(s)},[]),i.jsx(QC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:dt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Xpe=p.forwardRef((e,t)=>{const r=bh(ko,e.__scopeMenu);return i.jsx(QC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Jpe=Sz("MenuContent.ScrollLock"),QC=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:v,...g}=e,y=bh(ko,r),x=rx(ko,r),b=Q2(r),_=Dz(r),w=zpe(r),[N,C]=p.useState(null),j=p.useRef(null),A=mr(t,j,y.onContentChange),k=p.useRef(0),I=p.useRef(""),T=p.useRef(0),P=p.useRef(null),V=p.useRef("right"),F=p.useRef(0),Y=v?L2:p.Fragment,re=v?{as:Jpe,allowPinchZoom:!0}:void 0,U=X=>{var W,te;const pe=I.current+X,xe=w().filter(J=>!J.disabled),D=document.activeElement,M=(W=xe.find(J=>J.ref.current===D))==null?void 0:W.textValue,R=xe.map(J=>J.textValue),H=c0e(R,pe,M),B=(te=xe.find(J=>J.textValue===H))==null?void 0:te.ref.current;(function J(oe){I.current=oe,window.clearTimeout(k.current),oe!==""&&(k.current=window.setTimeout(()=>J(""),1e3))})(pe),B&&setTimeout(()=>B.focus())};p.useEffect(()=>()=>window.clearTimeout(k.current),[]),SC();const q=p.useCallback(X=>{var xe,D;return V.current===((xe=P.current)==null?void 0:xe.side)&&d0e(X,(D=P.current)==null?void 0:D.area)},[]);return i.jsx(Kpe,{scope:r,searchRef:I,onItemEnter:p.useCallback(X=>{q(X)&&X.preventDefault()},[q]),onItemLeave:p.useCallback(X=>{var pe;q(X)||((pe=j.current)==null||pe.focus(),C(null))},[q]),onTriggerLeave:p.useCallback(X=>{q(X)&&X.preventDefault()},[q]),pointerGraceTimerRef:T,onPointerGraceIntentChange:p.useCallback(X=>{P.current=X},[]),children:i.jsx(Y,{...re,children:i.jsx(I2,{asChild:!0,trapped:a,onMountAutoFocus:dt(s,X=>{var pe;X.preventDefault(),(pe=j.current)==null||pe.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx($p,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:i.jsx(Tz,{asChild:!0,..._,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:dt(c,X=>{x.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(BC,{role:"menu","aria-orientation":"vertical","data-state":tW(y.open),"data-radix-menu-content":"",dir:x.dir,...b,...g,ref:A,style:{outline:"none",...g.style},onKeyDown:dt(g.onKeyDown,X=>{const xe=X.target.closest("[data-radix-menu-content]")===X.currentTarget,D=X.ctrlKey||X.altKey||X.metaKey,M=X.key.length===1;xe&&(X.key==="Tab"&&X.preventDefault(),!D&&M&&U(X.key));const R=j.current;if(X.target!==R||!$pe.includes(X.key))return;X.preventDefault();const B=w().filter(W=>!W.disabled).map(W=>W.ref.current);Rz.includes(X.key)&&B.reverse(),o0e(B)}),onBlur:dt(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(k.current),I.current="")}),onPointerMove:dt(e.onPointerMove,fv(X=>{const pe=X.target,xe=F.current!==X.clientX;if(X.currentTarget.contains(pe)&&xe){const D=X.clientX>F.current?"right":"left";V.current=D,F.current=X.clientX}}))})})})})})})});$z.displayName=ko;var Zpe="MenuGroup",eA=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Qv.div,{role:"group",...n,ref:t})});eA.displayName=Zpe;var Qpe="MenuLabel",Bz=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Qv.div,{...n,ref:t})});Bz.displayName=Qpe;var Hw="MenuItem",kR="menu.itemSelect",e_=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=p.useRef(null),o=rx(Hw,e.__scopeMenu),l=ZC(Hw,e.__scopeMenu),c=mr(t,s),u=p.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const m=new CustomEvent(kR,{bubbles:!0,cancelable:!0});f.addEventListener(kR,h=>n==null?void 0:n(h),{once:!0}),xpe(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(Uz,{...a,ref:c,disabled:r,onClick:dt(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:dt(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:dt(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||Ik.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});e_.displayName=Hw;var Uz=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=ZC(Hw,r),l=Dz(r),c=p.useRef(null),u=mr(t,c),[d,f]=p.useState(!1),[m,h]=p.useState("");return p.useEffect(()=>{const v=c.current;v&&h((v.textContent??"").trim())},[s.children]),i.jsx(dv.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:i.jsx(Oz,{asChild:!0,...l,focusable:!n,children:i.jsx(Qv.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:dt(e.onPointerMove,fv(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:dt(e.onPointerLeave,fv(v=>o.onItemLeave(v))),onFocus:dt(e.onFocus,()=>f(!0)),onBlur:dt(e.onBlur,()=>f(!1))})})})}),e0e="MenuCheckboxItem",zz=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(Gz,{scope:e.__scopeMenu,checked:r,children:i.jsx(e_,{role:"menuitemcheckbox","aria-checked":qw(r)?"mixed":r,...a,ref:t,"data-state":rA(r),onSelect:dt(a.onSelect,()=>n==null?void 0:n(qw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});zz.displayName=e0e;var Wz="MenuRadioGroup",[t0e,r0e]=wh(Wz,{value:void 0,onValueChange:()=>{}}),Hz=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=ta(n);return i.jsx(t0e,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(eA,{...a,ref:t})})});Hz.displayName=Wz;var qz="MenuRadioItem",Vz=p.forwardRef((e,t)=>{const{value:r,...n}=e,a=r0e(qz,e.__scopeMenu),s=r===a.value;return i.jsx(Gz,{scope:e.__scopeMenu,checked:s,children:i.jsx(e_,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":rA(s),onSelect:dt(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});Vz.displayName=qz;var tA="MenuItemIndicator",[Gz,n0e]=wh(tA,{checked:!1}),Kz=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=n0e(tA,r);return i.jsx(rs,{present:n||qw(s.checked)||s.checked===!0,children:i.jsx(Qv.span,{...a,ref:t,"data-state":rA(s.checked)})})});Kz.displayName=tA;var a0e="MenuSeparator",Yz=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Qv.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Yz.displayName=a0e;var s0e="MenuArrow",Xz=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Q2(r);return i.jsx(UC,{...a,...n,ref:t})});Xz.displayName=s0e;var i0e="MenuSub",[qBe,Jz]=wh(i0e),lg="MenuSubTrigger",Zz=p.forwardRef((e,t)=>{const r=bh(lg,e.__scopeMenu),n=rx(lg,e.__scopeMenu),a=Jz(lg,e.__scopeMenu),s=ZC(lg,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(XC,{asChild:!0,...u,children:i.jsx(Uz,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":tW(r.open),...e,ref:Wn(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:dt(e.onPointerMove,fv(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:dt(e.onPointerLeave,fv(f=>{var h,v;d();const m=(h=r.content)==null?void 0:h.getBoundingClientRect();if(m){const g=(v=r.content)==null?void 0:v.dataset.side,y=g==="right",x=y?-5:5,b=m[y?"left":"right"],_=m[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:b,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:dt(e.onKeyDown,f=>{var h;const m=s.searchRef.current!=="";e.disabled||m&&f.key===" "||Bpe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});Zz.displayName=lg;var Qz="MenuSubContent",eW=p.forwardRef((e,t)=>{const r=Mz(ko,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=bh(ko,e.__scopeMenu),o=rx(ko,e.__scopeMenu),l=Jz(Qz,e.__scopeMenu),c=p.useRef(null),u=mr(t,c);return i.jsx(dv.Provider,{scope:e.__scopeMenu,children:i.jsx(rs,{present:n||s.open,children:i.jsx(dv.Slot,{scope:e.__scopeMenu,children:i.jsx(QC,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:dt(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:dt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:dt(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=Upe[o.dir].includes(d.key);f&&m&&(s.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});eW.displayName=Qz;function tW(e){return e?"open":"closed"}function qw(e){return e==="indeterminate"}function rA(e){return qw(e)?"indeterminate":e?"checked":"unchecked"}function o0e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function l0e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function c0e(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=l0e(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function u0e(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function d0e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return u0e(r,t)}function fv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var f0e=Lz,h0e=XC,m0e=Fz,p0e=$z,g0e=eA,v0e=Bz,x0e=e_,y0e=zz,w0e=Hz,b0e=Vz,_0e=Kz,j0e=Yz,S0e=Xz,N0e=Zz,k0e=eW,t_="DropdownMenu",[E0e]=Qme(t_,[Iz]),li=Iz(),[C0e,rW]=E0e(t_),nW=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=li(t),u=p.useRef(null),[d,f]=_l({prop:a,defaultProp:s??!1,onChange:o,caller:t_});return i.jsx(C0e,{scope:t,triggerId:No(),triggerRef:u,contentId:No(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:l,children:i.jsx(f0e,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};nW.displayName=t_;var aW="DropdownMenuTrigger",sW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=rW(aW,r),o=li(r);return i.jsx(h0e,{asChild:!0,...o,children:i.jsx(lpe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Wn(t,s.triggerRef),onPointerDown:dt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:dt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});sW.displayName=aW;var A0e="DropdownMenuPortal",iW=e=>{const{__scopeDropdownMenu:t,...r}=e,n=li(t);return i.jsx(m0e,{...n,...r})};iW.displayName=A0e;var oW="DropdownMenuContent",lW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rW(oW,r),s=li(r),o=p.useRef(!1);return i.jsx(p0e,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:dt(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:dt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lW.displayName=oW;var P0e="DropdownMenuGroup",T0e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(g0e,{...a,...n,ref:t})});T0e.displayName=P0e;var O0e="DropdownMenuLabel",cW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(v0e,{...a,...n,ref:t})});cW.displayName=O0e;var R0e="DropdownMenuItem",uW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(x0e,{...a,...n,ref:t})});uW.displayName=R0e;var I0e="DropdownMenuCheckboxItem",dW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(y0e,{...a,...n,ref:t})});dW.displayName=I0e;var D0e="DropdownMenuRadioGroup",L0e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(w0e,{...a,...n,ref:t})});L0e.displayName=D0e;var M0e="DropdownMenuRadioItem",fW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(b0e,{...a,...n,ref:t})});fW.displayName=M0e;var F0e="DropdownMenuItemIndicator",hW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(_0e,{...a,...n,ref:t})});hW.displayName=F0e;var $0e="DropdownMenuSeparator",mW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(j0e,{...a,...n,ref:t})});mW.displayName=$0e;var B0e="DropdownMenuArrow",U0e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(S0e,{...a,...n,ref:t})});U0e.displayName=B0e;var z0e="DropdownMenuSubTrigger",pW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(N0e,{...a,...n,ref:t})});pW.displayName=z0e;var W0e="DropdownMenuSubContent",gW=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=li(r);return i.jsx(k0e,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gW.displayName=W0e;var H0e=nW,q0e=sW,V0e=iW,vW=lW,xW=cW,yW=uW,wW=dW,bW=fW,_W=hW,jW=mW,SW=pW,NW=gW;const G0e=H0e,K0e=q0e,Y0e=p.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(SW,{ref:a,className:lt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,i.jsx(xh,{className:"ml-auto"})]}));Y0e.displayName=SW.displayName;const X0e=p.forwardRef(({className:e,...t},r)=>i.jsx(NW,{ref:r,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));X0e.displayName=NW.displayName;const kW=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(V0e,{children:i.jsx(vW,{ref:n,sideOffset:t,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));kW.displayName=vW.displayName;const Dk=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(yW,{ref:n,className:lt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Dk.displayName=yW.displayName;const J0e=p.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(wW,{ref:a,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(_W,{children:i.jsx(Rp,{className:"h-4 w-4"})})}),t]}));J0e.displayName=wW.displayName;const Z0e=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(bW,{ref:n,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(_W,{children:i.jsx(Kf,{className:"h-2 w-2 fill-current"})})}),t]}));Z0e.displayName=bW.displayName;const Q0e=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(xW,{ref:n,className:lt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Q0e.displayName=xW.displayName;const Lk=p.forwardRef(({className:e,...t},r)=>i.jsx(jW,{ref:r,className:lt("-mx-1 my-1 h-px bg-muted",e),...t}));Lk.displayName=jW.displayName;const Ce=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:lt("rounded-md border bg-card text-card-foreground shadow-sm",e),...t}));Ce.displayName="Card";const wr=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:lt("flex flex-col space-y-1.5 p-6",e),...t}));wr.displayName="CardHeader";const br=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:lt("text-2xl font-semibold leading-none tracking-tight",e),...t}));br.displayName="CardTitle";const H1=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:lt("text-sm text-muted-foreground",e),...t}));H1.displayName="CardDescription";const Ae=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:lt("p-6 pt-0",e),...t}));Ae.displayName="CardContent";const ege=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:lt("flex items-center p-6 pt-0",e),...t}));ege.displayName="CardFooter";const tge=Lp("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap overflow-hidden hover-elevate active-elevate-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vt({className:e,variant:t,...r}){return i.jsx("div",{className:lt(tge({variant:t}),e),...r})}function rge(e){const t=nge(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(sge);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function nge(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=oge(a),l=ige(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var age=Symbol("radix.slottable");function sge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===age}function ige(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function oge(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nx=lge.reduce((e,t)=>{const r=rge(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function cge(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,uge(a,...t)]}function uge(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Mk(e,[t,r]){return Math.min(r,Math.max(t,e))}function dge(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var nA="ScrollArea",[EW]=cge(nA),[fge,$o]=EW(nA),CW=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,m]=p.useState(null),[h,v]=p.useState(null),[g,y]=p.useState(null),[x,b]=p.useState(0),[_,w]=p.useState(0),[N,C]=p.useState(!1),[j,A]=p.useState(!1),k=mr(t,T=>c(T)),I=Zv(a);return i.jsx(fge,{scope:r,type:n,dir:I,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:j,onScrollbarYEnabledChange:A,onCornerWidthChange:b,onCornerHeightChange:w,children:i.jsx(nx.div,{dir:I,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});CW.displayName=nA;var AW="ScrollAreaViewport",PW=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=$o(AW,r),l=p.useRef(null),c=mr(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(nx.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});PW.displayName=AW;var pc="ScrollAreaScrollbar",aA=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$o(pc,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(hge,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(mge,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(TW,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(sA,{...n,ref:t}):null});aA.displayName=pc;var hge=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$o(pc,e.__scopeScrollArea),[s,o]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(rs,{present:r||s,children:i.jsx(TW,{"data-state":s?"visible":"hidden",...n,ref:t})})}),mge=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$o(pc,e.__scopeScrollArea),s=e.orientation==="horizontal",o=n_(()=>c("SCROLL_END"),100),[l,c]=dge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,s,c,o]),i.jsx(rs,{present:r||l!=="hidden",children:i.jsx(sA,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:dt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:dt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),TW=p.forwardRef((e,t)=>{const r=$o(pc,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=p.useState(!1),l=e.orientation==="horizontal",c=n_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return xp(r.viewport,c),xp(r.content,c),i.jsx(rs,{present:n||s,children:i.jsx(sA,{"data-state":s?"visible":"hidden",...a,ref:t})})}),sA=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=$o(pc,e.__scopeScrollArea),s=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=LW(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return wge(m,o.current,l,h)}return r==="horizontal"?i.jsx(pge,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const m=a.viewport.scrollLeft,h=ER(m,l,a.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?i.jsx(gge,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const m=a.viewport.scrollTop,h=ER(m,l);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),pge=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=$o(pc,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=mr(t,c,s.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(RW,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":r_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),FW(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Gw(o.paddingLeft),paddingEnd:Gw(o.paddingRight)}})}})}),gge=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=$o(pc,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=mr(t,c,s.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(RW,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":r_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),FW(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Gw(o.paddingTop),paddingEnd:Gw(o.paddingBottom)}})}})}),[vge,OW]=EW(pc),RW=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,h=$o(pc,r),[v,g]=p.useState(null),y=mr(t,k=>g(k)),x=p.useRef(null),b=p.useRef(""),_=h.viewport,w=n.content-n.viewport,N=ta(d),C=ta(c),j=n_(f,10);function A(k){if(x.current){const I=k.clientX-x.current.left,T=k.clientY-x.current.top;u({x:I,y:T})}}return p.useEffect(()=>{const k=I=>{const T=I.target;(v==null?void 0:v.contains(T))&&N(I,w)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[_,v,w,N]),p.useEffect(C,[n,C]),xp(v,j),xp(h.content,j),i.jsx(vge,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:ta(s),onThumbPointerUp:ta(o),onThumbPositionChange:C,onThumbPointerDown:ta(l),children:i.jsx(nx.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:dt(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),x.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),A(k))}),onPointerMove:dt(e.onPointerMove,A),onPointerUp:dt(e.onPointerUp,k=>{const I=k.target;I.hasPointerCapture(k.pointerId)&&I.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),Vw="ScrollAreaThumb",IW=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=OW(Vw,e.__scopeScrollArea);return i.jsx(rs,{present:r||a.hasThumb,children:i.jsx(xge,{ref:t,...n})})}),xge=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=$o(Vw,r),o=OW(Vw,r),{onThumbPositionChange:l}=o,c=mr(t,f=>o.onThumbChange(f)),u=p.useRef(void 0),d=n_(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=s.viewport;if(f){const m=()=>{if(d(),!u.current){const h=bge(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,d,l]),i.jsx(nx.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:dt(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),v=f.clientX-h.left,g=f.clientY-h.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:dt(e.onPointerUp,o.onThumbPointerUp)})});IW.displayName=Vw;var iA="ScrollAreaCorner",DW=p.forwardRef((e,t)=>{const r=$o(iA,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(yge,{...e,ref:t}):null});DW.displayName=iA;var yge=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=$o(iA,r),[s,o]=p.useState(0),[l,c]=p.useState(0),u=!!(s&&l);return xp(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),xp(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(nx.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Gw(e){return e?parseInt(e,10):0}function LW(e,t){const r=e/t;return isNaN(r)?0:r}function r_(e){const t=LW(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function wge(e,t,r,n="ltr"){const a=r_(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return MW([c,u],f)(e)}function ER(e,t,r="ltr"){const n=r_(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Mk(e,c);return MW([0,o],[0,l])(u)}function MW(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function FW(e,t){return e>0&&e<t}var bge=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function n_(e,t){const r=ta(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function xp(e,t){const r=ta(t);aa(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var $W=CW,_ge=PW,jge=DW;const oA=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs($W,{ref:n,className:lt("relative overflow-hidden",e),...r,children:[i.jsx(_ge,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(BW,{}),i.jsx(jge,{})]}));oA.displayName=$W.displayName;const BW=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(aA,{ref:n,orientation:t,className:lt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(IW,{className:"relative flex-1 rounded-full bg-border"})}));BW.displayName=aA.displayName;const am=["bg-blue-600","bg-emerald-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-cyan-600","bg-indigo-600","bg-teal-600"];function l5(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function CR(){var re;const[e,t]=p.useState({totalClients:0,activeClients:0,pausedClients:0,totalEmployees:0,activeEmployees:0,pendingReports:0,submittedReports:0,clientsNeedingAttention:0,budgetUtilization:0,totalBudget:0,totalSpending:0}),[r,n]=p.useState(!0),[a,s]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState([]),[m,h]=p.useState({}),[v,g]=p.useState(!1),[,y]=hc(),{profile:x,user:b}=Ln();p.useEffect(()=>{_()},[]),p.useEffect(()=>{(async()=>{try{if(!(b!=null&&b.id)){g(!0);return}const{data:q}=await ce.from("dashboard_widgets").select("widget_type, is_visible").eq("user_id",b.id);if(q&&q.length>0){const X={};q.forEach(pe=>{X[pe.widget_type]=pe.is_visible}),h(X)}}catch(q){console.error("Error loading widget preferences:",q)}finally{g(!0)}})()},[b==null?void 0:b.id]);const _=async()=>{try{const[U,q,X,pe,xe,D]=await Promise.all([ce.from("clients").select("id, name, industry, status, priority, health_status, health_score, created_at").order("created_at",{ascending:!1}),ce.from("profiles").select("id, full_name, status, role, max_capacity"),ce.from("weekly_reports").select("id, week_start_date, status"),ce.from("client_assignments").select("id, employee_id"),ce.from("client_budgets").select("client_id, monthly_budget, actual_spending"),ce.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(8)]),M=U.data||[],R=q.data||[],H=R.filter(nt=>nt.role==="employee"),B=X.data||[],W=pe.data||[],te=xe.data||[],J=w(new Date),oe=B.filter(nt=>nt.week_start_date===J).length,_e=W.length,ve=te.reduce((nt,Ke)=>nt+Number(Ke.monthly_budget||0),0),We=te.reduce((nt,Ke)=>nt+Number(Ke.actual_spending||0),0),ze=ve>0?We/ve*100:0,ae=M.filter(nt=>nt.health_status==="needs_attention"||nt.health_status==="at_risk").length,$e=new Map;for(const nt of W)$e.set(nt.employee_id,($e.get(nt.employee_id)||0)+1);const He=R.map(nt=>({id:nt.id,full_name:nt.full_name,assignmentCount:$e.get(nt.id)||0,maxCapacity:nt.max_capacity||5}));t({totalClients:M.length,activeClients:M.filter(nt=>nt.status==="active").length,pausedClients:M.filter(nt=>nt.status==="paused").length,totalEmployees:H.length,activeEmployees:H.filter(nt=>nt.status==="active").length,pendingReports:Math.max(0,_e-oe),submittedReports:oe,clientsNeedingAttention:ae,budgetUtilization:ze,totalBudget:ve,totalSpending:We}),s(D.data||[]),u(M),l(M.slice(0,5)),f(He.sort((nt,Ke)=>Ke.assignmentCount-nt.assignmentCount))}catch(U){console.error("Error loading dashboard data:",U)}finally{n(!1)}},w=U=>{const q=new Date(U),X=q.getDay(),pe=q.getDate()-X+(X===0?-6:1);return new Date(q.setDate(pe)).toISOString().split("T")[0]},N=U=>{const q=U.action||"action",X=U.entity_type||"item";return`${q.charAt(0).toUpperCase()+q.slice(1)} ${X}`},C=()=>{const U=new Date().getHours();return U<12?"Good morning":U<17?"Good afternoon":"Good evening"},j=((re=x==null?void 0:x.full_name)==null?void 0:re.split(" ")[0])||"there",A=U=>!v||Object.keys(m).length===0?!0:m[U]!==!1,k=p.useMemo(()=>{const U=c.filter(xe=>xe.health_status==="healthy").length,q=c.filter(xe=>xe.health_status==="needs_attention").length,X=c.filter(xe=>xe.health_status==="at_risk").length,pe=c.length-U-q-X;return{healthy:U,needsAtt:q,atRisk:X,unknown:pe}},[c]),I=p.useMemo(()=>c.filter(U=>U.priority==="critical"||U.priority==="high").slice(0,6),[c]),T=p.useMemo(()=>d.filter(U=>U.assignmentCount>0).slice(0,5),[d]),P=[{label:"Total Clients",value:e.totalClients,sub:`${e.activeClients} active`,icon:ti,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-950/40",href:"/clients"},{label:"Team Members",value:e.totalEmployees,sub:`${e.activeEmployees} active`,icon:ra,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-950/40",href:"/employees"},{label:"Weekly Reports",value:e.submittedReports,sub:`${e.pendingReports} pending`,icon:En,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-950/40",href:"/reports"},{label:"Budget Used",value:`${e.budgetUtilization.toFixed(0)}%`,sub:e.totalBudget>0?`$${(e.totalSpending/1e3).toFixed(1)}k of $${(e.totalBudget/1e3).toFixed(1)}k`:"of monthly budget",icon:_d,color:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-950/40",href:"/budget"}],V=U=>{switch(U){case"healthy":return"default";case"needs_attention":return"secondary";case"at_risk":return"destructive";default:return"outline"}},F=U=>{switch(U){case"healthy":return"Healthy";case"needs_attention":return"Needs Attention";case"at_risk":return"At Risk";default:return U||"Unknown"}},Y=U=>{switch(U){case"critical":return"destructive";case"high":return"default";default:return"secondary"}};return r?i.jsxs("div",{className:"space-y-8","data-testid":"dashboard-loading",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-9 w-64 mb-2"}),i.jsx(Ne,{className:"h-4 w-80"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[1,2,3,4].map(U=>i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-6",children:[i.jsx(Ne,{className:"h-4 w-24 mb-4"}),i.jsx(Ne,{className:"h-9 w-20 mb-2"}),i.jsx(Ne,{className:"h-3 w-16"})]})},U))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[i.jsx(Ne,{className:"h-48"}),i.jsx(Ne,{className:"h-48 lg:col-span-2"})]})]}):i.jsxs("div",{className:"space-y-8","data-testid":"dashboard-page",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-semibold","data-testid":"text-page-title",children:[C(),", ",j]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Stay on top of your tasks, monitor progress, and track status."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:P.map(U=>{const q=U.icon;return i.jsx(Ce,{className:"hover-elevate cursor-pointer transition-shadow",onClick:()=>y(U.href),"data-testid":`card-stat-${U.label.toLowerCase().replace(/\s/g,"-")}`,children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:U.label}),i.jsx("p",{className:"text-3xl font-semibold mt-2 tracking-tight",children:U.value}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:U.sub})]}),i.jsx("div",{className:`rounded-lg p-2.5 ${U.bg}`,children:i.jsx(q,{className:`h-5 w-5 ${U.color}`})})]})})},U.label)})}),e.clientsNeedingAttention>0&&i.jsx(Ce,{className:"border-amber-200 dark:border-amber-800/40 bg-amber-50/60 dark:bg-amber-950/20",children:i.jsxs(Ae,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg bg-amber-100 dark:bg-amber-900/40 p-2",children:i.jsx(Dn,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium","data-testid":"text-attention-alert",children:[e.clientsNeedingAttention," client",e.clientsNeedingAttention>1?"s":""," need attention"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Review their health status and take action."})]})]}),i.jsxs(be,{variant:"outline",size:"sm",onClick:()=>y("/client-health"),"data-testid":"button-view-health",children:["View Details",i.jsx(xh,{className:"ml-1 h-3.5 w-3.5"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[A("client_health")&&i.jsxs(Ce,{"data-testid":"card-health-distribution",children:[i.jsx(wr,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[i.jsx(br,{className:"text-[15px] font-semibold",children:"Client Health"}),i.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>y("/client-health"),"data-testid":"button-view-all-health",children:["View all",i.jsx(Dy,{className:"ml-1 h-3.5 w-3.5"})]})]})}),i.jsxs(Ae,{className:"space-y-4",children:[c.length>0&&i.jsxs("div",{className:"flex h-2.5 rounded-full overflow-hidden bg-muted","data-testid":"bar-health-distribution",children:[k.healthy>0&&i.jsx("div",{className:"bg-emerald-500 dark:bg-emerald-400",style:{width:`${k.healthy/c.length*100}%`}}),k.needsAtt>0&&i.jsx("div",{className:"bg-amber-500 dark:bg-amber-400",style:{width:`${k.needsAtt/c.length*100}%`}}),k.atRisk>0&&i.jsx("div",{className:"bg-red-500 dark:bg-red-400",style:{width:`${k.atRisk/c.length*100}%`}})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-emerald-500 dark:bg-emerald-400"}),i.jsx("span",{className:"text-sm",children:"Healthy"})]}),i.jsx("span",{className:"text-sm font-semibold","data-testid":"text-health-healthy",children:k.healthy})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-amber-500 dark:bg-amber-400"}),i.jsx("span",{className:"text-sm",children:"Needs Attention"})]}),i.jsx("span",{className:"text-sm font-semibold","data-testid":"text-health-attention",children:k.needsAtt})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-red-500 dark:bg-red-400"}),i.jsx("span",{className:"text-sm",children:"At Risk"})]}),i.jsx("span",{className:"text-sm font-semibold","data-testid":"text-health-risk",children:k.atRisk})]})]})]})]}),A("team_utilization")&&i.jsxs(Ce,{className:"lg:col-span-2","data-testid":"card-team-workload",children:[i.jsx(wr,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[i.jsx(br,{className:"text-[15px] font-semibold",children:"Team Workload"}),i.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>y("/employee-workload"),"data-testid":"button-view-workload",children:["View all",i.jsx(Dy,{className:"ml-1 h-3.5 w-3.5"})]})]})}),i.jsx(Ae,{children:T.length===0?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No assignments yet"})}):i.jsx("div",{className:"space-y-3",children:T.map((U,q)=>{const X=Math.round(U.assignmentCount/U.maxCapacity*100),pe=X>=75,xe=am[q%am.length];return i.jsxs("div",{className:"flex items-center gap-3","data-testid":`workload-row-${U.id}`,children:[i.jsx(ws,{className:"h-7 w-7 shrink-0",children:i.jsx(bs,{className:`${xe} text-white text-[10px] font-medium`,children:l5(U.full_name)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap mb-1",children:[i.jsx("span",{className:"text-[13px] font-medium truncate",children:U.full_name}),i.jsxs("span",{className:`text-[11px] font-medium shrink-0 ${pe?"text-red-600 dark:text-red-400":"text-muted-foreground"}`,children:[U.assignmentCount,"/",U.maxCapacity]})]}),i.jsx(Wd,{value:Math.min(X,100),className:"h-1.5"})]})]},U.id)})})})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Quick Actions"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsx(Ce,{className:"hover-elevate cursor-pointer",onClick:()=>y("/reports"),"data-testid":"button-action-reports",children:i.jsxs(Ae,{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:"rounded-md bg-blue-50 dark:bg-blue-950/40 p-1.5",children:i.jsx(En,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"})}),i.jsx("span",{className:"text-[13px] font-medium",children:"View Reports"})]})}),i.jsx(Ce,{className:"hover-elevate cursor-pointer",onClick:()=>y("/assignments"),"data-testid":"button-action-assignments",children:i.jsxs(Ae,{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:"rounded-md bg-emerald-50 dark:bg-emerald-950/40 p-1.5",children:i.jsx(ra,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"})}),i.jsx("span",{className:"text-[13px] font-medium",children:"Assignments"})]})}),i.jsx(Ce,{className:"hover-elevate cursor-pointer",onClick:()=>y("/clients"),"data-testid":"button-action-add-client",children:i.jsxs(Ae,{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:"rounded-md bg-violet-50 dark:bg-violet-950/40 p-1.5",children:i.jsx(rn,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"})}),i.jsx("span",{className:"text-[13px] font-medium",children:"Add Client"})]})}),i.jsx(Ce,{className:"hover-elevate cursor-pointer",onClick:()=>y("/analytics"),"data-testid":"button-action-analytics",children:i.jsxs(Ae,{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:"rounded-md bg-amber-50 dark:bg-amber-950/40 p-1.5",children:i.jsx(ri,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-400"})}),i.jsx("span",{className:"text-[13px] font-medium",children:"Analytics"})]})})]})]}),A("active_clients")&&I.length>0&&i.jsxs(Ce,{"data-testid":"card-priority-clients",children:[i.jsx(wr,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[i.jsx(br,{className:"text-[15px] font-semibold",children:"Priority Clients"}),i.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>y("/clients"),"data-testid":"button-view-priority-clients",children:["View all",i.jsx(Dy,{className:"ml-1 h-3.5 w-3.5"})]})]})}),i.jsx(Ae,{children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:I.map((U,q)=>i.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap p-3 rounded-md border hover-elevate cursor-pointer",onClick:()=>y(`/clients/${U.id}`),"data-testid":`priority-client-${U.id}`,children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx(ws,{className:"h-8 w-8 shrink-0",children:i.jsx(bs,{className:`${am[q%am.length]} text-white text-[10px] font-medium`,children:l5(U.name)})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-[13px] font-medium truncate",children:U.name}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:U.industry||"No industry"})]})]}),i.jsx("div",{className:"flex items-center gap-1.5 shrink-0 flex-wrap",children:i.jsx(vt,{variant:Y(U.priority),className:"text-[10px]",children:U.priority})})]},U.id))})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[A("recent_activity")&&i.jsxs(Ce,{children:[i.jsx(wr,{className:"pb-2",children:i.jsx(br,{className:"text-[15px] font-semibold",children:"Recent Activity"})}),i.jsx(Ae,{children:i.jsx(oA,{className:"h-[300px]",children:i.jsxs("div",{className:"space-y-0.5",children:[a.map((U,q)=>i.jsxs("div",{className:"flex items-start gap-3 py-3 border-b border-border/50 last:border-0","data-testid":`activity-log-${q}`,children:[i.jsx("div",{className:"rounded-md bg-muted p-1.5 mt-0.5",children:i.jsx(ln,{className:"h-3.5 w-3.5 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[13px] font-medium",children:N(U)}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:Bt(new Date(U.created_at),"MMM d, h:mm a")})]})]},U.id)),a.length===0&&i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity"})})]})})})]}),i.jsxs(Ce,{children:[i.jsx(wr,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[i.jsx(br,{className:"text-[15px] font-semibold",children:"Recent Clients"}),i.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>y("/clients"),"data-testid":"button-view-all-clients",children:["View all",i.jsx(Dy,{className:"ml-1 h-3.5 w-3.5"})]})]})}),i.jsx(Ae,{children:i.jsxs("div",{className:"space-y-0.5",children:[o.map((U,q)=>i.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap py-3 border-b border-border/50 last:border-0 hover-elevate rounded-md px-2 -mx-2 cursor-pointer",onClick:()=>y(`/clients/${U.id}`),"data-testid":`client-${U.id}`,children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx(ws,{className:"h-7 w-7 shrink-0",children:i.jsx(bs,{className:`${am[q%am.length]} text-white text-[10px] font-medium`,children:l5(U.name)})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-[13px] font-medium truncate",children:U.name}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:U.industry||"No industry"})]})]}),i.jsx(vt,{variant:V(U.health_status),children:F(U.health_status)})]},U.id)),o.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center h-32 space-y-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No clients yet"}),i.jsxs(be,{variant:"outline",size:"sm",onClick:()=>y("/clients"),"data-testid":"button-add-first-client",children:[i.jsx(rn,{className:"mr-1 h-3.5 w-3.5"}),"Add your first client"]})]})]})})]})]})]})}var Sge=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function lA(e){if(typeof e!="string")return!1;var t=Sge;return t.includes(e)}var Nge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kge=new Set(Nge);function UW(e){return typeof e!="string"?!1:kge.has(e)}function zW(e){return typeof e=="string"&&e.startsWith("data-")}function eo(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(UW(r)||zW(r))&&(t[r]=e[r]);return t}function eh(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return eo(t)}return typeof e=="object"&&!Array.isArray(e)?eo(e):null}function ni(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(UW(r)||zW(r)||lA(r))&&(t[r]=e[r]);return t}function Ege(e){return e==null?null:p.isValidElement(e)?ni(e.props):typeof e=="object"&&!Array.isArray(e)?ni(e):null}var Cge=["children","width","height","viewBox","className","style","title","desc"];function Fk(){return Fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fk.apply(null,arguments)}function Age(e,t){if(e==null)return{};var r,n,a=Pge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cA=p.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=Age(e,Cge),f=s||{width:n,height:a,x:0,y:0},m=Pr("recharts-surface",o);return p.createElement("svg",Fk({},ni(d),{className:m,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),Tge=["children","className"];function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(null,arguments)}function Oge(e,t){if(e==null)return{};var r,n,a=Rge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ts=p.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Oge(e,Tge),s=Pr("recharts-layer",n);return p.createElement("g",$k({className:s},ni(a),{ref:t}),r)}),WW=p.createContext(null),Ige=()=>p.useContext(WW);function vn(e){return function(){return e}}const HW=Math.cos,Kw=Math.sin,Cl=Math.sqrt,Yw=Math.PI,a_=2*Yw,Bk=Math.PI,Uk=2*Bk,yf=1e-6,Dge=Uk-yf;function qW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Lge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return qW;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Mge{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?qW:Lge(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>yf)if(!(Math.abs(f*c-u*d)>yf)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=a-l,g=c*c+u*u,y=h*h+v*v,x=Math.sqrt(g),b=Math.sqrt(m),_=s*Math.tan((Bk-Math.acos((g+m-y)/(2*x*b)))/2),w=_/b,N=_/x;Math.abs(w-1)>yf&&this._append`L${t+w*d},${r+w*f}`,this._append`A${s},${s},0,0,${+(f*h>d*v)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,m=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>yf||Math.abs(this._y1-d)>yf)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%Uk+Uk),m>Dge?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>yf&&this._append`A${n},${n},0,${+(m>=Bk)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function uA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Mge(t)}function dA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VW(e){this._context=e}VW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function s_(e){return new VW(e)}function GW(e){return e[0]}function KW(e){return e[1]}function YW(e,t){var r=vn(!0),n=null,a=s_,s=null,o=uA(l);e=typeof e=="function"?e:e===void 0?GW:vn(e),t=typeof t=="function"?t:t===void 0?KW:vn(t);function l(c){var u,d=(c=dA(c)).length,f,m=!1,h;for(n==null&&(s=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(f,u,c),+t(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:vn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:vn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:vn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Gy(e,t,r){var n=null,a=vn(!0),s=null,o=s_,l=null,c=uA(u);e=typeof e=="function"?e:e===void 0?GW:vn(+e),t=typeof t=="function"?t:vn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?KW:vn(+r);function u(f){var m,h,v,g=(f=dA(f)).length,y,x=!1,b,_=new Array(g),w=new Array(g);for(s==null&&(l=o(b=c())),m=0;m<=g;++m){if(!(m<g&&a(y=f[m],m,f))===x)if(x=!x)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=m-1;v>=h;--v)l.point(_[v],w[v]);l.lineEnd(),l.areaEnd()}x&&(_[m]=+e(y,m,f),w[m]=+t(y,m,f),l.point(n?+n(y,m,f):_[m],r?+r(y,m,f):w[m]))}if(b)return l=null,b+""||null}function d(){return YW().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:vn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:vn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:vn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:vn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:vn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:vn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:vn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class XW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Fge(e){return new XW(e,!0)}function $ge(e){return new XW(e,!1)}const fA={draw(e,t){const r=Cl(t/Yw);e.moveTo(r,0),e.arc(0,0,r,0,a_)}},Bge={draw(e,t){const r=Cl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},JW=Cl(1/3),Uge=JW*2,zge={draw(e,t){const r=Cl(t/Uge),n=r*JW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Wge={draw(e,t){const r=Cl(t),n=-r/2;e.rect(n,n,r,r)}},Hge=.8908130915292852,ZW=Kw(Yw/10)/Kw(7*Yw/10),qge=Kw(a_/10)*ZW,Vge=-HW(a_/10)*ZW,Gge={draw(e,t){const r=Cl(t*Hge),n=qge*r,a=Vge*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=a_*s/5,l=HW(o),c=Kw(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},c5=Cl(3),Kge={draw(e,t){const r=-Cl(t/(c5*3));e.moveTo(0,r*2),e.lineTo(-c5*r,-r),e.lineTo(c5*r,-r),e.closePath()}},mo=-.5,po=Cl(3)/2,zk=1/Cl(12),Yge=(zk/2+1)*3,Xge={draw(e,t){const r=Cl(t/Yge),n=r/2,a=r*zk,s=n,o=r*zk+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(mo*n-po*a,po*n+mo*a),e.lineTo(mo*s-po*o,po*s+mo*o),e.lineTo(mo*l-po*c,po*l+mo*c),e.lineTo(mo*n+po*a,mo*a-po*n),e.lineTo(mo*s+po*o,mo*o-po*s),e.lineTo(mo*l+po*c,mo*c-po*l),e.closePath()}};function Jge(e,t){let r=null,n=uA(a);e=typeof e=="function"?e:vn(e||fA),t=typeof t=="function"?t:vn(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:vn(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:vn(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Xw(){}function Jw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QW(e){this._context=e}QW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zge(e){return new QW(e)}function eH(e){this._context=e}eH.prototype={areaStart:Xw,areaEnd:Xw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qge(e){return new eH(e)}function tH(e){this._context=e}tH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eve(e){return new tH(e)}function rH(e){this._context=e}rH.prototype={areaStart:Xw,areaEnd:Xw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tve(e){return new rH(e)}function AR(e){return e<0?-1:1}function PR(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(AR(s)+AR(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function TR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function u5(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Zw(e){this._context=e}Zw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u5(this,this._t0,TR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,u5(this,TR(this,r=PR(this,e,t)),r);break;default:u5(this,this._t0,r=PR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function nH(e){this._context=new aH(e)}(nH.prototype=Object.create(Zw.prototype)).point=function(e,t){Zw.prototype.point.call(this,t,e)};function aH(e){this._context=e}aH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function rve(e){return new Zw(e)}function nve(e){return new nH(e)}function sH(e){this._context=e}sH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=OR(e),a=OR(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function OR(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function ave(e){return new sH(e)}function i_(e,t){this._context=e,this._t=t}i_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function sve(e){return new i_(e,.5)}function ive(e){return new i_(e,0)}function ove(e){return new i_(e,1)}function th(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Wk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function lve(e,t){return e[t]}function cve(e){const t=[];return t.key=e,t}function uve(){var e=vn([]),t=Wk,r=th,n=lve;function a(s){var o=Array.from(e.apply(this,arguments),cve),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=dA(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:vn(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:vn(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Wk:typeof s=="function"?s:vn(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??th,a):r},a}function dve(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}th(e,t)}}function fve(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}th(e,t)}}function hve(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,v=0;v<l;++v){var g=e[t[v]],y=g[n][1]||0,x=g[n-1][1]||0;h+=y-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,th(e,t)}}var o_={},iH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(iH);var hA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(hA);var l_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(l_);var c_={},oH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(oH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oH,r=l_;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],o=a.length;if(o===0)return s;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=n})(c_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iH,r=hA,n=l_,a=c_;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(o_);var mve=o_.get;const rh=fc(mve);var pve=4;function ud(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pve,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Jn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,o)=>{var l=r[o-1];return typeof l=="string"?a+l+s:l!==void 0?a+ud(l)+s:a+s},"")}var Ja=e=>e===0?0:e>0?1:-1,oc=e=>typeof e=="number"&&e!=+e,nh=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,At=e=>(typeof e=="number"||e instanceof Number)&&!oc(e),lc=e=>At(e)||typeof e=="string",gve=0,hv=e=>{var t=++gve;return"".concat(e||"").concat(t)},Ls=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!At(t)&&typeof t!="string")return n;var s;if(nh(t)){if(r==null)return n;var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return oc(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},lH=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function On(e,t,r){return At(e)&&At(t)?ud(e+r*(t-e)):t}function cH(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):rh(n,t))===r)}var zn=e=>e===null||typeof e>"u",ax=e=>zn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function mi(e){return e!=null}function _h(){}var vve=["type","size","sizeType"];function Hk(){return Hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hk.apply(null,arguments)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){xve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xve(e,t,r){return(t=yve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yve(e){var t=wve(e,"string");return typeof t=="symbol"?t:t+""}function wve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bve(e,t){if(e==null)return{};var r,n,a=_ve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _ve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uH={symbolCircle:fA,symbolCross:Bge,symbolDiamond:zge,symbolSquare:Wge,symbolStar:Gge,symbolTriangle:Kge,symbolWye:Xge},jve=Math.PI/180,Sve=e=>{var t="symbol".concat(ax(e));return uH[t]||fA},Nve=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*jve;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},kve=(e,t)=>{uH["symbol".concat(ax(e))]=t},mA=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=bve(e,vve),s=IR(IR({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=Sve(o),h=Jge().type(m).size(Nve(r,n,o)),v=h();if(v!==null)return v},{className:c,cx:u,cy:d}=s,f=ni(s);return At(u)&&At(d)&&At(r)?p.createElement("path",Hk({},f,{className:Pr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};mA.registerSymbol=kve;var dH=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,pA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{lA(a)&&(n[a]=s=>r[a](r,s))}),n},Eve=(e,t,r)=>n=>(e(t,r,n),null),sx=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];lA(a)&&typeof s=="function"&&(n||(n={}),n[a]=Eve(s,t,r))}),n};function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){Ave(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ave(e,t,r){return(t=Pve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pve(e){var t=Tve(e,"string");return typeof t=="symbol"?t:t+""}function Tve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ea(e,t){var r=Cve({},e),n=t,a=Object.keys(t),s=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return s}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(null,arguments)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ove(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){Rve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rve(e,t,r){return(t=Ive(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ive(e){var t=Dve(e,"string");return typeof t=="symbol"?t:t+""}function Dve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xo=32,Lve={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Mve(e){var{data:t,iconType:r,inactiveColor:n}=e,a=xo/2,s=xo/6,o=xo/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:xo,y2:a,className:"recharts-legend-icon"})}if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(xo,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(xo/8,"h").concat(xo,"v").concat(xo*3/4,"h").concat(-xo,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var d=Ove({},t);return delete d.legendIcon,p.cloneElement(t.legendIcon,d)}return p.createElement(mA,{fill:l,cx:a,cy:a,size:xo,sizeType:"diameter",type:c})}function Fve(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:o}=e,l={x:0,y:0,width:xo,height:xo},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var m=d.formatter||a,h=Pr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var v=d.inactive?s:d.color,g=m?m(d.value,d,f):d.value;return p.createElement("li",Qw({className:h,style:c,key:"legend-item-".concat(f)},sx(e,d,f)),p.createElement(cA,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(g," legend icon")},p.createElement(Mve,{data:d,iconType:o,inactiveColor:s})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g))})}var $ve=e=>{var t=Ea(e,Lve),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:s},p.createElement(Fve,Qw({},t,{payload:r})))},fH={},hH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const o=r[s],l=n(o,s,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(hH);var mH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(mH);var gA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(gA);var pH={},u_={},gH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(gH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gH;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(u_);var vH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(vH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u_,r=vH;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(pH);var xH={},yH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o_;function r(n){return function(a){return t.get(a,n)}}e.property=r})(yH);var wH={},vA={},bH={},xA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(xA);var yA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(yA);var wA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(wA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xA,r=yA,n=wA;function a(d,f,m){return typeof m!="function"?a(d,f,()=>{}):s(d,f,function h(v,g,y,x,b,_){const w=m(v,g,y,x,b,_);return w!==void 0?!!w:s(v,g,h,_)},new Map)}function s(d,f,m,h){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,m,h);case"function":return Object.keys(f).length>0?s(d,{...f},m,h):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,m,h){if(f==null)return!0;if(Array.isArray(f))return c(d,f,m,h);if(f instanceof Map)return l(d,f,m,h);if(f instanceof Set)return u(d,f,m,h);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===d;h==null||h.set(f,d);try{for(let g=0;g<v.length;g++){const y=v[g];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!m(d[y],f[y],y,d,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function l(d,f,m,h){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,g]of f.entries()){const y=d.get(v);if(m(y,g,v,d,f,h)===!1)return!1}return!0}function c(d,f,m,h){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let g=0;g<f.length;g++){const y=f[g];let x=!1;for(let b=0;b<d.length;b++){if(v.has(b))continue;const _=d[b];let w=!1;if(m(_,y,g,d,f,h)&&(w=!0),w){v.add(b),x=!0;break}}if(!x)return!1}return!0}function u(d,f,m,h){return f.size===0?!0:d instanceof Set?c([...d],[...f],m,h):!1}e.isMatchWith=a,e.isSetMatch=u})(bH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bH;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(vA);var _H={},bA={},jH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(jH);var d_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(d_);var _A={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",v="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",_="[object Uint32Array]",w="[object BigUint64Array]",N="[object Int8Array]",C="[object Int16Array]",j="[object Int32Array]",A="[object BigInt64Array]",k="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=w,e.booleanTag=a,e.dataViewTag=g,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=k,e.float64ArrayTag=I,e.functionTag=f,e.int16ArrayTag=C,e.int32ArrayTag=j,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=_,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(_A);var SH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(SH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jH,r=d_,n=_A,a=yA,s=SH;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,m,h=new Map,v=void 0){const g=v==null?void 0:v(d,f,m,h);if(g!==void 0)return g;if(a.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const y=new Array(d.length);h.set(d,y);for(let x=0;x<d.length;x++)y[x]=l(d[x],x,m,h,v);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;h.set(d,y);for(const[x,b]of d)y.set(x,l(b,x,m,h,v));return y}if(d instanceof Set){const y=new Set;h.set(d,y);for(const x of d)y.add(l(x,void 0,m,h,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,y);for(let x=0;x<d.length;x++)y[x]=l(d[x],x,m,h,v);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,y),c(y,d,m,h,v),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return h.set(d,y),c(y,d,m,h,v),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return h.set(d,y),c(y,d,m,h,v),y}if(d instanceof Error){const y=new d.constructor;return h.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,m,h,v),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return h.set(d,y),c(y,d,m,h,v),y}if(d instanceof Number){const y=new Number(d.valueOf());return h.set(d,y),c(y,d,m,h,v),y}if(d instanceof String){const y=new String(d.valueOf());return h.set(d,y),c(y,d,m,h,v),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return h.set(d,y),c(y,d,m,h,v),y}return d}function c(d,f,m=d,h,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=l(f[x],x,m,h,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(bA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bA;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(_H);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vA,r=_H;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(wH);var NH={},kH={},EH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bA,r=d_,n=_A;function a(s,o){return t.cloneDeepWith(s,(l,c,u,d)=>{const f=o==null?void 0:o(l,c,u,d);if(f!==void 0)return f;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const m={};return d.set(s,m),t.copyProperties(m,s,u,d),m}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case n.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=a})(EH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EH;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(kH);var CH={},jA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(jA);var AH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d_;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(AH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hA,r=jA,n=AH,a=c_;function s(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(CH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vA,r=l_,n=kH,a=o_,s=CH;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(NH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gA,r=yH,n=wH,a=NH;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=s})(xH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hH,r=mH,n=gA,a=pH,s=xH;function o(l,c=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(s.iteratee(c),1)):[]}e.uniqBy=o})(fH);var Bve=fH.uniqBy;const MR=fc(Bve);function PH(e,t,r){return t===!0?MR(e,r):typeof t=="function"?MR(e,t):e}var TH={exports:{}},OH={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_=p,Uve=fC;function zve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wve=typeof Object.is=="function"?Object.is:zve,Hve=Uve.useSyncExternalStore,qve=f_.useRef,Vve=f_.useEffect,Gve=f_.useMemo,Kve=f_.useDebugValue;OH.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=qve(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Gve(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var v=o.value;if(a(v,h))return f=v}return f=h}if(v=f,Wve(d,h))return v;var g=n(h);return a!==void 0&&a(v,g)?(d=h,v):(d=h,f=g)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=Hve(e,s[0],s[1]);return Vve(function(){o.hasValue=!0,o.value=l},[l]),Kve(l),l};TH.exports=OH;var Yve=TH.exports,SA=p.createContext(null),Xve=e=>e,yn=()=>{var e=p.useContext(SA);return e?e.store.dispatch:Xve},q1=()=>{},Jve=()=>q1,Zve=(e,t)=>e===t;function Dt(e){var t=p.useContext(SA),r=p.useMemo(()=>t?n=>{if(n!=null)return e(n)}:q1,[t,e]);return Yve.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Jve,t?t.store.getState:q1,t?t.store.getState:q1,r,Zve)}function Qve(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function exe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function txe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var FR=e=>Array.isArray(e)?e:[e];function rxe(e){const t=Array.isArray(e[0])?e[0]:e;return txe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function nxe(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var axe=class{constructor(e){this.value=e}deref(){return this.value}},sxe=typeof WeakRef<"u"?WeakRef:axe,ixe=0,$R=1;function Ky(){return{s:ixe,v:void 0,o:null,p:null}}function RH(e,t={}){let r=Ky();const{resultEqualityCheck:n}=t;let a,s=0;function o(){var f;let l=r;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const y=g.get(v);y===void 0?(l=Ky(),g.set(v,l)):l=y}else{let g=l.p;g===null&&(l.p=g=new Map);const y=g.get(v);y===void 0?(l=Ky(),g.set(v,l)):l=y}}const u=l;let d;if(l.s===$R)d=l.v;else if(d=e.apply(null,arguments),s++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,d)&&(d=m,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new sxe(d):d}return u.s=$R,u.v=d,d}return o.clearCache=()=>{r=Ky(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function oxe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),Qve(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:h=RH,argsMemoizeOptions:v=[]}=d,g=FR(m),y=FR(v),x=rxe(a),b=f(function(){return s++,u.apply(null,arguments)},...g),_=h(function(){o++;const N=nxe(x,arguments);return l=b.apply(null,N),l},...y);return Object.assign(_,{resultFunc:u,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var Ie=oxe(RH),lxe=Object.assign((e,t=Ie)=>{exe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>lxe}),IH={},DH={},LH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=r})(LH);var MH={},NA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(NA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NA,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=a})(MH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LH,r=MH,n=c_;function a(s,o,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,v)=>{let g=h;for(let y=0;y<v.length&&g!=null;++y)g=g[v[y]];return g},d=(h,v)=>v==null||h==null?v:typeof h=="object"&&"key"in h?Object.hasOwn(v,h.key)?v[h.key]:u(v,h.path):typeof h=="function"?h(v):Array.isArray(h)?u(v,h):typeof v=="object"?v[h]:v,f=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return s.map(h=>({original:h,criteria:f.map(v=>d(v,h))})).slice().sort((h,v)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(h.criteria[g],v.criteria[g],l[g]);if(y!==0)return y}return 0}).map(h=>h.original)}e.orderBy=a})(DH);var FH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(FH);var kA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jA,r=u_,n=xA,a=wA;function s(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.isEqualsSameValueZero(c[l],o):!1}e.isIterateeCall=s})(kA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DH,r=FH,n=kA;function a(s,...o){const l=o.length;return l>1&&n.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,r.flatten(o),["asc"])}e.sortBy=a})(IH);var cxe=IH.sortBy;const h_=fc(cxe);var $H=e=>e.legend.settings,uxe=e=>e.legend.size,dxe=e=>e.legend.payload,fxe=Ie([dxe,$H],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?h_(n,r):n});function hxe(){return Dt(fxe)}var Yy=1;function BH(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>Yy||Math.abs(o.left-t.left)>Yy||Math.abs(o.top-t.top)>Yy||Math.abs(o.width-t.width)>Yy)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function hs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mxe=typeof Symbol=="function"&&Symbol.observable||"@@observable",BR=mxe,d5=()=>Math.random().toString(36).substring(7).split("").join("."),pxe={INIT:`@@redux/INIT${d5()}`,REPLACE:`@@redux/REPLACE${d5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${d5()}`},eb=pxe;function EA(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function UH(e,t,r){if(typeof e!="function")throw new Error(hs(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hs(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(hs(1));return r(UH)(e,t)}let n=e,a=t,s=new Map,o=s,l=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((y,x)=>{o.set(x,y)}))}function d(){if(c)throw new Error(hs(3));return a}function f(y){if(typeof y!="function")throw new Error(hs(4));if(c)throw new Error(hs(5));let x=!0;u();const b=l++;return o.set(b,y),function(){if(x){if(c)throw new Error(hs(6));x=!1,u(),o.delete(b),s=null}}}function m(y){if(!EA(y))throw new Error(hs(7));if(typeof y.type>"u")throw new Error(hs(8));if(typeof y.type!="string")throw new Error(hs(17));if(c)throw new Error(hs(9));try{c=!0,a=n(a,y)}finally{c=!1}return(s=o).forEach(b=>{b()}),y}function h(y){if(typeof y!="function")throw new Error(hs(10));n=y,m({type:eb.REPLACE})}function v(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(hs(11));function b(){const w=x;w.next&&w.next(d())}return b(),{unsubscribe:y(b)}},[BR](){return this}}}return m({type:eb.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[BR]:v}}function gxe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:eb.INIT})>"u")throw new Error(hs(12));if(typeof r(void 0,{type:eb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hs(13))})}function zH(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{gxe(r)}catch(s){a=s}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=o[f],v=m(h,l);if(typeof v>"u")throw l&&l.type,new Error(hs(14));u[f]=v,c=c||v!==h}return c=c||n.length!==Object.keys(o).length,c?u:o}}function tb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function vxe(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(hs(15))};const o={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(o));return s=tb(...l)(a.dispatch),{...a,dispatch:s}}}function WH(e){return EA(e)&&"type"in e&&typeof e.type=="string"}var HH=Symbol.for("immer-nothing"),UR=Symbol.for("immer-draftable"),ai=Symbol.for("immer-state");function ul(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Gi=Object,yp=Gi.getPrototypeOf,rb="constructor",m_="prototype",qk="configurable",nb="enumerable",V1="writable",mv="value",iu=e=>!!e&&!!e[ai];function Nl(e){var t;return e?qH(e)||g_(e)||!!e[UR]||!!((t=e[rb])!=null&&t[UR])||v_(e)||x_(e):!1}var xxe=Gi[m_][rb].toString(),zR=new WeakMap;function qH(e){if(!e||!CA(e))return!1;const t=yp(e);if(t===null||t===Gi[m_])return!0;const r=Gi.hasOwnProperty.call(t,rb)&&t[rb];if(r===Object)return!0;if(!xm(r))return!1;let n=zR.get(r);return n===void 0&&(n=Function.toString.call(r),zR.set(r,n)),n===xxe}function p_(e,t,r=!0){ix(e)===0?(r?Reflect.ownKeys(e):Gi.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ix(e){const t=e[ai];return t?t.type_:g_(e)?1:v_(e)?2:x_(e)?3:0}var WR=(e,t,r=ix(e))=>r===2?e.has(t):Gi[m_].hasOwnProperty.call(e,t),Vk=(e,t,r=ix(e))=>r===2?e.get(t):e[t],ab=(e,t,r,n=ix(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function yxe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var g_=Array.isArray,v_=e=>e instanceof Map,x_=e=>e instanceof Set,CA=e=>typeof e=="object",xm=e=>typeof e=="function",f5=e=>typeof e=="boolean";function wxe(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var $c=e=>e.copy_||e.base_,AA=e=>e.modified_?e.copy_:e.base_;function Gk(e,t){if(v_(e))return new Map(e);if(x_(e))return new Set(e);if(g_(e))return Array[m_].slice.call(e);const r=qH(e);if(t===!0||t==="class_only"&&!r){const n=Gi.getOwnPropertyDescriptors(e);delete n[ai];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l[V1]===!1&&(l[V1]=!0,l[qk]=!0),(l.get||l.set)&&(n[o]={[qk]:!0,[V1]:!0,[nb]:l[nb],[mv]:e[o]})}return Gi.create(yp(e),n)}else{const n=yp(e);if(n!==null&&r)return{...e};const a=Gi.create(n);return Gi.assign(a,e)}}function PA(e,t=!1){return y_(e)||iu(e)||!Nl(e)||(ix(e)>1&&Gi.defineProperties(e,{set:Xy,add:Xy,clear:Xy,delete:Xy}),Gi.freeze(e),t&&p_(e,(r,n)=>{PA(n,!0)},!1)),e}function bxe(){ul(2)}var Xy={[mv]:bxe};function y_(e){return e===null||!CA(e)?!0:Gi.isFrozen(e)}var sb="MapSet",Kk="Patches",HR="ArrayMethods",VH={};function ah(e){const t=VH[e];return t||ul(0,e),t}var qR=e=>!!VH[e],pv,GH=()=>pv,_xe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:qR(sb)?ah(sb):void 0,arrayMethodsPlugin_:qR(HR)?ah(HR):void 0});function VR(e,t){t&&(e.patchPlugin_=ah(Kk),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Yk(e){Xk(e),e.drafts_.forEach(jxe),e.drafts_=null}function Xk(e){e===pv&&(pv=e.parent_)}var GR=e=>pv=_xe(pv,e);function jxe(e){const t=e[ai];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function KR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ai].modified_&&(Yk(t),ul(4)),Nl(e)&&(e=YR(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[ai].base_,e,t)}else e=YR(t,r);return Sxe(t,e,!0),Yk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==HH?e:void 0}function YR(e,t){if(y_(t))return t;const r=t[ai];if(!r)return ib(t,e.handledSet_,e);if(!w_(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);XH(r,e)}return r.copy_}function Sxe(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&PA(t,r)}function KH(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var w_=(e,t)=>e.scope_===t,Nxe=[];function YH(e,t,r,n){const a=$c(e),s=e.type_;if(n!==void 0&&Vk(a,n,s)===t){ab(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;p_(a,(c,u)=>{if(iu(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??Nxe;for(const l of o)ab(a,l,r,s)}function kxe(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!w_(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const o=AA(s);YH(e,s.draft_??s,o,r),XH(s,a)})}function XH(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}KH(e)}}function Exe(e,t,r){const{scope_:n}=e;if(iu(r)){const a=r[ai];w_(a,n)&&a.callbacks_.push(function(){G1(e);const o=AA(a);YH(e,r,o,t)})}else Nl(r)&&e.callbacks_.push(function(){const s=$c(e);e.type_===3?s.has(r)&&ib(r,n.handledSet_,n):Vk(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ib(Vk(e.copy_,t,e.type_),n.handledSet_,n)})}function ib(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||iu(e)||t.has(e)||!Nl(e)||y_(e)||(t.add(e),p_(e,(n,a)=>{if(iu(a)){const s=a[ai];if(w_(s,r)){const o=AA(s);ab(e,n,o,e.type_),KH(s)}}else Nl(a)&&ib(a,t,r)})),e}function Cxe(e,t){const r=g_(e),n={type_:r?1:0,scope_:t?t.scope_:GH(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=ob;r&&(a=[n],s=gv);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,[l,n]}var ob={get(e,t){if(t===ai)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=$c(e);if(!WR(a,t,e.type_))return Axe(e,a,t);const s=a[t];if(e.finalized_||!Nl(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&wxe(t))return s;if(s===h5(e.base_,t)){G1(e);const o=e.type_===1?+t:t,l=Zk(e.scope_,s,e,o);return e.copy_[o]=l}return s},has(e,t){return t in $c(e)},ownKeys(e){return Reflect.ownKeys($c(e))},set(e,t,r){const n=JH($c(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=h5($c(e),t),s=a==null?void 0:a[ai];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(yxe(r,a)&&(r!==void 0||WR(e.base_,t,e.type_)))return!0;G1(e),Jk(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Exe(e,t,r)),!0},deleteProperty(e,t){return G1(e),h5(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Jk(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=$c(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[V1]:!0,[qk]:e.type_!==1||t!=="length",[nb]:n[nb],[mv]:r[t]}},defineProperty(){ul(11)},getPrototypeOf(e){return yp(e.base_)},setPrototypeOf(){ul(12)}},gv={};for(let e in ob){let t=ob[e];gv[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}gv.deleteProperty=function(e,t){return gv.set.call(this,e,t,void 0)};gv.set=function(e,t,r){return ob.set.call(this,e[0],t,r,e[0])};function h5(e,t){const r=e[ai];return(r?$c(r):e)[t]}function Axe(e,t,r){var a;const n=JH(t,r);return n?mv in n?n[mv]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function JH(e,t){if(!(t in e))return;let r=yp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=yp(r)}}function Jk(e){e.modified_||(e.modified_=!0,e.parent_&&Jk(e.parent_))}function G1(e){e.copy_||(e.assigned_=new Map,e.copy_=Gk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Pxe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(xm(r)&&!xm(n)){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}xm(n)||ul(6),a!==void 0&&!xm(a)&&ul(7);let s;if(Nl(r)){const o=GR(this),l=Zk(o,r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?Yk(o):Xk(o)}return VR(o,a),KR(s,o)}else if(!r||!CA(r)){if(s=n(r),s===void 0&&(s=r),s===HH&&(s=void 0),this.autoFreeze_&&PA(s,!0),a){const o=[],l=[];ah(Kk).generateReplacementPatches_(r,s,{patches_:o,inversePatches_:l}),a(o,l)}return s}else ul(1,r)},this.produceWithPatches=(r,n)=>{if(xm(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,s;return[this.produce(r,n,(l,c)=>{a=l,s=c}),a,s]},f5(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),f5(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),f5(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Nl(t)||ul(8),iu(t)&&(t=xl(t));const r=GR(this),n=Zk(r,t,void 0);return n[ai].isManual_=!0,Xk(r),n}finishDraft(t,r){const n=t&&t[ai];(!n||!n.isManual_)&&ul(9);const{scope_:a}=n;return VR(a,r),KR(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=ah(Kk).applyPatches_;return iu(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Zk(e,t,r,n){const[a,s]=v_(t)?ah(sb).proxyMap_(t,r):x_(t)?ah(sb).proxySet_(t,r):Cxe(t,r);return((r==null?void 0:r.scope_)??GH()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?kxe(r,s,n):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function xl(e){return iu(e)||ul(10,e),ZH(e)}function ZH(e){if(!Nl(e)||y_(e))return e;const t=e[ai];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Gk(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Gk(e,!0);return p_(r,(a,s)=>{ab(r,a,ZH(s))},n),t&&(t.finalized_=!1),r}var Txe=new Pxe,QH=Txe.produce;function eq(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var Oxe=eq(),Rxe=eq,Ixe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tb:tb.apply(null,arguments)};function To(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Ji(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>WH(n)&&n.type===e,r}var tq=class cg extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,cg.prototype)}static get[Symbol.species](){return cg}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new cg(...t[0].concat(this)):new cg(...t.concat(this))}};function XR(e){return Nl(e)?QH(e,()=>{}):e}function Jy(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Dxe(e){return typeof e=="boolean"}var Lxe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let o=new tq;return r&&(Dxe(r)?o.push(Oxe):o.push(Rxe(r.extraArgument))),o},rq="RTK_autoBatch",Tn=()=>e=>({payload:e,meta:{[rq]:!0}}),JR=e=>t=>{setTimeout(t,e)},nq=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JR(10):e.type==="callback"?e.queueNotification:JR(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[rq]),s=!a,s&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},Mxe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new tq(e);return n&&a.push(nq(typeof n=="object"?n:void 0)),a};function Fxe(e){const t=Lxe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(EA(r))l=zH(r);else throw new Error(Ji(1));let c;typeof n=="function"?c=n(t):c=t();let u=tb;a&&(u=Ixe({trace:!1,...typeof a=="object"&&a}));const d=vxe(...c),f=Mxe(d);let m=typeof o=="function"?o(f):f();const h=u(...m);return UH(l,s,h)}function aq(e){const t={},r=[];let n;const a={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Ji(28));if(l in t)throw new Error(Ji(29));return t[l]=o,a},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return r.push({matcher:s,reducer:o}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function $xe(e){return typeof e=="function"}function Bxe(e,t){let[r,n,a]=aq(t),s;if($xe(e))s=()=>XR(e());else{const l=XR(e);s=()=>l}function o(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(iu(d)){const h=f(d,c);return h===void 0?d:h}else{if(Nl(d))return QH(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return o.getInitialState=s,o}var Uxe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zxe=(e=21)=>{let t="",r=e;for(;r--;)t+=Uxe[Math.random()*64|0];return t},Wxe=Symbol.for("rtk-slice-createasyncthunk");function Hxe(e,t){return`${e}/${t}`}function qxe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Wxe];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error(Ji(11));const l=(typeof a.reducers=="function"?a.reducers(Gxe()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,N){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(Ji(12));if(C in u.sliceCaseReducersByType)throw new Error(Ji(13));return u.sliceCaseReducersByType[C]=N,d},addMatcher(w,N){return u.sliceMatchers.push({matcher:w,reducer:N}),d},exposeAction(w,N){return u.actionCreators[w]=N,d},exposeCaseReducer(w,N){return u.sliceCaseReducersByName[w]=N,d}};c.forEach(w=>{const N=l[w],C={reducerName:w,type:Hxe(s,w),createNotation:typeof a.reducers=="function"};Yxe(N)?Jxe(C,N,d,t):Kxe(C,N,d)});function f(){const[w={},N=[],C=void 0]=typeof a.extraReducers=="function"?aq(a.extraReducers):[a.extraReducers],j={...w,...u.sliceCaseReducersByType};return Bxe(a.initialState,A=>{for(let k in j)A.addCase(k,j[k]);for(let k of u.sliceMatchers)A.addMatcher(k.matcher,k.reducer);for(let k of N)A.addMatcher(k.matcher,k.reducer);C&&A.addDefaultCase(C)})}const m=w=>w,h=new Map,v=new WeakMap;let g;function y(w,N){return g||(g=f()),g(w,N)}function x(){return g||(g=f()),g.getInitialState()}function b(w,N=!1){function C(A){let k=A[w];return typeof k>"u"&&N&&(k=Jy(v,C,x)),k}function j(A=m){const k=Jy(h,N,()=>new WeakMap);return Jy(k,A,()=>{const I={};for(const[T,P]of Object.entries(a.selectors??{}))I[T]=Vxe(P,A,()=>Jy(v,A,x),N);return I})}return{reducerPath:w,getSelectors:j,get selectors(){return j(C)},selectSlice:C}}const _={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(o),injectInto(w,{reducerPath:N,...C}={}){const j=N??o;return w.inject({reducerPath:j,reducer:y},C),{..._,...b(j,!0)}}};return _}}function Vxe(e,t,r,n){function a(s,...o){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var _i=qxe();function Gxe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Kxe({type:e,reducerName:t,createNotation:r},n,a){let s,o;if("reducer"in n){if(r&&!Xxe(n))throw new Error(Ji(17));s=n.reducer,o=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?To(e,o):To(e))}function Yxe(e){return e._reducerDefinitionType==="asyncThunk"}function Xxe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Jxe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Ji(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Zy,pending:l||Zy,rejected:c||Zy,settled:u||Zy})}function Zy(){}var Zxe="task",sq="listener",iq="completed",TA="cancelled",Qxe=`task-${TA}`,eye=`task-${iq}`,Qk=`${sq}-${TA}`,tye=`${sq}-${iq}`,b_=class{constructor(e){Ar(this,"name","TaskAbortError");Ar(this,"message");this.code=e,this.message=`${Zxe} ${TA} (reason: ${e})`}},OA=(e,t)=>{if(typeof e!="function")throw new TypeError(Ji(32))},lb=()=>{},oq=(e,t=lb)=>(e.catch(t),e),lq=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ff=e=>{if(e.aborted)throw new b_(e.reason)};function cq(e,t){let r=lb;return new Promise((n,a)=>{const s=()=>a(new b_(e.reason));if(e.aborted){s();return}r=lq(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=lb})}var rye=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof b_?"cancelled":"rejected",error:r}}finally{t==null||t()}},cb=e=>t=>oq(cq(e,t).then(r=>(Ff(e),r))),uq=e=>{const t=cb(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ym}=Object,ZR={},__="listenerMiddleware",nye=(e,t)=>{const r=n=>lq(e,()=>n.abort(e.reason));return(n,a)=>{OA(n);const s=new AbortController;r(s);const o=rye(async()=>{Ff(e),Ff(s.signal);const l=await n({pause:cb(s.signal),delay:uq(s.signal),signal:s.signal});return Ff(s.signal),l},()=>s.abort(eye));return a!=null&&a.autoJoin&&t.push(o.catch(lb)),{result:cb(e)(o),cancel(){s.abort(Qxe)}}}},aye=(e,t)=>{const r=async(n,a)=>{Ff(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await cq(t,Promise.race(l));return Ff(t),c}finally{s()}};return(n,a)=>oq(r(n,a))},dq=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=To(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ji(21));return OA(s),{predicate:a,type:t,effect:s}},fq=Ym(e=>{const{type:t,predicate:r,effect:n}=dq(e);return{id:zxe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ji(22))}}},{withTypes:()=>fq}),QR=(e,t)=>{const{type:r,effect:n,predicate:a}=dq(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},e4=e=>{e.pending.forEach(t=>{t.abort(Qk)})},sye=(e,t)=>()=>{for(const r of t.keys())e4(r);e.clear()},eI=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},hq=Ym(To(`${__}/add`),{withTypes:()=>hq}),iye=To(`${__}/removeAll`),mq=Ym(To(`${__}/remove`),{withTypes:()=>mq}),oye=(...e)=>{console.error(`${__}/error`,...e)},ox=(e={})=>{const t=new Map,r=new Map,n=h=>{const v=r.get(h)??0;r.set(h,v+1)},a=h=>{const v=r.get(h)??1;v===1?r.delete(h):r.set(h,v-1)},{extra:s,onError:o=oye}=e;OA(o);const l=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),v=>{h.unsubscribe(),v!=null&&v.cancelActive&&e4(h)}),c=h=>{const v=QR(t,h)??fq(h);return l(v)};Ym(c,{withTypes:()=>c});const u=h=>{const v=QR(t,h);return v&&(v.unsubscribe(),h.cancelActive&&e4(v)),!!v};Ym(u,{withTypes:()=>u});const d=async(h,v,g,y)=>{const x=new AbortController,b=aye(c,x.signal),_=[];try{h.pending.add(x),n(h),await Promise.resolve(h.effect(v,Ym({},g,{getOriginalState:y,condition:(w,N)=>b(w,N).then(Boolean),take:b,delay:uq(x.signal),pause:cb(x.signal),extra:s,signal:x.signal,fork:nye(x.signal,_),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((w,N,C)=>{w!==x&&(w.abort(Qk),C.delete(w))})},cancel:()=>{x.abort(Qk),h.pending.delete(x)},throwIfCancelled:()=>{Ff(x.signal)}})))}catch(w){w instanceof b_||eI(o,w,{raisedBy:"effect"})}finally{await Promise.all(_),x.abort(tye),a(h),h.pending.delete(x)}},f=sye(t,r);return{middleware:h=>v=>g=>{if(!WH(g))return v(g);if(hq.match(g))return c(g.payload);if(iye.match(g)){f();return}if(mq.match(g))return u(g.payload);let y=h.getState();const x=()=>{if(y===ZR)throw new Error(Ji(23));return y};let b;try{if(b=v(g),t.size>0){const _=h.getState(),w=Array.from(t.values());for(const N of w){let C=!1;try{C=N.predicate(g,_,y)}catch(j){C=!1,eI(o,j,{raisedBy:"predicate"})}C&&d(N,g,h,x)}}}finally{y=ZR}return b},startListening:c,stopListening:u,clearListeners:f}};function Ji(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lye={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pq=_i({name:"chartLayout",initialState:lye,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:cye,setLayout:uye,setChartSize:dye,setScale:fye}=pq.actions,hye=pq.reducer;function gq(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function kr(e){return Number.isFinite(e)}function cc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(n){mye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mye(e,t,r){return(t=pye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pye(e){var t=gye(e,"string");return typeof t=="symbol"?t:t+""}function gye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function on(e,t,r){return zn(e)||zn(t)?r:lc(t)?rh(e,t,r):typeof t=="function"?t(e):r}var vye=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&At(e[s]))return Lm(Lm({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&At(e[o]))return Lm(Lm({},e),{},{[o]:e[o]+(a||0)})}return e},yu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",vq=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||o.push(t),s||o.push(r),o},xq=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:h}=e;if(!o)return null;var v=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(g=h==="angleAxis"&&s&&s.length>=2?Ja(s[0]-s[1])*2*g:g,f||m){var y=(f||m||[]).map((x,b)=>{var _=n?n.indexOf(x):x,w=o.map(_);return kr(w)?{coordinate:w+g,value:x,offset:g,index:b}:null}).filter(mi);return y}return c&&u?u.map((x,b)=>{var _=o.map(x);return kr(_)?{coordinate:_+g,value:x,index:b,offset:g}:null}).filter(mi):o.ticks&&d!=null?o.ticks(d).map((x,b)=>{var _=o.map(x);return kr(_)?{coordinate:_+g,value:x,index:b,offset:g}:null}).filter(mi):o.domain().map((x,b)=>{var _=o.map(x);return kr(_)?{coordinate:_+g,value:n?n[x]:x,index:b,offset:g}:null}).filter(mi)},xye=(e,t)=>{if(!t||t.length!==2||!At(t[0])||!At(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!At(e[0])||e[0]<r)&&(a[0]=r),(!At(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},yye=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,o=0,l=0;l<r;++l){var c=e[l],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],m=oc(d)?f:d;m>=0?(u[0]=s,s+=m,u[1]=s):(u[0]=o,o+=m,u[1]=o)}}}},wye=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,o=0;o<r;++o){var l=e[o],c=l==null?void 0:l[a];if(c!=null){var u=oc(c[1])?c[0]:c[1];u>=0?(c[0]=s,s+=u,c[1]=s):(c[0]=0,c[1]=0)}}}},bye={sign:yye,expand:dve,none:th,silhouette:fve,wiggle:hve,positive:wye},_ye=(e,t,r)=>{var n,a=(n=bye[r])!==null&&n!==void 0?n:th,s=uve().keys(t).value((l,c)=>Number(on(l,c,0))).order(Wk).offset(a),o=s(e);return o.forEach((l,c)=>{l.forEach((u,d)=>{var f=on(e[d],t[c],0);Array.isArray(f)&&f.length===2&&At(f[0])&&At(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function jye(e){return e==null?void 0:String(e)}function rI(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zn(a[t.dataKey])){var l=cH(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var c=on(a,zn(o)?t.dataKey:o),u=t.scale.map(c);return At(u)?u:null}var nI=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=on(s,t.dataKey,t.scale.domain()[o]);if(zn(l))return null;var c=t.scale.map(l);return At(c)?c-a/2+n:null},Sye=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Nye=e=>{var t=e.flat(2).filter(At);return[Math.min(...t),Math.max(...t)]},kye=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Eye=(e,t,r)=>{if(e!=null)return kye(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:o}=s,l=o.reduce((c,u)=>{var d=gq(u,t,r),f=Nye(d);return!kr(f[0])||!kr(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},aI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=h_(t,d=>d.coordinate),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function iI(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Lm(Lm({},t),{},{dataKey:r,payload:n,value:a,name:s})}function qp(e,t){if(e)return String(e);if(typeof t=="string")return t}var Cye=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Aye=(e,t)=>t==="centric"?e.angle:e.radius,wu=e=>e.layout.width,bu=e=>e.layout.height,Pye=e=>e.layout.scale,yq=e=>e.layout.margin,j_=Ie(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),S_=Ie(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),wq="data-recharts-item-index",bq="data-recharts-item-id",lx=60;function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(n){Tye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tye(e,t,r){return(t=Oye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oye(e){var t=Rye(e,"string");return typeof t=="symbol"?t:t+""}function Rye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iye=e=>e.brush.height;function Dye(e){var t=S_(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:lx;return r+a}return r},0)}function Lye(e){var t=S_(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:lx;return r+a}return r},0)}function Mye(e){var t=j_(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Fye(e){var t=j_(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ua=Ie([wu,bu,yq,Iye,Dye,Lye,Mye,Fye,$H,uxe],(e,t,r,n,a,s,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},m=Qy(Qy({},f),d),h=m.bottom;m.bottom+=n,m=vye(m,c,u);var v=e-m.left-m.right,g=t-m.top-m.bottom;return Qy(Qy({brushBottom:h},m),{},{width:Math.max(v,0),height:Math.max(g,0)})}),$ye=Ie(Ua,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),RA=Ie(wu,bu,(e,t)=>({x:0,y:0,width:e,height:t})),Bye=p.createContext(null),Bs=()=>p.useContext(Bye)!=null,N_=e=>e.brush,k_=Ie([N_,Ua,yq],(e,t,r)=>({height:e.height,x:At(e.x)?e.x:t.left,y:At(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:At(e.width)?e.width:t.width})),_q={},jq={},Sq={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let o,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),g()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},v=()=>{m!==null&&(clearTimeout(m),m=null)},g=()=>{v(),o=void 0,l=null},y=()=>{d()},x=function(...b){if(a!=null&&a.aborted)return;o=this,l=b;const _=m==null;h(),c&&_&&d()};return x.schedule=h,x.cancel=g,x.flush=y,a==null||a.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(Sq);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sq;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...g){d=n.apply(this,g),f=null},a,{edges:u}),h=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,g),d)},v=()=>(m.flush(),d);return h.cancel=m.cancel,h.flush=v,h}e.debounce=r})(jq);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jq;function r(n,a=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(_q);var Uye=_q.throttle;const zye=fc(Uye);var ub=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},Zl={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},Nq=(e,t,r)=>{var{width:n=Zl.width,height:a=Zl.height,aspect:s,maxHeight:o}=r,l=nh(n)?e:Number(n),c=nh(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},Wye={width:0,height:0,overflow:"visible"},Hye={width:0,overflowX:"visible"},qye={height:0,overflowY:"visible"},Vye={},Gye=e=>{var{width:t,height:r}=e,n=nh(t),a=nh(r);return n&&a?Wye:n?Hye:a?qye:Vye};function Kye(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a=Zl.width,s=Zl.height):a===void 0?a=n&&n>0?void 0:Zl.width:s===void 0&&(s=n&&n>0?void 0:Zl.height),{width:a,height:s}}function t4(){return t4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t4.apply(null,arguments)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){Yye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yye(e,t,r){return(t=Xye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xye(e){var t=Jye(e,"string");return typeof t=="symbol"?t:t+""}function Jye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kq=p.createContext(Zl.initialDimension);function Zye(e){return cc(e.width)&&cc(e.height)}function Eq(e){var{children:t,width:r,height:n}=e,a=p.useMemo(()=>({width:r,height:n}),[r,n]);return Zye(a)?p.createElement(kq.Provider,{value:a},t):null}var IA=()=>p.useContext(kq),Qye=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Zl.initialDimension,width:a,height:s,minWidth:o=Zl.minWidth,minHeight:l,maxHeight:c,children:u,debounce:d=Zl.debounce,id:f,className:m,onResize:h,style:v={}}=e,g=p.useRef(null),y=p.useRef();y.current=h,p.useImperativeHandle(t,()=>g.current);var[x,b]=p.useState({containerWidth:n.width,containerHeight:n.height}),_=p.useCallback((A,k)=>{b(I=>{var T=Math.round(A),P=Math.round(k);return I.containerWidth===T&&I.containerHeight===P?I:{containerWidth:T,containerHeight:P}})},[]);p.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return _h;var A=P=>{var V,F=P[0];if(F!=null){var{width:Y,height:re}=F.contentRect;_(Y,re),(V=y.current)===null||V===void 0||V.call(y,Y,re)}};d>0&&(A=zye(A,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(A),{width:I,height:T}=g.current.getBoundingClientRect();return _(I,T),k.observe(g.current),()=>{k.disconnect()}},[_,d]);var{containerWidth:w,containerHeight:N}=x;ub(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:C,calculatedHeight:j}=Nq(w,N,{width:a,height:s,aspect:r,maxHeight:c});return ub(C!=null&&C>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,j,a,s,o,l,r),p.createElement("div",{id:f?"".concat(f):void 0,className:Pr("recharts-responsive-container",m),style:cI(cI({},v),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:g},p.createElement("div",{style:Gye({width:a,height:s})},p.createElement(Eq,{width:C,height:j},u)))}),m5=p.forwardRef((e,t)=>{var r=IA();if(cc(r.width)&&cc(r.height))return e.children;var{width:n,height:a}=Kye({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=Nq(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return At(s)&&At(o)?p.createElement(Eq,{width:s,height:o},e.children):p.createElement(Qye,t4({},e,{width:n,height:a,ref:t}))});function DA(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var E_=()=>{var e,t=Bs(),r=Dt($ye),n=Dt(k_),a=(e=Dt(N_))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},e1e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Cq=()=>{var e;return(e=Dt(Ua))!==null&&e!==void 0?e:e1e},LA=()=>Dt(wu),MA=()=>Dt(bu),t1e=()=>Dt(e=>e.layout.margin),Fr=e=>e.layout.layoutType,jh=()=>Dt(Fr),Aq=()=>{var e=jh();if(e==="horizontal"||e==="vertical")return e},Pq=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},r1e=()=>{var e=jh();return e!==void 0},cx=e=>{var t=yn(),r=Bs(),{width:n,height:a}=e,s=IA(),o=n,l=a;return s&&(o=s.width>0?s.width:n,l=s.height>0?s.height:a),p.useEffect(()=>{!r&&cc(o)&&cc(l)&&t(dye({width:o,height:l}))},[t,r,o,l]),null},Tq=Symbol.for("immer-nothing"),uI=Symbol.for("immer-draftable"),to=Symbol.for("immer-state");function dl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vv=Object.getPrototypeOf;function bp(e){return!!e&&!!e[to]}function sh(e){var t;return e?Oq(e)||Array.isArray(e)||!!e[uI]||!!((t=e.constructor)!=null&&t[uI])||ux(e)||A_(e):!1}var n1e=Object.prototype.constructor.toString(),dI=new WeakMap;function Oq(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=dI.get(r);return n===void 0&&(n=Function.toString.call(r),dI.set(r,n)),n===n1e}function db(e,t,r=!0){C_(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function C_(e){const t=e[to];return t?t.type_:Array.isArray(e)?1:ux(e)?2:A_(e)?3:0}function r4(e,t){return C_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Rq(e,t,r){const n=C_(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function a1e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ux(e){return e instanceof Map}function A_(e){return e instanceof Set}function wf(e){return e.copy_||e.base_}function n4(e,t){if(ux(e))return new Map(e);if(A_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Oq(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[to];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(vv(e),n)}else{const n=vv(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function FA(e,t=!1){return P_(e)||bp(e)||!sh(e)||(C_(e)>1&&Object.defineProperties(e,{set:e1,add:e1,clear:e1,delete:e1}),Object.freeze(e),t&&Object.values(e).forEach(r=>FA(r,!0))),e}function s1e(){dl(2)}var e1={value:s1e};function P_(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var i1e={};function ih(e){const t=i1e[e];return t||dl(0,e),t}var xv;function Iq(){return xv}function o1e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fI(e,t){t&&(ih("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function a4(e){s4(e),e.drafts_.forEach(l1e),e.drafts_=null}function s4(e){e===xv&&(xv=e.parent_)}function hI(e){return xv=o1e(xv,e)}function l1e(e){const t=e[to];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mI(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[to].modified_&&(a4(t),dl(4)),sh(e)&&(e=fb(t,e),t.parent_||hb(t,e)),t.patches_&&ih("Patches").generateReplacementPatches_(r[to].base_,e,t.patches_,t.inversePatches_)):e=fb(t,r,[]),a4(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Tq?e:void 0}function fb(e,t,r){if(P_(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[to];if(!a)return db(t,(s,o)=>pI(e,a,t,s,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return hb(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,l=!1;a.type_===3&&(o=new Set(s),s.clear(),l=!0),db(o,(c,u)=>pI(e,a,s,c,u,r,l),n),hb(e,s,!1),r&&e.patches_&&ih("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function pI(e,t,r,n,a,s,o){if(a==null||typeof a!="object"&&!o)return;const l=P_(a);if(!(l&&!o)){if(bp(a)){const c=s&&t&&t.type_!==3&&!r4(t.assigned_,n)?s.concat(n):void 0,u=fb(e,a,c);if(Rq(r,n,u),bp(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(sh(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;fb(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ux(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&hb(e,a)}}}function hb(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&FA(t,r)}function c1e(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Iq(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=$A;r&&(a=[n],s=yv);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,l}var $A={get(e,t){if(t===to)return e;const r=wf(e);if(!r4(r,t))return u1e(e,r,t);const n=r[t];return e.finalized_||!sh(n)?n:n===p5(e.base_,t)?(g5(e),e.copy_[t]=o4(n,e)):n},has(e,t){return t in wf(e)},ownKeys(e){return Reflect.ownKeys(wf(e))},set(e,t,r){const n=Dq(wf(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=p5(wf(e),t),s=a==null?void 0:a[to];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(a1e(r,a)&&(r!==void 0||r4(e.base_,t)))return!0;g5(e),i4(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return p5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,g5(e),i4(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wf(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){dl(11)},getPrototypeOf(e){return vv(e.base_)},setPrototypeOf(){dl(12)}},yv={};db($A,(e,t)=>{yv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yv.deleteProperty=function(e,t){return yv.set.call(this,e,t,void 0)};yv.set=function(e,t,r){return $A.set.call(this,e[0],t,r,e[0])};function p5(e,t){const r=e[to];return(r?wf(r):e)[t]}function u1e(e,t,r){var a;const n=Dq(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Dq(e,t){if(!(t in e))return;let r=vv(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=vv(r)}}function i4(e){e.modified_||(e.modified_=!0,e.parent_&&i4(e.parent_))}function g5(e){e.copy_||(e.copy_=n4(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var d1e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(c=s,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&dl(6),n!==void 0&&typeof n!="function"&&dl(7);let a;if(sh(t)){const s=hI(this),o=o4(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?a4(s):s4(s)}return fI(s,n),mI(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Tq&&(a=void 0),this.autoFreeze_&&FA(a,!0),n){const s=[],o=[];ih("Patches").generateReplacementPatches_(t,a,s,o),n(s,o)}return a}else dl(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){sh(e)||dl(8),bp(e)&&(e=f1e(e));const t=hI(this),r=o4(e,void 0);return r[to].isManual_=!0,s4(t),r}finishDraft(e,t){const r=e&&e[to];(!r||!r.isManual_)&&dl(9);const{scope_:n}=r;return fI(n,t),mI(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ih("Patches").applyPatches_;return bp(e)?n(e,t):this.produce(e,a=>n(a,t))}};function o4(e,t){const r=ux(e)?ih("MapSet").proxyMap_(e,t):A_(e)?ih("MapSet").proxySet_(e,t):c1e(e,t);return(t?t.scope_:Iq()).drafts_.push(r),r}function f1e(e){return bp(e)||dl(10,e),Lq(e)}function Lq(e){if(!sh(e)||P_(e))return e;const t=e[to];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=n4(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=n4(e,!0);return db(r,(a,s)=>{Rq(r,a,Lq(s))},n),t&&(t.finalized_=!1),r}var h1e=new d1e;h1e.produce;var m1e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Mq=_i({name:"legend",initialState:m1e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Tn()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=xl(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Tn()},removeLegendPayload:{reducer(e,t){var r=xl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Tn()}}}),{setLegendSize:gI,setLegendSettings:p1e,addLegendPayload:Fq,replaceLegendPayload:$q,removeLegendPayload:Bq}=Mq.actions,g1e=Mq.reducer,v1e=["contextPayload"];function l4(){return l4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l4.apply(null,arguments)}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){x1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x1e(e,t,r){return(t=y1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y1e(e){var t=w1e(e,"string");return typeof t=="symbol"?t:t+""}function w1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b1e(e,t){if(e==null)return{};var r,n,a=_1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j1e(e){return e.value}function S1e(e){var{contextPayload:t}=e,r=b1e(e,v1e),n=PH(t,e.payloadUniqBy,j1e),a=_p(_p({},r),{},{payload:n});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement($ve,a)}function N1e(e,t,r,n,a,s){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),_p(_p({},u),d)}function k1e(e){var t=yn();return p.useEffect(()=>{t(p1e(e))},[t,e]),null}function E1e(e){var t=yn();return p.useEffect(()=>(t(gI(e)),()=>{t(gI({width:0,height:0}))}),[t,e]),null}function C1e(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var A1e={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function c4(e){var t=Ea(e,A1e),r=hxe(),n=Ige(),a=t1e(),{width:s,height:o,wrapperStyle:l,portal:c}=t,[u,d]=BH([r]),f=LA(),m=MA();if(f==null||m==null)return null;var h=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),v=C1e(t.layout,o,s,h),g=c?l:_p(_p({position:"absolute",width:(v==null?void 0:v.width)||s||"auto",height:(v==null?void 0:v.height)||o||"auto"},N1e(l,t,a,f,m,u)),l),y=c??n;if(y==null||r==null)return null;var x=p.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},p.createElement(k1e,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&p.createElement(E1e,{width:u.width,height:u.height}),p.createElement(S1e,l4({},t,v,{margin:a,chartWidth:f,chartHeight:m,contextPayload:r})));return Mo.createPortal(x,y)}c4.displayName="Legend";function u4(){return u4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u4.apply(null,arguments)}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){P1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P1e(e,t,r){return(t=T1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T1e(e){var t=O1e(e,"string");return typeof t=="symbol"?t:t+""}function O1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R1e(e){return Array.isArray(e)&&lc(e[0])&&lc(e[1])?e.join(" ~ "):e}var sm={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},I1e=e=>{var{separator:t=sm.separator,contentStyle:r,itemStyle:n,labelStyle:a=sm.labelStyle,payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=sm.accessibilityLayer}=e,h=()=>{if(s&&s.length){var N={padding:0,margin:0},C=(l?h_(s,l):s).map((j,A)=>{if(j.type==="none")return null;var k=j.formatter||o||R1e,{value:I,name:T}=j,P=I,V=T;if(k){var F=k(I,T,j,A,s);if(Array.isArray(F))[P,V]=F;else if(F!=null)P=F;else return null}var Y=q0(q0({},sm.itemStyle),{},{color:j.color||sm.itemStyle.color},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:Y},lc(V)?p.createElement("span",{className:"recharts-tooltip-item-name"},V):null,lc(V)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},P),p.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:N},C)}return null},v=q0(q0({},sm.contentStyle),r),g=q0({margin:0},a),y=!zn(d),x=y?d:"",b=Pr("recharts-default-tooltip",c),_=Pr("recharts-tooltip-label",u);y&&f&&s!==void 0&&s!==null&&(x=f(d,s));var w=m?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",u4({className:b,style:v},w),p.createElement("p",{className:_,style:g},p.isValidElement(x)?x:"".concat(x)),h())},V0="recharts-tooltip-wrapper",D1e={visibility:"hidden"};function L1e(e){var{coordinate:t,translateX:r,translateY:n}=e;return Pr(V0,{["".concat(V0,"-right")]:At(r)&&t&&At(t.x)&&r>=t.x,["".concat(V0,"-left")]:At(r)&&t&&At(t.x)&&r<t.x,["".concat(V0,"-bottom")]:At(n)&&t&&At(t.y)&&n>=t.y,["".concat(V0,"-top")]:At(n)&&t&&At(t.y)&&n<t.y})}function yI(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&At(s[n]))return s[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var m=c[n];if(m==null)return 0;if(o[n]){var h=d,v=m;return h<v?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var g=f+l,y=m+u;return g>y?Math.max(d,m):Math.max(f,m)}function M1e(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function F1e(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:u}=e,d,f,m;return l.height>0&&l.width>0&&r?(f=yI({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=yI({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),d=M1e({translateX:f,translateY:m,useTranslate3d:c})):d=D1e,{cssProperties:d,cssClasses:L1e({translateX:f,translateY:m,coordinate:r})}}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){d4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d4(e,t,r){return(t=$1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $1e(e){var t=B1e(e,"string");return typeof t=="symbol"?t:t+""}function B1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class U1e extends p.PureComponent{constructor(){super(...arguments),d4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),d4(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:v,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,b=typeof u=="number"?u:u.x,_=typeof u=="number"?u:u.y,{cssClasses:w,cssProperties:N}=F1e({allowEscapeViewBox:r,coordinate:o,offsetLeft:b,offsetTop:_,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:m,viewBox:h}),C=x?{}:t1(t1({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=t1(t1({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:j,ref:y},s)}}var Uq=()=>{var e;return(e=Dt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function f4(){return f4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f4.apply(null,arguments)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){z1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z1e(e,t,r){return(t=W1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W1e(e){var t=H1e(e,"string");return typeof t=="symbol"?t:t+""}function H1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jI={curveBasisClosed:Qge,curveBasisOpen:eve,curveBasis:Zge,curveBumpX:Fge,curveBumpY:$ge,curveLinearClosed:tve,curveLinear:s_,curveMonotoneX:rve,curveMonotoneY:nve,curveNatural:ave,curveStep:sve,curveStepAfter:ove,curveStepBefore:ive},mb=e=>kr(e.x)&&kr(e.y),SI=e=>e.base!=null&&mb(e.base)&&mb(e),G0=e=>e.x,K0=e=>e.y,q1e=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ax(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=jI["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return jI[r]||s_},NI={connectNulls:!1,type:"linear"},V1e=e=>{var{type:t=NI.type,points:r=[],baseLine:n,layout:a,connectNulls:s=NI.connectNulls}=e,o=q1e(t,a),l=s?r.filter(mb):r;if(Array.isArray(n)){var c,u=r.map((v,g)=>_I(_I({},v),{},{base:n[g]}));a==="vertical"?c=Gy().y(K0).x1(G0).x0(v=>v.base.x):c=Gy().x(G0).y1(K0).y0(v=>v.base.y);var d=c.defined(SI).curve(o),f=s?u.filter(SI):u;return d(f)}var m;a==="vertical"&&At(n)?m=Gy().y(K0).x1(G0).x0(n):At(n)?m=Gy().x(G0).y1(K0).y0(n):m=YW().x(G0).y(K0);var h=m.defined(mb).curve(o);return h(l)},BA=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=jh();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=r&&r.length?V1e(o):n;return p.createElement("path",f4({},eo(e),pA(e),{className:Pr("recharts-curve",t),d:l===null?void 0:l,ref:a}))},G1e=["x","y","top","left","width","height","className"];function h4(){return h4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h4.apply(null,arguments)}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){Y1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y1e(e,t,r){return(t=X1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X1e(e){var t=J1e(e,"string");return typeof t=="symbol"?t:t+""}function J1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z1e(e,t){if(e==null)return{};var r,n,a=Q1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Q1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ewe=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),twe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:o=0,className:l}=e,c=Z1e(e,G1e),u=K1e({x:t,y:r,top:n,left:a,width:s,height:o},c);return!At(t)||!At(r)||!At(s)||!At(o)||!At(n)||!At(a)?null:p.createElement("path",h4({},ni(u),{className:Pr("recharts-cross",l),d:ewe(t,r,s,o,n,a)}))};function rwe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){nwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nwe(e,t,r){return(t=awe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function awe(e){var t=swe(e,"string");return typeof t=="symbol"?t:t+""}function swe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iwe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),zq=(e,t,r)=>e.map(n=>"".concat(iwe(n)," ").concat(t,"ms ").concat(r)).join(","),owe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),wv=(e,t)=>Object.keys(t).reduce((r,n)=>CI(CI({},r),{},{[n]:e(n,t[n])}),{});function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){lwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lwe(e,t,r){return(t=cwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cwe(e){var t=uwe(e,"string");return typeof t=="symbol"?t:t+""}function uwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pb=(e,t,r)=>e+(t-e)*r,m4=e=>{var{from:t,to:r}=e;return t!==r},Wq=(e,t,r)=>{var n=wv((a,s)=>{if(m4(s)){var[o,l]=e(s.from,s.to,s.velocity);return $a($a({},s),{},{from:o,velocity:l})}return s},t);return r<1?wv((a,s)=>m4(s)&&n[a]!=null?$a($a({},s),{},{velocity:pb(s.velocity,n[a].velocity,r),from:pb(s.from,n[a].from,r)}):s,t):Wq(e,n,r-1)};function dwe(e,t,r,n,a,s){var o,l=n.reduce((m,h)=>$a($a({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>wv((m,h)=>h.from,l),u=()=>!Object.values(l).filter(m4).length,d=null,f=m=>{o||(o=m);var h=m-o,v=h/r.dt;l=Wq(r,l,v),a($a($a($a({},e),t),c())),o=m,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var m;(m=d)===null||m===void 0||m()})}function fwe(e,t,r,n,a,s,o){var l=null,c=a.reduce((f,m)=>{var h=e[m],v=t[m];return h==null||v==null?f:$a($a({},f),{},{[m]:[h,v]})},{}),u,d=f=>{u||(u=f);var m=(f-u)/n,h=wv((g,y)=>pb(...y,r(m)),c);if(s($a($a($a({},e),t),h)),m<1)l=o.setTimeout(d);else{var v=wv((g,y)=>pb(...y,r(1)),c);s($a($a($a({},e),t),v))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const hwe=(e,t,r,n,a,s)=>{var o=owe(e,t);return r==null?()=>(a($a($a({},e),t)),()=>{}):r.isStepper===!0?dwe(e,t,r,o,a,s):fwe(e,t,r,n,o,a,s)};var gb=1e-4,Hq=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],qq=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),PI=(e,t)=>r=>{var n=Hq(e,t);return qq(n,r)},mwe=(e,t)=>r=>{var n=Hq(e,t),a=[...n.map((s,o)=>s*o).slice(1),0];return qq(a,r)},pwe=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},gwe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=pwe(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},vwe=(e,t,r,n)=>{var a=PI(e,r),s=PI(t,n),o=mwe(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,m=0;m<8;++m){var h=a(f)-d,v=o(f);if(Math.abs(h-d)<gb||v<gb)return s(f);f=l(f-h/v)}return s(f)};return c.isStepper=!1,c},TI=function(){return vwe(...gwe(...arguments))},xwe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*a/1e3,m=c*a/1e3+o;return Math.abs(m-l)<gb&&Math.abs(f)<gb?[l,0]:[m,f]};return s.isStepper=!0,s.dt=a,s},ywe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TI(e);case"spring":return xwe();default:if(e.split("(")[0]==="cubic-bezier")return TI(e)}return typeof e=="function"?e:null};function wwe(e){var t,r=()=>null,n=!1,a=null,s=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),s(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class bwe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function _we(){return wwe(new bwe)}var jwe=p.createContext(_we);function Swe(e,t){var r=p.useContext(jwe);return p.useMemo(()=>t??r(e),[e,t,r])}var Nwe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),T_={isSsr:Nwe()},kwe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},OI={t:0},v5={t:1};function dx(e){var t=Ea(e,kwe),{isActive:r,canBegin:n,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!T_.isSsr:r,f=Swe(t.animationId,t.animationManager),[m,h]=p.useState(d?OI:v5),v=p.useRef(null);return p.useEffect(()=>{d||h(v5)},[d]),p.useEffect(()=>{if(!d||!n)return _h;var g=hwe(OI,v5,ywe(s),a,h,f.getTimeoutController()),y=()=>{v.current=g()};return f.start([c,o,y,a,l]),()=>{f.stop(),v.current&&v.current(),l()}},[d,n,a,s,o,c,l,f]),u(m.t)}function fx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(hv(t)),n=p.useRef(e);return n.current!==e&&(r.current=hv(t),n.current=e),r.current}var Ewe=["radius"],Cwe=["radius"],RI,II,DI,LI,MI,FI,$I,BI,UI,zI;function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(n){Awe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Awe(e,t,r){return(t=Pwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pwe(e){var t=Twe(e,"string");return typeof t=="symbol"?t:t+""}function Twe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(null,arguments)}function qI(e,t){if(e==null)return{};var r,n,a=Owe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Owe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var VI=(e,t,r,n,a)=>{var s=ud(r),o=ud(n),l=Math.min(Math.abs(s)/2,Math.abs(o)/2),c=o>=0?1:-1,u=s>=0?1:-1,d=o>=0&&s>=0||o<0&&s<0?1:0,f;if(l>0&&Array.isArray(a)){for(var m=[0,0,0,0],h=0,v=4;h<v;h++){var g,y=(g=a[h])!==null&&g!==void 0?g:0;m[h]=y>l?l:y}f=Jn(RI||(RI=$l(["M",",",""])),e,t+c*m[0]),m[0]>0&&(f+=Jn(II||(II=$l(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),f+=Jn(DI||(DI=$l(["L ",",",""])),e+r-u*m[1],t),m[1]>0&&(f+=Jn(LI||(LI=$l(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+r,t+c*m[1])),f+=Jn(MI||(MI=$l(["L ",",",""])),e+r,t+n-c*m[2]),m[2]>0&&(f+=Jn(FI||(FI=$l(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+r-u*m[2],t+n)),f+=Jn($I||($I=$l(["L ",",",""])),e+u*m[3],t+n),m[3]>0&&(f+=Jn(BI||(BI=$l(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+n-c*m[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var x=Math.min(l,a);f=Jn(UI||(UI=$l(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*x,x,x,d,e+u*x,t,e+r-u*x,t,x,x,d,e+r,t+c*x,e+r,t+n-c*x,x,x,d,e+r-u*x,t+n,e+u*x,t+n,x,x,d,e,t+n-c*x)}else f=Jn(zI||(zI=$l(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},GI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vq=e=>{var t=Ea(e,GI),r=p.useRef(null),[n,a]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&a(U)}catch{}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:v,isUpdateAnimationActive:g}=t,y=p.useRef(l),x=p.useRef(c),b=p.useRef(s),_=p.useRef(o),w=p.useMemo(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),N=fx(w,"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var C=Pr("recharts-rectangle",d);if(!g){var j=ni(t),{radius:A}=j,k=qI(j,Ewe);return p.createElement("path",vb({},k,{x:ud(s),y:ud(o),width:ud(l),height:ud(c),radius:typeof u=="number"?u:void 0,className:C,d:VI(s,o,l,c,u)}))}var I=y.current,T=x.current,P=b.current,V=_.current,F="0px ".concat(n===-1?1:n,"px"),Y="".concat(n,"px 0px"),re=zq(["strokeDasharray"],m,typeof f=="string"?f:GI.animationEasing);return p.createElement(dx,{animationId:N,key:N,canBegin:n>0,duration:m,easing:f,isActive:g,begin:h},U=>{var q=On(I,l,U),X=On(T,c,U),pe=On(P,s,U),xe=On(V,o,U);r.current&&(y.current=q,x.current=X,b.current=pe,_.current=xe);var D;v?U>0?D={transition:re,strokeDasharray:Y}:D={strokeDasharray:F}:D={strokeDasharray:Y};var M=ni(t),{radius:R}=M,H=qI(M,Cwe);return p.createElement("path",vb({},H,{radius:typeof u=="number"?u:void 0,className:C,d:VI(pe,xe,q,X,u),ref:r,style:HI(HI({},D),t.style)}))})};function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(n){Rwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rwe(e,t,r){return(t=Iwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iwe(e){var t=Dwe(e,"string");return typeof t=="symbol"?t:t+""}function Dwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xb=Math.PI/180,Lwe=e=>e*180/Math.PI,ja=(e,t,r,n)=>({x:e+Math.cos(-xb*n)*r,y:t+Math.sin(-xb*n)*r}),Gq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Mwe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},Fwe=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,o=Mwe({x:r,y:n},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:o,angle:Lwe(c),angleInRadian:c}},$we=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},Bwe=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return e+o*360},Uwe=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=Fwe({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=$we(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?YI(YI({},t),{},{radius:a,angle:Bwe(d,t)}):null};function Kq(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,o=ja(t,r,n,a),l=ja(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var XI,JI,ZI,QI,eD,tD,rD;function p4(){return p4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p4.apply(null,arguments)}function Tf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zwe=(e,t)=>{var r=Ja(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},r1=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/xb,f=c?a:a+s*d,m=ja(t,r,u,f),h=ja(t,r,n,f),v=c?a-s*d:a,g=ja(t,r,u*Math.cos(d*xb),v);return{center:m,circleTangency:h,lineTangency:g,theta:d}},Yq=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:o}=e,l=zwe(s,o),c=s+l,u=ja(t,r,a,s),d=ja(t,r,a,c),f=Jn(XI||(XI=Tf(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(s>c),d.x,d.y);if(n>0){var m=ja(t,r,n,s),h=ja(t,r,n,c);f+=Jn(JI||(JI=Tf(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),h.x,h.y,n,n,+(Math.abs(l)>180),+(s<=c),m.x,m.y)}else f+=Jn(ZI||(ZI=Tf(["L ",","," Z"])),t,r);return f},Wwe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Ja(u-c),{circleTangency:f,lineTangency:m,theta:h}=r1({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:v,lineTangency:g,theta:y}=r1({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),x=l?Math.abs(c-u):Math.abs(c-u)-h-y;if(x<0)return o?Jn(QI||(QI=Tf(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,s,s,s*2,s,s,-s*2):Yq({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var b=Jn(eD||(eD=Tf(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,s,s,+(d<0),f.x,f.y,a,a,+(x>180),+(d<0),v.x,v.y,s,s,+(d<0),g.x,g.y);if(n>0){var{circleTangency:_,lineTangency:w,theta:N}=r1({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:C,lineTangency:j,theta:A}=r1({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=l?Math.abs(c-u):Math.abs(c-u)-N-A;if(k<0&&s===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+=Jn(tD||(tD=Tf(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,s,s,+(d<0),C.x,C.y,n,n,+(k>180),+(d>0),_.x,_.y,s,s,+(d<0),w.x,w.y)}else b+=Jn(rD||(rD=Tf(["L",",","Z"])),t,r);return b},Hwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Xq=e=>{var t=Ea(e,Hwe),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var m=Pr("recharts-sector",f),h=s-a,v=Ls(o,h,0,!0),g;return v>0&&Math.abs(u-d)<360?g=Wwe({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=Yq({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),p.createElement("path",p4({},ni(t),{className:m,d:g}))};function qwe(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(dH(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:o,angle:l}=t,c=ja(n,a,s,l),u=ja(n,a,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return Kq(t)}}var Jq={},Zq={},Qq={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NA;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Qq);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qq;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Zq);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kA,r=Zq;function n(a,s,o){o&&typeof o!="number"&&t.isIterateeCall(a,s,o)&&(s=o=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),o=o===void 0?a<s?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((s-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(Jq);var Vwe=Jq.range;const eV=fc(Vwe);function jd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gwe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UA(e){let t,r,n;e.length!==2?(t=jd,r=(l,c)=>jd(e(l),c),n=(l,c)=>e(l)-c):(t=e===jd||e===Gwe?e:Kwe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function Kwe(){return 0}function tV(e){return e===null?NaN:+e}function*Ywe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Xwe=UA(jd),hx=Xwe.right;UA(tV).center;class nD extends Map{constructor(t,r=Qwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(aD(this,t))}has(t){return super.has(aD(this,t))}set(t,r){return super.set(Jwe(this,t),r)}delete(t){return super.delete(Zwe(this,t))}}function aD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Jwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Zwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Qwe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ebe(e=jd){if(e===jd)return rV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tbe=Math.sqrt(50),rbe=Math.sqrt(10),nbe=Math.sqrt(2);function yb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=tbe?10:s>=rbe?5:s>=nbe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?yb(e,t,r*2):[l,c,u]}function g4(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?yb(t,e,r):yb(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function v4(e,t,r){return t=+t,e=+e,r=+r,yb(e,t,r)[2]}function x4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?v4(t,e,r):v4(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function sD(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function iD(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?rV:ebe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),v=Math.min(n,Math.floor(t+(c-u)*f/c+m));nV(e,t,h,v,a)}const s=e[t];let o=r,l=n;for(Y0(e,r,t),a(e[n],s)>0&&Y0(e,r,n);o<l;){for(Y0(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Y0(e,r,l):(++l,Y0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Y0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function abe(e,t,r){if(e=Float64Array.from(Ywe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return iD(e);if(t>=1)return sD(e);var n,a=(n-1)*t,s=Math.floor(a),o=sD(nV(e,s).subarray(0,s+1)),l=iD(e.subarray(s+1));return o+(l-o)*(a-s)}}function sbe(e,t,r=tV){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function ibe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Bo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _u(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const y4=Symbol("implicit");function zA(){var e=new nD,t=[],r=[],n=y4;function a(s){let o=e.get(s);if(o===void 0){if(n!==y4)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new nD;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return zA(t,r).unknown(n)},Bo.apply(a,arguments),a}function WA(){var e=zA().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=a<n,v=h?a:n,g=h?n:a;s=(g-v)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),v+=(g-v-s*(m-c))*d,o=s*(1-c),l&&(v=Math.round(v),o=Math.round(o));var y=ibe(m).map(function(x){return v+s*x});return r(h?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return WA(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Bo.apply(f(),arguments)}function aV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aV(t())},e}function obe(){return aV(WA.apply(null,arguments).paddingInner(1))}function HA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mx(){}var bv=.7,wb=1/bv,Xm="\\s*([+-]?\\d+)\\s*",_v="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lbe=/^#([0-9a-f]{3,8})$/,cbe=new RegExp(`^rgb\\(${Xm},${Xm},${Xm}\\)$`),ube=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),dbe=new RegExp(`^rgba\\(${Xm},${Xm},${Xm},${_v}\\)$`),fbe=new RegExp(`^rgba\\(${ac},${ac},${ac},${_v}\\)$`),hbe=new RegExp(`^hsl\\(${_v},${ac},${ac}\\)$`),mbe=new RegExp(`^hsla\\(${_v},${ac},${ac},${_v}\\)$`),oD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HA(mx,jv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lD,formatHex:lD,formatHex8:pbe,formatHsl:gbe,formatRgb:cD,toString:cD});function lD(){return this.rgb().formatHex()}function pbe(){return this.rgb().formatHex8()}function gbe(){return iV(this).formatHsl()}function cD(){return this.rgb().formatRgb()}function jv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=lbe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?uD(t):r===3?new pi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?n1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?n1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cbe.exec(e))?new pi(t[1],t[2],t[3],1):(t=ube.exec(e))?new pi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dbe.exec(e))?n1(t[1],t[2],t[3],t[4]):(t=fbe.exec(e))?n1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hbe.exec(e))?hD(t[1],t[2]/100,t[3]/100,1):(t=mbe.exec(e))?hD(t[1],t[2]/100,t[3]/100,t[4]):oD.hasOwnProperty(e)?uD(oD[e]):e==="transparent"?new pi(NaN,NaN,NaN,0):null}function uD(e){return new pi(e>>16&255,e>>8&255,e&255,1)}function n1(e,t,r,n){return n<=0&&(e=t=r=NaN),new pi(e,t,r,n)}function vbe(e){return e instanceof mx||(e=jv(e)),e?(e=e.rgb(),new pi(e.r,e.g,e.b,e.opacity)):new pi}function w4(e,t,r,n){return arguments.length===1?vbe(e):new pi(e,t,r,n??1)}function pi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}HA(pi,w4,sV(mx,{brighter(e){return e=e==null?wb:Math.pow(wb,e),new pi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bv:Math.pow(bv,e),new pi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pi($f(this.r),$f(this.g),$f(this.b),bb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dD,formatHex:dD,formatHex8:xbe,formatRgb:fD,toString:fD}));function dD(){return`#${Of(this.r)}${Of(this.g)}${Of(this.b)}`}function xbe(){return`#${Of(this.r)}${Of(this.g)}${Of(this.b)}${Of((isNaN(this.opacity)?1:this.opacity)*255)}`}function fD(){const e=bb(this.opacity);return`${e===1?"rgb(":"rgba("}${$f(this.r)}, ${$f(this.g)}, ${$f(this.b)}${e===1?")":`, ${e})`}`}function bb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $f(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Of(e){return e=$f(e),(e<16?"0":"")+e.toString(16)}function hD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fl(e,t,r,n)}function iV(e){if(e instanceof fl)return new fl(e.h,e.s,e.l,e.opacity);if(e instanceof mx||(e=jv(e)),!e)return new fl;if(e instanceof fl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new fl(o,l,c,e.opacity)}function ybe(e,t,r,n){return arguments.length===1?iV(e):new fl(e,t,r,n??1)}function fl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}HA(fl,ybe,sV(mx,{brighter(e){return e=e==null?wb:Math.pow(wb,e),new fl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bv:Math.pow(bv,e),new fl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new pi(x5(e>=240?e-240:e+120,a,n),x5(e,a,n),x5(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new fl(mD(this.h),a1(this.s),a1(this.l),bb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bb(this.opacity);return`${e===1?"hsl(":"hsla("}${mD(this.h)}, ${a1(this.s)*100}%, ${a1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mD(e){return e=(e||0)%360,e<0?e+360:e}function a1(e){return Math.max(0,Math.min(1,e||0))}function x5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const qA=e=>()=>e;function wbe(e,t){return function(r){return e+r*t}}function bbe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function _be(e){return(e=+e)==1?oV:function(t,r){return r-t?bbe(t,r,e):qA(isNaN(t)?r:t)}}function oV(e,t){var r=t-e;return r?wbe(e,r):qA(isNaN(e)?t:e)}const pD=function e(t){var r=_be(t);function n(a,s){var o=r((a=w4(a)).r,(s=w4(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=oV(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function jbe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Sbe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nbe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Vp(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function kbe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function _b(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Ebe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Vp(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var b4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y5=new RegExp(b4.source,"g");function Cbe(e){return function(){return e}}function Abe(e){return function(t){return e(t)+""}}function Pbe(e,t){var r=b4.lastIndex=y5.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=b4.exec(e))&&(a=y5.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:_b(n,a)})),r=y5.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Abe(c[0].x):Cbe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Vp(e,t){var r=typeof t,n;return t==null||r==="boolean"?qA(t):(r==="number"?_b:r==="string"?(n=jv(t))?(t=n,pD):Pbe:t instanceof jv?pD:t instanceof Date?kbe:Sbe(t)?jbe:Array.isArray(t)?Nbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ebe:_b)(e,t)}function VA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Tbe(e,t){t===void 0&&(t=e,e=Vp);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Obe(e){return function(){return e}}function jb(e){return+e}var gD=[0,1];function Ys(e){return e}function _4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Obe(isNaN(t)?NaN:.5)}function Rbe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Ibe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=_4(a,n),s=r(o,s)):(n=_4(n,a),s=r(s,o)),function(l){return s(n(l))}}function Dbe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=_4(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=hx(e,l,1,n)-1;return s[c](a[c](l))}}function px(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function O_(){var e=gD,t=gD,r=Vp,n,a,s,o=Ys,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ys&&(o=Rbe(e[0],e[m-1])),l=m>2?Dbe:Ibe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(t,e.map(n),_b)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,jb),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=VA,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ys,d()):o!==Ys},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function GA(){return O_()(Ys,Ys)}function Lbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sb(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function jp(e){return e=Sb(Math.abs(e)),e?e[1]:NaN}function Mbe(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Fbe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $be=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sv(e){if(!(t=$be.exec(e)))throw new Error("invalid format: "+e);var t;return new KA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sv.prototype=KA.prototype;function KA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}KA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bbe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Nb;function Ube(e,t){var r=Sb(e,t);if(!r)return Nb=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(Nb=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Sb(e,Math.max(0,t+s-1))[0]}function vD(e,t){var r=Sb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const xD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Lbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vD(e*100,t),r:vD,s:Ube,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yD(e){return e}var wD=Array.prototype.map,bD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zbe(e){var t=e.grouping===void 0||e.thousands===void 0?yD:Mbe(wD.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?yD:Fbe(wD.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,m){f=Sv(f);var h=f.fill,v=f.align,g=f.sign,y=f.symbol,x=f.zero,b=f.width,_=f.comma,w=f.precision,N=f.trim,C=f.type;C==="n"?(_=!0,C="g"):xD[C]||(w===void 0&&(w=12),N=!0,C="g"),(x||h==="0"&&v==="=")&&(x=!0,h="0",v="=");var j=(m&&m.prefix!==void 0?m.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),A=(y==="$"?n:/[%p]/.test(C)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),k=xD[C],I=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(P){var V=j,F=A,Y,re,U;if(C==="c")F=k(P)+F,P="";else{P=+P;var q=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),w),N&&(P=Bbe(P)),q&&+P==0&&g!=="+"&&(q=!1),V=(q?g==="("?g:l:g==="-"||g==="("?"":g)+V,F=(C==="s"&&!isNaN(P)&&Nb!==void 0?bD[8+Nb/3]:"")+F+(q&&g==="("?")":""),I){for(Y=-1,re=P.length;++Y<re;)if(U=P.charCodeAt(Y),48>U||U>57){F=(U===46?a+P.slice(Y+1):P.slice(Y))+F,P=P.slice(0,Y);break}}}_&&!x&&(P=t(P,1/0));var X=V.length+P.length+F.length,pe=X<b?new Array(b-X+1).join(h):"";switch(_&&x&&(P=t(pe+P,pe.length?b-F.length:1/0),pe=""),v){case"<":P=V+P+F+pe;break;case"=":P=V+pe+P+F;break;case"^":P=pe.slice(0,X=pe.length>>1)+V+P+F+pe.slice(X);break;default:P=pe+V+P+F;break}return s(P)}return T.toString=function(){return f+""},T}function d(f,m){var h=Math.max(-8,Math.min(8,Math.floor(jp(m)/3)))*3,v=Math.pow(10,-h),g=u((f=Sv(f),f.type="f",f),{suffix:bD[8+h/3]});return function(y){return g(v*y)}}return{format:u,formatPrefix:d}}var s1,YA,lV;Wbe({thousands:",",grouping:[3],currency:["$",""]});function Wbe(e){return s1=zbe(e),YA=s1.format,lV=s1.formatPrefix,s1}function Hbe(e){return Math.max(0,-jp(Math.abs(e)))}function qbe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jp(t)/3)))*3-jp(Math.abs(e)))}function Vbe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jp(t)-jp(e))+1}function cV(e,t,r,n){var a=x4(e,t,r),s;switch(n=Sv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=qbe(a,o))&&(n.precision=s),lV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Vbe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Hbe(a))&&(n.precision=s-(n.type==="%")*2);break}}return YA(n)}function Hd(e){var t=e.domain;return e.ticks=function(r){var n=t();return g4(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return cV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=v4(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function uV(){var e=GA();return e.copy=function(){return px(e,uV())},Bo.apply(e,arguments),Hd(e)}function dV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,jb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dV(e).unknown(t)},e=arguments.length?Array.from(e,jb):[0,1],Hd(r)}function fV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function _D(e){return Math.log(e)}function jD(e){return Math.exp(e)}function Gbe(e){return-Math.log(-e)}function Kbe(e){return-Math.exp(-e)}function Ybe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Xbe(e){return e===10?Ybe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Jbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function SD(e){return(t,r)=>-e(-t,r)}function XA(e){const t=e(_D,jD),r=t.domain;let n=10,a,s;function o(){return a=Jbe(n),s=Xbe(n),r()[0]<0?(a=SD(a),s=SD(s),e(Gbe,Kbe)):e(_D,jD),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),v,g;const y=l==null?10:+l;let x=[];if(!(n%1)&&h-m<y){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(v=1;v<n;++v)if(g=m<0?v/s(-m):v*s(m),!(g<u)){if(g>d)break;x.push(g)}}else for(;m<=h;++m)for(v=n-1;v>=1;--v)if(g=m>0?v/s(-m):v*s(m),!(g<u)){if(g>d)break;x.push(g)}x.length*2<y&&(x=g4(u,d,y))}else x=g4(m,h,Math.min(h-m,y)).map(s);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Sv(c)).precision==null&&(c.trim=!0),c=YA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(fV(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function hV(){const e=XA(O_()).domain([1,10]);return e.copy=()=>px(e,hV()).base(e.base()),Bo.apply(e,arguments),e}function ND(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function JA(e){var t=1,r=e(ND(t),kD(t));return r.constant=function(n){return arguments.length?e(ND(t=+n),kD(t)):t},Hd(r)}function mV(){var e=JA(O_());return e.copy=function(){return px(e,mV()).constant(e.constant())},Bo.apply(e,arguments)}function ED(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zbe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qbe(e){return e<0?-e*e:e*e}function ZA(e){var t=e(Ys,Ys),r=1;function n(){return r===1?e(Ys,Ys):r===.5?e(Zbe,Qbe):e(ED(r),ED(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Hd(t)}function QA(){var e=ZA(O_());return e.copy=function(){return px(e,QA()).exponent(e.exponent())},Bo.apply(e,arguments),e}function e2e(){return QA.apply(null,arguments).exponent(.5)}function CD(e){return Math.sign(e)*e*e}function t2e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function pV(){var e=GA(),t=[0,1],r=!1,n;function a(s){var o=t2e(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(CD(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,jb)).map(CD)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return pV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Bo.apply(a,arguments),Hd(a)}function gV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=sbe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[hx(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(jd),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return gV().domain(e).range(t).unknown(n)},Bo.apply(s,arguments)}function vV(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[hx(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return vV().domain([e,t]).range(a).unknown(s)},Bo.apply(Hd(o),arguments)}function xV(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[hx(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return xV().domain(e).range(t).unknown(r)},Bo.apply(a,arguments)}const w5=new Date,b5=new Date;function za(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>za(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(w5.setTime(+s),b5.setTime(+o),e(w5),e(b5),Math.floor(r(w5,b5))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const kb=za(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?za(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kb);kb.range;const qc=1e3,jo=qc*60,Vc=jo*60,ou=Vc*24,e3=ou*7,AD=ou*30,_5=ou*365,Rf=za(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qc)},(e,t)=>(t-e)/qc,e=>e.getUTCSeconds());Rf.range;const t3=za(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qc)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getMinutes());t3.range;const r3=za(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getUTCMinutes());r3.range;const n3=za(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qc-e.getMinutes()*jo)},(e,t)=>{e.setTime(+e+t*Vc)},(e,t)=>(t-e)/Vc,e=>e.getHours());n3.range;const a3=za(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vc)},(e,t)=>(t-e)/Vc,e=>e.getUTCHours());a3.range;const gx=za(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jo)/ou,e=>e.getDate()-1);gx.range;const R_=za(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ou,e=>e.getUTCDate()-1);R_.range;const yV=za(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ou,e=>Math.floor(e/ou));yV.range;function Sh(e){return za(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*jo)/e3)}const I_=Sh(0),Eb=Sh(1),r2e=Sh(2),n2e=Sh(3),Sp=Sh(4),a2e=Sh(5),s2e=Sh(6);I_.range;Eb.range;r2e.range;n2e.range;Sp.range;a2e.range;s2e.range;function Nh(e){return za(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/e3)}const D_=Nh(0),Cb=Nh(1),i2e=Nh(2),o2e=Nh(3),Np=Nh(4),l2e=Nh(5),c2e=Nh(6);D_.range;Cb.range;i2e.range;o2e.range;Np.range;l2e.range;c2e.range;const s3=za(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());s3.range;const i3=za(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());i3.range;const lu=za(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());lu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:za(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});lu.range;const cu=za(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:za(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});cu.range;function wV(e,t,r,n,a,s){const o=[[Rf,1,qc],[Rf,5,5*qc],[Rf,15,15*qc],[Rf,30,30*qc],[s,1,jo],[s,5,5*jo],[s,15,15*jo],[s,30,30*jo],[a,1,Vc],[a,3,3*Vc],[a,6,6*Vc],[a,12,12*Vc],[n,1,ou],[n,2,2*ou],[r,1,e3],[t,1,AD],[t,3,3*AD],[e,1,_5]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),v=h?h.range(u,+d+1):[];return m?v.reverse():v}function c(u,d,f){const m=Math.abs(d-u)/f,h=UA(([,,y])=>y).right(o,m);if(h===o.length)return e.every(x4(u/_5,d/_5,f));if(h===0)return kb.every(Math.max(x4(u,d,f),1));const[v,g]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return v.every(g)}return[l,c]}const[u2e,d2e]=wV(cu,i3,D_,yV,a3,r3),[f2e,h2e]=wV(lu,s3,I_,gx,n3,t3);function j5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function S5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function X0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function m2e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=J0(a),d=Z0(a),f=J0(s),m=Z0(s),h=J0(o),v=Z0(o),g=J0(l),y=Z0(l),x=J0(c),b=Z0(c),_={a:U,A:q,b:X,B:pe,c:null,d:DD,e:DD,f:M2e,g:G2e,G:Y2e,H:I2e,I:D2e,j:L2e,L:bV,m:F2e,M:$2e,p:xe,q:D,Q:FD,s:$D,S:B2e,u:U2e,U:z2e,V:W2e,w:H2e,W:q2e,x:null,X:null,y:V2e,Y:K2e,Z:X2e,"%":MD},w={a:M,A:R,b:H,B,c:null,d:LD,e:LD,f:e_e,g:u_e,G:f_e,H:J2e,I:Z2e,j:Q2e,L:jV,m:t_e,M:r_e,p:W,q:te,Q:FD,s:$D,S:n_e,u:a_e,U:s_e,V:i_e,w:o_e,W:l_e,x:null,X:null,y:c_e,Y:d_e,Z:h_e,"%":MD},N={a:I,A:T,b:P,B:V,c:F,d:RD,e:RD,f:P2e,g:OD,G:TD,H:ID,I:ID,j:k2e,L:A2e,m:N2e,M:E2e,p:k,q:S2e,Q:O2e,s:R2e,S:C2e,u:y2e,U:w2e,V:b2e,w:x2e,W:_2e,x:Y,X:re,y:OD,Y:TD,Z:j2e,"%":T2e};_.x=C(r,_),_.X=C(n,_),_.c=C(t,_),w.x=C(r,w),w.X=C(n,w),w.c=C(t,w);function C(J,oe){return function(_e){var ve=[],We=-1,ze=0,ae=J.length,$e,He,nt;for(_e instanceof Date||(_e=new Date(+_e));++We<ae;)J.charCodeAt(We)===37&&(ve.push(J.slice(ze,We)),(He=PD[$e=J.charAt(++We)])!=null?$e=J.charAt(++We):He=$e==="e"?" ":"0",(nt=oe[$e])&&($e=nt(_e,He)),ve.push($e),ze=We+1);return ve.push(J.slice(ze,We)),ve.join("")}}function j(J,oe){return function(_e){var ve=X0(1900,void 0,1),We=A(ve,J,_e+="",0),ze,ae;if(We!=_e.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(oe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(ze=S5(X0(ve.y,0,1)),ae=ze.getUTCDay(),ze=ae>4||ae===0?Cb.ceil(ze):Cb(ze),ze=R_.offset(ze,(ve.V-1)*7),ve.y=ze.getUTCFullYear(),ve.m=ze.getUTCMonth(),ve.d=ze.getUTCDate()+(ve.w+6)%7):(ze=j5(X0(ve.y,0,1)),ae=ze.getDay(),ze=ae>4||ae===0?Eb.ceil(ze):Eb(ze),ze=gx.offset(ze,(ve.V-1)*7),ve.y=ze.getFullYear(),ve.m=ze.getMonth(),ve.d=ze.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),ae="Z"in ve?S5(X0(ve.y,0,1)).getUTCDay():j5(X0(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(ae+5)%7:ve.w+ve.U*7-(ae+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,S5(ve)):j5(ve)}}function A(J,oe,_e,ve){for(var We=0,ze=oe.length,ae=_e.length,$e,He;We<ze;){if(ve>=ae)return-1;if($e=oe.charCodeAt(We++),$e===37){if($e=oe.charAt(We++),He=N[$e in PD?oe.charAt(We++):$e],!He||(ve=He(J,_e,ve))<0)return-1}else if($e!=_e.charCodeAt(ve++))return-1}return ve}function k(J,oe,_e){var ve=u.exec(oe.slice(_e));return ve?(J.p=d.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function I(J,oe,_e){var ve=h.exec(oe.slice(_e));return ve?(J.w=v.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function T(J,oe,_e){var ve=f.exec(oe.slice(_e));return ve?(J.w=m.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function P(J,oe,_e){var ve=x.exec(oe.slice(_e));return ve?(J.m=b.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function V(J,oe,_e){var ve=g.exec(oe.slice(_e));return ve?(J.m=y.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function F(J,oe,_e){return A(J,t,oe,_e)}function Y(J,oe,_e){return A(J,r,oe,_e)}function re(J,oe,_e){return A(J,n,oe,_e)}function U(J){return o[J.getDay()]}function q(J){return s[J.getDay()]}function X(J){return c[J.getMonth()]}function pe(J){return l[J.getMonth()]}function xe(J){return a[+(J.getHours()>=12)]}function D(J){return 1+~~(J.getMonth()/3)}function M(J){return o[J.getUTCDay()]}function R(J){return s[J.getUTCDay()]}function H(J){return c[J.getUTCMonth()]}function B(J){return l[J.getUTCMonth()]}function W(J){return a[+(J.getUTCHours()>=12)]}function te(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var oe=C(J+="",_);return oe.toString=function(){return J},oe},parse:function(J){var oe=j(J+="",!1);return oe.toString=function(){return J},oe},utcFormat:function(J){var oe=C(J+="",w);return oe.toString=function(){return J},oe},utcParse:function(J){var oe=j(J+="",!0);return oe.toString=function(){return J},oe}}}var PD={"-":"",_:" ",0:"0"},ns=/^\s*\d+/,p2e=/^%/,g2e=/[\\^$*+?|[\]().{}]/g;function Mr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function v2e(e){return e.replace(g2e,"\\$&")}function J0(e){return new RegExp("^(?:"+e.map(v2e).join("|")+")","i")}function Z0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function x2e(e,t,r){var n=ns.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function y2e(e,t,r){var n=ns.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function w2e(e,t,r){var n=ns.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function b2e(e,t,r){var n=ns.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _2e(e,t,r){var n=ns.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function TD(e,t,r){var n=ns.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function OD(e,t,r){var n=ns.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function j2e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function S2e(e,t,r){var n=ns.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function N2e(e,t,r){var n=ns.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function RD(e,t,r){var n=ns.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function k2e(e,t,r){var n=ns.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ID(e,t,r){var n=ns.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function E2e(e,t,r){var n=ns.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function C2e(e,t,r){var n=ns.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function A2e(e,t,r){var n=ns.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function P2e(e,t,r){var n=ns.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function T2e(e,t,r){var n=p2e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function O2e(e,t,r){var n=ns.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function R2e(e,t,r){var n=ns.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function DD(e,t){return Mr(e.getDate(),t,2)}function I2e(e,t){return Mr(e.getHours(),t,2)}function D2e(e,t){return Mr(e.getHours()%12||12,t,2)}function L2e(e,t){return Mr(1+gx.count(lu(e),e),t,3)}function bV(e,t){return Mr(e.getMilliseconds(),t,3)}function M2e(e,t){return bV(e,t)+"000"}function F2e(e,t){return Mr(e.getMonth()+1,t,2)}function $2e(e,t){return Mr(e.getMinutes(),t,2)}function B2e(e,t){return Mr(e.getSeconds(),t,2)}function U2e(e){var t=e.getDay();return t===0?7:t}function z2e(e,t){return Mr(I_.count(lu(e)-1,e),t,2)}function _V(e){var t=e.getDay();return t>=4||t===0?Sp(e):Sp.ceil(e)}function W2e(e,t){return e=_V(e),Mr(Sp.count(lu(e),e)+(lu(e).getDay()===4),t,2)}function H2e(e){return e.getDay()}function q2e(e,t){return Mr(Eb.count(lu(e)-1,e),t,2)}function V2e(e,t){return Mr(e.getFullYear()%100,t,2)}function G2e(e,t){return e=_V(e),Mr(e.getFullYear()%100,t,2)}function K2e(e,t){return Mr(e.getFullYear()%1e4,t,4)}function Y2e(e,t){var r=e.getDay();return e=r>=4||r===0?Sp(e):Sp.ceil(e),Mr(e.getFullYear()%1e4,t,4)}function X2e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mr(t/60|0,"0",2)+Mr(t%60,"0",2)}function LD(e,t){return Mr(e.getUTCDate(),t,2)}function J2e(e,t){return Mr(e.getUTCHours(),t,2)}function Z2e(e,t){return Mr(e.getUTCHours()%12||12,t,2)}function Q2e(e,t){return Mr(1+R_.count(cu(e),e),t,3)}function jV(e,t){return Mr(e.getUTCMilliseconds(),t,3)}function e_e(e,t){return jV(e,t)+"000"}function t_e(e,t){return Mr(e.getUTCMonth()+1,t,2)}function r_e(e,t){return Mr(e.getUTCMinutes(),t,2)}function n_e(e,t){return Mr(e.getUTCSeconds(),t,2)}function a_e(e){var t=e.getUTCDay();return t===0?7:t}function s_e(e,t){return Mr(D_.count(cu(e)-1,e),t,2)}function SV(e){var t=e.getUTCDay();return t>=4||t===0?Np(e):Np.ceil(e)}function i_e(e,t){return e=SV(e),Mr(Np.count(cu(e),e)+(cu(e).getUTCDay()===4),t,2)}function o_e(e){return e.getUTCDay()}function l_e(e,t){return Mr(Cb.count(cu(e)-1,e),t,2)}function c_e(e,t){return Mr(e.getUTCFullYear()%100,t,2)}function u_e(e,t){return e=SV(e),Mr(e.getUTCFullYear()%100,t,2)}function d_e(e,t){return Mr(e.getUTCFullYear()%1e4,t,4)}function f_e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Np(e):Np.ceil(e),Mr(e.getUTCFullYear()%1e4,t,4)}function h_e(){return"+0000"}function MD(){return"%"}function FD(e){return+e}function $D(e){return Math.floor(+e/1e3)}var im,NV,kV;m_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m_e(e){return im=m2e(e),NV=im.format,im.parse,kV=im.utcFormat,im.utcParse,im}function p_e(e){return new Date(e)}function g_e(e){return e instanceof Date?+e:+new Date(+e)}function o3(e,t,r,n,a,s,o,l,c,u){var d=GA(),f=d.invert,m=d.domain,h=u(".%L"),v=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),_=u("%B"),w=u("%Y");function N(C){return(c(C)<C?h:l(C)<C?v:o(C)<C?g:s(C)<C?y:n(C)<C?a(C)<C?x:b:r(C)<C?_:w)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?m(Array.from(C,g_e)):m().map(p_e)},d.ticks=function(C){var j=m();return e(j[0],j[j.length-1],C??10)},d.tickFormat=function(C,j){return j==null?N:u(j)},d.nice=function(C){var j=m();return(!C||typeof C.range!="function")&&(C=t(j[0],j[j.length-1],C??10)),C?m(fV(j,C)):d},d.copy=function(){return px(d,o3(e,t,r,n,a,s,o,l,c,u))},d}function v_e(){return Bo.apply(o3(f2e,h2e,lu,s3,I_,gx,n3,t3,Rf,NV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function x_e(){return Bo.apply(o3(u2e,d2e,cu,i3,D_,R_,a3,r3,Rf,kV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function L_(){var e=0,t=1,r,n,a,s,o=Ys,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,v;return arguments.length?([h,v]=m,o=f(h,v),u):[o(0),o(1)]}}return u.range=d(Vp),u.rangeRound=d(VA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function qd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EV(){var e=Hd(L_()(Ys));return e.copy=function(){return qd(e,EV())},_u.apply(e,arguments)}function CV(){var e=XA(L_()).domain([1,10]);return e.copy=function(){return qd(e,CV()).base(e.base())},_u.apply(e,arguments)}function AV(){var e=JA(L_());return e.copy=function(){return qd(e,AV()).constant(e.constant())},_u.apply(e,arguments)}function l3(){var e=ZA(L_());return e.copy=function(){return qd(e,l3()).exponent(e.exponent())},_u.apply(e,arguments)}function y_e(){return l3.apply(null,arguments).exponent(.5)}function PV(){var e=[],t=Ys;function r(n){if(n!=null&&!isNaN(n=+n))return t((hx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>abe(e,s/n))},r.copy=function(){return PV(t).domain(e)},_u.apply(r,arguments)}function M_(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Ys,d,f=!1,m;function h(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function v(g){return function(y){var x,b,_;return arguments.length?([x,b,_]=y,u=Tbe(g,[x,b,_]),h):[u(0),u(.5),u(1)]}}return h.range=v(Vp),h.rangeRound=v(VA),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return d=g,a=g(e),s=g(t),o=g(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,h}}function TV(){var e=Hd(M_()(Ys));return e.copy=function(){return qd(e,TV())},_u.apply(e,arguments)}function OV(){var e=XA(M_()).domain([.1,1,10]);return e.copy=function(){return qd(e,OV()).base(e.base())},_u.apply(e,arguments)}function RV(){var e=JA(M_());return e.copy=function(){return qd(e,RV()).constant(e.constant())},_u.apply(e,arguments)}function c3(){var e=ZA(M_());return e.copy=function(){return qd(e,c3()).exponent(e.exponent())},_u.apply(e,arguments)}function w_e(){return c3.apply(null,arguments).exponent(.5)}const ug=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:WA,scaleDiverging:TV,scaleDivergingLog:OV,scaleDivergingPow:c3,scaleDivergingSqrt:w_e,scaleDivergingSymlog:RV,scaleIdentity:dV,scaleImplicit:y4,scaleLinear:uV,scaleLog:hV,scaleOrdinal:zA,scalePoint:obe,scalePow:QA,scaleQuantile:gV,scaleQuantize:vV,scaleRadial:pV,scaleSequential:EV,scaleSequentialLog:CV,scaleSequentialPow:l3,scaleSequentialQuantile:PV,scaleSequentialSqrt:y_e,scaleSequentialSymlog:AV,scaleSqrt:e2e,scaleSymlog:mV,scaleThreshold:xV,scaleTime:v_e,scaleUtc:x_e,tickFormat:cV},Symbol.toStringTag,{value:"Module"}));var ju=e=>e.chartData,F_=Ie([ju],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),u3=(e,t,r,n)=>n?F_(e):ju(e),b_e=(e,t,r)=>r?F_(e):ju(e);function uu(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(kr(t)&&kr(r))return!0}return!1}function BD(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function IV(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(kr(r))a=r;else if(typeof r=="function")return;if(kr(n))s=n;else if(typeof n=="function")return;var o=[a,s];if(uu(o))return o}}function __e(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(uu(n))return BD(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(At(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&aI.test(a)){var c=aI.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(At(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&sI.test(s)){var d=sI.exec(s);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var m=[o,l];if(uu(m))return t==null?m:BD(m,t,r)}}}var Gp=1e9,j_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},f3,In=!0,Oo="[DecimalError] ",Bf=Oo+"Invalid argument: ",d3=Oo+"Exponent out of range: ",Kp=Math.floor,bf=Math.pow,S_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wi,Ga=1e7,_n=7,DV=9007199254740991,Ab=Kp(DV/_n),Pt={};Pt.absoluteValue=Pt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pt.comparedTo=Pt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Pt.decimalPlaces=Pt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_n;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Pt.dividedBy=Pt.div=function(e){return Yc(this,new this.constructor(e))};Pt.dividedToIntegerBy=Pt.idiv=function(e){var t=this,r=t.constructor;return fn(Yc(t,new r(e),0,1),r.precision)};Pt.equals=Pt.eq=function(e){return!this.cmp(e)};Pt.exponent=function(){return Na(this)};Pt.greaterThan=Pt.gt=function(e){return this.cmp(e)>0};Pt.greaterThanOrEqualTo=Pt.gte=function(e){return this.cmp(e)>=0};Pt.isInteger=Pt.isint=function(){return this.e>this.d.length-2};Pt.isNegative=Pt.isneg=function(){return this.s<0};Pt.isPositive=Pt.ispos=function(){return this.s>0};Pt.isZero=function(){return this.s===0};Pt.lessThan=Pt.lt=function(e){return this.cmp(e)<0};Pt.lessThanOrEqualTo=Pt.lte=function(e){return this.cmp(e)<1};Pt.logarithm=Pt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Wi))throw Error(Oo+"NaN");if(r.s<1)throw Error(Oo+(r.s?"NaN":"-Infinity"));return r.eq(Wi)?new n(0):(In=!1,t=Yc(Nv(r,s),Nv(e,s),s),In=!0,fn(t,a))};Pt.minus=Pt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FV(t,e):LV(t,(e.s=-e.s,e))};Pt.modulo=Pt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Oo+"NaN");return r.s?(In=!1,t=Yc(r,e,0,1).times(e),In=!0,r.minus(t)):fn(new n(r),a)};Pt.naturalExponential=Pt.exp=function(){return MV(this)};Pt.naturalLogarithm=Pt.ln=function(){return Nv(this)};Pt.negated=Pt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pt.plus=Pt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LV(t,e):FV(t,(e.s=-e.s,e))};Pt.precision=Pt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bf+e);if(t=Na(a)+1,n=a.d.length-1,r=n*_n+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Pt.squareRoot=Pt.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Oo+"NaN")}for(e=Na(l),In=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ql(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Kp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Yc(l,s,o+2)).times(.5),Ql(s.d).slice(0,o)===(t=Ql(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(fn(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return In=!0,fn(n,r)};Pt.times=Pt.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+t,s[a--]=l%Ga|0,t=l/Ga|0;s[a]=(s[a]+t)%Ga|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,In?fn(e,f.precision):e};Pt.toDecimalPlaces=Pt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(uc(e,0,Gp),t===void 0?t=n.rounding:uc(t,0,8),fn(r,e+Na(r)+1,t))};Pt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=oh(n,!0):(uc(e,0,Gp),t===void 0?t=a.rounding:uc(t,0,8),n=fn(new a(n),e+1,t),r=oh(n,!0,e+1)),r};Pt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?oh(a):(uc(e,0,Gp),t===void 0?t=s.rounding:uc(t,0,8),n=fn(new s(a),e+Na(a)+1,t),r=oh(n.abs(),!1,e+Na(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Pt.toInteger=Pt.toint=function(){var e=this,t=e.constructor;return fn(new t(e),Na(e)+1,t.rounding)};Pt.toNumber=function(){return+this};Pt.toPower=Pt.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Wi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Oo+"Infinity");return l}if(l.eq(Wi))return l;if(n=c.precision,e.eq(Wi))return fn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=DV){for(a=new c(Wi),t=Math.ceil(n/_n+4),In=!1;r%2&&(a=a.times(l),zD(a.d,t)),r=Kp(r/2),r!==0;)l=l.times(l),zD(l.d,t);return In=!0,e.s<0?new c(Wi).div(a):fn(a,n)}}else if(s<0)throw Error(Oo+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,In=!1,a=e.times(Nv(l,n+u)),In=!0,a=MV(a),a.s=s,a};Pt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Na(a),n=oh(a,r<=s.toExpNeg||r>=s.toExpPos)):(uc(e,1,Gp),t===void 0?t=s.rounding:uc(t,0,8),a=fn(new s(a),e,t),r=Na(a),n=oh(a,e<=r||r<=s.toExpNeg,e)),n};Pt.toSignificantDigits=Pt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(uc(e,1,Gp),t===void 0?t=n.rounding:uc(t,0,8)),fn(new n(r),e,t)};Pt.toString=Pt.valueOf=Pt.val=Pt.toJSON=Pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Na(e),r=e.constructor;return oh(e,t<=r.toExpNeg||t>=r.toExpPos)};function LV(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),In?fn(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/_n),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Ga|0,c[s]%=Ga;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,In?fn(t,f):t}function uc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bf+e)}function Ql(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=_n-n.length,r&&(s+=td(r)),s+=n;o=e[t],n=o+"",r=_n-n.length,r&&(s+=td(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Yc=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Ga|0,o=s/Ga|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Ga+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,m,h,v,g,y,x,b,_,w,N,C,j,A,k=n.constructor,I=n.s==a.s?1:-1,T=n.d,P=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Oo+"Division by zero");for(c=n.e-a.e,j=P.length,N=T.length,h=new k(I),v=h.d=[],u=0;P[u]==(T[u]||0);)++u;if(P[u]>(T[u]||0)&&--c,s==null?b=s=k.precision:o?b=s+(Na(n)-Na(a))+1:b=s,b<0)return new k(0);if(b=b/_n+2|0,u=0,j==1)for(d=0,P=P[0],b++;(u<N||d)&&b--;u++)_=d*Ga+(T[u]||0),v[u]=_/P|0,d=_%P|0;else{for(d=Ga/(P[0]+1)|0,d>1&&(P=e(P,d),T=e(T,d),j=P.length,N=T.length),w=j,g=T.slice(0,j),y=g.length;y<j;)g[y++]=0;A=P.slice(),A.unshift(0),C=P[0],P[1]>=Ga/2&&++C;do d=0,l=t(P,g,j,y),l<0?(x=g[0],j!=y&&(x=x*Ga+(g[1]||0)),d=x/C|0,d>1?(d>=Ga&&(d=Ga-1),f=e(P,d),m=f.length,y=g.length,l=t(f,g,m,y),l==1&&(d--,r(f,j<m?A:P,m))):(d==0&&(l=d=1),f=P.slice()),m=f.length,m<y&&f.unshift(0),r(g,f,y),l==-1&&(y=g.length,l=t(P,g,j,y),l<1&&(d++,r(g,j<y?A:P,y))),y=g.length):l===0&&(d++,g=[0]),v[u++]=d,l&&g[0]?g[y++]=T[w]||0:(g=[T[w]],y=1);while((w++<N||g[0]!==void 0)&&b--)}return v[0]||v.shift(),h.e=c,fn(h,o?s+Na(h)+1:s)}}();function MV(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Na(e)>16)throw Error(d3+Na(e));if(!e.s)return new d(Wi);for(In=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(bf(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Wi),d.precision=l;;){if(a=fn(a.times(e),l),r=r.times(++c),o=s.plus(Yc(a,r,l)),Ql(o.d).slice(0,l)===Ql(s.d).slice(0,l)){for(;u--;)s=fn(s.times(s),l);return d.precision=f,t==null?(In=!0,fn(s,f)):s}s=o}}function Na(e){for(var t=e.e*_n,r=e.d[0];r>=10;r/=10)t++;return t}function N5(e,t,r){if(t>e.LN10.sd())throw In=!0,r&&(e.precision=r),Error(Oo+"LN10 precision limit exceeded");return fn(new e(e.LN10),t)}function td(e){for(var t="";e--;)t+="0";return t}function Nv(e,t){var r,n,a,s,o,l,c,u,d,f=1,m=10,h=e,v=h.d,g=h.constructor,y=g.precision;if(h.s<1)throw Error(Oo+(h.s?"NaN":"-Infinity"));if(h.eq(Wi))return new g(0);if(t==null?(In=!1,u=y):u=t,h.eq(10))return t==null&&(In=!0),N5(g,u);if(u+=m,g.precision=u,r=Ql(v),n=r.charAt(0),s=Na(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Ql(h.d),n=r.charAt(0),f++;s=Na(h),n>1?(h=new g("0."+r),s++):h=new g(n+"."+r.slice(1))}else return c=N5(g,u+2,y).times(s+""),h=Nv(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=y,t==null?(In=!0,fn(h,y)):h;for(l=o=h=Yc(h.minus(Wi),h.plus(Wi),u),d=fn(h.times(h),u),a=3;;){if(o=fn(o.times(d),u),c=l.plus(Yc(o,new g(a),u)),Ql(c.d).slice(0,u)===Ql(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(N5(g,u+2,y).times(s+""))),l=Yc(l,new g(f),u),g.precision=y,t==null?(In=!0,fn(l,y)):l;l=c,a+=2}}function UD(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Kp(r/_n),e.d=[],n=(r+1)%_n,r<0&&(n+=_n),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=_n;n<a;)e.d.push(+t.slice(n,n+=_n));t=t.slice(n),n=_n-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),In&&(e.e>Ab||e.e<-Ab))throw Error(d3+r)}else e.s=0,e.e=0,e.d=[0];return e}function fn(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=_n,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/_n),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=_n,a=n-_n+o}if(r!==void 0&&(s=bf(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/bf(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Na(e),f.length=1,t=t-s-1,f[0]=bf(10,(_n-t%_n)%_n),e.e=Kp(-t/_n)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=bf(10,_n-n),f[d]=a>0?(u/bf(10,o-a)%bf(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Ga&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Ga)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(In&&(e.e>Ab||e.e<-Ab))throw Error(d3+Na(e));return e}function FV(e,t){var r,n,a,s,o,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),In?fn(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/_n),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Ga-1;--c[s],c[a]+=Ga}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,In?fn(t,h):t):new m(0)}function oh(e,t,r){var n,a=Na(e),s=Ql(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+td(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+td(-a-1)+s,r&&(n=r-o)>0&&(s+=td(n))):a>=o?(s+=td(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+td(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=td(n))),e.s<0?"-"+s:s}function zD(e,t){if(e.length>t)return e.length=t,!0}function $V(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bf+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return UD(o,s.toString())}else if(typeof s!="string")throw Error(Bf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,S_e.test(s))UD(o,s);else throw Error(Bf+s)}if(a.prototype=Pt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$V,a.config=a.set=N_e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function N_e(e){if(!e||typeof e!="object")throw Error(Oo+"Object expected");var t,r,n,a=["precision",1,Gp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Kp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Bf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bf+r+": "+n);return this}var f3=$V(j_e);Wi=new f3(1);const Zr=f3;function BV(e){var t;return e===0?t=1:t=Math.floor(new Zr(e).abs().log(10).toNumber())+1,t}function UV(e,t,r){for(var n=new Zr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var zV=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},WV=(e,t,r)=>{if(e.lte(0))return new Zr(0);var n=BV(e.toNumber()),a=new Zr(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Zr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new Zr(c.toNumber()):new Zr(Math.ceil(c.toNumber()))},k_e=(e,t,r)=>{var n=new Zr(1),a=new Zr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Zr(10).pow(BV(e)-1),a=new Zr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Zr(Math.floor(e)))}else e===0?a=new Zr(Math.floor((t-1)/2)):r||(a=new Zr(Math.floor(e)));for(var o=Math.floor((t-1)/2),l=[],c=0;c<t;c++)l.push(a.add(new Zr(c-o).mul(n)).toNumber());return l},HV=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Zr(0),tickMin:new Zr(0),tickMax:new Zr(0)};var o=WV(new Zr(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new Zr(0):(l=new Zr(t).add(r).div(2),l=l.sub(new Zr(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new Zr(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?HV(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new Zr(c).mul(o)),tickMax:l.add(new Zr(u).mul(o))})},E_e=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=zV([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),c];return r>n?u.reverse():u}if(l===c)return k_e(l,a,s);var{step:d,tickMin:f,tickMax:m}=HV(l,c,o,s,0),h=UV(f,m.add(new Zr(.1).mul(d)),d);return r>n?h.reverse():h},C_e=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=zV([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(r,2),u=WV(new Zr(l).sub(o).div(c-1),s,0),d=[...UV(new Zr(o),new Zr(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},qV=e=>e.rootProps.maxBarSize,A_e=e=>e.rootProps.barGap,VV=e=>e.rootProps.barCategoryGap,P_e=e=>e.rootProps.barSize,vx=e=>e.rootProps.stackOffset,GV=e=>e.rootProps.reverseStackOrder,h3=e=>e.options.chartName,m3=e=>e.rootProps.syncId,KV=e=>e.rootProps.syncMethod,p3=e=>e.options.eventEmitter,Sa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},mf={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Bl={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},$_=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function B_(e,t,r){if(r!=="auto")return r;if(e!=null)return yu(e,t)?"category":"number"}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){T_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T_e(e,t,r){return(t=O_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O_e(e){var t=R_e(e,"string");return typeof t=="symbol"?t:t+""}function R_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HD={allowDataOverflow:mf.allowDataOverflow,allowDecimals:mf.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mf.angleAxisId,includeHidden:!1,name:void 0,reversed:mf.reversed,scale:mf.scale,tick:mf.tick,tickCount:void 0,ticks:void 0,type:mf.type,unit:void 0},qD={allowDataOverflow:Bl.allowDataOverflow,allowDecimals:Bl.allowDecimals,allowDuplicatedCategory:Bl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bl.radiusAxisId,includeHidden:Bl.includeHidden,name:void 0,reversed:Bl.reversed,scale:Bl.scale,tick:Bl.tick,tickCount:Bl.tickCount,ticks:void 0,type:Bl.type,unit:void 0},I_e=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},g3=Ie([I_e,Pq],(e,t)=>{var r;if(e!=null)return e;var n=(r=B_(t,"angleAxis",HD.type))!==null&&r!==void 0?r:"category";return Pb(Pb({},HD),{},{type:n})}),D_e=(e,t)=>e.polarAxis.radiusAxis[t],v3=Ie([D_e,Pq],(e,t)=>{var r;if(e!=null)return e;var n=(r=B_(t,"radiusAxis",qD.type))!==null&&r!==void 0?r:"category";return Pb(Pb({},qD),{},{type:n})}),U_=e=>e.polarOptions,x3=Ie([wu,bu,Ua],Gq),YV=Ie([U_,x3],(e,t)=>{if(e!=null)return Ls(e.innerRadius,t,0)}),XV=Ie([U_,x3],(e,t)=>{if(e!=null)return Ls(e.outerRadius,t,t*.8)}),L_e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},JV=Ie([U_],L_e);Ie([g3,JV],$_);var ZV=Ie([x3,YV,XV],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ie([v3,ZV],$_);var QV=Ie([Fr,U_,YV,XV,wu,bu],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Ls(o,a,a/2),cy:Ls(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Hn=(e,t)=>t,xx=(e,t,r)=>r;function y3(e){return e==null?void 0:e.id}function eG(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=y3(l);u.forEach((f,m)=>{var h=s==null||a?m:String(on(f,s,null)),v=on(f,l.dataKey,0),g;o.has(h)?g=o.get(h):g={},Object.assign(g,{[d]:v}),o.set(h,g)})}}),Array.from(o.values())}function z_(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var W_=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function H_(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function M_e(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var as=e=>{var t=Fr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Yp=e=>e.tooltip.settings.axisId;function F_e(e){if(e in ug)return ug[e]();var t="scale".concat(ax(e));if(t in ug)return ug[t]()}function VD(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(s){function o(){return s.apply(this,arguments)}return o.toString=function(){return s.toString()},o}(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var o=a[0],l=a[1];return o<=l?s>=o&&s<=l:s>=l&&s<=o},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,o)=>{var l=e(s);if(l!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var c=e.bandwidth();switch(o.position){case"middle":l+=c/2;break;case"end":l+=c;break}}return l}}}}function GD(e,t,r){if(typeof e=="function")return VD(e.copy().domain(t).range(r));if(e!=null){var n=F_e(e);if(n!=null)return n.domain(t).range(r),VD(n)}}var tG=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!uu(t)){for(var r,n,a=0;a<t.length;a++){var s=t[a];kr(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){$_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $_e(e,t,r){return(t=B_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B_e(e){var t=U_e(e,"string");return typeof t=="symbol"?t:t+""}function U_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j4=[0,"auto"],qa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},rG=(e,t)=>e.cartesianAxis.xAxis[t],Su=(e,t)=>{var r=rG(e,t);return r??qa},Va={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:j4,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lx},nG=(e,t)=>e.cartesianAxis.yAxis[t],Nu=(e,t)=>{var r=nG(e,t);return r??Va},z_e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},w3=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??z_e},ia=(e,t,r)=>{switch(t){case"xAxis":return Su(e,r);case"yAxis":return Nu(e,r);case"zAxis":return w3(e,r);case"angleAxis":return g3(e,r);case"radiusAxis":return v3(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},W_e=(e,t,r)=>{switch(t){case"xAxis":return Su(e,r);case"yAxis":return Nu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Xp=(e,t,r)=>{switch(t){case"xAxis":return Su(e,r);case"yAxis":return Nu(e,r);case"angleAxis":return g3(e,r);case"radiusAxis":return v3(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},aG=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function b3(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var q_=e=>e.graphicalItems.cartesianItems,H_e=Ie([Hn,xx],b3),_3=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),yx=Ie([q_,ia,H_e],_3,{memoizeOptions:{resultEqualityCheck:H_}}),sG=Ie([yx],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(z_)),iG=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),q_e=Ie([yx],iG),j3=e=>e.map(t=>t.data).filter(Boolean).flat(1),V_e=Ie([yx],j3,{memoizeOptions:{resultEqualityCheck:H_}}),S3=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},N3=Ie([V_e,u3],S3),k3=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:on(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:on(a,n)}))):e.map(n=>({value:n})),V_=Ie([N3,ia,yx],k3);function oG(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function K1(e){if(lc(e)||e instanceof Date){var t=Number(e);if(kr(t))return t}}function YD(e){if(Array.isArray(e)){var t=[K1(e[0]),K1(e[1])];return uu(t)?t:void 0}var r=K1(e);if(r!=null)return[r,r]}function du(e){return e.map(K1).filter(mi)}function G_e(e,t,r){return!r||typeof t!="number"||oc(t)?[]:r.length?du(r.flatMap(n=>{var a=on(e,n.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!kr(s)||!kr(o)))return[t-s,t+o]})):[]}var Wa=e=>{var t=as(e),r=Yp(e);return Xp(e,t,r)},wx=Ie([Wa],e=>e==null?void 0:e.dataKey),K_e=Ie([sG,u3,Wa],eG),lG=(e,t,r,n)=>{var a={},s=t.reduce((o,l)=>{if(l.stackId==null)return o;var c=o[l.stackId];return c==null&&(c=[]),c.push(l),o[l.stackId]=c,o},a);return Object.fromEntries(Object.entries(s).map(o=>{var[l,c]=o,u=n?[...c].reverse():c,d=u.map(y3);return[l,{stackedData:_ye(e,d,r),graphicalItems:u}]}))},S4=Ie([K_e,sG,vx,GV],lG),cG=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var o=Eye(e,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Y_e=Ie([ia],e=>e.allowDataOverflow),E3=e=>{var t;if(e==null||!("domain"in e))return j4;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=du(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:j4},C3=Ie([ia],E3),A3=Ie([C3,Y_e],IV),X_e=Ie([S4,ju,Hn,A3],cG,{memoizeOptions:{resultEqualityCheck:W_}}),G_=e=>e.errorBars,J_e=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>oG(r,n)),Ob=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},P3=(e,t,r,n,a)=>{var s,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(x=>oG(a,x)),m=on(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),h=G_e(l,m,f);if(h.length>=2){var v=Math.min(...h),g=Math.max(...h);(s==null||v<s)&&(s=v),(o==null||g>o)&&(o=g)}var y=YD(m);y!=null&&(s=s==null?y[0]:Math.min(s,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=YD(on(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),kr(s)&&kr(o))return[s,o]},Z_e=Ie([N3,ia,q_e,G_,Hn],P3,{memoizeOptions:{resultEqualityCheck:W_}});function Q_e(e){var{value:t}=e;if(lc(t)||t instanceof Date)return t}var eje=(e,t,r)=>{var n=e.map(Q_e).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&lH(n))?eV(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},uG=e=>e.referenceElements.dots,Jp=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tje=Ie([uG,Hn,xx],Jp),dG=e=>e.referenceElements.areas,rje=Ie([dG,Hn,xx],Jp),fG=e=>e.referenceElements.lines,nje=Ie([fG,Hn,xx],Jp),hG=(e,t)=>{if(e!=null){var r=du(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},aje=Ie(tje,Hn,hG),mG=(e,t)=>{if(e!=null){var r=du(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},sje=Ie([rje,Hn],mG);function ije(e){var t;if(e.x!=null)return du([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:du(r)}function oje(e){var t;if(e.y!=null)return du([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:du(r)}var pG=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?ije(n):oje(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},lje=Ie([nje,Hn],pG),cje=Ie(aje,lje,sje,(e,t,r)=>Ob(e,r,t)),T3=(e,t,r,n,a,s,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?Ob(n,s,a):Ob(s,a);return __e(t,u,e.allowDataOverflow)},uje=Ie([ia,C3,A3,X_e,Z_e,cje,Fr,Hn],T3,{memoizeOptions:{resultEqualityCheck:W_}}),dje=[0,1],O3=(e,t,r,n,a,s,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=yu(t,s);if(u&&l==null){var d;return eV(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?eje(n,e,u):a==="expand"?dje:o}},R3=Ie([ia,Fr,N3,V_,vx,Hn,uje],O3);function fje(e){return e in ug}var gG=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(ax(n));return fje(s)?s:"point"}}},Vd=Ie([ia,aG,h3],gG);function I3(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?GD(e.scale,r,n):GD(t,r,n)}var D3=(e,t,r)=>{var n=E3(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&uu(e))return E_e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&uu(e))return C_e(e,t.tickCount,t.allowDecimals)}},L3=Ie([R3,Xp,Vd],D3),M3=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&uu(t)&&Array.isArray(r)&&r.length>0){var a,s,o=t[0],l=(a=r[0])!==null&&a!==void 0?a:0,c=t[1],u=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(o,l),Math.max(c,u)]}return t},hje=Ie([ia,R3,L3,Hn],M3),mje=Ie(V_,ia,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(du(e.map(f=>f.value))).sort((f,m)=>f-m),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var o=s-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],u=n[l+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),vG=Ie(mje,Fr,VV,Ua,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!kr(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var o=Ls(r,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),pje=(e,t,r)=>{var n=Su(e,t);return n==null||typeof n.padding!="string"?0:vG(e,"xAxis",t,r,n.padding)},gje=(e,t,r)=>{var n=Nu(e,t);return n==null||typeof n.padding!="string"?0:vG(e,"yAxis",t,r,n.padding)},vje=Ie(Su,pje,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),xje=Ie(Nu,gje,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),yje=Ie([Ua,vje,k_,N_,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),wje=Ie([Ua,Fr,xje,k_,N_,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:o}=a;return s?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),bx=(e,t,r,n)=>{var a;switch(t){case"xAxis":return yje(e,r,n);case"yAxis":return wje(e,r,n);case"zAxis":return(a=w3(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return JV(e);case"radiusAxis":return ZV(e,r);default:return}},xG=Ie([ia,bx],$_),bje=Ie([Vd,hje],tG),K_=Ie([ia,Vd,bje,xG],I3);Ie([yx,G_,Hn],J_e);function yG(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Y_=(e,t)=>t,X_=(e,t,r)=>r,_je=Ie(j_,Y_,X_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(yG)),jje=Ie(S_,Y_,X_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(yG)),wG=(e,t)=>({width:e.width,height:t.height}),Sje=(e,t)=>{var r=typeof t.width=="number"?t.width:lx;return{width:r,height:e.height}},bG=Ie(Ua,Su,wG),Nje=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},kje=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Eje=Ie(bu,Ua,_je,Y_,X_,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var c=wG(t,l);o==null&&(o=Nje(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),s}),Cje=Ie(wu,Ua,jje,Y_,X_,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var c=Sje(t,l);o==null&&(o=kje(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),s}),Aje=(e,t)=>{var r=Su(e,t);if(r!=null)return Eje(e,r.orientation,r.mirror)},Pje=Ie([Ua,Su,Aje,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Tje=(e,t)=>{var r=Nu(e,t);if(r!=null)return Cje(e,r.orientation,r.mirror)},Oje=Ie([Ua,Nu,Tje,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),_G=Ie(Ua,Nu,(e,t)=>{var r=typeof t.width=="number"?t.width:lx;return{width:r,height:e.height}}),XD=(e,t,r)=>{switch(t){case"xAxis":return bG(e,r).width;case"yAxis":return _G(e,r).height;default:return}},jG=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=r,l=yu(e,n),c=t.map(u=>u.value);if(o&&l&&s==="category"&&a&&lH(c))return c}},F3=Ie([Fr,V_,ia,Hn],jG),SG=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,o=yu(e,n);if(o&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},$3=Ie([Fr,V_,Xp,Hn],SG),JD=Ie([Fr,W_e,Vd,K_,F3,$3,bx,L3,Hn],(e,t,r,n,a,s,o,l,c)=>{if(t!=null){var u=yu(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),Rje=(e,t,r,n,a,s,o,l,c)=>{if(!(t==null||n==null)){var u=yu(e,c),{type:d,ticks:f,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/h:0;v=c==="angleAxis"&&s!=null&&s.length>=2?Ja(s[0]-s[1])*2*v:v;var g=f||a;return g?g.map((y,x)=>{var b=o?o.indexOf(y):y,_=n.map(b);return kr(_)?{index:x,coordinate:_+v,value:y,offset:v}:null}).filter(mi):u&&l?l.map((y,x)=>{var b=n.map(y);return kr(b)?{coordinate:b+v,value:y,index:x,offset:v}:null}).filter(mi):n.ticks?n.ticks(m).map((y,x)=>{var b=n.map(y);return kr(b)?{coordinate:b+v,value:y,index:x,offset:v}:null}).filter(mi):n.domain().map((y,x)=>{var b=n.map(y);return kr(b)?{coordinate:b+v,value:o?o[y]:y,index:x,offset:v}:null}).filter(mi)}},NG=Ie([Fr,Xp,Vd,K_,L3,bx,F3,$3,Hn],Rje),Ije=(e,t,r,n,a,s,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=yu(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Ja(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>{var m=r.map(d);return kr(m)?{coordinate:m+u,value:d,index:f,offset:u}:null}).filter(mi):r.ticks?r.ticks(c).map((d,f)=>{var m=r.map(d);return kr(m)?{coordinate:m+u,value:d,index:f,offset:u}:null}).filter(mi):r.domain().map((d,f)=>{var m=r.map(d);return kr(m)?{coordinate:m+u,value:a?a[d]:d,index:f,offset:u}:null}).filter(mi)}},Td=Ie([Fr,Xp,K_,bx,F3,$3,Hn],Ije),Od=Ie(ia,K_,(e,t)=>{if(!(e==null||t==null))return Tb(Tb({},e),{},{scale:t})}),Dje=Ie([ia,Vd,R3,xG],I3);Ie((e,t,r)=>w3(e,r),Dje,(e,t)=>{if(!(e==null||t==null))return Tb(Tb({},e),{},{scale:t})});var Lje=Ie([Fr,j_,S_],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kG=e=>e.options.defaultTooltipEventType,EG=e=>e.options.validateTooltipEventTypes;function CG(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function B3(e,t){var r=kG(e),n=EG(e);return CG(t,r,n)}function Mje(e){return Dt(t=>B3(t,e))}var AG=(e,t)=>{var r,n=Number(t);if(!(oc(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Fje=e=>e.tooltip.settings,id={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$je={itemInteraction:{click:id,hover:id},axisInteraction:{click:id,hover:id},keyboardInteraction:id,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},PG=_i({name:"tooltip",initialState:$je,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Tn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=xl(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Tn()},removeTooltipEntrySettings:{reducer(e,t){var r=xl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Tn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Bje,replaceTooltipEntrySettings:Uje,removeTooltipEntrySettings:zje,setTooltipSettingsState:Wje,setActiveMouseOverItemIndex:TG,mouseLeaveItem:Hje,mouseLeaveChart:OG,setActiveClickItemIndex:qje,setMouseOverAxisIndex:RG,setMouseClickAxisIndex:Vje,setSyncInteraction:N4,setKeyboardInteraction:k4}=PG.actions,Gje=PG.reducer;function ZD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(r),!0).forEach(function(n){Kje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kje(e,t,r){return(t=Yje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yje(e){var t=Xje(e,"string");return typeof t=="symbol"?t:t+""}function Xje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jje(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Zje(e){return e.index!=null}var IG=(e,t,r,n)=>{if(t==null)return id;var a=Jje(e,t,r);if(a==null)return id;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Zje(a)){if(s)return i1(i1({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return i1(i1({},id),{},{coordinate:a.coordinate})};function Qje(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function eSe(e,t){var r=Qje(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),o=Math.max(n,a);return r>=s&&r<=o}function tSe(e,t,r){if(r==null||t==null)return!0;var n=on(e,t);return n==null||!uu(r)?!0:eSe(n,r)}var U3=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!kr(s))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(s,l)),u=t[c];return u==null||tSe(u,r,n)?String(c):null},DG=(e,t,r,n,a,s,o)=>{if(s!=null){var l=o[0],c=l==null?void 0:l.getPosition(s);if(c!=null)return c;var u=a==null?void 0:a[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},LG=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},MG=e=>e.options.tooltipPayloadSearcher,Zp=e=>e.tooltip;function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){rSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rSe(e,t,r){return(t=nSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nSe(e){var t=aSe(e,"string");return typeof t=="symbol"?t:t+""}function aSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sSe(e,t){return e??t}var FG=(e,t,r,n,a,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,h)=>{var v,{dataDefinedOnItem:g,settings:y}=h,x=sSe(g,l),b=Array.isArray(x)?gq(x,u,d):x,_=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:n,w=y==null?void 0:y.nameKey,N;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?N=cH(b,n,a):N=s(b,t,c,w),Array.isArray(N))N.forEach(j=>{var A=e8(e8({},y),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});m.push(iI({tooltipEntrySettings:A,dataKey:j.dataKey,payload:j.payload,value:on(j.payload,j.dataKey),name:j.name}))});else{var C;m.push(iI({tooltipEntrySettings:y,dataKey:_,payload:N,value:on(N,_),name:(C=on(N,w))!==null&&C!==void 0?C:y==null?void 0:y.name}))}return m},f)}},z3=Ie([Wa,aG,h3],gG),iSe=Ie([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oSe=Ie([as,Yp],b3),Qp=Ie([iSe,Wa,oSe],_3,{memoizeOptions:{resultEqualityCheck:H_}}),lSe=Ie([Qp],e=>e.filter(z_)),cSe=Ie([Qp],j3,{memoizeOptions:{resultEqualityCheck:H_}}),e0=Ie([cSe,ju],S3),uSe=Ie([lSe,ju,Wa],eG),W3=Ie([e0,Wa,Qp],k3),$G=Ie([Wa],E3),dSe=Ie([Wa],e=>e.allowDataOverflow),BG=Ie([$G,dSe],IV),fSe=Ie([Qp],e=>e.filter(z_)),hSe=Ie([uSe,fSe,vx,GV],lG),mSe=Ie([hSe,ju,as,BG],cG),pSe=Ie([Qp],iG),gSe=Ie([e0,Wa,pSe,G_,as],P3,{memoizeOptions:{resultEqualityCheck:W_}}),vSe=Ie([uG,as,Yp],Jp),xSe=Ie([vSe,as],hG),ySe=Ie([dG,as,Yp],Jp),wSe=Ie([ySe,as],mG),bSe=Ie([fG,as,Yp],Jp),_Se=Ie([bSe,as],pG),jSe=Ie([xSe,_Se,wSe],Ob),SSe=Ie([Wa,$G,BG,mSe,gSe,jSe,Fr,as],T3),_x=Ie([Wa,Fr,e0,W3,vx,as,SSe],O3),NSe=Ie([_x,Wa,z3],D3),kSe=Ie([Wa,_x,NSe,as],M3),UG=e=>{var t=as(e),r=Yp(e),n=!1;return bx(e,t,r,n)},zG=Ie([Wa,UG],$_),WG=Ie([Wa,z3,kSe,zG],I3),ESe=Ie([Fr,W3,Wa,as],jG),CSe=Ie([Fr,W3,Wa,as],SG),ASe=(e,t,r,n,a,s,o,l)=>{if(t){var{type:c}=t,u=yu(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ja(a[0]-a[1])*2*f:f,u&&o?o.map((m,h)=>{var v=n.map(m);return kr(v)?{coordinate:v+f,value:m,index:h,offset:f}:null}).filter(mi):n.domain().map((m,h)=>{var v=n.map(m);return kr(v)?{coordinate:v+f,value:s?s[m]:m,index:h,offset:f}:null}).filter(mi)}}},ku=Ie([Fr,Wa,z3,WG,UG,ESe,CSe,as],ASe),H3=Ie([kG,EG,Fje],(e,t,r)=>CG(r.shared,e,t)),HG=e=>e.tooltip.settings.trigger,q3=e=>e.tooltip.settings.defaultIndex,jx=Ie([Zp,H3,HG,q3],IG),Rd=Ie([jx,e0,wx,_x],U3),qG=Ie([ku,Rd],AG),V3=Ie([jx],e=>{if(e)return e.dataKey}),PSe=Ie([jx],e=>{if(e)return e.graphicalItemId}),VG=Ie([Zp,H3,HG,q3],LG),TSe=Ie([wu,bu,Fr,Ua,ku,q3,VG],DG),OSe=Ie([jx,TSe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),RSe=Ie([jx],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),ISe=Ie([VG,Rd,ju,wx,qG,MG,H3],FG),DSe=Ie([ISe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function t8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t8(Object(r),!0).forEach(function(n){LSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LSe(e,t,r){return(t=MSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MSe(e){var t=FSe(e,"string");return typeof t=="symbol"?t:t+""}function FSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Se=()=>Dt(Wa),BSe=()=>{var e=$Se(),t=Dt(ku),r=Dt(WG);return wp(!e||!r?void 0:r8(r8({},e),{},{scale:r}),t)};function n8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n8(Object(r),!0).forEach(function(n){USe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function USe(e,t,r){return(t=zSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zSe(e){var t=WSe(e,"string");return typeof t=="symbol"?t:t+""}function WSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HSe=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},qSe=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:o}=n;return om(om(om({},n),ja(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,{angle:c}=n;return om(om(om({},n),ja(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function VSe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var GG=(e,t,r,n,a)=>{var s,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c,u,d,f,m,h=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,v=(d=r[l])===null||d===void 0?void 0:d.coordinate,g=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(m=r[l+1])===null||m===void 0?void 0:m.coordinate,y=void 0;if(!(h==null||v==null||g==null))if(Ja(v-h)!==Ja(g-v)){var x=[];if(Ja(g-v)===Ja(a[1]-a[0])){y=g;var b=v+a[1]-a[0];x[0]=Math.min(b,(b+h)/2),x[1]=Math.max(b,(b+h)/2)}else{y=h;var _=g+a[1]-a[0];x[0]=Math.min(v,(_+v)/2),x[1]=Math.max(v,(_+v)/2)}var w=[Math.min(v,(y+v)/2),Math.max(v,(y+v)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){var N;return(N=r[l])===null||N===void 0?void 0:N.index}}else{var C=Math.min(h,g),j=Math.max(h,g);if(e>(C+v)/2&&e<=(j+v)/2){var A;return(A=r[l])===null||A===void 0?void 0:A.index}}}else if(t)for(var k=0;k<o;k++){var I=t[k];if(I!=null){var T=t[k+1],P=t[k-1];if(k===0&&T!=null&&e<=(I.coordinate+T.coordinate)/2||k===o-1&&P!=null&&e>(I.coordinate+P.coordinate)/2||k>0&&k<o-1&&P!=null&&T!=null&&e>(I.coordinate+P.coordinate)/2&&e<=(I.coordinate+T.coordinate)/2)return I.index}}return-1},GSe=()=>Dt(h3),G3=(e,t)=>t,KG=(e,t,r)=>r,K3=(e,t,r,n)=>n,KSe=Ie(ku,e=>h_(e,t=>t.coordinate)),Y3=Ie([Zp,G3,KG,K3],IG),X3=Ie([Y3,e0,wx,_x],U3),YSe=(e,t,r)=>{if(t!=null){var n=Zp(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},YG=Ie([Zp,G3,KG,K3],LG),Rb=Ie([wu,bu,Fr,Ua,ku,K3,YG],DG),XSe=Ie([Y3,Rb],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),XG=Ie([ku,X3],AG),JSe=Ie([YG,X3,ju,wx,XG,MG,G3],FG),ZSe=Ie([Y3,X3],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),QSe=(e,t,r,n,a,s,o)=>{if(!(!e||!r||!n||!a)&&VSe(e,o)){var l=Cye(e,t),c=GG(l,s,a,r,n),u=HSe(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},e5e=(e,t,r,n,a,s,o)=>{if(!(!e||!n||!a||!s||!r)){var l=Uwe(e,r);if(l){var c=Aye(l,t),u=GG(c,o,s,n,a),d=qSe(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},t5e=(e,t,r,n,a,s,o,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?QSe(e,t,n,a,s,o,l):e5e(e,t,r,n,a,s,o)},r5e=Ie(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),n5e=Ie(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Sa)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:M_e}});function a8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(r),!0).forEach(function(n){a5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a5e(e,t,r){return(t=s5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s5e(e){var t=i5e(e,"string");return typeof t=="symbol"?t:t+""}function i5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o5e={},l5e={zIndexMap:Object.values(Sa).reduce((e,t)=>s8(s8({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),o5e)},c5e=new Set(Object.values(Sa));function u5e(e){return c5e.has(e)}var JG=_i({name:"zIndex",initialState:l5e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Tn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!u5e(r)&&delete e.zIndexMap[r])},prepare:Tn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Tn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Tn()}}}),{registerZIndexPortal:d5e,unregisterZIndexPortal:f5e,registerZIndexPortalElement:h5e,unregisterZIndexPortalElement:m5e}=JG.actions,p5e=JG.reducer;function ji(e){var{zIndex:t,children:r}=e,n=r1e(),a=n&&t!==void 0&&t!==0,s=Bs(),o=yn();p.useLayoutEffect(()=>a?(o(d5e({zIndex:t})),()=>{o(f5e({zIndex:t}))}):_h,[o,t,a]);var l=Dt(c=>r5e(c,t,s));return a?l?Mo.createPortal(r,l):null:r}function E4(){return E4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E4.apply(null,arguments)}function i8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(r),!0).forEach(function(n){g5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g5e(e,t,r){return(t=v5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v5e(e){var t=x5e(e,"string");return typeof t=="symbol"?t:t+""}function x5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y5e(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return p.isValidElement(t)?p.cloneElement(t,n):p.createElement(r,n)}function w5e(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,m=n,h=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var v,g,y;if(d==="ScatterChart")v=f,g=twe,y=Sa.cursorLine;else if(d==="BarChart")v=rwe(l,f,s,o),g=Vq,y=Sa.cursorRectangle;else if(l==="radial"&&dH(f)){var{cx:x,cy:b,radius:_,startAngle:w,endAngle:N}=Kq(f);v={cx:x,cy:b,startAngle:w,endAngle:N,innerRadius:_,outerRadius:_},g=Xq,y=Sa.cursorLine}else v={points:qwe(l,f,s)},g=BA,y=Sa.cursorLine;var C=typeof c=="object"&&"className"in c?c.className:void 0,j=o1(o1(o1(o1({stroke:"#ccc",pointerEvents:"none"},s),v),eh(c)),{},{payload:m,payloadIndex:h,className:Pr("recharts-tooltip-cursor",C)});return p.createElement(ji,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},p.createElement(y5e,{cursor:c,cursorComp:g,cursorProps:j}))}function b5e(e){var t=BSe(),r=Cq(),n=jh(),a=GSe();return t==null||r==null||n==null||a==null?null:p.createElement(w5e,E4({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var ZG=p.createContext(null),_5e=()=>p.useContext(ZG),QG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],h]:c._events[v].push(h):(c._events[v]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,v=new Array(h);m<h;m++)v[m]=f[m].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,v){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,h),!0;case 6:return y.fn.call(y.context,d,f,m,h,v),!0}for(_=1,b=new Array(x-1);_<x;_++)b[_-1]=arguments[_];y.fn.apply(y.context,b)}else{var w=y.length,N;for(_=0;_<w;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),x){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,f);break;case 4:y[_].fn.call(y[_].context,d,f,m);break;default:if(!b)for(N=1,b=new Array(x-1);N<x;N++)b[N-1]=arguments[N];y[_].fn.apply(y[_].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!m||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var g=0,y=[],x=v.length;g<x;g++)(v[g].fn!==d||m&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(QG);var j5e=QG.exports;const S5e=fc(j5e);var kv=new S5e,C4="recharts.syncEvent.tooltip",o8="recharts.syncEvent.brush",J3=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!oc(r))return e[r]}},N5e={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},eK=_i({name:"options",initialState:N5e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),k5e=eK.reducer,{createEventEmitter:E5e}=eK.actions;function C5e(e){return e.tooltip.syncInteraction}var A5e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},tK=_i({name:"chartData",initialState:A5e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:l8,setDataStartEndIndexes:P5e,setComputedData:GBe}=tK.actions,T5e=tK.reducer,O5e=["x","y"];function c8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c8(Object(r),!0).forEach(function(n){R5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R5e(e,t,r){return(t=I5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I5e(e){var t=D5e(e,"string");return typeof t=="symbol"?t:t+""}function D5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L5e(e,t){if(e==null)return{};var r,n,a=M5e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function F5e(){var e=Dt(m3),t=Dt(p3),r=yn(),n=Dt(KV),a=Dt(ku),s=jh(),o=E_(),l=Dt(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return _h;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:v,y:g}=h,y=L5e(h,O5e),{x,y:b,width:_,height:w}=d.payload.sourceViewBox,N=lm(lm({},y),{},{x:o.x+(_?(v-x)/_:0)*o.width,y:o.y+(w?(g-b)/w:0)*o.height});r(lm(lm({},d),{},{payload:lm(lm({},d.payload),{},{coordinate:N})}))}else r(d);return}if(a!=null){var C;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},A=n(a,j);C=a[A]}else n==="value"&&(C=a.find(re=>String(re.value)===d.payload.label));var{coordinate:k}=d.payload;if(C==null||d.payload.active===!1||k==null||o==null){r(N4({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:T}=k,P=Math.min(I,o.x+o.width),V=Math.min(T,o.y+o.height),F={x:s==="horizontal"?C.coordinate:P,y:s==="horizontal"?V:C.coordinate},Y=N4({active:d.payload.active,coordinate:F,dataKey:d.payload.dataKey,index:String(C.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(Y)}}};return kv.on(C4,c),()=>{kv.off(C4,c)}},[l,r,t,e,n,a,s,o])}function $5e(){var e=Dt(m3),t=Dt(p3),r=yn();p.useEffect(()=>{if(e==null)return _h;var n=(a,s,o)=>{t!==o&&e===a&&r(P5e(s))};return kv.on(o8,n),()=>{kv.off(o8,n)}},[r,t,e])}function B5e(){var e=yn();p.useEffect(()=>{e(E5e())},[e]),F5e(),$5e()}function U5e(e,t,r,n,a,s){var o=Dt(h=>YSe(h,e,t)),l=Dt(p3),c=Dt(m3),u=Dt(KV),d=Dt(C5e),f=d==null?void 0:d.active,m=E_();p.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=N4({active:s,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});kv.emit(C4,c,h,l)}},[f,r,o,a,n,l,c,u,s,m])}function u8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(r),!0).forEach(function(n){z5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z5e(e,t,r){return(t=W5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W5e(e){var t=H5e(e,"string");return typeof t=="symbol"?t:t+""}function H5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q5e(e){return e.dataKey}function V5e(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(I1e,t)}var f8=[],G5e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function k5(e){var t,r,n=Ea(e,G5e),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:m,position:h,reverseDirection:v,useTranslate3d:g,wrapperStyle:y,cursor:x,shared:b,trigger:_,defaultIndex:w,portal:N,axisId:C}=n,j=yn(),A=typeof w=="number"?String(w):w;p.useEffect(()=>{j(Wje({shared:b,trigger:_,axisId:C,active:a,defaultIndex:A}))},[j,b,_,C,a,A]);var k=E_(),I=Uq(),T=Mje(b),{activeIndex:P,isActive:V}=(t=Dt(W=>ZSe(W,T,_,A)))!==null&&t!==void 0?t:{},F=Dt(W=>JSe(W,T,_,A)),Y=Dt(W=>XG(W,T,_,A)),re=Dt(W=>XSe(W,T,_,A)),U=F,q=_5e(),X=(r=a??V)!==null&&r!==void 0?r:!1,[pe,xe]=BH([U,X]),D=T==="axis"?Y:void 0;U5e(T,_,re,D,P,X);var M=N??q;if(M==null||k==null||T==null)return null;var R=U??f8;X||(R=f8),u&&R.length&&(R=PH(R.filter(W=>W.value!=null&&(W.hide!==!0||n.includeHidden)),m,q5e));var H=R.length>0,B=p.createElement(U1e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:X,coordinate:re,hasPayload:H,offset:f,position:h,reverseDirection:v,useTranslate3d:g,viewBox:k,wrapperStyle:y,lastBoundingBox:pe,innerRef:xe,hasPortalFromProps:!!N},V5e(c,d8(d8({},n),{},{payload:R,label:D,active:X,activeIndex:P,coordinate:re,accessibilityLayer:I})));return p.createElement(p.Fragment,null,Mo.createPortal(B,M),X&&p.createElement(b5e,{cursor:x,tooltipEventType:T,coordinate:re,payload:R,index:P}))}var Sx=e=>null;Sx.displayName="Cell";function K5e(e,t,r){return(t=Y5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5e(e){var t=X5e(e,"string");return typeof t=="symbol"?t:t+""}function X5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class J5e{constructor(t){K5e(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(n){Q5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q5e(e,t,r){return(t=eNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eNe(e){var t=tNe(e,"string");return typeof t=="symbol"?t:t+""}function tNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rNe={cacheSize:2e3,enableCache:!0},rK=Z5e({},rNe),m8=new J5e(rK.cacheSize),nNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},p8="recharts_measurement_span";function aNe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(l)}var g8=(e,t)=>{try{var r=document.getElementById(p8);r||(r=document.createElement("span"),r.setAttribute("id",p8),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,nNe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},kg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||T_.isSsr)return{width:0,height:0};if(!rK.enableCache)return g8(t,r);var n=aNe(t,r),a=m8.get(n);if(a)return a;var s=g8(t,r);return m8.set(n,s),s},nK;function sNe(e,t,r){return(t=iNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iNe(e){var t=oNe(e,"string");return typeof t=="symbol"?t:t+""}function oNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uNe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dNe=["cm","mm","pt","pc","in","Q","px"];function fNe(e){return dNe.includes(e)}var Mm="NaN";function hNe(e,t){return e*uNe[t]}class ps{static parse(t){var r,[,n,a]=(r=cNe.exec(t))!==null&&r!==void 0?r:[];return n==null?ps.NaN:new ps(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,oc(t)&&(this.unit=""),r!==""&&!lNe.test(r)&&(this.num=NaN,this.unit=""),fNe(r)&&(this.num=hNe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ps(NaN,""):new ps(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ps(NaN,""):new ps(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ps(NaN,""):new ps(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ps(NaN,""):new ps(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oc(this.num)}}nK=ps;sNe(ps,"NaN",new nK(NaN,""));function aK(e){if(e==null||e.includes(Mm))return Mm;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=v8.exec(t))!==null&&r!==void 0?r:[],o=ps.parse(n??""),l=ps.parse(s??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Mm;t=t.replace(v8,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=x8.exec(t))!==null&&u!==void 0?u:[],h=ps.parse(d??""),v=ps.parse(m??""),g=f==="+"?h.add(v):h.subtract(v);if(g.isNaN())return Mm;t=t.replace(x8,g.toString())}return t}var y8=/\(([^()]*)\)/;function mNe(e){for(var t=e,r;(r=y8.exec(t))!=null;){var[,n]=r;t=t.replace(y8,aK(n))}return t}function pNe(e){var t=e.replace(/\s+/g,"");return t=mNe(t),t=aK(t),t}function gNe(e){try{return pNe(e)}catch{return Mm}}function E5(e){var t=gNe(e.slice(5,-1));return t===Mm?"":t}var vNe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xNe=["dx","dy","angle","className","breakAll"];function A4(){return A4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A4.apply(null,arguments)}function w8(e,t){if(e==null)return{};var r,n,a=yNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sK=/[ \f\n\r\t\v\u2028\u2029]+/,iK=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];zn(t)||(r?a=t.toString().split(""):a=t.toString().split(sK));var s=a.map(l=>({word:l,width:kg(l,n).width})),o=r?0:kg("",n).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function wNe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var oK=(e,t,r,n)=>e.reduce((a,s)=>{var{word:o,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(o),c.width+=l+r;else{var u={words:[o],width:l};a.push(u)}return a},[]),lK=e=>e.reduce((t,r)=>t.width>r.width?t:r),bNe="",b8=(e,t,r,n,a,s,o,l)=>{var c=e.slice(0,t),u=iK({breakAll:r,style:n,children:c+bNe});if(!u)return[!1,[]];var d=oK(u.wordsWithComputedWidth,s,o,l),f=d.length>a||lK(d).width>Number(s);return[f,d]},_Ne=(e,t,r,n,a)=>{var{maxLines:s,children:o,style:l,breakAll:c}=e,u=At(s),d=String(o),f=oK(t,n,r,a);if(!u||a)return f;var m=f.length>s||lK(f).width>Number(n);if(!m)return f;for(var h=0,v=d.length-1,g=0,y;h<=v&&g<=d.length-1;){var x=Math.floor((h+v)/2),b=x-1,[_,w]=b8(d,b,c,l,s,n,r,a),[N]=b8(d,x,c,l,s,n,r,a);if(!_&&!N&&(h=x+1),_&&N&&(v=x-1),!_&&N){y=w;break}g++}return y||f},_8=e=>{var t=zn(e)?[]:e.toString().split(sK);return[{words:t,width:void 0}]},jNe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:o}=e;if((t||r)&&!T_.isSsr){var l,c,u=iK({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return _8(n);return _Ne({breakAll:s,children:n,maxLines:o,style:a},l,c,t,!!r)}return _8(n)},cK="#808080",SNe={angle:0,breakAll:!1,capHeight:"0.71em",fill:cK,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},J_=p.forwardRef((e,t)=>{var r=Ea(e,SNe),{x:n,y:a,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=w8(r,vNe),m=p.useMemo(()=>jNe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:h,dy:v,angle:g,className:y,breakAll:x}=f,b=w8(f,xNe);if(!lc(n)||!lc(a)||m.length===0)return null;var _=Number(n)+(At(h)?h:0),w=Number(a)+(At(v)?v:0);if(!kr(_)||!kr(w))return null;var N;switch(d){case"start":N=E5("calc(".concat(o,")"));break;case"middle":N=E5("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:N=E5("calc(".concat(m.length-1," * -").concat(s,")"));break}var C=[],j=m[0];if(c&&j!=null){var A=j.width,{width:k}=f;C.push("scale(".concat(At(k)&&At(A)?k/A:1,")"))}return g&&C.push("rotate(".concat(g,", ").concat(_,", ").concat(w,")")),C.length&&(b.transform=C.join(" ")),p.createElement("text",A4({},ni(b),{ref:t,x:_,y:w,className:Pr("recharts-text",y),textAnchor:u,fill:l.includes("url")?cK:l}),m.map((I,T)=>{var P=I.words.join(x?"":" ");return p.createElement("tspan",{x:_,dy:T===0?N:s,key:"".concat(P,"-").concat(T)},P)}))});J_.displayName="Text";function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){NNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NNe(e,t,r){return(t=kNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kNe(e){var t=ENe(e,"string");return typeof t=="symbol"?t:t+""}function ENe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CNe=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:s,y:o,height:l,upperWidth:c,lowerWidth:u}=DA(t),d=s,f=s+(c-u)/2,m=(d+f)/2,h=(c+u)/2,v=d+c/2,g=l>=0?1:-1,y=g*n,x=g>0?"end":"start",b=g>0?"start":"end",_=c>=0?1:-1,w=_*n,N=_>0?"end":"start",C=_>0?"start":"end",j=a;if(r==="top"){var A={x:d+c/2,y:o-y,horizontalAnchor:"middle",verticalAnchor:x};return j&&(A.height=Math.max(o-j.y,0),A.width=c),A}if(r==="bottom"){var k={x:f+u/2,y:o+l+y,horizontalAnchor:"middle",verticalAnchor:b};return j&&(k.height=Math.max(j.y+j.height-(o+l),0),k.width=u),k}if(r==="left"){var I={x:m-w,y:o+l/2,horizontalAnchor:N,verticalAnchor:"middle"};return j&&(I.width=Math.max(I.x-j.x,0),I.height=l),I}if(r==="right"){var T={x:m+h+w,y:o+l/2,horizontalAnchor:C,verticalAnchor:"middle"};return j&&(T.width=Math.max(j.x+j.width-T.x,0),T.height=l),T}var P=j?{width:h,height:l}:{};return r==="insideLeft"?Ul({x:m+w,y:o+l/2,horizontalAnchor:C,verticalAnchor:"middle"},P):r==="insideRight"?Ul({x:m+h-w,y:o+l/2,horizontalAnchor:N,verticalAnchor:"middle"},P):r==="insideTop"?Ul({x:d+c/2,y:o+y,horizontalAnchor:"middle",verticalAnchor:b},P):r==="insideBottom"?Ul({x:f+u/2,y:o+l-y,horizontalAnchor:"middle",verticalAnchor:x},P):r==="insideTopLeft"?Ul({x:d+w,y:o+y,horizontalAnchor:C,verticalAnchor:b},P):r==="insideTopRight"?Ul({x:d+c-w,y:o+y,horizontalAnchor:N,verticalAnchor:b},P):r==="insideBottomLeft"?Ul({x:f+w,y:o+l-y,horizontalAnchor:C,verticalAnchor:x},P):r==="insideBottomRight"?Ul({x:f+u-w,y:o+l-y,horizontalAnchor:N,verticalAnchor:x},P):r&&typeof r=="object"&&(At(r.x)||nh(r.x))&&(At(r.y)||nh(r.y))?Ul({x:s+Ls(r.x,h),y:o+Ls(r.y,l),horizontalAnchor:"end",verticalAnchor:"end"},P):Ul({x:v,y:o+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},P)},ANe=["labelRef"],PNe=["content"];function S8(e,t){if(e==null)return{};var r,n,a=TNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){ONe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ONe(e,t,r){return(t=RNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RNe(e){var t=INe(e,"string");return typeof t=="symbol"?t:t+""}function INe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uc.apply(null,arguments)}var uK=p.createContext(null),DNe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o,children:l}=e,c=p.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o}),[t,r,n,a,s,o]);return p.createElement(uK.Provider,{value:c},l)},dK=()=>{var e=p.useContext(uK),t=E_();return e||(t?DA(t):void 0)},LNe=p.createContext(null),MNe=()=>{var e=p.useContext(LNe),t=Dt(QV);return e||t},FNe=e=>{var{value:t,formatter:r}=e,n=zn(e.children)?t:e.children;return typeof r=="function"?r(n):n},Z3=e=>e!=null&&typeof e=="function",$Ne=(e,t)=>{var r=Ja(t-e),n=Math.min(Math.abs(t-e),360);return r*n},BNe=(e,t,r,n,a)=>{var{offset:s,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:h}=a,v=(u+d)/2,g=$Ne(f,m),y=g>=0?1:-1,x,b;switch(t){case"insideStart":x=f+y*s,b=h;break;case"insideEnd":x=m-y*s,b=!h;break;case"end":x=m+y*s,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var _=ja(l,c,v,x),w=ja(l,c,v,x+(b?1:-1)*359),N="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(b?0:1,`,
    `).concat(w.x,",").concat(w.y),C=zn(e.id)?hv("recharts-radial-line-"):e.id;return p.createElement("text",Uc({},n,{dominantBaseline:"central",className:Pr("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:C,d:N})),p.createElement("textPath",{xlinkHref:"#".concat(C)},r))},UNe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=ja(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(s+o)/2,{x:h,y:v}=ja(n,a,m,u);return{x:h,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Y1=e=>e!=null&&"cx"in e&&At(e.cx),zNe={angle:0,offset:5,zIndex:Sa.label,position:"middle",textBreakAll:!1};function WNe(e){if(!Y1(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function rd(e){var t=Ea(e,zNe),{viewBox:r,parentViewBox:n,position:a,value:s,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=t,f=MNe(),m=dK(),h=a==="center"?m:f??m,v,g,y;r==null?v=h:Y1(r)?v=r:v=DA(r);var x=WNe(v);if(!v||zn(s)&&zn(o)&&!p.isValidElement(l)&&typeof l!="function")return null;var b=dg(dg({},t),{},{viewBox:v});if(p.isValidElement(l)){var{labelRef:_}=b,w=S8(b,ANe);return p.cloneElement(l,w)}if(typeof l=="function"){var{content:N}=b,C=S8(b,PNe);if(g=p.createElement(l,C),p.isValidElement(g))return g}else g=FNe(t);var j=ni(t);if(Y1(v)){if(a==="insideStart"||a==="insideEnd"||a==="end")return BNe(t,a,g,j,v);y=UNe(v,t.offset,t.position)}else{if(!x)return null;var A=CNe({viewBox:x,position:a,offset:t.offset,parentViewBox:Y1(n)?void 0:n});y=dg(dg({x:A.x,y:A.y,textAnchor:A.horizontalAnchor,verticalAnchor:A.verticalAnchor},A.width!==void 0?{width:A.width}:{}),A.height!==void 0?{height:A.height}:{})}return p.createElement(ji,{zIndex:t.zIndex},p.createElement(J_,Uc({ref:d,className:Pr("recharts-label",c)},j,y,{textAnchor:wNe(j.textAnchor)?j.textAnchor:y.textAnchor,breakAll:u}),g))}rd.displayName="Label";var HNe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(rd,Uc({key:"label-implicit"},n)):lc(e)?p.createElement(rd,Uc({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===rd?p.cloneElement(e,dg({key:"label-implicit"},n)):p.createElement(rd,Uc({key:"label-implicit",content:e},n)):Z3(e)?p.createElement(rd,Uc({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(rd,Uc({},e,{key:"label-implicit"},n)):null};function qNe(e){var{label:t,labelRef:r}=e,n=dK();return HNe(t,n,r)||null}var fK={},hK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(hK);var mK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(mK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hK,r=mK,n=u_;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(fK);var VNe=fK.last;const GNe=fc(VNe);var KNe=["valueAccessor"],YNe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(null,arguments)}function k8(e,t){if(e==null)return{};var r,n,a=XNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JNe=e=>Array.isArray(e.value)?GNe(e.value):e.value,pK=p.createContext(void 0),gK=pK.Provider,vK=p.createContext(void 0),ZNe=vK.Provider;function QNe(){return p.useContext(pK)}function eke(){return p.useContext(vK)}function X1(e){var{valueAccessor:t=JNe}=e,r=k8(e,KNe),{dataKey:n,clockWise:a,id:s,textBreakAll:o,zIndex:l}=r,c=k8(r,YNe),u=QNe(),d=eke(),f=u||d;return!f||!f.length?null:p.createElement(ji,{zIndex:l??Sa.label},p.createElement(ts,{className:"recharts-label-list"},f.map((m,h)=>{var v,g=zn(n)?t(m,h):on(m.payload,n),y=zn(s)?{}:{id:"".concat(s,"-").concat(h)};return p.createElement(rd,Ib({key:"label-".concat(h)},ni(m),c,y,{fill:(v=r.fill)!==null&&v!==void 0?v:m.fill,parentViewBox:m.parentViewBox,value:g,textBreakAll:o,viewBox:m.viewBox,index:h,zIndex:0}))})))}X1.displayName="LabelList";function Q3(e){var{label:t}=e;return t?t===!0?p.createElement(X1,{key:"labelList-implicit"}):p.isValidElement(t)||Z3(t)?p.createElement(X1,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(X1,Ib({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function P4(){return P4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P4.apply(null,arguments)}var xK=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=Pr("recharts-dot",a);return At(t)&&At(r)&&At(n)?p.createElement("circle",P4({},eo(e),pA(e),{className:s,cx:t,cy:r,r:n})):null},yK=e=>e.graphicalItems.polarItems,tke=Ie([Hn,xx],b3),Z_=Ie([yK,ia,tke],_3),rke=Ie([Z_],j3),Q_=Ie([rke,F_],S3),nke=Ie([Q_,ia,Z_],k3);Ie([Q_,ia,Z_],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,o=on(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:on(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var E8=()=>{},ake=Ie([Q_,ia,Z_,G_,Hn],P3),ske=Ie([ia,C3,A3,E8,ake,E8,Fr,Hn],T3),wK=Ie([ia,Fr,Q_,nke,vx,Hn,ske],O3),ike=Ie([wK,Xp,Vd],D3),oke=Ie([ia,wK,ike,Hn],M3);Ie([Vd,oke],tG);var lke={radiusAxis:{},angleAxis:{}},bK=_i({name:"polarAxis",initialState:lke,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:KBe,removeRadiusAxis:YBe,addAngleAxis:XBe,removeAngleAxis:JBe}=bK.actions,cke=bK.reducer;function _K(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(n){uke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uke(e,t,r){return(t=dke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dke(e){var t=fke(e,"string");return typeof t=="symbol"?t:t+""}function fke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hke=(e,t)=>t,eP=Ie([yK,hke],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),mke=[],tP=(e,t,r)=>(r==null?void 0:r.length)===0?mke:r,jK=Ie([F_,eP,tP],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>A8(A8({},t.presentationProps),s.props))),a!=null)return a}}),pke=Ie([jK,eP,tP],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,o=on(n,t.nameKey,t.name),l;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:qp(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),gke=Ie([jK,eP,tP,Ua],(e,t,r,n)=>{if(!(t==null||e==null))return p4e({offset:n,pieSettings:t,displayedData:e,cells:r})}),SK={exports:{}},hn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP=Symbol.for("react.transitional.element"),nP=Symbol.for("react.portal"),ej=Symbol.for("react.fragment"),tj=Symbol.for("react.strict_mode"),rj=Symbol.for("react.profiler"),nj=Symbol.for("react.consumer"),aj=Symbol.for("react.context"),sj=Symbol.for("react.forward_ref"),ij=Symbol.for("react.suspense"),oj=Symbol.for("react.suspense_list"),lj=Symbol.for("react.memo"),cj=Symbol.for("react.lazy"),vke=Symbol.for("react.view_transition"),xke=Symbol.for("react.client.reference");function Uo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rP:switch(e=e.type,e){case ej:case rj:case tj:case ij:case oj:case vke:return e;default:switch(e=e&&e.$$typeof,e){case aj:case sj:case cj:case lj:return e;case nj:return e;default:return t}}case nP:return t}}}hn.ContextConsumer=nj;hn.ContextProvider=aj;hn.Element=rP;hn.ForwardRef=sj;hn.Fragment=ej;hn.Lazy=cj;hn.Memo=lj;hn.Portal=nP;hn.Profiler=rj;hn.StrictMode=tj;hn.Suspense=ij;hn.SuspenseList=oj;hn.isContextConsumer=function(e){return Uo(e)===nj};hn.isContextProvider=function(e){return Uo(e)===aj};hn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rP};hn.isForwardRef=function(e){return Uo(e)===sj};hn.isFragment=function(e){return Uo(e)===ej};hn.isLazy=function(e){return Uo(e)===cj};hn.isMemo=function(e){return Uo(e)===lj};hn.isPortal=function(e){return Uo(e)===nP};hn.isProfiler=function(e){return Uo(e)===rj};hn.isStrictMode=function(e){return Uo(e)===tj};hn.isSuspense=function(e){return Uo(e)===ij};hn.isSuspenseList=function(e){return Uo(e)===oj};hn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ej||e===rj||e===tj||e===ij||e===oj||typeof e=="object"&&e!==null&&(e.$$typeof===cj||e.$$typeof===lj||e.$$typeof===aj||e.$$typeof===nj||e.$$typeof===sj||e.$$typeof===xke||e.getModuleId!==void 0)};hn.typeOf=Uo;SK.exports=hn;var yke=SK.exports,P8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",T8=null,C5=null,NK=e=>{if(e===T8&&Array.isArray(C5))return C5;var t=[];return p.Children.forEach(e,r=>{zn(r)||(yke.isFragment(r)?t=t.concat(NK(r.props.children)):t.push(r))}),C5=t,T8=e,t};function aP(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>P8(a)):n=[P8(t)],NK(e).forEach(a=>{var s=rh(a,"type.displayName")||rh(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var kK=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,EK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(EK);var wke=EK.isPlainObject;const bke=fc(wke);var O8,R8,I8,D8,L8;function M8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(r),!0).forEach(function(n){_ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ke(e,t,r){return(t=jke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jke(e){var t=Ske(e,"string");return typeof t=="symbol"?t:t+""}function Ske(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(null,arguments)}function Q0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $8=(e,t,r,n,a)=>{var s=r-n,o;return o=Jn(O8||(O8=Q0(["M ",",",""])),e,t),o+=Jn(R8||(R8=Q0(["L ",",",""])),e+r,t),o+=Jn(I8||(I8=Q0(["L ",",",""])),e+r-s/2,t+a),o+=Jn(D8||(D8=Q0(["L ",",",""])),e+r-s/2-n,t+a),o+=Jn(L8||(L8=Q0(["L ",","," Z"])),e,t),o},Nke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kke=e=>{var t=Ea(e,Nke),{x:r,y:n,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,m=p.useRef(null),[h,v]=p.useState(-1),g=p.useRef(a),y=p.useRef(s),x=p.useRef(o),b=p.useRef(r),_=p.useRef(n),w=fx(e,"trapezoid-");if(p.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var F=m.current.getTotalLength();F&&v(F)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var N=Pr("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",Db({},ni(t),{className:N,d:$8(r,n,a,s,o)})));var C=g.current,j=y.current,A=x.current,k=b.current,I=_.current,T="0px ".concat(h===-1?1:h,"px"),P="".concat(h,"px 0px"),V=zq(["strokeDasharray"],u,c);return p.createElement(dx,{animationId:w,key:w,canBegin:h>0,duration:u,easing:c,isActive:f,begin:d},F=>{var Y=On(C,a,F),re=On(j,s,F),U=On(A,o,F),q=On(k,r,F),X=On(I,n,F);m.current&&(g.current=Y,y.current=re,x.current=U,b.current=q,_.current=X);var pe=F>0?{transition:V,strokeDasharray:P}:{strokeDasharray:T};return p.createElement("path",Db({},ni(t),{className:N,d:$8(q,X,Y,re,U),ref:m,style:F8(F8({},pe),t.style)}))})},Eke=["option","shapeType","activeClassName"];function Cke(e,t){if(e==null)return{};var r,n,a=Ake(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ake(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){Pke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pke(e,t,r){return(t=Tke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tke(e){var t=Oke(e,"string");return typeof t=="symbol"?t:t+""}function Oke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rke(e,t){return Lb(Lb({},t),e)}function Ike(e,t){return e==="symbols"}function U8(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(Vq,r);case"trapezoid":return p.createElement(kke,r);case"sector":return p.createElement(Xq,r);case"symbols":if(Ike(t))return p.createElement(mA,r);break;case"curve":return p.createElement(BA,r);default:return null}}function Dke(e){return p.isValidElement(e)?e.props:e}function sP(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=Cke(e,Eke),s;if(p.isValidElement(t))s=p.cloneElement(t,Lb(Lb({},a),Dke(t)));else if(typeof t=="function")s=t(a,a.index);else if(bke(t)&&typeof t!="boolean"){var o=Rke(t,a);s=p.createElement(U8,{shapeType:r,elementProps:o})}else{var l=a;s=p.createElement(U8,{shapeType:r,elementProps:l})}return a.isActive?p.createElement(ts,{className:n},s):s}var iP=(e,t,r)=>{var n=yn();return(a,s)=>o=>{e==null||e(a,s,o),n(TG({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},oP=e=>{var t=yn();return(r,n)=>a=>{e==null||e(r,n,a),t(Hje())}},lP=(e,t,r)=>{var n=yn();return(a,s)=>o=>{e==null||e(a,s,o),n(qje({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function cP(e){var{tooltipEntrySettings:t}=e,r=yn(),n=Bs(),a=p.useRef(null);return p.useLayoutEffect(()=>{n||(a.current===null?r(Bje(t)):a.current!==t&&r(Uje({prev:a.current,next:t})),a.current=t)},[t,r,n]),p.useLayoutEffect(()=>()=>{a.current&&(r(zje(a.current)),a.current=null)},[r]),null}function CK(e){var{legendPayload:t}=e,r=yn(),n=Bs(),a=p.useRef(null);return p.useLayoutEffect(()=>{n||(a.current===null?r(Fq(t)):a.current!==t&&r($q({prev:a.current,next:t})),a.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{a.current&&(r(Bq(a.current)),a.current=null)},[r]),null}function Lke(e){var{legendPayload:t}=e,r=yn(),n=Dt(Fr),a=p.useRef(null);return p.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(Fq(t)):a.current!==t&&r($q({prev:a.current,next:t})),a.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{a.current&&(r(Bq(a.current)),a.current=null)},[r]),null}var A5,Mke=()=>{var[e]=p.useState(()=>hv("uid-"));return e},Fke=(A5=$v.useId)!==null&&A5!==void 0?A5:Mke;function $ke(e,t){var r=Fke();return t||(e?"".concat(e,"-").concat(r):r)}var Bke=p.createContext(void 0),uP=e=>{var{id:t,type:r,children:n}=e,a=$ke("recharts-".concat(r),t);return p.createElement(Bke.Provider,{value:a},n(a))},Uke={cartesianItems:[],polarItems:[]},AK=_i({name:"graphicalItems",initialState:Uke,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Tn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=xl(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Tn()},removeCartesianGraphicalItem:{reducer(e,t){var r=xl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Tn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Tn()},removePolarGraphicalItem:{reducer(e,t){var r=xl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Tn()}}}),{addCartesianGraphicalItem:zke,replaceCartesianGraphicalItem:Wke,removeCartesianGraphicalItem:Hke,addPolarGraphicalItem:qke,removePolarGraphicalItem:Vke}=AK.actions,Gke=AK.reducer,Kke=e=>{var t=yn(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(zke(e)):r.current!==e&&t(Wke({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(Hke(r.current)),r.current=null)},[t]),null},PK=p.memo(Kke);function Yke(e){var t=yn();return p.useLayoutEffect(()=>(t(qke(e)),()=>{t(Vke(e))}),[t,e]),null}var Xke=["key"],Jke=["onMouseEnter","onClick","onMouseLeave"],Zke=["id"],Qke=["id"];function z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z8(Object(r),!0).forEach(function(n){e4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e4e(e,t,r){return(t=t4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t4e(e){var t=r4e(e,"string");return typeof t=="symbol"?t:t+""}function r4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(null,arguments)}function uj(e,t){if(e==null)return{};var r,n,a=n4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function n4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function a4e(e){var t=p.useMemo(()=>aP(e.children,Sx),[e.children]),r=Dt(n=>pke(n,e.id,t));return r==null?null:p.createElement(Lke,{legendPayload:r})}var s4e=p.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:o,name:l,hide:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n.map(m=>m.tooltipPayload),getPosition:m=>{var h;return(h=n[Number(m)])===null||h===void 0?void 0:h.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:r,name:qp(l,t),hide:c,type:u,color:o,unit:"",graphicalItemId:d}};return p.createElement(cP,{tooltipEntrySettings:f})}),i4e=(e,t)=>e>t?"start":e<t?"end":"middle",o4e=(e,t,r)=>Ls(typeof t=="function"?t(e):t,r,r*.8),l4e=(e,t,r)=>{var{top:n,left:a,width:s,height:o}=t,l=Gq(s,o),c=a+Ls(e.cx,s,s/2),u=n+Ls(e.cy,o,o/2),d=Ls(e.innerRadius,l,0),f=o4e(r,e.outerRadius,l),m=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:m}},c4e=(e,t)=>{var r=Ja(t-e),n=Math.min(Math.abs(t-e),360);return r*n},u4e=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Pr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=uj(t,Xke);return p.createElement(BA,Id({},a,{type:"linear",className:r}))},d4e=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var a=Pr("recharts-pie-label-text",_K(e));return p.createElement(J_,Id({},t,{alignmentBaseline:"middle",className:a}),n)};function f4e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:o}=r;if(!n||!a||!t)return null;var l=eo(r),c=eh(a),u=eh(s),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((m,h)=>{var v=(m.startAngle+m.endAngle)/2,g=ja(m.cx,m.cy,m.outerRadius+d,v),y=Qn(Qn(Qn(Qn({},l),m),{},{stroke:"none"},c),{},{index:h,textAnchor:i4e(g.x,m.cx)},g),x=Qn(Qn(Qn(Qn({},l),m),{},{fill:"none",stroke:m.fill},u),{},{index:h,points:[ja(m.cx,m.cy,m.outerRadius,v),g],key:"line"});return p.createElement(ji,{zIndex:Sa.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(h)},p.createElement(ts,null,s&&u4e(s,x),d4e(a,y,on(m,o))))});return p.createElement(ts,{className:"recharts-pie-labels"},f)}function h4e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?p.createElement(Q3,{label:a}):p.createElement(f4e,{sectors:t,props:r,showLabels:n})}function m4e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:o}=e,l=Dt(Rd),c=Dt(V3),u=Dt(PSe),{onMouseEnter:d,onClick:f,onMouseLeave:m}=a,h=uj(a,Jke),v=iP(d,a.dataKey,o),g=oP(m),y=lP(f,a.dataKey,o);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((x,b)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var _=u==null||u===o,w=String(b)===l&&(c==null||a.dataKey===c)&&_,N=l?n:null,C=r&&w?r:N,j=Qn(Qn({},x),{},{stroke:x.stroke,tabIndex:-1,[wq]:b,[bq]:o});return p.createElement(ts,Id({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},sx(h,x,b),{onMouseEnter:v(x,b),onMouseLeave:g(x,b),onClick:y(x,b)}),p.createElement(sP,Id({option:s??C,index:b,shapeType:"sector",isActive:w},j)))}))}function p4e(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,m=Math.abs(r.minAngle),h=c4e(l,c),v=Math.abs(h),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(C=>on(C,u,0)!==0).length,x=(v>=360?y:y-1)*g,b=v-y*m-x,_=n.reduce((C,j)=>{var A=on(j,u,0);return C+(At(A)?A:0)},0),w;if(_>0){var N;w=n.map((C,j)=>{var A=on(C,u,0),k=on(C,d,j),I=l4e(r,s,C),T=(At(A)?A:0)/_,P,V=Qn(Qn({},C),a&&a[j]&&a[j].props);j?P=N.endAngle+Ja(h)*g*(A!==0?1:0):P=l;var F=P+Ja(h)*((A!==0?m:0)+T*b),Y=(P+F)/2,re=(I.innerRadius+I.outerRadius)/2,U=[{name:k,value:A,payload:V,dataKey:u,type:f,graphicalItemId:r.id}],q=ja(I.cx,I.cy,re,Y);return N=Qn(Qn(Qn(Qn({},r.presentationProps),{},{percent:T,cornerRadius:typeof o=="string"?parseFloat(o):o,name:k,tooltipPayload:U,midAngle:Y,middleRadius:re,tooltipPosition:q},V),I),{},{value:A,dataKey:u,startAngle:P,endAngle:F,payload:V,paddingAngle:Ja(h)*g}),N})}return w}function g4e(e){var{showLabels:t,sectors:r,children:n}=e,a=p.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return p.createElement(ZNe,{value:t?a:void 0},n)}function v4e(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:m}=t,h=fx(t,"recharts-pie-"),v=r.current,[g,y]=p.useState(!1),x=p.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),b=p.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return p.createElement(g4e,{showLabels:!g,sectors:a},p.createElement(dx,{animationId:h,begin:o,duration:l,isActive:s,easing:c,onAnimationStart:b,onAnimationEnd:x,key:h},_=>{var w,N=[],C=a&&a[0],j=(w=C==null?void 0:C.startAngle)!==null&&w!==void 0?w:0;return a==null||a.forEach((A,k)=>{var I=v&&v[k],T=k>0?rh(A,"paddingAngle",0):0;if(I){var P=On(I.endAngle-I.startAngle,A.endAngle-A.startAngle,_),V=Qn(Qn({},A),{},{startAngle:j+T,endAngle:j+P+T});N.push(V),j=V.endAngle}else{var{endAngle:F,startAngle:Y}=A,re=On(0,F-Y,_),U=Qn(Qn({},A),{},{startAngle:j+T,endAngle:j+re+T});N.push(U),j=U.endAngle}}),r.current=N,p.createElement(ts,null,p.createElement(m4e,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),p.createElement(h4e,{showLabels:!g,sectors:a,props:t}),t.children)}var x4e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Sa.area};function y4e(e){var{id:t}=e,r=uj(e,Zke),{hide:n,className:a,rootTabIndex:s}=e,o=p.useMemo(()=>aP(e.children,Sx),[e.children]),l=Dt(d=>gke(d,t,o)),c=p.useRef(null),u=Pr("recharts-pie",a);return n||l==null?(c.current=null,p.createElement(ts,{tabIndex:s,className:u})):p.createElement(ji,{zIndex:e.zIndex},p.createElement(s4e,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),p.createElement(ts,{tabIndex:s,className:u},p.createElement(v4e,{props:Qn(Qn({},r),{},{sectors:l}),previousSectorsRef:c,id:t})))}function TK(e){var t=Ea(e,x4e),{id:r}=t,n=uj(t,Qke),a=eo(n);return p.createElement(uP,{id:r,type:"pie"},s=>p.createElement(p.Fragment,null,p.createElement(Yke,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),p.createElement(a4e,Id({},n,{id:s})),p.createElement(y4e,Id({},n,{id:s}))))}TK.displayName="Pie";var w4e=["points"];function W8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(r),!0).forEach(function(n){b4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b4e(e,t,r){return(t=_4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _4e(e){var t=j4e(e,"string");return typeof t=="symbol"?t:t+""}function j4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(null,arguments)}function S4e(e,t){if(e==null)return{};var r,n,a=N4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function k4e(e){var{option:t,dotProps:r,className:n}=e;if(p.isValidElement(t))return p.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Pr(n,typeof t!="boolean"?t.className:""),s=r??{},{points:o}=s,l=S4e(s,w4e);return p.createElement(xK,Mb({},l,{className:a}))}function E4e(e,t){return e==null?!1:t?!0:e.length===1}function C4e(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:u=Sa.scatter}=e;if(!E4e(t,r))return null;var d=kK(r),f=Ege(r),m=t.map((v,g)=>{var y,x,b=P5(P5(P5({r:3},o),f),{},{index:g,cx:(y=v.x)!==null&&y!==void 0?y:void 0,cy:(x=v.y)!==null&&x!==void 0?x:void 0,dataKey:s,value:v.value,payload:v.payload,points:t});return p.createElement(k4e,{key:"dot-".concat(g),option:r,dotProps:b,className:a})}),h={};return l&&c!=null&&(h.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),p.createElement(ji,{zIndex:u},p.createElement(ts,Mb({className:n},h),m))}function H8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(r),!0).forEach(function(n){A4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A4e(e,t,r){return(t=P4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P4e(e){var t=T4e(e,"string");return typeof t=="symbol"?t:t+""}function T4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OK=0,O4e={xAxis:{},yAxis:{},zAxis:{}},RK=_i({name:"cartesianAxis",initialState:O4e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Tn()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Tn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Tn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Tn()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Tn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Tn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Tn()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Tn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Tn()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s,o=a.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==a.width&&Math.abs(n-((s=o[0])!==null&&s!==void 0?s:0))<=1)return;var l=[...o,n].slice(-3);e.yAxis[r]=q8(q8({},a),{},{width:n,widthHistory:l})}}}}),{addXAxis:R4e,replaceXAxis:I4e,removeXAxis:D4e,addYAxis:L4e,replaceYAxis:M4e,removeYAxis:F4e,addZAxis:ZBe,replaceZAxis:QBe,removeZAxis:eUe,updateYAxisWidth:$4e}=RK.actions,B4e=RK.reducer,U4e=Ie([Ua],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),z4e=Ie([U4e,wu,bu],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),dP=()=>Dt(z4e),W4e=()=>Dt(DSe);function V8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(r),!0).forEach(function(n){H4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H4e(e,t,r){return(t=q4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q4e(e){var t=V4e(e,"string");return typeof t=="symbol"?t:t+""}function V4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G4e=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=T5(T5(T5({},l),eh(a)),pA(a)),u;return p.isValidElement(a)?u=p.cloneElement(a,c):typeof a=="function"?u=a(c):u=p.createElement(xK,c),p.createElement(ts,{className:"recharts-active-dot",clipPath:o},u)};function K4e(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:o=Sa.activeDot}=e,l=Dt(Rd),c=W4e();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return zn(u)?null:p.createElement(ji,{zIndex:o},p.createElement(G4e,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var G8=(e,t,r)=>{var n=r??e;if(!zn(n))return Ls(n,t,0)},Y4e=(e,t,r)=>{var n={},a=e.filter(z_),s=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>{var f=u[d.stackId];return f==null&&(f=[]),f.push(d),u[d.stackId]=f,u},n),l=Object.entries(o).map(u=>{var d,[f,m]=u,h=m.map(g=>g.dataKey),v=G8(t,r,(d=m[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:h,barSize:v}}),c=s.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=G8(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]};function K8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(r),!0).forEach(function(n){X4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X4e(e,t,r){return(t=J4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J4e(e){var t=Z4e(e,"string");return typeof t=="symbol"?t:t+""}function Z4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q4e(e,t,r,n,a){var s,o=n.length;if(!(o<1)){var l=Ls(e,r,0,!0),c,u=[];if(kr((s=n[0])===null||s===void 0?void 0:s.barSize)){var d=!1,f=r/o,m=n.reduce((b,_)=>b+(_.barSize||0),0);m+=(o-1)*l,m>=r&&(m-=(o-1)*l,l=0),m>=r&&f>0&&(d=!0,f*=.9,m=o*f);var h=(r-m)/2>>0,v={offset:h-l,size:0};c=n.reduce((b,_)=>{var w,N={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:v.offset+v.size+l,size:d?f:(w=_.barSize)!==null&&w!==void 0?w:0}},C=[...b,N];return v=N.position,C},u)}else{var g=Ls(t,r,0,!0);r-2*g-(o-1)*l<=0&&(l=0);var y=(r-2*g-(o-1)*l)/o;y>1&&(y>>=0);var x=kr(a)?Math.min(y,a):y;c=n.reduce((b,_,w)=>[...b,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:g+(y+l)*w+(y-x)/2,size:x}}],u)}return c}}var eEe=(e,t,r,n,a,s,o)=>{var l=zn(o)?t:o,c=Q4e(r,n,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(u=>l1(l1({},u),{},{position:l1(l1({},u.position),{},{offset:u.position.offset-a/2})}))),c},tEe=(e,t)=>{var r=y3(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===r)}}}},rEe=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function nEe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&kr(e.zIndex)?e.zIndex:t}var IK=e=>{var{chartData:t}=e,r=yn(),n=Bs();return p.useEffect(()=>n?()=>{}:(r(l8(t)),()=>{r(l8(void 0))}),[t,r,n]),null},Y8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},DK=_i({name:"brush",initialState:Y8,reducers:{setBrushSettings(e,t){return t.payload==null?Y8:t.payload}}}),{setBrushSettings:tUe}=DK.actions,aEe=DK.reducer;function sEe(e){return(e%180+180)%180}var iEe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=sEe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},oEe={dots:[],areas:[],lines:[]},LK=_i({name:"referenceElements",initialState:oEe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=xl(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=xl(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=xl(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:rUe,removeDot:nUe,addArea:aUe,removeArea:sUe,addLine:iUe,removeLine:oUe}=LK.actions,lEe=LK.reducer,cEe=p.createContext(void 0),uEe=e=>{var{children:t}=e,[r]=p.useState("".concat(hv("recharts"),"-clip")),n=dP();if(n==null)return null;var{x:a,y:s,width:o,height:l}=n;return p.createElement(cEe.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:a,y:s,height:l,width:o}))),t)};function MK(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function dEe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return iEe(n,r)}function fEe(e,t,r){var n=r==="width",{x:a,y:s,width:o,height:l}=e;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Ev(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function hEe(e,t){return MK(e,t+1)}function mEe(e,t,r,n,a){for(var s=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:MK(n,u)};var g=c,y,x=()=>(y===void 0&&(y=r(v,g)),y),b=v.coordinate,_=c===0||Ev(e,b,x,d,l);_||(c=0,d=o,u+=1),_&&(d=b+e*(x()/2+a),c+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function pEe(e,t,r,n,a){var s=(n||[]).slice(),o=s.length;if(o===0)return[];for(var{start:l,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,m=!0,h=function(){var w=n[g];if(w==null)return 0;var N=g,C,j=()=>(C===void 0&&(C=r(w,N)),C),A=w.coordinate,k=g===d||Ev(e,A,j,f,c);if(!k)return m=!1,1;k&&(f=A+e*(j()/2+a))},v,g=d;g<o&&(v=h(),!(v!==0&&v===1));g+=u);if(m){for(var y=[],x=d;x<o;x+=u){var b=n[x];b!=null&&y.push(b)}return y}}return[]}function X8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X8(Object(r),!0).forEach(function(n){gEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gEe(e,t,r){return(t=vEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vEe(e){var t=xEe(e,"string");return typeof t=="symbol"?t:t+""}function xEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yEe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,{start:l}=t,{end:c}=t,u=function(m){var h=s[m];if(h==null)return 1;var v=h,g,y=()=>(g===void 0&&(g=r(h,m)),g);if(m===o-1){var x=e*(v.coordinate+e*y()/2-c);s[m]=v=Rs(Rs({},v),{},{tickCoord:x>0?v.coordinate-x*e:v.coordinate})}else s[m]=v=Rs(Rs({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var b=Ev(e,v.tickCoord,y,l,c);b&&(c=v.tickCoord-e*(y()/2+a),s[m]=Rs(Rs({},v),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return s}function wEe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(s){var d=n[l-1];if(d!=null){var f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Rs(Rs({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var h=Ev(e,d.tickCoord,()=>f,c,u);h&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Rs(Rs({},d),{},{isShow:!0}))}}}for(var v=s?l-1:l,g=function(b){var _=o[b];if(_==null)return 1;var w=_,N,C=()=>(N===void 0&&(N=r(_,b)),N);if(b===0){var j=e*(w.coordinate-e*C()/2-c);o[b]=w=Rs(Rs({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else o[b]=w=Rs(Rs({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var A=Ev(e,w.tickCoord,C,c,u);A&&(c=w.tickCoord+e*(C()/2+a),o[b]=Rs(Rs({},w),{},{isShow:!0}))}},y=0;y<v;y++)g(y);return o}function fP(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(At(c)||T_.isSsr){var m;return(m=hEe(a,At(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],v=l==="top"||l==="bottom"?"width":"height",g=d&&v==="width"?kg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(N,C)=>{var j=typeof u=="function"?u(N.value,C):N.value;return v==="width"?dEe(kg(j,{fontSize:t,letterSpacing:r}),g,f):kg(j,{fontSize:t,letterSpacing:r})[v]},x=a[0],b=a[1],_=a.length>=2&&x!=null&&b!=null?Ja(b.coordinate-x.coordinate):1,w=fEe(s,_,v);return c==="equidistantPreserveStart"?mEe(_,w,y,a,o):c==="equidistantPreserveEnd"?pEe(_,w,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=wEe(_,w,y,a,o,c==="preserveStartEnd"):h=yEe(_,w,y,a,o),h.filter(N=>N.isShow))}var bEe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+s,u=o+c+l+(r?n:0);return Math.round(u)}return 0},_Ee=["axisLine","width","height","className","hide","ticks","axisType"];function jEe(e,t){if(e==null)return{};var r,n,a=SEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(null,arguments)}function J8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J8(Object(r),!0).forEach(function(n){NEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NEe(e,t,r){return(t=kEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kEe(e){var t=EEe(e,"string");return typeof t=="symbol"?t:t+""}function EEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Sa.axis};function CEe(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Xn(Xn(Xn({},c),eo(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!o||s==="bottom"&&o);u=Xn(Xn({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!o||s==="right"&&o);u=Xn(Xn({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return p.createElement("line",lh({},u,{className:Pr("recharts-cartesian-axis-line",rh(l,"className"))}))}function AEe(e,t,r,n,a,s,o,l,c){var u,d,f,m,h,v,g=l?-1:1,y=e.tickSize||o,x=At(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,m=r+ +!l*a,f=m-g*y,v=f-g*c,h=x;break;case"left":f=m=e.coordinate,d=t+ +!l*n,u=d-g*y,h=u-g*c,v=x;break;case"right":f=m=e.coordinate,d=t+ +l*n,u=d+g*y,h=u+g*c,v=x;break;default:u=d=e.coordinate,m=r+ +l*a,f=m+g*y,v=f+g*c,h=x;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:h,y:v}}}function PEe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function TEe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function OEe(e){var{option:t,tickProps:r,value:n}=e,a,s=Pr(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,Xn(Xn({},r),{},{className:s}));else if(typeof t=="function")a=t(Xn(Xn({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Pr(o,_K(t))),a=p.createElement(J_,lh({},r,{className:o}),n)}return a}var REe=p.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:m,y:h,width:v,height:g,tickSize:y,tickMargin:x,fontSize:b,letterSpacing:_,getTicksConfig:w,events:N,axisType:C}=e,j=fP(Xn(Xn({},w),{},{ticks:r}),b,_),A=PEe(d,f),k=TEe(d,f),I=eo(w),T=eh(n),P={};typeof a=="object"&&(P=a);var V=Xn(Xn({},I),{},{fill:"none"},P),F=j.map(U=>Xn({entry:U},AEe(U,m,h,v,g,d,y,f,x))),Y=F.map(U=>{var{entry:q,line:X}=U;return p.createElement(ts,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},a&&p.createElement("line",lh({},V,X,{className:Pr("recharts-cartesian-axis-tick-line",rh(a,"className"))})))}),re=F.map((U,q)=>{var X,pe,{entry:xe,tick:D}=U,M=Xn(Xn(Xn(Xn({verticalAnchor:k},I),{},{textAnchor:A,stroke:"none",fill:s},D),{},{index:q,payload:xe,visibleTicksCount:j.length,tickFormatter:o,padding:c},u),{},{angle:(X=(pe=u==null?void 0:u.angle)!==null&&pe!==void 0?pe:I.angle)!==null&&X!==void 0?X:0}),R=Xn(Xn({},M),T);return p.createElement(ts,lh({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(xe.value,"-").concat(xe.coordinate,"-").concat(xe.tickCoord)},sx(N,xe,q)),n&&p.createElement(OEe,{option:n,tickProps:R,value:"".concat(typeof o=="function"?o(xe.value,q):xe.value).concat(l||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},re.length>0&&p.createElement(ji,{zIndex:Sa.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:t},re)),Y.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},Y))}),IEe=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:o,ticks:l,axisType:c}=e,u=jEe(e,_Ee),[d,f]=p.useState(""),[m,h]=p.useState(""),v=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return bEe({ticks:v.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=p.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=x;var b=x[0];if(b){var _=window.getComputedStyle(b),w=_.fontSize,N=_.letterSpacing;(w!==d||N!==m)&&(f(w),h(N))}}},[d,m]);return o||n!=null&&n<=0||a!=null&&a<=0?null:p.createElement(ji,{zIndex:e.zIndex},p.createElement(ts,{className:Pr("recharts-cartesian-axis",s)},p.createElement(CEe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:eo(e)}),p.createElement(REe,{ref:g,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(DNe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(qNe,{label:e.label,labelRef:e.labelRef}),e.children)))}),hP=p.forwardRef((e,t)=>{var r=Ea(e,Xc);return p.createElement(IEe,lh({},r,{ref:t}))});hP.displayName="CartesianAxis";var DEe=["x1","y1","x2","y2","key"],LEe=["offset"],MEe=["xAxisId","yAxisId"],FEe=["xAxisId","yAxisId"];function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(n){$Ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ee(e,t,r){return(t=BEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BEe(e){var t=UEe(e,"string");return typeof t=="symbol"?t:t+""}function UEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(null,arguments)}function Fb(e,t){if(e==null)return{};var r,n,a=zEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WEe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function FK(e){var{option:t,lineItemProps:r}=e,n;if(p.isValidElement(t))n=p.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:o,x2:l,y2:c,key:u}=r,d=Fb(r,DEe),f=(a=eo(d))!==null&&a!==void 0?a:{},{offset:m}=f,h=Fb(f,LEe);n=p.createElement("line",If({},h,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:u}))}return n}function HEe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Fb(e,MEe),c=a.map((u,d)=>{var f=Ds(Ds({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return p.createElement(FK,{key:"line-".concat(d),option:n,lineItemProps:f})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function qEe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Fb(e,FEe),c=a.map((u,d)=>{var f=Ds(Ds({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return p.createElement(FK,{option:n,lineItemProps:f,key:"line-".concat(d)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function VEe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=u[m+1],v=h==null,g=v?a+o-f:h-f;if(g<=0)return null;var y=m%t.length;return p.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:g,width:s,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function GEe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=u[m+1],v=h==null,g=v?a+o-f:h-f;if(g<=0)return null;var y=m%r.length;return p.createElement("rect",{key:"react-".concat(m),x:f,y:s,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var KEe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return vq(fP(Ds(Ds(Ds({},Xc),r),{},{ticks:xq(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},YEe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return vq(fP(Ds(Ds(Ds({},Xc),r),{},{ticks:xq(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},XEe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Sa.grid};function T4(e){var t=LA(),r=MA(),n=Cq(),a=Ds(Ds({},Ea(e,XEe)),{},{x:At(e.x)?e.x:n.left,y:At(e.y)?e.y:n.top,width:At(e.width)?e.width:n.width,height:At(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:h}=a,v=Bs(),g=Dt(k=>JD(k,"xAxis",s,v)),y=Dt(k=>JD(k,"yAxis",o,v));if(!cc(u)||!cc(d)||!At(l)||!At(c))return null;var x=a.verticalCoordinatesGenerator||KEe,b=a.horizontalCoordinatesGenerator||YEe,{horizontalPoints:_,verticalPoints:w}=a;if((!_||!_.length)&&typeof b=="function"){var N=m&&m.length,C=b({yAxis:y?Ds(Ds({},y),{},{ticks:N?m:y.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);ub(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(_=C)}if((!w||!w.length)&&typeof x=="function"){var j=h&&h.length,A=x({xAxis:g?Ds(Ds({},g),{},{ticks:j?h:g.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);ub(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(w=A)}return p.createElement(ji,{zIndex:a.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(WEe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(VEe,If({},a,{horizontalPoints:_})),p.createElement(GEe,If({},a,{verticalPoints:w})),p.createElement(HEe,If({},a,{offset:n,horizontalPoints:_,xAxis:g,yAxis:y})),p.createElement(qEe,If({},a,{offset:n,verticalPoints:w,xAxis:g,yAxis:y}))))}T4.displayName="CartesianGrid";var JEe={},$K=_i({name:"errorBars",initialState:JEe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:lUe,replaceErrorBar:cUe,removeErrorBar:uUe}=$K.actions,ZEe=$K.reducer,QEe=["children"];function eCe(e,t){if(e==null)return{};var r,n,a=tCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rCe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},nCe=p.createContext(rCe);function BK(e){var{children:t}=e,r=eCe(e,QEe);return p.createElement(nCe.Provider,{value:r},t)}function mP(e,t){var r,n,a=Dt(u=>Su(u,e)),s=Dt(u=>Nu(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:qa.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Va.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function UK(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=dP(),{needClipX:s,needClipY:o,needClip:l}=mP(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:s?c:c-d/2,y:o?u:u-f/2,width:s?d:d*2,height:o?f:f*2}))}var zK=(e,t,r,n)=>Od(e,"xAxis",t,n),WK=(e,t,r,n)=>Td(e,"xAxis",t,n),HK=(e,t,r,n)=>Od(e,"yAxis",r,n),qK=(e,t,r,n)=>Td(e,"yAxis",r,n),aCe=Ie([Fr,zK,HK,WK,qK],(e,t,r,n,a)=>yu(e,"xAxis")?wp(t,n,!1):wp(r,a,!1)),sCe=(e,t,r,n,a)=>a;function iCe(e){return e.type==="line"}var oCe=Ie([q_,sCe],(e,t)=>e.filter(iCe).find(r=>r.id===t)),lCe=Ie([Fr,zK,HK,WK,qK,oCe,aCe,u3],(e,t,r,n,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:m}=s,h;if(m!=null&&m.length>0?h=m:h=c==null?void 0:c.slice(u,d+1),h!=null)return QCe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:h})}});function cCe(e){var t=eh(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,o=Number(a),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var uCe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx=p;function dCe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fCe=typeof Object.is=="function"?Object.is:dCe,hCe=Nx.useSyncExternalStore,mCe=Nx.useRef,pCe=Nx.useEffect,gCe=Nx.useMemo,vCe=Nx.useDebugValue;uCe.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=mCe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=gCe(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var v=o.value;if(a(v,h))return f=v}return f=h}if(v=f,fCe(d,h))return v;var g=n(h);return a!==void 0&&a(v,g)?(d=h,v):(d=h,f=g)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=hCe(e,s[0],s[1]);return pCe(function(){o.hasValue=!0,o.value=l},[l]),vCe(l),l};function xCe(e){e()}function yCe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xCe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Q8={notify(){},get:()=>[]};function wCe(e,t){let r,n=Q8,a=0,s=!1;function o(g){d();const y=n.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function l(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(c),n=yCe())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=Q8)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return v}var bCe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_Ce=bCe(),jCe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",SCe=jCe(),NCe=()=>_Ce||SCe?p.useLayoutEffect:p.useEffect,kCe=NCe();function eL(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ECe(e,t){if(eL(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!eL(e[r[a]],t[r[a]]))return!1;return!0}var O5=Symbol.for("react-redux-context"),R5=typeof globalThis<"u"?globalThis:{};function CCe(){if(!p.createContext)return{};const e=R5[O5]??(R5[O5]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var ACe=CCe();function PCe(e){const{children:t,context:r,serverState:n,store:a}=e,s=p.useMemo(()=>{const c=wCe(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=p.useMemo(()=>a.getState(),[a]);kCe(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=r||ACe;return p.createElement(l.Provider,{value:s},t)}var TCe=PCe,OCe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function RCe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function dj(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(OCe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!ECe(e[n],t[n]))return!1}else if(!RCe(e[n],t[n]))return!1;return!0}var ICe=["id"],DCe=["type","layout","connectNulls","needClip","shape"],LCe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(null,arguments)}function tL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(r),!0).forEach(function(n){MCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MCe(e,t,r){return(t=FCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FCe(e){var t=$Ce(e,"string");return typeof t=="symbol"?t:t+""}function $Ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pP(e,t){if(e==null)return{};var r,n,a=BCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UCe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:qp(r,t),payload:e}]},zCe=p.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:o,hide:l,unit:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r,getPosition:_h,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:qp(o,t),hide:l,type:u,color:n,unit:c,graphicalItemId:d}};return p.createElement(cP,{tooltipEntrySettings:f})}),VK=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function WCe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var HCe=(e,t,r)=>{var n=r.reduce((h,v)=>h+v);if(!n)return VK(t,e);for(var a=Math.floor(e/n),s=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=(d=r[c])!==null&&d!==void 0?d:0,++c){var d,f=r[c];if(f!=null&&u+f>s){l=[...r.slice(0,c),s-u];break}}var m=l.length%2===0?[0,o]:[o];return[...WCe(r,a),...l,...m].map(h=>"".concat(h,"px")).join(", ")};function qCe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:o}=n,{id:l}=n,c=pP(n,ICe),u=eo(c);return p.createElement(C4e,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:o,clipPathId:t})}function VCe(e){var{showLabels:t,children:r,points:n}=e,a=p.useMemo(()=>n==null?void 0:n.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Kl(Kl({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return p.createElement(gK,{value:t?a:void 0},r)}function rL(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:u,shape:d}=s,f=pP(s,DCe),m=Kl(Kl({},ni(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return p.createElement(p.Fragment,null,(n==null?void 0:n.length)>1&&p.createElement(sP,Cv({shapeType:"curve",option:d},m,{pathRef:r})),p.createElement(qCe,{points:n,clipPathId:t,props:s}))}function GCe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function KCe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:m,width:h,height:v,onAnimationEnd:g,onAnimationStart:y}=r,x=a.current,b=fx(o,"recharts-line-"),_=p.useRef(b),[w,N]=p.useState(!1),C=!w,j=p.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),A=p.useCallback(()=>{typeof y=="function"&&y(),N(!0)},[y]),k=GCe(n.current),I=p.useRef(0);_.current!==b&&(I.current=s.current,_.current=b);var T=I.current;return p.createElement(VCe,{points:o,showLabels:C},r.children,p.createElement(dx,{animationId:b,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:j,onAnimationStart:A,key:b},P=>{var V=On(T,k+T,P),F=Math.min(V,k),Y;if(c)if(l){var re="".concat(l).split(/[,\s]+/gim).map(X=>parseFloat(X));Y=HCe(F,k,re)}else Y=VK(k,F);else Y=l==null?void 0:String(l);if(P>0&&k>0&&(a.current=o,s.current=Math.max(s.current,F)),x){var U=x.length/o.length,q=P===1?o:o.map((X,pe)=>{var xe=Math.floor(pe*U);if(x[xe]){var D=x[xe];return Kl(Kl({},X),{},{x:On(D.x,X.x,P),y:On(D.y,X.y,P)})}return m?Kl(Kl({},X),{},{x:On(h*2,X.x,P),y:On(v/2,X.y,P)}):Kl(Kl({},X),{},{x:X.x,y:X.y})});return a.current=q,p.createElement(rL,{props:r,points:q,clipPathId:t,pathRef:n,strokeDasharray:Y})}return p.createElement(rL,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:Y})}),p.createElement(Q3,{label:r.label}))}function YCe(e){var{clipPathId:t,props:r}=e,n=p.useRef(null),a=p.useRef(0),s=p.useRef(null);return p.createElement(KCe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var XCe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:on(e.payload,t)}};class JCe extends p.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:d,id:f,needClip:m,zIndex:h}=this.props;if(t)return null;var v=Pr("recharts-line",a),g=f,{r:y,strokeWidth:x}=cCe(r),b=kK(r),_=y*2+x,w=m?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return p.createElement(ji,{zIndex:h},p.createElement(ts,{className:v},m&&p.createElement("defs",null,p.createElement(UK,{clipPathId:g,xAxisId:s,yAxisId:o}),!b&&p.createElement("clipPath",{id:"clipPath-dots-".concat(g)},p.createElement("rect",{x:c-_/2,y:l-_/2,width:u+_,height:d+_}))),p.createElement(BK,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:XCe,errorBarOffset:0},p.createElement(YCe,{props:this.props,clipPathId:g}))),p.createElement(K4e,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:w}))}}var GK={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Sa.line,type:"linear"};function ZCe(e){var t=Ea(e,GK),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:m,xAxisId:h,yAxisId:v,id:g}=t,y=pP(t,LCe),{needClip:x}=mP(h,v),b=dP(),_=jh(),w=Bs(),N=Dt(I=>lCe(I,h,v,w,g));if(_!=="horizontal"&&_!=="vertical"||N==null||b==null)return null;var{height:C,width:j,x:A,y:k}=b;return p.createElement(JCe,Cv({},y,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:m,xAxisId:h,yAxisId:v,points:N,layout:_,height:C,width:j,left:A,top:k,needClip:x}))}function QCe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=on(u,o);if(t==="horizontal"){var m=rI({axis:r,ticks:a,bandSize:l,entry:u,index:d}),h=zn(f)?null:n.scale.map(f);return{x:m,y:h??null,value:f,payload:u}}var v=zn(f)?null:r.scale.map(f),g=rI({axis:n,ticks:s,bandSize:l,entry:u,index:d});return v==null||g==null?null:{x:v,y:g,value:f,payload:u}}).filter(Boolean)}function eAe(e){var t=Ea(e,GK),r=Bs();return p.createElement(uP,{id:t.id,type:"line"},n=>p.createElement(p.Fragment,null,p.createElement(CK,{legendPayload:UCe(t)}),p.createElement(zCe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),p.createElement(PK,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),p.createElement(ZCe,Cv({},t,{id:n}))))}var O4=p.memo(eAe,dj);O4.displayName="Line";function kh(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:OK}function Eh(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:OK}var tAe="Invariant failed";function rAe(e,t){throw new Error(tAe)}function R4(){return R4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R4.apply(null,arguments)}function $b(e){return p.createElement(sP,R4({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var nAe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(At(t))return t;var s=At(n)||zn(n);return s?t(n,a):(s||rAe(),r)}},aAe=(e,t,r)=>r,sAe=(e,t)=>t,kx=Ie([q_,sAe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),iAe=Ie([kx],e=>e==null?void 0:e.maxBarSize),oAe=(e,t,r,n)=>n,lAe=Ie([Fr,q_,kh,Eh,aAe],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),cAe=(e,t,r)=>{var n=Fr(e),a=kh(e,t),s=Eh(e,t);if(!(a==null||s==null))return n==="horizontal"?S4(e,"yAxis",s,r):S4(e,"xAxis",a,r)},uAe=(e,t)=>{var r=Fr(e),n=kh(e,t),a=Eh(e,t);if(!(n==null||a==null))return r==="horizontal"?XD(e,"xAxis",n):XD(e,"yAxis",a)},dAe=Ie([lAe,P_e,uAe],Y4e),fAe=(e,t,r)=>{var n,a,s=kx(e,t);if(s==null)return 0;var o=kh(e,t),l=Eh(e,t);if(o==null||l==null)return 0;var c=Fr(e),u=qV(e),{maxBarSize:d}=s,f=zn(d)?u:d,m,h;return c==="horizontal"?(m=Od(e,"xAxis",o,r),h=Td(e,"xAxis",o,r)):(m=Od(e,"yAxis",l,r),h=Td(e,"yAxis",l,r)),(n=(a=wp(m,h,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0},KK=(e,t,r)=>{var n=Fr(e),a=kh(e,t),s=Eh(e,t);if(!(a==null||s==null)){var o,l;return n==="horizontal"?(o=Od(e,"xAxis",a,r),l=Td(e,"xAxis",a,r)):(o=Od(e,"yAxis",s,r),l=Td(e,"yAxis",s,r)),wp(o,l)}},hAe=Ie([dAe,qV,A_e,VV,fAe,KK,iAe],eEe),mAe=(e,t,r)=>{var n=kh(e,t);if(n!=null)return Od(e,"xAxis",n,r)},pAe=(e,t,r)=>{var n=Eh(e,t);if(n!=null)return Od(e,"yAxis",n,r)},gAe=(e,t,r)=>{var n=kh(e,t);if(n!=null)return Td(e,"xAxis",n,r)},vAe=(e,t,r)=>{var n=Eh(e,t);if(n!=null)return Td(e,"yAxis",n,r)},xAe=Ie([hAe,kx],rEe),yAe=Ie([cAe,kx],tEe),wAe=Ie([Ua,RA,mAe,pAe,gAe,vAe,xAe,Fr,b_e,KK,yAe,kx,oAe],(e,t,r,n,a,s,o,l,c,u,d,f,m)=>{var{chartData:h,dataStartIndex:v,dataEndIndex:g}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||u==null)){var{data:y}=f,x;if(y!=null&&y.length>0?x=y:x=h==null?void 0:h.slice(v,g+1),x!=null)return KAe({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:x,offset:e,cells:m,dataStartIndex:v})}}),bAe=["index"];function I4(){return I4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I4.apply(null,arguments)}function _Ae(e,t){if(e==null)return{};var r,n,a=jAe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YK=p.createContext(void 0),SAe=e=>{var t=p.useContext(YK);if(t!=null)return t.stackId;if(e!=null)return jye(e)},NAe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),kAe=e=>{var t=p.useContext(YK);if(t!=null){var{stackId:r}=t;return"url(#".concat(NAe(r,e),")")}},XK=e=>{var{index:t}=e,r=_Ae(e,bAe),n=kAe(t);return p.createElement(ts,I4({className:"recharts-bar-stack-layer",clipPath:n},r))},EAe=["onMouseEnter","onMouseLeave","onClick"],CAe=["value","background","tooltipPosition"],AAe=["id"],PAe=["onMouseEnter","onClick","onMouseLeave"];function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu.apply(null,arguments)}function nL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nL(Object(r),!0).forEach(function(n){TAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TAe(e,t,r){return(t=OAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OAe(e){var t=RAe(e,"string");return typeof t=="symbol"?t:t+""}function RAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bb(e,t){if(e==null)return{};var r,n,a=IAe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DAe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:qp(r,t),payload:e}]},LAe=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:_h,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:qp(s,t),hide:o,type:c,color:a,unit:l,graphicalItemId:u}};return p.createElement(cP,{tooltipEntrySettings:d})});function MAe(e){var t=Dt(Rd),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=Bb(s,EAe),d=iP(o,n,s.id),f=oP(l),m=lP(c,n,s.id);if(!a||r==null)return null;var h=eh(a);return p.createElement(ji,{zIndex:nEe(a,Sa.barBackground)},r.map((v,g)=>{var{value:y,background:x,tooltipPosition:b}=v,_=Bb(v,CAe);if(!x)return null;var w=d(v,g),N=f(v,g),C=m(v,g),j=Ks(Ks(Ks(Ks(Ks({option:a,isActive:String(g)===t},_),{},{fill:"#eee"},x),h),sx(u,v,g)),{},{onMouseEnter:w,onMouseLeave:N,onClick:C,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return p.createElement($b,fu({key:"background-bar-".concat(g)},j))}))}function FAe(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Ks(Ks({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return p.createElement(gK,{value:t?a:void 0},r)}function $Ae(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:o}=e,l=Dt(Rd),c=Dt(V3),u=r&&String(s)===l&&(c==null||o===c),d=u?r:t;return u?p.createElement(ji,{zIndex:Sa.activeBar},p.createElement(XK,{index:s},p.createElement($b,fu({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:o})))):p.createElement($b,fu({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:o}))}function BAe(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return p.createElement($b,fu({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function UAe(e){var t,{data:r,props:n}=e,a=(t=eo(n))!==null&&t!==void 0?t:{},{id:s}=a,o=Bb(a,AAe),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:m}=n,h=Bb(n,PAe),v=iP(d,c,s),g=oP(m),y=lP(f,c,s);return r?p.createElement(p.Fragment,null,r.map((x,b)=>p.createElement(XK,fu({index:b,key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(b),className:"recharts-bar-rectangle"},sx(h,x,b),{onMouseEnter:v(x,b),onMouseLeave:g(x,b),onClick:y(x,b)}),u?p.createElement($Ae,{shape:l,activeBar:u,baseProps:o,entry:x,index:b,dataKey:c}):p.createElement(BAe,{shape:l,baseProps:o,entry:x,index:b,dataKey:c})))):null}function zAe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=fx(t,"recharts-bar-"),[h,v]=p.useState(!1),g=!h,y=p.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),x=p.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return p.createElement(FAe,{showLabels:g,rects:n},p.createElement(dx,{animationId:m,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:y,onAnimationStart:x,key:m},b=>{var _=b===1?n:n==null?void 0:n.map((w,N)=>{var C=f&&f[N];if(C)return Ks(Ks({},w),{},{x:On(C.x,w.x,b),y:On(C.y,w.y,b),width:On(C.width,w.width,b),height:On(C.height,w.height,b)});if(a==="horizontal"){var j=On(0,w.height,b),A=On(w.stackedBarStart,w.y,b);return Ks(Ks({},w),{},{y:A,height:j})}var k=On(0,w.width,b),I=On(w.stackedBarStart,w.x,b);return Ks(Ks({},w),{},{width:k,x:I})});return b>0&&(r.current=_??null),_==null?null:p.createElement(ts,null,p.createElement(UAe,{props:t,data:_}))}),p.createElement(Q3,{label:t.label}),t.children)}function WAe(e){var t=p.useRef(null);return p.createElement(zAe,{previousRectanglesRef:t,props:e})}var JK=0,HAe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:on(e,t)}};class qAe extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Pr("recharts-bar",a),f=u;return p.createElement(ts,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(UK,{clipPathId:f,xAxisId:s,yAxisId:o})),p.createElement(ts,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(MAe,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(WAe,this.props)))}}var VAe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:JK,xAxisId:0,yAxisId:0,zIndex:Sa.bar};function GAe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=mP(t,r),m=jh(),h=Bs(),v=aP(e.children,Sx),g=Dt(b=>wAe(b,e.id,h,v));if(m!=="vertical"&&m!=="horizontal")return null;var y,x=g==null?void 0:g[0];return x==null||x.height==null||x.width==null?y=0:y=m==="vertical"?x.height/2:x.width/2,p.createElement(BK,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:HAe,errorBarOffset:y},p.createElement(qAe,fu({},e,{layout:m,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function KAe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:h,parentViewBox:v,dataStartIndex:g}=e,y=t==="horizontal"?l:o,x=d?y.scale.domain():null,b=Sye({numericAxis:y}),_=y.scale.map(b);return f.map((w,N)=>{var C,j,A,k,I,T;if(d){var P=d[N+g];if(P==null)return null;C=xye(P,x)}else C=on(w,r),Array.isArray(C)||(C=[b,C]);var V=nAe(n,JK)(C[1],N);if(t==="horizontal"){var F,Y=l.scale.map(C[0]),re=l.scale.map(C[1]);if(Y==null||re==null)return null;j=nI({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:w,index:N}),A=(F=re??Y)!==null&&F!==void 0?F:void 0,k=a.size;var U=Y-re;if(I=oc(U)?0:U,T={x:j,y:m.top,width:k,height:m.height},Math.abs(V)>0&&Math.abs(I)<Math.abs(V)){var q=Ja(I||V)*(Math.abs(V)-Math.abs(I));A-=q,I+=q}}else{var X=o.scale.map(C[0]),pe=o.scale.map(C[1]);if(X==null||pe==null)return null;if(j=X,A=nI({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:w,index:N}),k=pe-X,I=a.size,T={x:m.left,y:A,width:m.width,height:I},Math.abs(V)>0&&Math.abs(k)<Math.abs(V)){var xe=Ja(k||V)*(Math.abs(V)-Math.abs(k));k+=xe}}if(j==null||A==null||k==null||I==null)return null;var D=Ks(Ks({},w),{},{stackedBarStart:_,x:j,y:A,width:k,height:I,value:d?C:C[1],payload:w,background:T,tooltipPosition:{x:j+k/2,y:A+I/2},parentViewBox:v},h&&h[N]&&h[N].props);return D}).filter(Boolean)}function YAe(e){var t=Ea(e,VAe),r=SAe(t.stackId),n=Bs();return p.createElement(uP,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(CK,{legendPayload:DAe(t)}),p.createElement(LAe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),p.createElement(PK,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(ji,{zIndex:t.zIndex},p.createElement(GAe,fu({},t,{id:a})))))}var D4=p.memo(YAe,dj);D4.displayName="Bar";var XAe=["domain","range"],JAe=["domain","range"];function aL(e,t){if(e==null)return{};var r,n,a=ZAe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sL(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function ZK(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=aL(e,XAe),{domain:s,range:o}=t,l=aL(t,JAe);return!sL(r,s)||!sL(n,o)?!1:dj(a,l)}var QAe=["type"],e3e=["dangerouslySetInnerHTML","ticks","scale"],t3e=["id","scale"];function L4(){return L4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L4.apply(null,arguments)}function iL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iL(Object(r),!0).forEach(function(n){r3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r3e(e,t,r){return(t=n3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3e(e){var t=a3e(e,"string");return typeof t=="symbol"?t:t+""}function a3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M4(e,t){if(e==null)return{};var r,n,a=s3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i3e(e){var t=yn(),r=p.useRef(null),n=Aq(),{type:a}=e,s=M4(e,QAe),o=B_(n,"xAxis",a),l=p.useMemo(()=>{if(o!=null)return oL(oL({},s),{},{type:o})},[s,o]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(R4e(l)):r.current!==l&&t(I4e({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(D4e(r.current)),r.current=null)},[t]),null}var o3e=e=>{var{xAxisId:t,className:r}=e,n=Dt(RA),a=Bs(),s="xAxis",o=Dt(x=>NG(x,s,t,a)),l=Dt(x=>bG(x,t)),c=Dt(x=>Pje(x,t)),u=Dt(x=>rG(x,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:m}=e,h=M4(e,e3e),{id:v,scale:g}=u,y=M4(u,t3e);return p.createElement(hP,L4({},h,y,{x:c.x,y:c.y,width:l.width,height:l.height,className:Pr("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},l3e={allowDataOverflow:qa.allowDataOverflow,allowDecimals:qa.allowDecimals,allowDuplicatedCategory:qa.allowDuplicatedCategory,angle:qa.angle,axisLine:Xc.axisLine,height:qa.height,hide:!1,includeHidden:qa.includeHidden,interval:qa.interval,label:!1,minTickGap:qa.minTickGap,mirror:qa.mirror,orientation:qa.orientation,padding:qa.padding,reversed:qa.reversed,scale:qa.scale,tick:qa.tick,tickCount:qa.tickCount,tickLine:Xc.tickLine,tickSize:Xc.tickSize,type:qa.type,xAxisId:0},c3e=e=>{var t=Ea(e,l3e);return p.createElement(p.Fragment,null,p.createElement(i3e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(o3e,t))},F4=p.memo(c3e,ZK);F4.displayName="XAxis";var u3e=["type"],d3e=["dangerouslySetInnerHTML","ticks","scale"],f3e=["id","scale"];function $4(){return $4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$4.apply(null,arguments)}function lL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(r),!0).forEach(function(n){h3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h3e(e,t,r){return(t=m3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m3e(e){var t=p3e(e,"string");return typeof t=="symbol"?t:t+""}function p3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B4(e,t){if(e==null)return{};var r,n,a=g3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function v3e(e){var t=yn(),r=p.useRef(null),n=Aq(),{type:a}=e,s=B4(e,u3e),o=B_(n,"yAxis",a),l=p.useMemo(()=>{if(o!=null)return cL(cL({},s),{},{type:o})},[o,s]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(L4e(l)):r.current!==l&&t(M4e({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(F4e(r.current)),r.current=null)},[t]),null}function x3e(e){var{yAxisId:t,className:r,width:n,label:a}=e,s=p.useRef(null),o=p.useRef(null),l=Dt(RA),c=Bs(),u=yn(),d="yAxis",f=Dt(C=>_G(C,t)),m=Dt(C=>Oje(C,t)),h=Dt(C=>NG(C,d,t,c)),v=Dt(C=>nG(C,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!f||Z3(a)||p.isValidElement(a)||v==null)){var C=s.current;if(C){var j=C.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&u($4e({id:t,width:j}))}}},[h,f,u,a,t,n,v]),f==null||m==null||v==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:x}=e,b=B4(e,d3e),{id:_,scale:w}=v,N=B4(v,f3e);return p.createElement(hP,$4({},b,N,{ref:s,labelRef:o,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Pr("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:h,axisType:d}))}var y3e={allowDataOverflow:Va.allowDataOverflow,allowDecimals:Va.allowDecimals,allowDuplicatedCategory:Va.allowDuplicatedCategory,angle:Va.angle,axisLine:Xc.axisLine,hide:!1,includeHidden:Va.includeHidden,interval:Va.interval,label:!1,minTickGap:Va.minTickGap,mirror:Va.mirror,orientation:Va.orientation,padding:Va.padding,reversed:Va.reversed,scale:Va.scale,tick:Va.tick,tickCount:Va.tickCount,tickLine:Xc.tickLine,tickSize:Xc.tickSize,type:Va.type,width:Va.width,yAxisId:0},w3e=e=>{var t=Ea(e,y3e);return p.createElement(p.Fragment,null,p.createElement(v3e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(x3e,t))},U4=p.memo(w3e,ZK);U4.displayName="YAxis";var b3e=(e,t)=>t,gP=Ie([b3e,Fr,QV,as,zG,ku,KSe,Ua],t5e),vP=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},QK=To("mouseClick"),eY=ox();eY.startListening({actionCreator:QK,effect:(e,t)=>{var r=e.payload,n=gP(t.getState(),vP(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Vje({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var z4=To("mouseMove"),tY=ox(),c1=null;tY.startListening({actionCreator:z4,effect:(e,t)=>{var r=e.payload;c1!==null&&cancelAnimationFrame(c1);var n=vP(r);c1=requestAnimationFrame(()=>{var a=t.getState(),s=B3(a,a.tooltip.settings.shared);if(s==="axis"){var o=gP(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(RG({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(OG())}c1=null})}});function _3e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var uL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rY=_i({name:"rootProps",initialState:uL,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:uL.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),j3e=rY.reducer,{updateOptions:S3e}=rY.actions,N3e=null,k3e={updatePolarOptions:(e,t)=>t.payload},nY=_i({name:"polarOptions",initialState:N3e,reducers:k3e}),{updatePolarOptions:E3e}=nY.actions,C3e=nY.reducer,aY=To("keyDown"),sY=To("focus"),xP=ox();xP.startListening({actionCreator:aY,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=U3(a,e0(r),wx(r),_x(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=ku(r);if(s==="Enter"){var u=Rb(r,"axis","hover",String(a.index));t.dispatch(k4({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=Lje(r),f=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,h=l+m*f;if(!(c==null||h>=c.length||h<0)){var v=Rb(r,"axis","hover",String(h));t.dispatch(k4({active:!0,activeIndex:h.toString(),activeCoordinate:v}))}}}}}});xP.startListening({actionCreator:sY,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",o=Rb(r,"axis","hover",String(s));t.dispatch(k4({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var go=To("externalEvent"),iY=ox(),I5=new Map;iY.startListening({actionCreator:go,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=I5.get(a);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:OSe(l),activeDataKey:V3(l),activeIndex:Rd(l),activeLabel:qG(l),activeTooltipIndex:Rd(l),isTooltipActive:RSe(l)};r(c,n)}finally{I5.delete(a)}});I5.set(a,o)}}});var A3e=Ie([Zp],e=>e.tooltipItemPayloads),P3e=Ie([A3e,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),oY=To("touchMove"),lY=ox();lY.startListening({actionCreator:oY,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=B3(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var o=gP(n,vP({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(RG({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(wq),f=(l=u.getAttribute(bq))!==null&&l!==void 0?l:void 0,m=Qp(n).find(g=>g.id===f);if(d==null||m==null||f==null)return;var{dataKey:h}=m,v=P3e(n,d,f);t.dispatch(TG({activeDataKey:h,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var T3e=zH({brush:aEe,cartesianAxis:B4e,chartData:T5e,errorBars:ZEe,graphicalItems:Gke,layout:hye,legend:g1e,options:k5e,polarAxis:cke,polarOptions:C3e,referenceElements:lEe,rootProps:j3e,tooltip:Gje,zIndex:p5e}),O3e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Fxe({reducer:T3e,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([eY.middleware,tY.middleware,xP.middleware,iY.middleware,lY.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(nq({type:"raf"}))},devTools:{serialize:{replacer:_3e},name:"recharts-".concat(r)}})};function cY(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Bs(),s=p.useRef(null);if(a)return r;s.current==null&&(s.current=O3e(t,n));var o=SA;return p.createElement(TCe,{context:o,store:s.current},r)}function R3e(e){var{layout:t,margin:r}=e,n=yn(),a=Bs();return p.useEffect(()=>{a||(n(uye(t)),n(cye(r)))},[n,a,t,r]),null}var uY=p.memo(R3e,dj);function dY(e){var t=yn();return p.useEffect(()=>{t(S3e(e))},[t,e]),null}function dL(e){var{zIndex:t,isPanorama:r}=e,n=p.useRef(null),a=yn();return p.useLayoutEffect(()=>(n.current&&a(h5e({zIndex:t,element:n.current,isPanorama:r})),()=>{a(m5e({zIndex:t,isPanorama:r}))}),[a,t,r]),p.createElement("g",{tabIndex:-1,ref:n})}function fL(e){var{children:t,isPanorama:r}=e,n=Dt(n5e);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),s=n.filter(o=>o>0);return p.createElement(p.Fragment,null,a.map(o=>p.createElement(dL,{key:o,zIndex:o,isPanorama:r})),t,s.map(o=>p.createElement(dL,{key:o,zIndex:o,isPanorama:r})))}var I3e=["children"];function D3e(e,t){if(e==null)return{};var r,n,a=L3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(null,arguments)}var M3e={width:"100%",height:"100%",display:"block"},F3e=p.forwardRef((e,t)=>{var r=LA(),n=MA(),a=Uq();if(!cc(r)||!cc(n))return null;var{children:s,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),p.createElement(cA,Ub({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:M3e,ref:t}),s)}),$3e=e=>{var{children:t}=e,r=Dt(k_);if(!r)return null;var{width:n,height:a,y:s,x:o}=r;return p.createElement(cA,{width:n,height:a,x:o,y:s},t)},hL=p.forwardRef((e,t)=>{var{children:r}=e,n=D3e(e,I3e),a=Bs();return a?p.createElement($3e,null,p.createElement(fL,{isPanorama:!0},r)):p.createElement(F3e,Ub({ref:t},n),p.createElement(fL,{isPanorama:!1},r))});function B3e(){var e=yn(),[t,r]=p.useState(null),n=Dt(Pye);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;kr(s)&&s!==n&&e(fye(s))}},[t,e,n]),r}function mL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U3e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(r),!0).forEach(function(n){z3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z3e(e,t,r){return(t=W3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W3e(e){var t=H3e(e,"string");return typeof t=="symbol"?t:t+""}function H3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sd.apply(null,arguments)}var q3e=()=>(B5e(),null);function zb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var V3e=p.forwardRef((e,t)=>{var r,n,a=p.useRef(null),[s,o]=p.useState({containerWidth:zb((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:zb((n=e.style)===null||n===void 0?void 0:n.height)}),l=p.useCallback((u,d)=>{o(f=>{var m=Math.round(u),h=Math.round(d);return f.containerWidth===m&&f.containerHeight===h?f:{containerWidth:m,containerHeight:h}})},[]),c=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var m=v=>{var g=v[0];if(g!=null){var{width:y,height:x}=g.contentRect;l(y,x)}},h=new ResizeObserver(m);h.observe(u),a.current=h}},[t,l]);return p.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),p.createElement(p.Fragment,null,p.createElement(cx,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",Sd({ref:c},e)))}),G3e=p.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=p.useState({containerWidth:zb(r),containerHeight:zb(n)}),o=p.useCallback((c,u)=>{s(d=>{var f=Math.round(c),m=Math.round(u);return d.containerWidth===f&&d.containerHeight===m?d:{containerWidth:f,containerHeight:m}})},[]),l=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(cx,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",Sd({ref:l},e)))}),K3e=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return p.createElement(p.Fragment,null,p.createElement(cx,{width:r,height:n}),p.createElement("div",Sd({ref:t},e)))}),Y3e=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?p.createElement(G3e,Sd({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?p.createElement(K3e,Sd({},e,{width:r,height:n,ref:t})):p.createElement(p.Fragment,null,p.createElement(cx,{width:r,height:n}),p.createElement("div",Sd({ref:t},e)))});function X3e(e){return e?V3e:Y3e}var J3e=p.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:v,onTouchStart:g,style:y,width:x,responsive:b,dispatchTouchEvents:_=!0}=e,w=p.useRef(null),N=yn(),[C,j]=p.useState(null),[A,k]=p.useState(null),I=B3e(),T=IA(),P=(T==null?void 0:T.width)>0?T.width:x,V=(T==null?void 0:T.height)>0?T.height:a,F=p.useCallback(J=>{I(J),typeof t=="function"&&t(J),j(J),k(J),J!=null&&(w.current=J)},[I,t,j,k]),Y=p.useCallback(J=>{N(QK(J)),N(go({handler:s,reactEvent:J}))},[N,s]),re=p.useCallback(J=>{N(z4(J)),N(go({handler:u,reactEvent:J}))},[N,u]),U=p.useCallback(J=>{N(OG()),N(go({handler:d,reactEvent:J}))},[N,d]),q=p.useCallback(J=>{N(z4(J)),N(go({handler:f,reactEvent:J}))},[N,f]),X=p.useCallback(()=>{N(sY())},[N]),pe=p.useCallback(J=>{N(aY(J.key))},[N]),xe=p.useCallback(J=>{N(go({handler:o,reactEvent:J}))},[N,o]),D=p.useCallback(J=>{N(go({handler:l,reactEvent:J}))},[N,l]),M=p.useCallback(J=>{N(go({handler:c,reactEvent:J}))},[N,c]),R=p.useCallback(J=>{N(go({handler:m,reactEvent:J}))},[N,m]),H=p.useCallback(J=>{N(go({handler:g,reactEvent:J}))},[N,g]),B=p.useCallback(J=>{_&&N(oY(J)),N(go({handler:v,reactEvent:J}))},[N,_,v]),W=p.useCallback(J=>{N(go({handler:h,reactEvent:J}))},[N,h]),te=X3e(b);return p.createElement(ZG.Provider,{value:C},p.createElement(WW.Provider,{value:A},p.createElement(te,{width:P??(y==null?void 0:y.width),height:V??(y==null?void 0:y.height),className:Pr("recharts-wrapper",n),style:U3e({position:"relative",cursor:"default",width:P,height:V},y),onClick:Y,onContextMenu:xe,onDoubleClick:D,onFocus:X,onKeyDown:pe,onMouseDown:M,onMouseEnter:re,onMouseLeave:U,onMouseMove:q,onMouseUp:R,onTouchEnd:W,onTouchMove:B,onTouchStart:H,ref:F},p.createElement(q3e,null),r)))}),Z3e=["width","height","responsive","children","className","style","compact","title","desc"];function Q3e(e,t){if(e==null)return{};var r,n,a=ePe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ePe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fY=p.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:o,style:l,compact:c,title:u,desc:d}=e,f=Q3e(e,Z3e),m=eo(f);return c?p.createElement(p.Fragment,null,p.createElement(cx,{width:r,height:n}),p.createElement(hL,{otherAttributes:m,title:u,desc:d},s)):p.createElement(J3e,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(hL,{otherAttributes:m,title:u,desc:d,ref:t},p.createElement(uEe,null,s)))});function W4(){return W4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W4.apply(null,arguments)}var tPe={top:5,right:5,bottom:5,left:5},rPe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:tPe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},hY=p.forwardRef(function(t,r){var n,a=Ea(t.categoricalChartProps,rPe),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return p.createElement(cY,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},p.createElement(IK,{chartData:u.data}),p.createElement(uY,{layout:a.layout,margin:a.margin}),p.createElement(dY,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(fY,W4({},a,{ref:r})))}),nPe=["axis"],aPe=p.forwardRef((e,t)=>p.createElement(hY,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nPe,tooltipPayloadSearcher:J3,categoricalChartProps:e,ref:t})),sPe=["axis","item"],iPe=p.forwardRef((e,t)=>p.createElement(hY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sPe,tooltipPayloadSearcher:J3,categoricalChartProps:e,ref:t}));function oPe(e){var t=yn();return p.useEffect(()=>{t(E3e(e))},[t,e]),null}var lPe=["layout"];function H4(){return H4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H4.apply(null,arguments)}function cPe(e,t){if(e==null)return{};var r,n,a=uPe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uPe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dPe={top:5,right:5,bottom:5,left:5},mY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dPe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},fPe=p.forwardRef(function(t,r){var n,a=Ea(t.categoricalChartProps,mY),{layout:s}=a,o=cPe(a,lPe),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return p.createElement(cY,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},p.createElement(IK,{chartData:a.data}),p.createElement(uY,{layout:s,margin:a.margin}),p.createElement(dY,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(oPe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),p.createElement(fY,H4({},o,{ref:r})))});function pL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(r),!0).forEach(function(n){hPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hPe(e,t,r){return(t=mPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mPe(e){var t=pPe(e,"string");return typeof t=="symbol"?t:t+""}function pPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gPe=["item"],vPe=gL(gL({},mY),{},{layout:"centric",startAngle:0,endAngle:360}),xPe=p.forwardRef((e,t)=>{var r=Ea(e,vPe);return p.createElement(fPe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gPe,tooltipPayloadSearcher:J3,categoricalChartProps:r,ref:t})});function yPe(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,wPe(a,...t)]}function wPe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function pY(e){const t=bPe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(jPe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function bPe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=NPe(a),l=SPe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _Pe=Symbol("radix.slottable");function jPe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_Pe}function SPe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function NPe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kPe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],so=kPe.reduce((e,t)=>{const r=pY(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yP(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var EPe=[" ","Enter","ArrowUp","ArrowDown"],CPe=[" ","Enter"],ch="Select",[fj,hj,APe]=X2(ch),[t0]=yPe(ch,[APe,Wp]),mj=Wp(),[PPe,Gd]=t0(ch),[TPe,OPe]=t0(ch),gY=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:h,form:v}=e,g=mj(t),[y,x]=p.useState(null),[b,_]=p.useState(null),[w,N]=p.useState(!1),C=Zv(u),[j,A]=_l({prop:n,defaultProp:a??!1,onChange:s,caller:ch}),[k,I]=_l({prop:o,defaultProp:l,onChange:c,caller:ch}),T=p.useRef(null),P=y?v||!!y.closest("form"):!0,[V,F]=p.useState(new Set),Y=Array.from(V).map(re=>re.props.value).join(";");return i.jsx(FC,{...g,children:i.jsxs(PPe,{required:h,scope:t,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:_,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:No(),value:k,onValueChange:I,open:j,onOpenChange:A,dir:C,triggerPointerDownPosRef:T,disabled:m,children:[i.jsx(fj.Provider,{scope:t,children:i.jsx(TPe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(re=>{F(U=>new Set(U).add(re))},[]),onNativeOptionRemove:p.useCallback(re=>{F(U=>{const q=new Set(U);return q.delete(re),q})},[]),children:r})}),P?i.jsxs(UY,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:re=>I(re.target.value),disabled:m,form:v,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from(V)]},Y):null]})})};gY.displayName=ch;var vY="SelectTrigger",xY=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=mj(r),o=Gd(vY,r),l=o.disabled||n,c=mr(t,o.onTriggerChange),u=hj(r),d=p.useRef("touch"),[f,m,h]=WY(g=>{const y=u().filter(_=>!_.disabled),x=y.find(_=>_.value===o.value),b=HY(y,g,x);b!==void 0&&o.onValueChange(b.value)}),v=g=>{l||(o.onOpenChange(!0),h()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx($C,{asChild:!0,...s,children:i.jsx(so.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":zY(o.value)?"":void 0,...a,ref:c,onClick:dt(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:dt(a.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:dt(a.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(y&&g.key===" ")&&EPe.includes(g.key)&&(v(),g.preventDefault())})})})});xY.displayName=vY;var yY="SelectValue",wY=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=Gd(yY,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=mr(t,c.onValueNodeChange);return aa(()=>{u(d)},[u,d]),i.jsx(so.span,{...l,ref:f,style:{pointerEvents:"none"},children:zY(c.value)?i.jsx(i.Fragment,{children:o}):s})});wY.displayName=yY;var RPe="SelectIcon",bY=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(so.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});bY.displayName=RPe;var IPe="SelectPortal",_Y=e=>i.jsx(Bp,{asChild:!0,...e});_Y.displayName=IPe;var uh="SelectContent",jY=p.forwardRef((e,t)=>{const r=Gd(uh,e.__scopeSelect),[n,a]=p.useState();if(aa(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Mo.createPortal(i.jsx(SY,{scope:e.__scopeSelect,children:i.jsx(fj.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(NY,{...e,ref:t})});jY.displayName=uh;var al=10,[SY,Kd]=t0(uh),DPe="SelectContentImpl",LPe=pY("SelectContent.RemoveScroll"),NY=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:v,hideWhenDetached:g,avoidCollisions:y,...x}=e,b=Gd(uh,r),[_,w]=p.useState(null),[N,C]=p.useState(null),j=mr(t,W=>w(W)),[A,k]=p.useState(null),[I,T]=p.useState(null),P=hj(r),[V,F]=p.useState(!1),Y=p.useRef(!1);p.useEffect(()=>{if(_)return NC(_)},[_]),SC();const re=p.useCallback(W=>{const[te,...J]=P().map(ve=>ve.ref.current),[oe]=J.slice(-1),_e=document.activeElement;for(const ve of W)if(ve===_e||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===te&&N&&(N.scrollTop=0),ve===oe&&N&&(N.scrollTop=N.scrollHeight),ve==null||ve.focus(),document.activeElement!==_e))return},[P,N]),U=p.useCallback(()=>re([A,_]),[re,A,_]);p.useEffect(()=>{V&&U()},[V,U]);const{onOpenChange:q,triggerPointerDownPosRef:X}=b;p.useEffect(()=>{if(_){let W={x:0,y:0};const te=oe=>{var _e,ve;W={x:Math.abs(Math.round(oe.pageX)-(((_e=X.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((ve=X.current)==null?void 0:ve.y)??0))}},J=oe=>{W.x<=10&&W.y<=10?oe.preventDefault():_.contains(oe.target)||q(!1),document.removeEventListener("pointermove",te),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",J,{capture:!0})}}},[_,q,X]),p.useEffect(()=>{const W=()=>q(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[q]);const[pe,xe]=WY(W=>{const te=P().filter(_e=>!_e.disabled),J=te.find(_e=>_e.ref.current===document.activeElement),oe=HY(te,W,J);oe&&setTimeout(()=>oe.ref.current.focus())}),D=p.useCallback((W,te,J)=>{const oe=!Y.current&&!J;(b.value!==void 0&&b.value===te||oe)&&(k(W),oe&&(Y.current=!0))},[b.value]),M=p.useCallback(()=>_==null?void 0:_.focus(),[_]),R=p.useCallback((W,te,J)=>{const oe=!Y.current&&!J;(b.value!==void 0&&b.value===te||oe)&&T(W)},[b.value]),H=n==="popper"?q4:kY,B=H===q4?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return i.jsx(SY,{scope:r,content:_,viewport:N,onViewportChange:C,itemRefCallback:D,selectedItem:A,onItemLeave:M,itemTextRefCallback:R,focusSelectedItem:U,selectedItemText:I,position:n,isPositioned:V,searchRef:pe,children:i.jsx(L2,{as:LPe,allowPinchZoom:!0,children:i.jsx(I2,{asChild:!0,trapped:b.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:dt(a,W=>{var te;(te=b.trigger)==null||te.focus({preventScroll:!0}),W.preventDefault()}),children:i.jsx($p,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(H,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:W=>W.preventDefault(),...x,...B,onPlaced:()=>F(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:dt(x.onKeyDown,W=>{const te=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!te&&W.key.length===1&&xe(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let oe=P().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(W.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const _e=W.target,ve=oe.indexOf(_e);oe=oe.slice(ve+1)}setTimeout(()=>re(oe)),W.preventDefault()}})})})})})})});NY.displayName=DPe;var MPe="SelectItemAlignedPosition",kY=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Gd(uh,r),o=Kd(uh,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=mr(t,j=>d(j)),m=hj(r),h=p.useRef(!1),v=p.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=o,_=p.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&y&&x){const j=s.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),I=x.getBoundingClientRect();if(s.dir!=="rtl"){const _e=I.left-A.left,ve=k.left-_e,We=j.left-ve,ze=j.width+We,ae=Math.max(ze,A.width),$e=window.innerWidth-al,He=Mk(ve,[al,Math.max(al,$e-ae)]);l.style.minWidth=ze+"px",l.style.left=He+"px"}else{const _e=A.right-I.right,ve=window.innerWidth-k.right-_e,We=window.innerWidth-j.right-ve,ze=j.width+We,ae=Math.max(ze,A.width),$e=window.innerWidth-al,He=Mk(ve,[al,Math.max(al,$e-ae)]);l.style.minWidth=ze+"px",l.style.right=He+"px"}const T=m(),P=window.innerHeight-al*2,V=g.scrollHeight,F=window.getComputedStyle(u),Y=parseInt(F.borderTopWidth,10),re=parseInt(F.paddingTop,10),U=parseInt(F.borderBottomWidth,10),q=parseInt(F.paddingBottom,10),X=Y+re+V+q+U,pe=Math.min(y.offsetHeight*5,X),xe=window.getComputedStyle(g),D=parseInt(xe.paddingTop,10),M=parseInt(xe.paddingBottom,10),R=j.top+j.height/2-al,H=P-R,B=y.offsetHeight/2,W=y.offsetTop+B,te=Y+re+W,J=X-te;if(te<=R){const _e=T.length>0&&y===T[T.length-1].ref.current;l.style.bottom="0px";const ve=u.clientHeight-g.offsetTop-g.offsetHeight,We=Math.max(H,B+(_e?M:0)+ve+U),ze=te+We;l.style.height=ze+"px"}else{const _e=T.length>0&&y===T[0].ref.current;l.style.top="0px";const We=Math.max(R,Y+g.offsetTop+(_e?D:0)+B)+J;l.style.height=We+"px",g.scrollTop=te-R+g.offsetTop}l.style.margin=`${al}px 0`,l.style.minHeight=pe+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[m,s.trigger,s.valueNode,l,u,g,y,x,s.dir,n]);aa(()=>_(),[_]);const[w,N]=p.useState();aa(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const C=p.useCallback(j=>{j&&v.current===!0&&(_(),b==null||b(),v.current=!1)},[_,b]);return i.jsx($Pe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:i.jsx(so.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});kY.displayName=MPe;var FPe="SelectPopperPosition",q4=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=al,...s}=e,o=mj(r);return i.jsx(BC,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});q4.displayName=FPe;var[$Pe,wP]=t0(uh,{}),V4="SelectViewport",EY=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Kd(V4,r),o=wP(V4,r),l=mr(t,s.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(fj.Slot,{scope:r,children:i.jsx(so.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:dt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const v=window.innerHeight-al*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(g,y);if(x<v){const b=x+h,_=Math.min(v,b),w=b-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});EY.displayName=V4;var CY="SelectGroup",[BPe,UPe]=t0(CY),AY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=No();return i.jsx(BPe,{scope:r,id:a,children:i.jsx(so.div,{role:"group","aria-labelledby":a,...n,ref:t})})});AY.displayName=CY;var PY="SelectLabel",TY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=UPe(PY,r);return i.jsx(so.div,{id:a.id,...n,ref:t})});TY.displayName=PY;var Wb="SelectItem",[zPe,OY]=t0(Wb),RY=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=Gd(Wb,r),c=Kd(Wb,r),u=l.value===n,[d,f]=p.useState(s??""),[m,h]=p.useState(!1),v=mr(t,b=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,b,n,a)}),g=No(),y=p.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(zPe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:p.useCallback(b=>{f(_=>_||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(fj.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(so.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:dt(o.onFocus,()=>h(!0)),onBlur:dt(o.onBlur,()=>h(!1)),onClick:dt(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:dt(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:dt(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:dt(o.onPointerMove,b=>{var _;y.current=b.pointerType,a?(_=c.onItemLeave)==null||_.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(o.onPointerLeave,b=>{var _;b.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:dt(o.onKeyDown,b=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&b.key===" "||(CPe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});RY.displayName=Wb;var fg="SelectItemText",IY=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=Gd(fg,r),l=Kd(fg,r),c=OY(fg,r),u=OPe(fg,r),[d,f]=p.useState(null),m=mr(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),h=d==null?void 0:d.textContent,v=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return aa(()=>(g(v),()=>y(v)),[g,y,v]),i.jsxs(i.Fragment,{children:[i.jsx(so.span,{id:c.textId,...s,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mo.createPortal(s.children,o.valueNode):null]})});IY.displayName=fg;var DY="SelectItemIndicator",LY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return OY(DY,r).isSelected?i.jsx(so.span,{"aria-hidden":!0,...n,ref:t}):null});LY.displayName=DY;var G4="SelectScrollUpButton",MY=p.forwardRef((e,t)=>{const r=Kd(G4,e.__scopeSelect),n=wP(G4,e.__scopeSelect),[a,s]=p.useState(!1),o=mr(t,n.onScrollButtonChange);return aa(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx($Y,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});MY.displayName=G4;var K4="SelectScrollDownButton",FY=p.forwardRef((e,t)=>{const r=Kd(K4,e.__scopeSelect),n=wP(K4,e.__scopeSelect),[a,s]=p.useState(!1),o=mr(t,n.onScrollButtonChange);return aa(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx($Y,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});FY.displayName=K4;var $Y=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Kd("SelectScrollButton",r),o=p.useRef(null),l=hj(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),aa(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(so.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:dt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:dt(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:dt(a.onPointerLeave,()=>{c()})})}),WPe="SelectSeparator",BY=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(so.div,{"aria-hidden":!0,...n,ref:t})});BY.displayName=WPe;var Y4="SelectArrow",HPe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=mj(r),s=Gd(Y4,r),o=Kd(Y4,r);return s.open&&o.position==="popper"?i.jsx(UC,{...a,...n,ref:t}):null});HPe.displayName=Y4;var qPe="SelectBubbleInput",UY=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=p.useRef(null),s=mr(n,a),o=yP(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(so.select,{...r,style:{...eU,...r.style},ref:s,defaultValue:t})});UY.displayName=qPe;function zY(e){return e===""||e===void 0}function WY(e){const t=ta(e),r=p.useRef(""),n=p.useRef(0),a=p.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function HY(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=VPe(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function VPe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var GPe=gY,qY=xY,KPe=wY,YPe=bY,XPe=_Y,VY=jY,JPe=EY,ZPe=AY,GY=TY,KY=RY,QPe=IY,eTe=LY,YY=MY,XY=FY,JY=BY;const _t=GPe,vL=ZPe,jt=KPe,wt=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(qY,{ref:n,className:lt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(YPe,{asChild:!0,children:i.jsx(Hc,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=qY.displayName;const ZY=p.forwardRef(({className:e,...t},r)=>i.jsx(YY,{ref:r,className:lt("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(cd,{className:"h-4 w-4"})}));ZY.displayName=YY.displayName;const QY=p.forwardRef(({className:e,...t},r)=>i.jsx(XY,{ref:r,className:lt("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Hc,{className:"h-4 w-4"})}));QY.displayName=XY.displayName;const bt=p.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(XPe,{children:i.jsxs(VY,{ref:a,className:lt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(ZY,{}),i.jsx(JPe,{className:lt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(QY,{})]})}));bt.displayName=VY.displayName;const X4=p.forwardRef(({className:e,...t},r)=>i.jsx(GY,{ref:r,className:lt("px-2 py-1.5 text-sm font-semibold",e),...t}));X4.displayName=GY.displayName;const Ee=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(KY,{ref:n,className:lt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(eTe,{children:i.jsx(Rp,{className:"h-4 w-4"})})}),i.jsx(QPe,{children:t})]}));Ee.displayName=KY.displayName;const tTe=p.forwardRef(({className:e,...t},r)=>i.jsx(JY,{ref:r,className:lt("-mx-1 my-1 h-px bg-muted",e),...t}));tTe.displayName=JY.displayName;const xL=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"];function rTe(){const[e,t]=p.useState(!0),[r,n]=p.useState("30"),[a,s]=p.useState({totalRevenue:{current:0,previous:0,change:0},activeProjects:{current:0,previous:0,change:0},avgClientSatisfaction:{current:0,previous:0,change:0},reportsSubmitted:{current:0,previous:0,change:0}}),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState([]),[m,h]=p.useState([]);p.useEffect(()=>{v()},[r]);const v=async()=>{var y,x,b,_,w,N,C,j,A,k,I,T,P;try{const V=parseInt(r),F=new Date;F.setDate(F.getDate()-V);const Y=new Date;Y.setDate(Y.getDate()-V*2);const re=new Date;re.setDate(re.getDate()-V);const[U,q,X,pe,xe]=await Promise.all([ce.from("weekly_reports").select("*, service_metrics(*)").gte("created_at",F.toISOString()),ce.from("weekly_reports").select("*").gte("created_at",Y.toISOString()).lt("created_at",re.toISOString()),ce.from("clients").select("*"),ce.from("client_assignments").select("*, profiles(*), clients(*), services(*)"),ce.from("client_budgets").select("*")]),D=((y=X.data)==null?void 0:y.filter(tt=>tt.status==="active").length)||0,M=((x=U.data)==null?void 0:x.length)||0,R=((b=q.data)==null?void 0:b.length)||0,H=((_=xe.data)==null?void 0:_.reduce((tt,at)=>tt+Number(at.monthly_budget),0))||0,B=((w=xe.data)==null?void 0:w.reduce((tt,at)=>tt+Number(at.actual_spending),0))||0,W=((N=U.data)==null?void 0:N.filter(tt=>tt.status==="on_track").length)||0,te=M>0?W/M*100:0,J=((C=q.data)==null?void 0:C.filter(tt=>tt.status==="on_track").length)||0,oe=R>0?J/R*100:0,_e=(tt,at)=>at===0?tt>0?100:0:(tt-at)/at*100;s({totalRevenue:{current:B,previous:H*.8,change:_e(B,H*.8)},activeProjects:{current:D,previous:D-2,change:_e(D,D-2)},avgClientSatisfaction:{current:te,previous:oe,change:_e(te,oe)},reportsSubmitted:{current:M,previous:R,change:_e(M,R)}});const ve=(j=pe.data)==null?void 0:j.reduce((tt,at)=>{var kt;const pt=((kt=at.services)==null?void 0:kt.name)||"Unknown";return tt[pt]||(tt[pt]={clients:0,revenue:0}),tt[pt].clients+=1,tt},{}),We=(A=xe.data)==null?void 0:A.reduce((tt,at)=>{var kt,Jt;const pt=(kt=pe.data)==null?void 0:kt.find(Yt=>Yt.service_id===at.service_id);if(pt){const Yt=((Jt=pt.services)==null?void 0:Jt.name)||"Unknown";tt[Yt]||(tt[Yt]=0),tt[Yt]+=Number(at.actual_spending)}return tt},{}),ze=Object.entries(ve||{}).map(([tt,at])=>({name:tt,clients:at.clients,revenue:(We==null?void 0:We[tt])||0}));l(ze);const $e=(await Promise.all(Array.from({length:8},async(tt,at)=>{const pt=new Date;pt.setDate(pt.getDate()-at*7);const kt=new Date(pt);kt.setDate(kt.getDate()-7);const{data:Jt}=await ce.from("weekly_reports").select("id").gte("created_at",kt.toISOString()).lt("created_at",pt.toISOString()),{data:Yt}=await ce.from("clients").select("id").eq("status","active").lte("created_at",pt.toISOString());return{week:pt.toLocaleDateString("en-US",{month:"short",day:"numeric"}),reports:(Jt==null?void 0:Jt.length)||0,clients:(Yt==null?void 0:Yt.length)||0}}))).reverse();u($e);const He=[{name:"Healthy",value:((k=X.data)==null?void 0:k.filter(tt=>tt.health_status==="healthy").length)||0},{name:"Needs Attention",value:((I=X.data)==null?void 0:I.filter(tt=>tt.health_status==="needs_attention").length)||0},{name:"At Risk",value:((T=X.data)==null?void 0:T.filter(tt=>tt.health_status==="at_risk").length)||0}];f(He);const nt=(P=U.data)==null?void 0:P.reduce((tt,at)=>{const pt=at.employee_id;return tt[pt]||(tt[pt]={count:0,onTrack:0}),tt[pt].count+=1,at.status==="on_track"&&(tt[pt].onTrack+=1),tt},{}),Ke=await Promise.all(Object.entries(nt||{}).slice(0,5).map(async([tt,at])=>{const{data:pt}=await ce.from("profiles").select("full_name").eq("id",tt).maybeSingle();return{name:(pt==null?void 0:pt.full_name)||"Unknown",reports:at.count,performance:at.count>0?Math.round(at.onTrack/at.count*100):0}}));h(Ke.sort((tt,at)=>at.reports-tt.reports))}catch(V){console.error("Error loading analytics:",V)}finally{t(!1)}},g=({title:y,value:x,change:b,icon:_,prefix:w="",suffix:N=""})=>{const C=b>=0;return i.jsx(Ce,{"data-testid":`card-metric-${y.toLowerCase().replace(/\s+/g,"-")}`,children:i.jsxs(Ae,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[i.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:y}),i.jsx("div",{className:"rounded-lg p-2.5 bg-primary/10",children:i.jsx(_,{className:"h-5 w-5 text-primary"})})]}),i.jsx("div",{className:"flex items-end justify-between gap-4 flex-wrap",children:i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":`text-metric-${y.toLowerCase().replace(/\s+/g,"-")}`,children:[w,typeof x=="number"?x.toFixed(x%1===0?0:1):x,N]}),i.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm ${C?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[C?i.jsx(ri,{className:"h-4 w-4"}):i.jsx(fie,{className:"h-4 w-4"}),i.jsxs("span",{className:"font-medium",children:[C?"+":"",b.toFixed(1),"%"]}),i.jsx("span",{className:"text-muted-foreground",children:"vs previous period"})]})]})})]})})};return e?i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ne,{className:"h-8 w-48"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Ne,{className:"h-36"}),i.jsx(Ne,{className:"h-36"}),i.jsx(Ne,{className:"h-36"}),i.jsx(Ne,{className:"h-36"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(Ne,{className:"h-80"}),i.jsx(Ne,{className:"h-80"})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Analytics"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Track performance and insights"})]}),i.jsxs(_t,{value:r,onValueChange:n,children:[i.jsx(wt,{className:"w-[180px]","data-testid":"select-time-range",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"7",children:"Last 7 days"}),i.jsx(Ee,{value:"30",children:"Last 30 days"}),i.jsx(Ee,{value:"90",children:"Last 90 days"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(g,{title:"Total Revenue",value:a.totalRevenue.current,change:a.totalRevenue.change,icon:_d,prefix:"$"}),i.jsx(g,{title:"Active Projects",value:a.activeProjects.current,change:a.activeProjects.change,icon:R2}),i.jsx(g,{title:"Client Satisfaction",value:a.avgClientSatisfaction.current,change:a.avgClientSatisfaction.change,icon:Kse,suffix:"%"}),i.jsx(g,{title:"Reports Submitted",value:a.reportsSubmitted.current,change:a.reportsSubmitted.change,icon:ra})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ce,{children:[i.jsx(wr,{children:i.jsx(br,{children:"Weekly Trend"})}),i.jsx(Ae,{children:i.jsx(m5,{width:"100%",height:300,children:i.jsxs(aPe,{data:c,children:[i.jsx(T4,{strokeDasharray:"3 3"}),i.jsx(F4,{dataKey:"week"}),i.jsx(U4,{}),i.jsx(k5,{}),i.jsx(c4,{}),i.jsx(O4,{type:"monotone",dataKey:"reports",stroke:"#3B82F6",strokeWidth:2}),i.jsx(O4,{type:"monotone",dataKey:"clients",stroke:"#10B981",strokeWidth:2})]})})})]}),i.jsxs(Ce,{children:[i.jsx(wr,{children:i.jsx(br,{children:"Client Health Status"})}),i.jsx(Ae,{children:i.jsx(m5,{width:"100%",height:300,children:i.jsxs(xPe,{children:[i.jsx(TK,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,value:x})=>`${y}: ${x}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:d.map((y,x)=>i.jsx(Sx,{fill:xL[x%xL.length]},`cell-${x}`))}),i.jsx(k5,{})]})})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ce,{children:[i.jsx(wr,{children:i.jsx(br,{children:"Service Performance"})}),i.jsx(Ae,{children:i.jsx(m5,{width:"100%",height:300,children:i.jsxs(iPe,{data:o,children:[i.jsx(T4,{strokeDasharray:"3 3"}),i.jsx(F4,{dataKey:"name"}),i.jsx(U4,{}),i.jsx(k5,{}),i.jsx(c4,{}),i.jsx(D4,{dataKey:"clients",fill:"#3B82F6"}),i.jsx(D4,{dataKey:"revenue",fill:"#10B981"})]})})})]}),i.jsxs(Ce,{children:[i.jsx(wr,{children:i.jsx(br,{children:"Top Performers"})}),i.jsx(Ae,{children:i.jsxs("div",{className:"space-y-4",children:[m.map((y,x)=>i.jsxs("div",{className:"flex items-center justify-between gap-4 p-4 bg-muted rounded-md flex-wrap","data-testid":`row-performer-${x}`,children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-sm",children:x+1}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground","data-testid":`text-performer-name-${x}`,children:y.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.reports," reports"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-lg font-bold text-foreground","data-testid":`text-performer-rate-${x}`,children:[y.performance,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"On Track Rate"})]})]},x)),m.length===0&&i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No performance data yet"})]})})]})]})]})}function nTe({healthStatus:e,healthScore:t,showScore:r=!1,size:n="md",showLabel:a=!0}){const o=(u=>{switch(u){case"healthy":return{icon:kn,iconColor:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-950/40",label:"Healthy",badgeClass:"bg-green-50 text-green-700 border-green-200 dark:bg-green-950/40 dark:text-green-400 dark:border-green-800"};case"needs_attention":return{icon:qi,iconColor:"text-amber-600 dark:text-amber-400",bgColor:"bg-amber-50 dark:bg-amber-950/40",label:"Needs Attention",badgeClass:"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800"};case"at_risk":return{icon:Dn,iconColor:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-950/40",label:"High Risk",badgeClass:"bg-red-50 text-red-700 border-red-200 dark:bg-red-950/40 dark:text-red-400 dark:border-red-800"};default:return{icon:kn,iconColor:"text-muted-foreground",bgColor:"bg-muted",label:"Unknown",badgeClass:""}}})(e),l=o.icon,c={sm:"h-3.5 w-3.5",md:"h-4 w-4",lg:"h-5 w-5"};return i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(vt,{variant:"outline",className:`${o.badgeClass} no-default-active-elevate gap-1.5`,children:[i.jsx(l,{className:`${c[n]} ${o.iconColor}`}),a&&i.jsx("span",{children:o.label}),r&&t!==void 0&&i.jsxs("span",{className:"opacity-70",children:[t,"/100"]})]})})}const Ro=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:lt("w-full caption-bottom text-sm",e),...t})}));Ro.displayName="Table";const Io=p.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:lt("[&_tr]:border-b",e),...t}));Io.displayName="TableHeader";const Do=p.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:lt("[&_tr:last-child]:border-0",e),...t}));Do.displayName="TableBody";const aTe=p.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:lt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));aTe.displayName="TableFooter";const Br=p.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:lt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Br.displayName="TableRow";const Et=p.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:lt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Et.displayName="TableHead";const yt=p.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:lt("p-2 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));yt.displayName="TableCell";const sTe=p.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:lt("mt-4 text-sm text-muted-foreground",e),...t}));sTe.displayName="TableCaption";const Ur=kB,iTe=EB,eX=p.forwardRef(({className:e,...t},r)=>i.jsx(F2,{ref:r,className:lt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));eX.displayName=F2.displayName;const Lr=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(iTe,{children:[i.jsx(eX,{}),i.jsxs($2,{ref:n,className:lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(CB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(oi,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lr.displayName=$2.displayName;const zr=({className:e,...t})=>i.jsx("div",{className:lt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zr.displayName="DialogHeader";const qr=({className:e,...t})=>i.jsx("div",{className:lt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qr.displayName="DialogFooter";const Wr=p.forwardRef(({className:e,...t},r)=>i.jsx(B2,{ref:r,className:lt("text-lg font-semibold leading-none tracking-tight",e),...t}));Wr.displayName=B2.displayName;const sc=p.forwardRef(({className:e,...t},r)=>i.jsx(U2,{ref:r,className:lt("text-sm text-muted-foreground",e),...t}));sc.displayName=U2.displayName;const yL=["bg-blue-600","bg-emerald-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-cyan-600","bg-indigo-600","bg-teal-600","bg-pink-600","bg-orange-600"];function oTe(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function wL(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function lTe({onViewClient:e}={}){const{showToast:t}=yr(),[,r]=hc(),[n,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,m]=p.useState(!1),[h,v]=p.useState(!1),[g,y]=p.useState(null),[x,b]=p.useState(null),[_,w]=p.useState(""),[N,C]=p.useState("all"),[j,A]=p.useState({name:"",industry:"",status:"active",priority:"medium",health_status:"healthy",start_date:new Date().toISOString().split("T")[0],notes:"",contact_name:"",contact_email:"",contact_phone:"",website:"",weekly_meeting_day:"",meeting_time:"10:00",selectedServices:[],selectedEmployees:[]}),[k,I]=p.useState({employee_ids:[],service_id:""});p.useEffect(()=>{T()},[]);const T=async()=>{try{const[R,H,B,W,te]=await Promise.all([ce.from("clients").select("*").order("created_at",{ascending:!1}),ce.from("services").select("*").eq("is_active",!0),ce.from("profiles").select("*").eq("role","employee").eq("status","active"),ce.from("client_assignments").select("*, profiles(*), services(*)"),ce.from("client_budgets").select("client_id, monthly_budget")]);if(R.data){const J=R.data.map(oe=>{var ze,ae;const _e=((ze=W.data)==null?void 0:ze.filter($e=>$e.client_id===oe.id))||[],We=(((ae=te.data)==null?void 0:ae.filter($e=>$e.client_id===oe.id))||[]).reduce(($e,He)=>$e+Number(He.monthly_budget),0);return{...oe,assignmentCount:_e.length,assignments:_e.map($e=>({...$e,employee:$e.profiles,service:$e.services})),totalBudget:We}});a(J)}H.data&&o(H.data),B.data&&c(B.data)}catch(R){console.error("Error loading data:",R)}finally{d(!1)}},P=p.useMemo(()=>{const R=n.length,H=n.filter(te=>te.status==="active").length,B=n.filter(te=>te.health_status==="needs_attention"||te.health_status==="at_risk").length,W=n.reduce((te,J)=>te+(J.totalBudget||0),0);return{totalClients:R,activeClients:H,needsAttention:B,totalBudget:W}},[n]),V=[{label:"Total Clients",value:P.totalClients,sub:`${P.activeClients} active`,icon:ti,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-950/40"},{label:"Active Clients",value:P.activeClients,sub:`of ${P.totalClients} total`,icon:Xf,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-950/40"},{label:"Needs Attention",value:P.needsAttention,sub:"at risk or flagged",icon:Dn,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-950/40"},{label:"Monthly Budget",value:wL(P.totalBudget),sub:"total across clients",icon:_d,color:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-950/40"}],F=async R=>{var H;if(R){y(R);const[{data:B},{data:W}]=await Promise.all([ce.from("client_services").select("service_id").eq("client_id",R.id),ce.from("client_assignments").select("employee_id, service_id").eq("client_id",R.id)]);A({name:R.name,industry:R.industry||"",status:R.status,priority:R.priority,health_status:R.health_status,start_date:R.start_date,notes:R.notes||"",contact_name:R.contact_name||"",contact_email:R.contact_email||"",contact_phone:R.contact_phone||"",website:R.website||"",weekly_meeting_day:((H=R.weekly_meeting_day)==null?void 0:H.toString())||"",meeting_time:R.meeting_time||"10:00",selectedServices:(B==null?void 0:B.map(te=>te.service_id))||[],selectedEmployees:W||[]})}else y(null),A({name:"",industry:"",status:"active",priority:"medium",health_status:"healthy",start_date:new Date().toISOString().split("T")[0],notes:"",contact_name:"",contact_email:"",contact_phone:"",website:"",weekly_meeting_day:"",meeting_time:"10:00",selectedServices:[],selectedEmployees:[]});m(!0)},Y=R=>{b(R),I({employee_ids:[],service_id:""}),v(!0)},re=async R=>{if(R.preventDefault(),j.selectedEmployees.filter(B=>!B.service_id).length>0){t("Please assign a role/service to all selected employees before saving","error");return}try{const B={name:j.name,industry:j.industry||null,status:j.status,priority:j.priority,health_status:j.health_status,start_date:j.start_date,notes:j.notes||null,contact_name:j.contact_name||null,contact_email:j.contact_email||null,contact_phone:j.contact_phone||null,website:j.website||null,weekly_meeting_day:j.weekly_meeting_day?parseInt(j.weekly_meeting_day):null,meeting_time:j.meeting_time||null,updated_at:new Date().toISOString()};if(g){const{error:W}=await ce.from("clients").update(B).eq("id",g.id);if(W)throw W;if(await Promise.all([ce.from("client_services").delete().eq("client_id",g.id),ce.from("client_assignments").delete().eq("client_id",g.id)]),j.selectedServices.length>0){const te=j.selectedServices.map(J=>({client_id:g.id,service_id:J}));await ce.from("client_services").insert(te)}if(j.selectedEmployees.length>0){const te=j.selectedEmployees.map(J=>({client_id:g.id,employee_id:J.employee_id,service_id:J.service_id}));await ce.from("client_assignments").insert(te)}}else{const{data:W,error:te}=await ce.from("clients").insert(B).select().single();if(te)throw te;if(W){if(j.selectedServices.length>0){const J=j.selectedServices.map(oe=>({client_id:W.id,service_id:oe}));await ce.from("client_services").insert(J)}if(j.selectedEmployees.length>0){const J=j.selectedEmployees.map(oe=>({client_id:W.id,employee_id:oe.employee_id,service_id:oe.service_id}));await ce.from("client_assignments").insert(J)}}}m(!1),t(g?"Client updated successfully":"Client created successfully","success"),T()}catch(B){console.error("Error saving client:",B),t("Failed to save client","error")}},U=async R=>{if(R.preventDefault(),!!x){if(k.employee_ids.length===0){t("Please select at least one employee","error");return}try{const{data:H}=await ce.from("client_services").select("service_id").eq("client_id",x.id).eq("service_id",k.service_id).maybeSingle();if(!H){t("This service is not enabled for this client. Please enable it first.","error");return}const B=k.employee_ids.map(te=>({client_id:x.id,employee_id:te,service_id:k.service_id})),{error:W}=await ce.from("client_assignments").insert(B);if(W){if(W.code==="23505")t("One or more employees are already assigned to this service for this client","error");else throw W;return}v(!1),t("Team members assigned successfully","success"),T()}catch(H){console.error("Error creating assignment:",H),t("Failed to create assignment","error")}}},q=async R=>{if(confirm("Are you sure you want to delete this client? This will also remove all related assignments and data."))try{const{error:H}=await ce.from("clients").delete().eq("id",R);if(H)throw H;T()}catch(H){console.error("Error deleting client:",H)}},X=R=>{A(H=>({...H,selectedServices:H.selectedServices.includes(R)?H.selectedServices.filter(B=>B!==R):[...H.selectedServices,R]}))},pe=R=>{switch(R){case"active":return"default";case"paused":return"secondary";case"completed":return"outline";default:return"outline"}},xe=R=>{switch(R){case"critical":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},D=p.useMemo(()=>n.filter(R=>{var W,te;const H=R.name.toLowerCase().includes(_.toLowerCase())||(((W=R.industry)==null?void 0:W.toLowerCase())||"").includes(_.toLowerCase())||(((te=R.contact_name)==null?void 0:te.toLowerCase())||"").includes(_.toLowerCase()),B=N==="all"||R.status===N;return H&&B}),[n,_,N]),M=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}];return u?i.jsxs("div",{className:"space-y-6","data-testid":"loading-skeleton",children:[i.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{className:"h-8 w-48"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ne,{className:"h-9 w-32"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[1,2,3,4].map(R=>i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-6",children:[i.jsx(Ne,{className:"h-4 w-24 mb-4"}),i.jsx(Ne,{className:"h-9 w-20 mb-2"}),i.jsx(Ne,{className:"h-3 w-16"})]})},R))}),i.jsx(Ne,{className:"h-9 w-full"}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsx("div",{className:"space-y-4 p-6",children:Array.from({length:5}).map((R,H)=>i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Ne,{className:"h-10 w-10 rounded-full"}),i.jsx(Ne,{className:"h-5 w-32"}),i.jsx(Ne,{className:"h-5 w-24"}),i.jsx(Ne,{className:"h-5 w-16"}),i.jsx(Ne,{className:"h-5 w-16"}),i.jsx(Ne,{className:"h-5 w-16"}),i.jsx(Ne,{className:"h-5 w-12"}),i.jsx(Ne,{className:"h-5 w-20"}),i.jsx(Ne,{className:"h-5 w-24"})]},H))})})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Clients"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your client accounts and team assignments"})]}),i.jsxs(be,{onClick:()=>F(),"data-testid":"button-add-client",children:[i.jsx(rn,{className:"h-4 w-4"}),"Add Client"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:V.map(R=>{const H=R.icon;return i.jsx(Ce,{"data-testid":`card-stat-${R.label.toLowerCase().replace(/\s/g,"-")}`,children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:R.label}),i.jsx("p",{className:"text-3xl font-semibold mt-2 tracking-tight","data-testid":`text-stat-value-${R.label.toLowerCase().replace(/\s/g,"-")}`,children:R.value}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:R.sub})]}),i.jsx("div",{className:`rounded-lg p-2.5 ${R.bg}`,children:i.jsx(H,{className:`h-5 w-5 ${R.color}`})})]})})},R.label)})}),i.jsxs("div",{className:"relative",children:[i.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{type:"text",placeholder:"Search clients by name, industry, or contact...",value:_,onChange:R=>w(R.target.value),className:"pl-9","data-testid":"input-search-clients"})]}),i.jsx("div",{className:"flex items-center gap-2 flex-wrap","data-testid":"filter-status-tabs",children:M.map(R=>i.jsxs(be,{variant:N===R.value?"default":"outline",size:"sm",onClick:()=>C(R.value),className:N===R.value?"toggle-elevate toggle-elevated":"toggle-elevate","data-testid":`button-filter-${R.value}`,children:[R.label,R.value!=="all"&&i.jsx("span",{className:"ml-1.5 text-xs opacity-70",children:n.filter(H=>H.status===R.value).length})]},R.value))}),n.length===0?i.jsx(Ce,{"data-testid":"empty-state",children:i.jsxs(Ae,{className:"flex flex-col items-center justify-center py-16 px-6",children:[i.jsx("div",{className:"rounded-lg bg-muted p-4 mb-4",children:i.jsx(ti,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-1","data-testid":"text-empty-title",children:"No clients yet"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center mb-6 max-w-sm",children:"Get started by adding your first client. You can manage their details, assign team members, and track budgets."}),i.jsxs(be,{onClick:()=>F(),"data-testid":"button-empty-add-client",children:[i.jsx(rn,{className:"h-4 w-4"}),"Add Your First Client"]})]})}):i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsxs(Ro,{children:[i.jsx(Io,{children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Client"}),i.jsx(Et,{children:"Contact"}),i.jsx(Et,{children:"Status"}),i.jsx(Et,{children:"Priority"}),i.jsx(Et,{children:"Health"}),i.jsx(Et,{children:"Team"}),i.jsx(Et,{children:"Budget"}),i.jsx(Et,{className:"text-right",children:"Actions"})]})}),i.jsxs(Do,{children:[D.map((R,H)=>i.jsxs(Br,{"data-testid":`row-client-${R.id}`,children:[i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ws,{"data-testid":`avatar-client-${R.id}`,children:i.jsx(bs,{className:`${yL[H%yL.length]} text-white text-xs font-medium`,children:oTe(R.name)})}),i.jsxs("div",{children:[i.jsx(be,{variant:"ghost",className:"p-0 h-auto text-sm font-medium text-foreground text-left",onClick:()=>r(`/clients/${R.id}`),"data-testid":`link-client-name-${R.id}`,children:R.name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:R.industry||"No industry"})]})]})}),i.jsx(yt,{children:R.contact_name?i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-foreground","data-testid":`text-contact-name-${R.id}`,children:R.contact_name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:R.contact_email})]}):i.jsx("span",{className:"text-sm text-muted-foreground",children:"No contact"})}),i.jsx(yt,{children:i.jsx(vt,{variant:pe(R.status),"data-testid":`badge-status-${R.id}`,children:R.status})}),i.jsx(yt,{children:i.jsx(vt,{variant:xe(R.priority),"data-testid":`badge-priority-${R.id}`,children:R.priority})}),i.jsx(yt,{children:i.jsx(nTe,{healthStatus:R.health_status,healthScore:R.health_score,showScore:!0,size:"sm"})}),i.jsx(yt,{children:i.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>Y(R),"data-testid":`button-team-${R.id}`,children:[i.jsx(ra,{className:"h-4 w-4"}),i.jsx("span",{children:R.assignmentCount||0})]})}),i.jsx(yt,{children:i.jsx("span",{className:"text-sm font-medium text-foreground","data-testid":`text-budget-${R.id}`,children:wL(R.totalBudget||0)})}),i.jsx(yt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-1",children:[e&&i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>e(R.id),title:"View Details","data-testid":`button-view-${R.id}`,children:i.jsx(Cd,{className:"h-4 w-4"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>F(R),title:"Edit","data-testid":`button-edit-${R.id}`,children:i.jsx(xu,{className:"h-4 w-4"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>q(R.id),title:"Delete","data-testid":`button-delete-${R.id}`,children:i.jsx(Fo,{className:"h-4 w-4"})})]})})]},R.id)),D.length===0&&i.jsx(Br,{children:i.jsx(yt,{colSpan:8,className:"text-center py-12",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(Vi,{className:"h-6 w-6 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-no-results",children:_||N!=="all"?"No clients match your current filters.":"No clients yet. Add your first client to get started."}),(_||N!=="all")&&i.jsx(be,{variant:"outline",size:"sm",onClick:()=>{w(""),C("all")},"data-testid":"button-clear-filters",children:"Clear Filters"})]})})})]})]})})}),i.jsx(Ur,{open:f,onOpenChange:m,children:i.jsxs(Lr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsx(zr,{children:i.jsx(Wr,{children:g?"Edit Client":"Add New Client"})}),i.jsxs("form",{onSubmit:re,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"client-name",children:"Client Name"}),i.jsx(Ue,{id:"client-name",type:"text",value:j.name,onChange:R=>A({...j,name:R.target.value}),required:!0,"data-testid":"input-client-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"client-industry",children:"Industry"}),i.jsx(Ue,{id:"client-industry",type:"text",value:j.industry,onChange:R=>A({...j,industry:R.target.value}),"data-testid":"input-client-industry"})]})]}),i.jsx(ml,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"contact-name",children:"Contact Name"}),i.jsx(Ue,{id:"contact-name",type:"text",value:j.contact_name,onChange:R=>A({...j,contact_name:R.target.value}),"data-testid":"input-contact-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"contact-email",children:"Contact Email"}),i.jsx(Ue,{id:"contact-email",type:"email",value:j.contact_email,onChange:R=>A({...j,contact_email:R.target.value}),"data-testid":"input-contact-email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"contact-phone",children:"Contact Phone"}),i.jsx(Ue,{id:"contact-phone",type:"tel",value:j.contact_phone,onChange:R=>A({...j,contact_phone:R.target.value}),"data-testid":"input-contact-phone"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"client-website",children:"Website"}),i.jsx(Ue,{id:"client-website",type:"url",value:j.website,onChange:R=>A({...j,website:R.target.value}),"data-testid":"input-client-website"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Status"}),i.jsxs(_t,{value:j.status,onValueChange:R=>A({...j,status:R}),children:[i.jsx(wt,{"data-testid":"select-status",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"active",children:"Active"}),i.jsx(Ee,{value:"paused",children:"Paused"}),i.jsx(Ee,{value:"completed",children:"Completed"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Priority"}),i.jsxs(_t,{value:j.priority,onValueChange:R=>A({...j,priority:R}),children:[i.jsx(wt,{"data-testid":"select-priority",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"low",children:"Low"}),i.jsx(Ee,{value:"medium",children:"Medium"}),i.jsx(Ee,{value:"high",children:"High"}),i.jsx(Ee,{value:"critical",children:"Critical"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Health Status"}),i.jsxs(_t,{value:j.health_status,onValueChange:R=>A({...j,health_status:R}),children:[i.jsx(wt,{"data-testid":"select-health-status",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"healthy",children:"Healthy"}),i.jsx(Ee,{value:"needs_attention",children:"Needs Attention"}),i.jsx(Ee,{value:"at_risk",children:"At Risk"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"start-date",children:"Start Date"}),i.jsx(Ue,{id:"start-date",type:"date",value:j.start_date,onChange:R=>A({...j,start_date:R.target.value}),"data-testid":"input-start-date"})]})]}),i.jsx(ml,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Weekly Meeting Schedule"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Meeting Day"}),i.jsxs(_t,{value:j.weekly_meeting_day,onValueChange:R=>A({...j,weekly_meeting_day:R==="_none"?"":R}),children:[i.jsx(wt,{"data-testid":"select-meeting-day",children:i.jsx(jt,{placeholder:"No recurring meeting"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"_none",children:"No recurring meeting"}),i.jsx(Ee,{value:"0",children:"Sunday"}),i.jsx(Ee,{value:"1",children:"Monday"}),i.jsx(Ee,{value:"2",children:"Tuesday"}),i.jsx(Ee,{value:"3",children:"Wednesday"}),i.jsx(Ee,{value:"4",children:"Thursday"}),i.jsx(Ee,{value:"5",children:"Friday"}),i.jsx(Ee,{value:"6",children:"Saturday"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"meeting-time",children:"Meeting Time"}),i.jsx(Ue,{id:"meeting-time",type:"time",value:j.meeting_time,onChange:R=>A({...j,meeting_time:R.target.value}),"data-testid":"input-meeting-time"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Set a weekly meeting day to automatically prioritize related tasks for assigned employees."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Services Enabled"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map(R=>i.jsxs("label",{className:"flex items-center gap-2 p-3 border rounded-md cursor-pointer hover-elevate","data-testid":`checkbox-service-${R.id}`,children:[i.jsx("input",{type:"checkbox",checked:j.selectedServices.includes(R.id),onChange:()=>X(R.id),className:"h-4 w-4 rounded border-input"}),i.jsx("span",{className:"text-sm text-foreground",children:R.name})]},R.id))})]}),i.jsx(ml,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Assign Team Members (",j.selectedEmployees.length," assigned)"]}),j.selectedServices.length===0?i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-muted text-sm text-muted-foreground border",children:[i.jsx(Dn,{className:"h-4 w-4"}),"Please select at least one service above before assigning team members"]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Select employees and their roles for this client"}),i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:l.map(R=>{var B;const H=(B=j.selectedEmployees.find(W=>W.employee_id===R.id))==null?void 0:B.service_id;return i.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-md","data-testid":`employee-assignment-${R.id}`,children:[i.jsx("input",{type:"checkbox",checked:j.selectedEmployees.some(W=>W.employee_id===R.id),onChange:W=>{W.target.checked?A({...j,selectedEmployees:[...j.selectedEmployees,{employee_id:R.id,service_id:j.selectedServices[0]}]}):A({...j,selectedEmployees:j.selectedEmployees.filter(te=>te.employee_id!==R.id)})},className:"h-4 w-4 rounded border-input"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-foreground",children:R.full_name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:R.email})]}),j.selectedEmployees.some(W=>W.employee_id===R.id)&&i.jsxs(_t,{value:H||"",onValueChange:W=>{A({...j,selectedEmployees:j.selectedEmployees.map(te=>te.employee_id===R.id?{...te,service_id:W}:te)})},children:[i.jsx(wt,{className:"w-40","data-testid":`select-role-${R.id}`,children:i.jsx(jt,{placeholder:"Select role"})}),i.jsx(bt,{children:j.selectedServices.map(W=>{const te=s.find(J=>J.id===W);return i.jsx(Ee,{value:W,children:te==null?void 0:te.name},W)})})]})]},R.id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"client-notes",children:"Notes"}),i.jsx("textarea",{id:"client-notes",value:j.notes,onChange:R=>A({...j,notes:R.target.value}),rows:3,className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","data-testid":"input-client-notes"})]}),i.jsxs(qr,{children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>m(!1),"data-testid":"button-cancel-client",children:"Cancel"}),i.jsx(be,{type:"submit","data-testid":"button-submit-client",children:g?"Update Client":"Create Client"})]})]})]})}),i.jsx(Ur,{open:h&&!!x,onOpenChange:v,children:i.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(zr,{children:i.jsxs(Wr,{children:["Team for ",x==null?void 0:x.name]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Current Team Assignments"}),x!=null&&x.assignments&&x.assignments.length>0?i.jsx("div",{className:"space-y-2",children:x.assignments.map(R=>{var H,B;return i.jsx("div",{className:"flex items-center justify-between gap-4 flex-wrap p-3 bg-muted rounded-md","data-testid":`text-assignment-${R.id}`,children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:(H=R.employee)==null?void 0:H.full_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:(B=R.service)==null?void 0:B.name})]})},R.id)})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No team members assigned yet."})]}),i.jsx(ml,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Assign New Team Members"}),i.jsxs("form",{onSubmit:U,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Team Members (",k.employee_ids.length," selected)"]}),i.jsx("div",{className:"border rounded-md p-3 max-h-60 overflow-y-auto",children:i.jsx("div",{className:"space-y-2",children:l.map(R=>i.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md cursor-pointer hover-elevate","data-testid":`checkbox-assign-employee-${R.id}`,children:[i.jsx("input",{type:"checkbox",checked:k.employee_ids.includes(R.id),onChange:H=>{H.target.checked?I({...k,employee_ids:[...k.employee_ids,R.id]}):I({...k,employee_ids:k.employee_ids.filter(B=>B!==R.id)})},className:"h-4 w-4 rounded border-input"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-foreground",children:R.full_name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:R.email})]})]},R.id))})}),k.employee_ids.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:k.employee_ids.map(R=>{const H=l.find(B=>B.id===R);return i.jsxs(vt,{variant:"secondary",className:"gap-1","data-testid":`badge-selected-employee-${R}`,children:[H==null?void 0:H.full_name,i.jsx("button",{type:"button",onClick:()=>{I({...k,employee_ids:k.employee_ids.filter(B=>B!==R)})},className:"rounded-full p-0.5",children:i.jsx(oi,{className:"h-3 w-3"})})]},R)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Service/Role"}),i.jsxs(_t,{value:k.service_id,onValueChange:R=>I({...k,service_id:R}),children:[i.jsx(wt,{"data-testid":"select-assign-service",children:i.jsx(jt,{placeholder:"Select a service"})}),i.jsx(bt,{children:s.map(R=>i.jsx(Ee,{value:R.id,children:R.name},R.id))})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Only services enabled for this client can be assigned"})]}),i.jsxs(qr,{children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>v(!1),"data-testid":"button-close-assign",children:"Close"}),i.jsx(be,{type:"submit","data-testid":"button-submit-assign",children:"Assign Team Members"})]})]})]})]})]})})]})}const bL=["bg-blue-600","bg-emerald-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-cyan-600","bg-indigo-600","bg-teal-600"];function cTe(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function uTe(e){switch(e){case"healthy":return"default";case"needs_attention":return"secondary";case"at_risk":return"destructive";default:return"outline"}}function dTe(e){switch(e){case"healthy":return"Healthy";case"needs_attention":return"Needs Attention";case"at_risk":return"At Risk";default:return e||"Unknown"}}function fTe(e){switch(e){case"active":return"default";case"paused":return"secondary";case"completed":return"outline";default:return"outline"}}function hTe(e){switch(e){case"on_track":return"default";case"delayed":return"destructive";case"needs_attention":return"secondary";default:return"outline"}}function mTe({clientId:e,onBack:t}){const[r,n]=p.useState(null),[a,s]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState([]),[m,h]=p.useState(!0),[v,g]=p.useState(!1),[y,x]=p.useState({employee_id:"",service_id:""}),{showToast:b}=yr();p.useEffect(()=>{_()},[e]);const _=async()=>{try{h(!0);const[k,I,T,P,V]=await Promise.all([ce.from("clients").select("*").eq("id",e).maybeSingle(),ce.from("client_assignments").select("*, profiles(*), services(*)").eq("client_id",e),ce.from("weekly_reports").select("*, profiles(*), services(*)").eq("client_id",e).order("week_start_date",{ascending:!1}),ce.from("profiles").select("*").eq("role","employee").eq("status","active"),ce.from("services").select("*").eq("is_active",!0)]);k.data&&n(k.data),I.data&&s(I.data.map(F=>({...F,employee:F.profiles,service:F.services}))),T.data&&l(T.data.map(F=>({...F,employee:F.profiles,service:F.services}))),P.data&&u(P.data),V.data&&f(V.data)}catch(k){console.error("Error loading client data:",k),b("Failed to load client data","error")}finally{h(!1)}},w=async k=>{if(k.preventDefault(),!y.employee_id||!y.service_id){b("Please select both employee and service","error");return}if(a.find(T=>T.employee_id===y.employee_id&&T.service_id===y.service_id)){b("This employee is already assigned to this service","error");return}try{const{error:T}=await ce.from("client_assignments").insert({client_id:e,employee_id:y.employee_id,service_id:y.service_id});if(T)throw T;b("Employee assigned successfully","success"),g(!1),x({employee_id:"",service_id:""}),_()}catch(T){console.error("Error assigning employee:",T),b("Failed to assign employee","error")}},N=async k=>{if(confirm("Are you sure you want to remove this assignment?"))try{const{error:I}=await ce.from("client_assignments").delete().eq("id",k);if(I)throw I;b("Assignment removed successfully","success"),_()}catch(I){console.error("Error removing assignment:",I),b("Failed to remove assignment","error")}},C=o.filter(k=>k.status==="on_track").length,j=o.filter(k=>k.status==="needs_attention"||k.status==="delayed").length,A=new Set(a.map(k=>{var I;return(I=k.service)==null?void 0:I.name}).filter(Boolean));return m?i.jsxs("div",{className:"space-y-6","data-testid":"loading-client-detail",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ne,{className:"h-9 w-9"}),i.jsx(Ne,{className:"h-8 w-64"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(k=>i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-5",children:[i.jsx(Ne,{className:"h-4 w-20 mb-3"}),i.jsx(Ne,{className:"h-8 w-16 mb-1"}),i.jsx(Ne,{className:"h-3 w-24"})]})},k))}),i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-6",children:[i.jsx(Ne,{className:"h-5 w-40 mb-4"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(k=>i.jsx(Ne,{className:"h-24"},k))})]})})]}):r?i.jsxs("div",{className:"space-y-6","data-testid":"client-detail-page",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx(be,{variant:"ghost",size:"icon",onClick:t,"data-testid":"button-back-to-clients",children:i.jsx(Pw,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-client-name",children:r.name}),i.jsx(vt,{variant:fTe(r.status),"data-testid":"badge-client-status",children:r.status}),i.jsx(vt,{variant:uTe(r.health_status),"data-testid":"badge-client-health",children:dTe(r.health_status)})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[r.industry||"No industry"," ",r.start_date&&` Since ${Bt(new Date(r.start_date),"MMM yyyy")}`]})]})]}),i.jsxs(be,{onClick:()=>g(!0),"data-testid":"button-assign-employee",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Assign Employee"]})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Ce,{"data-testid":"card-stat-team-size",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:"Team Size"}),i.jsx("p",{className:"text-3xl font-semibold mt-1 tracking-tight",children:a.length}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[A.size," service",A.size!==1?"s":""]})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:i.jsx(ra,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),i.jsx(Ce,{"data-testid":"card-stat-reports",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:"Total Reports"}),i.jsx("p",{className:"text-3xl font-semibold mt-1 tracking-tight",children:o.length}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[C," on track"]})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:i.jsx(En,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]})})}),i.jsx(Ce,{"data-testid":"card-stat-on-track",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:"On Track"}),i.jsx("p",{className:"text-3xl font-semibold mt-1 tracking-tight",children:C}),o.length>0&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[Math.round(C/o.length*100),"% rate"]})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:i.jsx(kn,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})}),i.jsx(Ce,{"data-testid":"card-stat-attention",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:"Needs Attention"}),i.jsx("p",{className:"text-3xl font-semibold mt-1 tracking-tight",children:j}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"delayed or flagged"})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-red-50 dark:bg-red-950/40",children:i.jsx(Dn,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})})})]}),(r.contact_name||r.contact_email||r.contact_phone||r.website)&&i.jsxs(Ce,{children:[i.jsx(wr,{className:"pb-3",children:i.jsx(br,{className:"text-[15px] font-semibold",children:"Contact Information"})}),i.jsx(Ae,{children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.contact_name&&i.jsxs("div",{className:"flex items-center gap-3","data-testid":"text-contact-name",children:[i.jsx("div",{className:"rounded-md bg-muted p-2",children:i.jsx(ra,{className:"h-4 w-4 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Contact"}),i.jsx("p",{className:"text-sm font-medium truncate",children:r.contact_name})]})]}),r.contact_email&&i.jsxs("div",{className:"flex items-center gap-3","data-testid":"text-contact-email",children:[i.jsx("div",{className:"rounded-md bg-muted p-2",children:i.jsx(Yf,{className:"h-4 w-4 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),i.jsx("p",{className:"text-sm font-medium truncate",children:r.contact_email})]})]}),r.contact_phone&&i.jsxs("div",{className:"flex items-center gap-3","data-testid":"text-contact-phone",children:[i.jsx("div",{className:"rounded-md bg-muted p-2",children:i.jsx(P$,{className:"h-4 w-4 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),i.jsx("p",{className:"text-sm font-medium truncate",children:r.contact_phone})]})]}),r.website&&i.jsxs("div",{className:"flex items-center gap-3","data-testid":"text-contact-website",children:[i.jsx("div",{className:"rounded-md bg-muted p-2",children:i.jsx(xC,{className:"h-4 w-4 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Website"}),i.jsx("p",{className:"text-sm font-medium truncate",children:r.website})]})]})]})})]}),r.notes&&i.jsxs(Ce,{children:[i.jsx(wr,{className:"pb-3",children:i.jsx(br,{className:"text-[15px] font-semibold",children:"Notes"})}),i.jsx(Ae,{children:i.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap","data-testid":"text-client-notes",children:r.notes})})]}),i.jsxs(Ce,{children:[i.jsx(wr,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsx(br,{className:"text-[15px] font-semibold",children:"Assigned Team"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," member",a.length!==1?"s":""]})]})}),i.jsx(Ae,{children:a.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ra,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No employees assigned yet"}),i.jsxs(be,{variant:"outline",size:"sm",onClick:()=>g(!0),"data-testid":"button-assign-first",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Assign Employee"]})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.map((k,I)=>{var P,V,F;const T=bL[I%bL.length];return i.jsxs("div",{className:"rounded-md border p-4 space-y-3","data-testid":`card-assignment-${k.id}`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx(ws,{className:"h-9 w-9 shrink-0",children:i.jsx(bs,{className:`${T} text-white text-xs font-medium`,children:k.employee?cTe(k.employee.full_name):"??"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate","data-testid":`text-assignment-employee-${k.id}`,children:((P=k.employee)==null?void 0:P.full_name)||"Unknown"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:(V=k.employee)==null?void 0:V.email})]})]}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>N(k.id),"data-testid":`button-remove-assignment-${k.id}`,children:i.jsx(oi,{className:"h-4 w-4"})})]}),i.jsx(vt,{variant:"secondary","data-testid":`badge-service-${k.id}`,children:((F=k.service)==null?void 0:F.name)||"No service"})]},k.id)})})})]}),i.jsxs(Ce,{children:[i.jsx(wr,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsx(br,{className:"text-[15px] font-semibold",children:"Work Reports"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.length," report",o.length!==1?"s":""]})]})}),i.jsx(Ae,{className:"p-0",children:o.length===0?i.jsxs("div",{className:"text-center py-8 px-4",children:[i.jsx(En,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No reports submitted yet"})]}):i.jsxs(Ro,{children:[i.jsx(Io,{children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Date"}),i.jsx(Et,{children:"Employee"}),i.jsx(Et,{children:"Service"}),i.jsx(Et,{children:"Status"}),i.jsx(Et,{children:"Summary"})]})}),i.jsx(Do,{children:o.map(k=>{var I,T,P;return i.jsxs(Br,{"data-testid":`row-report-${k.id}`,children:[i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Nn,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"}),i.jsx("span",{children:Bt(new Date(k.week_start_date),"MMM d, yyyy")})]})}),i.jsx(yt,{children:i.jsx("span",{className:"text-sm font-medium","data-testid":`text-report-employee-${k.id}`,children:((I=k.employee)==null?void 0:I.full_name)||"Unknown"})}),i.jsx(yt,{children:i.jsx("span",{className:"text-sm",children:((T=k.service)==null?void 0:T.name)||"-"})}),i.jsx(yt,{children:i.jsx(vt,{variant:hTe(k.status),"data-testid":`badge-report-status-${k.id}`,children:((P=k.status)==null?void 0:P.replace("_"," "))||"Unknown"})}),i.jsx(yt,{children:i.jsx("p",{className:"text-sm text-muted-foreground max-w-xs truncate",children:k.work_summary||"No summary provided"})})]},k.id)})})]})})]}),i.jsx(Ur,{open:v,onOpenChange:g,children:i.jsxs(Lr,{"data-testid":"dialog-assign-employee",children:[i.jsx(zr,{children:i.jsxs(Wr,{children:["Assign Employee to ",r.name]})}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Employee"}),i.jsxs(_t,{value:y.employee_id,onValueChange:k=>x({...y,employee_id:k}),children:[i.jsx(wt,{"data-testid":"select-assign-employee",children:i.jsx(jt,{placeholder:"Select an employee"})}),i.jsx(bt,{children:c.map(k=>i.jsxs(Ee,{value:k.id,children:[k.full_name," (",k.email,")"]},k.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Service"}),i.jsxs(_t,{value:y.service_id,onValueChange:k=>x({...y,service_id:k}),children:[i.jsx(wt,{"data-testid":"select-assign-service",children:i.jsx(jt,{placeholder:"Select a service"})}),i.jsx(bt,{children:d.map(k=>i.jsx(Ee,{value:k.id,children:k.name},k.id))})]})]}),i.jsxs(qr,{children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>g(!1),"data-testid":"button-cancel-assign",children:"Cancel"}),i.jsx(be,{type:"submit","data-testid":"button-submit-assign",children:"Assign"})]})]})]})})]}):i.jsx(Ce,{children:i.jsxs(Ae,{className:"py-16 text-center",children:[i.jsx(Dn,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Client not found"}),i.jsxs(be,{variant:"outline",onClick:t,"data-testid":"button-go-back-not-found",children:[i.jsx(Pw,{className:"h-4 w-4 mr-2"}),"Go back"]})]})})}function pTe(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,gTe(a,...t)]}function gTe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function vTe(e){const t=xTe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(wTe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function xTe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=_Te(a),l=bTe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yTe=Symbol("radix.slottable");function wTe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yTe}function bTe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function _Te(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bP=jTe.reduce((e,t)=>{const r=vTe(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),pj="Checkbox",[STe]=pTe(pj),[NTe,_P]=STe(pj);function kTe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,h]=_l({prop:r,defaultProp:a??!1,onChange:c,caller:pj}),[v,g]=p.useState(null),[y,x]=p.useState(null),b=p.useRef(!1),_=v?!!o||!!v.closest("form"):!0,w={checked:m,disabled:s,setChecked:h,control:v,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Nd(a)?!1:a,isFormControl:_,bubbleInput:y,setBubbleInput:x};return i.jsx(NTe,{scope:t,...w,children:ETe(f)?f(w):n})}var tX="CheckboxTrigger",rX=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:h,bubbleInput:v}=_P(tX,e),g=mr(a,d),y=p.useRef(c);return p.useEffect(()=>{const x=s==null?void 0:s.form;if(x){const b=()=>f(y.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[s,f]),i.jsx(bP.button,{type:"button",role:"checkbox","aria-checked":Nd(c)?"mixed":c,"aria-required":u,"data-state":oX(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:dt(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:dt(r,x=>{f(b=>Nd(b)?!0:!b),v&&h&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})})});rX.displayName=tX;var jP=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(kTe,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>i.jsxs(i.Fragment,{children:[i.jsx(rX,{...f,ref:t,__scopeCheckbox:r}),m&&i.jsx(iX,{__scopeCheckbox:r})]})})});jP.displayName=pj;var nX="CheckboxIndicator",aX=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=_P(nX,r);return i.jsx(rs,{present:n||Nd(s.checked)||s.checked===!0,children:i.jsx(bP.span,{"data-state":oX(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});aX.displayName=nX;var sX="CheckboxBubbleInput",iX=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:h}=_P(sX,e),v=mr(r,h),g=yP(s),y=DC(n);p.useEffect(()=>{const b=m;if(!b)return;const _=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(_,"checked").set,C=!a.current;if(g!==s&&N){const j=new Event("click",{bubbles:C});b.indeterminate=Nd(s),N.call(b,Nd(s)?!1:s),b.dispatchEvent(j)}},[m,g,s,a]);const x=p.useRef(Nd(s)?!1:s);return i.jsx(bP.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});iX.displayName=sX;function ETe(e){return typeof e=="function"}function Nd(e){return e==="indeterminate"}function oX(e){return Nd(e)?"indeterminate":e?"checked":"unchecked"}const Dd=p.forwardRef(({className:e,...t},r)=>i.jsx(jP,{ref:r,className:lt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(aX,{className:lt("flex items-center justify-center text-current"),children:i.jsx(Rp,{className:"h-4 w-4"})})}));Dd.displayName=jP.displayName;const _L=["bg-blue-600","bg-emerald-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-cyan-600","bg-indigo-600","bg-teal-600","bg-pink-600","bg-orange-600"],jL=[{bg:"bg-blue-50 dark:bg-blue-950/40",text:"text-blue-700 dark:text-blue-300"},{bg:"bg-emerald-50 dark:bg-emerald-950/40",text:"text-emerald-700 dark:text-emerald-300"},{bg:"bg-violet-50 dark:bg-violet-950/40",text:"text-violet-700 dark:text-violet-300"},{bg:"bg-amber-50 dark:bg-amber-950/40",text:"text-amber-700 dark:text-amber-300"},{bg:"bg-rose-50 dark:bg-rose-950/40",text:"text-rose-700 dark:text-rose-300"},{bg:"bg-cyan-50 dark:bg-cyan-950/40",text:"text-cyan-700 dark:text-cyan-300"}];function CTe(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function J4(e,t){return t<=0?0:Math.min(Math.round(e/t*100),100)}function ATe(e,t){const r=J4(e,t);return r>=75?{label:"High",variant:"destructive"}:r>=50?{label:"Medium",variant:"default"}:{label:"Low",variant:"secondary"}}function PTe(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(!1),[f,m]=p.useState(!1),[h,v]=p.useState(null),[g,y]=p.useState(null),[x,b]=p.useState(""),[_,w]=p.useState("all"),[N,C]=p.useState("all"),[j,A]=p.useState({email:"",password:"",full_name:"",role:"employee",status:"active",phone:"",max_capacity:"5",skills:[],manager_id:null}),[k,I]=p.useState({client_id:"",service_id:""});p.useEffect(()=>{T()},[]);const T=async()=>{try{const[M,R,H,B]=await Promise.all([ce.from("profiles").select("*").order("created_at",{ascending:!1}),ce.from("clients").select("*").eq("status","active"),ce.from("services").select("*").eq("is_active",!0),ce.from("client_assignments").select("*, clients(*), services(*)")]);if(M.data){const W=M.data.map(te=>{var oe;const J=((oe=B.data)==null?void 0:oe.filter(_e=>_e.employee_id===te.id))||[];return{...te,assignmentCount:J.length,assignments:J.map(_e=>({..._e,client:_e.clients,service:_e.services}))}});r(W)}R.data&&a(R.data),H.data&&o(H.data)}catch(M){console.error("Error loading employees:",M)}finally{c(!1)}},P=M=>{var R;if(M){v(M);const H=Array.isArray(M.skills)?M.skills:[];A({email:M.email,password:"",full_name:M.full_name,role:M.role,status:M.status,phone:M.phone||"",max_capacity:((R=M.max_capacity)==null?void 0:R.toString())||"5",skills:H,manager_id:M.manager_id||null})}else v(null),A({email:"",password:"",full_name:"",role:"employee",status:"active",phone:"",max_capacity:"5",skills:[],manager_id:null});d(!0)},V=M=>{y(M),I({client_id:"",service_id:""}),m(!0)},F=async M=>{M.preventDefault();try{if(h){const{error:R}=await ce.from("profiles").update({email:j.email,full_name:j.full_name,role:j.role,status:j.status,phone:j.phone||null,max_capacity:parseInt(j.max_capacity),skills:j.skills,manager_id:j.manager_id||null,updated_at:new Date().toISOString()}).eq("id",h.id);if(R)throw R}else{const{data:R,error:H}=await ce.auth.signUp({email:j.email,password:j.password});if(H)throw H;if(R.user){const{error:B}=await ce.from("profiles").insert({id:R.user.id,email:j.email,full_name:j.full_name,role:j.role,status:j.status,phone:j.phone||null,max_capacity:parseInt(j.max_capacity),skills:j.skills,manager_id:j.manager_id||null});if(B)throw B}}d(!1),T()}catch(R){console.error("Error saving employee:",R),e(R.message||"Failed to save employee","error")}},Y=async M=>{if(M.preventDefault(),!!g)try{const{data:R}=await ce.from("client_services").select("service_id").eq("client_id",k.client_id).eq("service_id",k.service_id).maybeSingle();if(!R){e("This service is not enabled for this client. Please enable it first.","error");return}const{error:H}=await ce.from("client_assignments").insert({client_id:k.client_id,employee_id:g.id,service_id:k.service_id});if(H){if(H.code==="23505")e("This employee is already assigned to this service for this client","error");else throw H;return}m(!1),T()}catch(R){console.error("Error creating assignment:",R),e("Failed to create assignment","error")}},re=async M=>{try{const R=M.status==="active"?"inactive":"active",{error:H}=await ce.from("profiles").update({status:R,updated_at:new Date().toISOString()}).eq("id",M.id);if(H)throw H;T()}catch(R){console.error("Error updating employee status:",R)}},U=M=>{M&&!j.skills.includes(M)&&A({...j,skills:[...j.skills,M]})},q=M=>{A({...j,skills:j.skills.filter(R=>R!==M)})},X=(M,R)=>{const H=M/R*100;return H>=100?"text-red-600 font-semibold":H>=75?"text-orange-600 font-semibold":H>=50?"text-yellow-600 font-medium":"text-green-600"},pe=p.useMemo(()=>{const M=t.length,R=t.filter(W=>W.status==="active").length,H=t.filter(W=>{const te=W.assignmentCount||0,J=W.max_capacity||5;return te>=J*.75}).length,B=M>0?Math.round(t.reduce((W,te)=>{const J=te.assignmentCount||0,oe=te.max_capacity||5;return W+J4(J,oe)},0)/M):0;return{total:M,active:R,highWorkload:H,avgCapacity:B}},[t]),xe=p.useMemo(()=>t.filter(M=>{const R=M.full_name.toLowerCase().includes(x.toLowerCase())||M.email.toLowerCase().includes(x.toLowerCase())||Array.isArray(M.skills)&&M.skills.some(W=>W.toLowerCase().includes(x.toLowerCase())),H=_==="all"||M.role===_,B=N==="all"||M.status===N;return R&&H&&B}),[t,x,_,N]),D=[{label:"Total Team Members",value:pe.total,sub:`${pe.active} active`,icon:ra,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-950/40"},{label:"Active Members",value:pe.active,sub:`${pe.total-pe.active} inactive`,icon:Xf,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-950/40"},{label:"High Workload",value:pe.highWorkload,sub:"at 75%+ capacity",icon:qi,color:"text-red-600 dark:text-red-400",bg:"bg-red-50 dark:bg-red-950/40"},{label:"Avg Capacity Used",value:`${pe.avgCapacity}%`,sub:"across all members",icon:T2,color:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-950/40"}];return l?i.jsxs("div",{className:"space-y-6","data-testid":"employees-loading",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ne,{className:"h-9 w-36"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[1,2,3,4].map(M=>i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{className:"h-4 w-24"}),i.jsx(Ne,{className:"h-9 w-16"}),i.jsx(Ne,{className:"h-3 w-20"})]}),i.jsx(Ne,{className:"h-10 w-10 rounded-lg"})]})})},M))}),i.jsx(Ne,{className:"h-10 w-full"}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(M=>i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Ne,{className:"h-10 w-10 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Ne,{className:"h-4 w-40"}),i.jsx(Ne,{className:"h-3 w-56"})]}),i.jsx(Ne,{className:"h-4 w-20"}),i.jsx(Ne,{className:"h-6 w-16 rounded-full"}),i.jsx(Ne,{className:"h-4 w-24"})]},M))})})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-employees-title",children:"Employees"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage team members, skills, and assignments"})]}),i.jsxs(be,{onClick:()=>P(),"data-testid":"button-add-employee",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Add Employee"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:D.map(M=>{const R=M.icon;return i.jsx(Ce,{"data-testid":`card-stat-${M.label.toLowerCase().replace(/\s/g,"-")}`,children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[13px] font-medium text-muted-foreground",children:M.label}),i.jsx("p",{className:"text-3xl font-semibold mt-2 tracking-tight","data-testid":`text-stat-value-${M.label.toLowerCase().replace(/\s/g,"-")}`,children:M.value}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:M.sub})]}),i.jsx("div",{className:`rounded-lg p-2.5 ${M.bg}`,children:i.jsx(R,{className:`h-5 w-5 ${M.color}`})})]})})},M.label)})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"relative flex-1 w-full",children:[i.jsx(Vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{type:"text",placeholder:"Search employees by name, email, or skills...",value:x,onChange:M=>b(M.target.value),className:"pl-10","data-testid":"input-search-employees"})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-1","data-testid":"filter-role-group",children:[i.jsx(be,{variant:_==="all"?"default":"outline",size:"sm",onClick:()=>w("all"),"data-testid":"button-filter-role-all",className:_==="all"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"All"}),i.jsx(be,{variant:_==="employee"?"default":"outline",size:"sm",onClick:()=>w("employee"),"data-testid":"button-filter-role-employee",className:_==="employee"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"Employees"}),i.jsx(be,{variant:_==="admin"?"default":"outline",size:"sm",onClick:()=>w("admin"),"data-testid":"button-filter-role-admin",className:_==="admin"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"Admins"})]}),i.jsxs("div",{className:"flex items-center gap-1","data-testid":"filter-status-group",children:[i.jsx(be,{variant:N==="all"?"default":"outline",size:"sm",onClick:()=>C("all"),"data-testid":"button-filter-status-all",className:N==="all"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"All"}),i.jsx(be,{variant:N==="active"?"default":"outline",size:"sm",onClick:()=>C("active"),"data-testid":"button-filter-status-active",className:N==="active"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"Active"}),i.jsx(be,{variant:N==="inactive"?"default":"outline",size:"sm",onClick:()=>C("inactive"),"data-testid":"button-filter-status-inactive",className:N==="inactive"?"toggle-elevate toggle-elevated":"toggle-elevate",children:"Inactive"})]})]})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsxs(Ro,{children:[i.jsx(Io,{children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Employee"}),i.jsx(Et,{children:"Skills"}),i.jsx(Et,{children:"Role"}),i.jsx(Et,{children:"Workload"}),i.jsx(Et,{children:"Assignments"}),i.jsx(Et,{children:"Status"}),i.jsx(Et,{className:"text-right",children:"Actions"})]})}),i.jsxs(Do,{children:[xe.map((M,R)=>{const H=_L[R%_L.length],B=J4(M.assignmentCount||0,M.max_capacity||5),W=ATe(M.assignmentCount||0,M.max_capacity||5),te=Array.isArray(M.skills)?M.skills:[];return i.jsxs(Br,{"data-testid":`row-employee-${M.id}`,children:[i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ws,{"data-testid":`avatar-employee-${M.id}`,children:i.jsx(bs,{className:`${H} text-white text-xs font-medium`,children:CTe(M.full_name)})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-foreground","data-testid":`text-employee-name-${M.id}`,children:M.full_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M.email})]})]})}),i.jsx(yt,{children:i.jsx("div",{className:"flex flex-wrap gap-1","data-testid":`skills-employee-${M.id}`,children:te.length>0?i.jsxs(i.Fragment,{children:[te.slice(0,3).map((J,oe)=>{const _e=jL[oe%jL.length];return i.jsx(vt,{variant:"secondary",className:`text-xs ${_e.bg} ${_e.text}`,"data-testid":`badge-skill-${M.id}-${oe}`,children:J},oe)}),te.length>3&&i.jsxs(vt,{variant:"outline",className:"text-xs","data-testid":`badge-skills-more-${M.id}`,children:["+",te.length-3," more"]})]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"No skills"})})}),i.jsx(yt,{children:i.jsx(vt,{variant:M.role==="admin"?"destructive":"default",className:"text-xs","data-testid":`badge-role-${M.id}`,children:M.role})}),i.jsx(yt,{children:i.jsxs("div",{className:"space-y-1.5 min-w-[120px]","data-testid":`workload-employee-${M.id}`,children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:[M.assignmentCount||0,"/",M.max_capacity]}),i.jsx(vt,{variant:W.variant,className:"text-xs","data-testid":`badge-workload-${M.id}`,children:W.label})]}),i.jsx(Wd,{value:B,className:"h-1.5","data-testid":`progress-workload-${M.id}`})]})}),i.jsx(yt,{children:i.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>V(M),"data-testid":`button-view-assignments-${M.id}`,children:[i.jsx(ti,{className:"h-4 w-4 mr-1"}),"View (",M.assignmentCount||0,")"]})}),i.jsx(yt,{children:i.jsx(be,{variant:"ghost",size:"sm",onClick:()=>re(M),"data-testid":`button-toggle-status-${M.id}`,children:M.status==="active"?i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"h-4 w-4 text-green-600 mr-1"}),i.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Active"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ow,{className:"h-4 w-4 text-muted-foreground mr-1"}),i.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Inactive"})]})})}),i.jsx(yt,{className:"text-right",children:i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>P(M),"data-testid":`button-edit-employee-${M.id}`,children:i.jsx(xu,{className:"h-4 w-4"})})})]},M.id)}),xe.length===0&&i.jsx(Br,{children:i.jsx(yt,{colSpan:7,className:"text-center py-12 text-muted-foreground","data-testid":"text-no-employees",children:x||_!=="all"||N!=="all"?"No employees match your filters.":"No employees yet. Add your first team member to get started."})})]})]})})}),i.jsx(Ur,{open:u,onOpenChange:d,children:i.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(zr,{children:i.jsx(Wr,{children:h?"Edit Employee":"Add New Employee"})}),i.jsxs("form",{onSubmit:F,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Full Name"}),i.jsx(Ue,{type:"text",value:j.full_name,onChange:M=>A({...j,full_name:M.target.value}),required:!0,"data-testid":"input-employee-name"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Email Address"}),i.jsx(Ue,{type:"email",value:j.email,onChange:M=>A({...j,email:M.target.value}),required:!0,disabled:!!h,"data-testid":"input-employee-email"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Phone"}),i.jsx(Ue,{type:"tel",value:j.phone,onChange:M=>A({...j,phone:M.target.value}),"data-testid":"input-employee-phone"})]})]}),!h&&i.jsxs("div",{children:[i.jsx(ye,{children:"Password"}),i.jsx(Ue,{type:"password",value:j.password,onChange:M=>A({...j,password:M.target.value}),required:!0,minLength:6,"data-testid":"input-employee-password"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum 6 characters"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Role"}),i.jsxs(_t,{value:j.role,onValueChange:M=>A({...j,role:M}),children:[i.jsx(wt,{"data-testid":"select-employee-role",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"employee",children:"Employee"}),i.jsx(Ee,{value:"admin",children:"Admin"})]})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Status"}),i.jsxs(_t,{value:j.status,onValueChange:M=>A({...j,status:M}),children:[i.jsx(wt,{"data-testid":"select-employee-status",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"active",children:"Active"}),i.jsx(Ee,{value:"inactive",children:"Inactive"})]})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Max Capacity"}),i.jsx(Ue,{type:"number",min:"1",max:"20",value:j.max_capacity,onChange:M=>A({...j,max_capacity:M.target.value}),"data-testid":"input-employee-capacity"})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Manager (Optional)"}),i.jsxs(_t,{value:j.manager_id||"none",onValueChange:M=>A({...j,manager_id:M==="none"?null:M}),children:[i.jsx(wt,{"data-testid":"select-employee-manager",children:i.jsx(jt,{placeholder:"No manager"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"none",children:"No manager"}),t.filter(M=>M.role==="admin"||M.role==="employee").filter(M=>M.id!==(h==null?void 0:h.id)).map(M=>i.jsxs(Ee,{value:M.id,children:[M.full_name," (",M.role,")"]},M.id))]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Assign a manager to this employee for reporting hierarchy"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Skills"}),i.jsx("div",{className:"border rounded-md p-3 max-h-60 overflow-y-auto bg-background",children:i.jsx("div",{className:"space-y-2",children:s.map(M=>i.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md cursor-pointer hover-elevate",children:[i.jsx(Dd,{checked:j.skills.includes(M.name),onCheckedChange:R=>{R?U(M.name):q(M.name)},"data-testid":`checkbox-skill-${M.id}`}),i.jsx("span",{className:"text-sm text-foreground",children:M.name})]},M.id))})}),j.skills.length>0&&i.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:j.skills.map((M,R)=>i.jsxs(vt,{variant:"secondary",className:"gap-1",children:[M,i.jsx("button",{type:"button",onClick:()=>q(M),"data-testid":`button-remove-skill-${R}`,children:i.jsx(oi,{className:"h-3 w-3"})})]},R))})]}),i.jsxs(qr,{children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-employee",children:"Cancel"}),i.jsx(be,{type:"submit","data-testid":"button-save-employee",children:h?"Update Employee":"Create Employee"})]})]})]})}),i.jsx(Ur,{open:f&&!!g,onOpenChange:m,children:i.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(zr,{children:i.jsxs(Wr,{children:["Assignments for ",g==null?void 0:g.full_name]})}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Current Assignments"}),i.jsxs("span",{className:`text-sm ${X((g==null?void 0:g.assignmentCount)||0,(g==null?void 0:g.max_capacity)||5)}`,children:[(g==null?void 0:g.assignmentCount)||0," / ",g==null?void 0:g.max_capacity," capacity"]})]}),g!=null&&g.assignments&&g.assignments.length>0?i.jsx("div",{className:"space-y-2",children:g.assignments.map(M=>{var R,H;return i.jsx("div",{className:"flex items-center justify-between gap-3 flex-wrap p-3 bg-muted rounded-md",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:(R=M.client)==null?void 0:R.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:(H=M.service)==null?void 0:H.name})]})},M.id)})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No assignments yet."})]}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Assign New Client"}),i.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Client"}),i.jsxs(_t,{value:k.client_id,onValueChange:M=>I({...k,client_id:M}),children:[i.jsx(wt,{"data-testid":"select-assign-client",children:i.jsx(jt,{placeholder:"Select a client"})}),i.jsx(bt,{children:n.map(M=>i.jsx(Ee,{value:M.id,children:M.name},M.id))})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Service"}),i.jsxs(_t,{value:k.service_id,onValueChange:M=>I({...k,service_id:M}),children:[i.jsx(wt,{"data-testid":"select-assign-service",children:i.jsx(jt,{placeholder:"Select a service"})}),i.jsx(bt,{children:s.map(M=>i.jsx(Ee,{value:M.id,children:M.name},M.id))})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Only services enabled for the client will be accepted"})]}),i.jsxs(qr,{children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>m(!1),"data-testid":"button-close-assign",children:"Close"}),i.jsx(be,{type:"submit",disabled:((g==null?void 0:g.assignmentCount)||0)>=((g==null?void 0:g.max_capacity)||5),"data-testid":"button-assign-client",children:"Assign Client"})]})]})]})]})]})})]})}function SL(e){return e?e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"?"}const D5=["bg-blue-100 text-blue-700 dark:bg-blue-950/50 dark:text-blue-400","bg-emerald-100 text-emerald-700 dark:bg-emerald-950/50 dark:text-emerald-400","bg-violet-100 text-violet-700 dark:bg-violet-950/50 dark:text-violet-400","bg-amber-100 text-amber-700 dark:bg-amber-950/50 dark:text-amber-400","bg-rose-100 text-rose-700 dark:bg-rose-950/50 dark:text-rose-400","bg-cyan-100 text-cyan-700 dark:bg-cyan-950/50 dark:text-cyan-400","bg-orange-100 text-orange-700 dark:bg-orange-950/50 dark:text-orange-400"];function NL(e){if(!e)return D5[0];let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);return D5[Math.abs(t)%D5.length]}function TTe(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,m]=p.useState(!1),[h,v]=p.useState({client_id:"",employee_ids:[],service_id:"",account_manager_id:""}),[g,y]=p.useState("all"),[x,b]=p.useState("all"),[_,w]=p.useState("");p.useEffect(()=>{N()},[]);const N=async()=>{try{const[F,Y,re,U]=await Promise.all([ce.from("client_assignments").select(`
          *,
          clients(*),
          profiles(*),
          services(*)
        `),ce.from("clients").select("*").eq("status","active"),ce.from("profiles").select("*").eq("status","active").eq("role","employee"),ce.from("services").select("*").eq("is_active",!0)]);if(F.data){const q=F.data.map(X=>({...X,client:X.clients,employee:X.profiles,service:X.services}));r(q)}Y.data&&a(Y.data),re.data&&o(re.data),U.data&&c(U.data)}catch(F){console.error("Error loading data:",F)}finally{d(!1)}},C=async F=>{if(F.preventDefault(),h.employee_ids.length===0){e("warning","Please select at least one employee");return}try{const{data:Y}=await ce.from("client_services").select("service_id").eq("client_id",h.client_id).eq("service_id",h.service_id).maybeSingle();if(!Y){e("error","This service is not enabled for this client. Please enable it in the client settings first.");return}const re=h.employee_ids.map(q=>({client_id:h.client_id,employee_id:q,service_id:h.service_id,is_account_manager:q===h.account_manager_id})),{error:U}=await ce.from("client_assignments").insert(re);if(U){if(U.code==="23505")e("error","One or more assignments already exist");else throw U;return}m(!1),v({client_id:"",employee_ids:[],service_id:"",account_manager_id:""}),N()}catch(Y){console.error("Error creating assignment:",Y),e("error","Failed to create assignment")}},j=async F=>{if(confirm("Are you sure you want to remove this assignment?"))try{const{error:Y}=await ce.from("client_assignments").delete().eq("id",F);if(Y)throw Y;N()}catch(Y){console.error("Error deleting assignment:",Y)}},A=async(F,Y)=>{try{const{error:re}=await ce.from("client_assignments").update({is_account_manager:!Y}).eq("id",F);if(re)throw re;e(Y?"Removed as account manager":"Set as account manager","success"),N()}catch(re){console.error("Error toggling account manager:",re),e("Failed to update account manager status","error")}};let k=t;if(g!=="all"&&(k=k.filter(F=>F.client_id===g)),x!=="all"&&(k=k.filter(F=>F.employee_id===x)),_.trim()){const F=_.toLowerCase();k=k.filter(Y=>{var re,U,q,X,pe,xe;return((U=(re=Y.client)==null?void 0:re.name)==null?void 0:U.toLowerCase().includes(F))||((X=(q=Y.employee)==null?void 0:q.full_name)==null?void 0:X.toLowerCase().includes(F))||((xe=(pe=Y.service)==null?void 0:pe.name)==null?void 0:xe.toLowerCase().includes(F))})}const I=k.reduce((F,Y)=>{const re=Y.client_id;return F[re]||(F[re]=[]),F[re].push(Y),F},{}),T=p.useMemo(()=>new Set(t.map(Y=>Y.client_id)).size,[t]),P=p.useMemo(()=>new Set(t.map(Y=>Y.employee_id)).size,[t]),V=p.useMemo(()=>new Set(t.map(Y=>Y.service_id)).size,[t]);return u?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ne,{className:"h-9 w-40"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((F,Y)=>i.jsx(Ne,{className:"h-24 w-full"},Y))}),i.jsx(Ne,{className:"h-12 w-full"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ne,{className:"h-48 w-full"}),i.jsx(Ne,{className:"h-48 w-full"})]})]}):i.jsxs("div",{className:"space-y-6","data-testid":"assignments-page",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-page-title",children:"Assignments"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage which team members work on each client account"})]}),i.jsxs(be,{onClick:()=>m(!0),"data-testid":"button-new-assignment",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"New Assignment"]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Ce,{"data-testid":"stat-total-assignments",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Total Assignments"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:t.length})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:i.jsx(Xf,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-active-clients",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Clients Covered"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:T})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:i.jsx(Js,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-assigned-employees",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Team Members"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:P})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-violet-50 dark:bg-violet-950/40",children:i.jsx(ra,{className:"h-5 w-5 text-violet-600 dark:text-violet-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-services-used",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Services Active"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:V})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:i.jsx(ti,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[i.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{placeholder:"Search clients, employees, or services...",value:_,onChange:F=>w(F.target.value),className:"pl-9","data-testid":"input-search-assignments"})]}),i.jsxs(_t,{value:g,onValueChange:y,children:[i.jsxs(wt,{className:"w-[180px]","data-testid":"select-filter-client",children:[i.jsx(Js,{className:"h-4 w-4 mr-2 text-muted-foreground flex-shrink-0"}),i.jsx(jt,{placeholder:"All Clients"})]}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"all",children:"All Clients"}),n.map(F=>i.jsx(Ee,{value:F.id,children:F.name},F.id))]})]}),i.jsxs(_t,{value:x,onValueChange:b,children:[i.jsxs(wt,{className:"w-[180px]","data-testid":"select-filter-employee",children:[i.jsx(ra,{className:"h-4 w-4 mr-2 text-muted-foreground flex-shrink-0"}),i.jsx(jt,{placeholder:"All Employees"})]}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"all",children:"All Employees"}),s.map(F=>i.jsx(Ee,{value:F.id,children:F.full_name},F.id))]})]})]})})}),i.jsxs("div",{className:"space-y-4",children:[Object.entries(I).map(([F,Y])=>{var q;const re=(q=Y[0])==null?void 0:q.client;if(!re)return null;const U=Y.reduce((X,pe)=>{const xe=pe.service_id;return X[xe]||(X[xe]={service:pe.service,members:[]}),X[xe].members.push(pe),X},{});return i.jsxs(Ce,{"data-testid":`card-client-${F}`,children:[i.jsx(wr,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg p-2.5 bg-muted",children:i.jsx(Js,{className:"h-5 w-5 text-foreground"})}),i.jsxs("div",{children:[i.jsx(br,{className:"text-base","data-testid":`text-client-name-${F}`,children:re.name}),re.industry&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:re.industry})]})]}),i.jsxs(vt,{variant:"outline",className:"no-default-active-elevate","data-testid":`badge-member-count-${F}`,children:[Y.length," ",Y.length===1?"member":"members"]})]})}),i.jsx(Ae,{className:"pt-0",children:i.jsx("div",{className:"space-y-4",children:Object.entries(U).map(([X,pe])=>{var xe;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[i.jsx(ti,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground","data-testid":`text-service-${X}`,children:((xe=pe.service)==null?void 0:xe.name)||"Unknown Service"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:pe.members.map(D=>{var M,R,H,B;return i.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-md border border-border","data-testid":`row-assignment-${D.id}`,children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx(ws,{className:"h-8 w-8 flex-shrink-0",children:i.jsx(bs,{className:`text-xs font-medium ${NL((M=D.employee)==null?void 0:M.full_name)}`,children:SL((R=D.employee)==null?void 0:R.full_name)})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm font-medium text-foreground truncate","data-testid":`text-employee-name-${D.id}`,children:(H=D.employee)==null?void 0:H.full_name}),D.is_account_manager&&i.jsxs(vt,{variant:"default",className:"bg-amber-600 dark:bg-amber-700 text-xs px-1.5 py-0",children:[i.jsx(j6,{className:"h-3 w-3 mr-0.5"}),"Manager"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:(B=D.employee)==null?void 0:B.email})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>A(D.id,D.is_account_manager||!1),title:D.is_account_manager?"Remove as account manager":"Set as account manager","data-testid":`button-toggle-manager-${D.id}`,children:i.jsx(j6,{className:`h-4 w-4 ${D.is_account_manager?"text-amber-600":"text-muted-foreground"}`})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>j(D.id),"data-testid":`button-delete-assignment-${D.id}`,children:i.jsx(Fo,{className:"h-4 w-4"})})]})]},D.id)})})]},X)})})})]},F)}),Object.keys(I).length===0&&i.jsx(Ce,{"data-testid":"assignments-empty",children:i.jsxs(Ae,{className:"py-16 text-center",children:[i.jsx("div",{className:"rounded-full p-4 bg-muted/50 w-fit mx-auto mb-4",children:i.jsx(Xf,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-base font-semibold text-foreground mb-1",children:"No assignments found"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:_||g!=="all"||x!=="all"?"Try adjusting your filters or search query":"Create your first assignment to connect team members with clients"}),(_||g!=="all"||x!=="all")&&i.jsx(be,{variant:"outline",size:"sm",onClick:()=>{w(""),y("all"),b("all")},"data-testid":"button-clear-filters",children:"Clear filters"})]})})]}),i.jsx(Ur,{open:f,onOpenChange:m,children:i.jsxs(Lr,{className:"max-w-lg",children:[i.jsx(zr,{children:i.jsx(Wr,{children:"New Assignment"})}),i.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Client"}),i.jsxs(_t,{value:h.client_id,onValueChange:F=>v({...h,client_id:F}),children:[i.jsx(wt,{"data-testid":"select-assignment-client",children:i.jsx(jt,{placeholder:"Select a client"})}),i.jsx(bt,{children:n.map(F=>i.jsx(Ee,{value:F.id,children:F.name},F.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Team Members (",h.employee_ids.length," selected)"]}),i.jsx("div",{className:"border rounded-md p-3 max-h-60 overflow-y-auto bg-background",children:i.jsx("div",{className:"space-y-1",children:s.map(F=>i.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md cursor-pointer hover-elevate",children:[i.jsx(Dd,{checked:h.employee_ids.includes(F.id),onCheckedChange:Y=>{v(Y?{...h,employee_ids:[...h.employee_ids,F.id]}:{...h,employee_ids:h.employee_ids.filter(re=>re!==F.id)})},"data-testid":`checkbox-employee-${F.id}`}),i.jsx(ws,{className:"h-7 w-7 flex-shrink-0",children:i.jsx(bs,{className:`text-[10px] font-medium ${NL(F.full_name)}`,children:SL(F.full_name)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium text-foreground truncate",children:F.full_name}),i.jsx("div",{className:"text-xs text-muted-foreground truncate",children:F.email})]})]},F.id))})}),h.employee_ids.length>0&&i.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:h.employee_ids.map(F=>{const Y=s.find(re=>re.id===F);return i.jsxs(vt,{variant:"secondary",className:"gap-1",children:[Y==null?void 0:Y.full_name,i.jsx("button",{type:"button",onClick:()=>{v({...h,employee_ids:h.employee_ids.filter(re=>re!==F)})},"data-testid":`button-remove-employee-${F}`,children:i.jsx(oi,{className:"h-3 w-3"})})]},F)})})]}),h.employee_ids.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Account Manager (Optional)"}),i.jsxs(_t,{value:h.account_manager_id,onValueChange:F=>v({...h,account_manager_id:F}),children:[i.jsx(wt,{"data-testid":"select-account-manager",children:i.jsx(jt,{placeholder:"Select account manager"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"",children:"None"}),h.employee_ids.map(F=>{const Y=s.find(re=>re.id===F);return i.jsx(Ee,{value:F,children:Y==null?void 0:Y.full_name},F)})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Account managers can track progress of all team members on this client"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Service / Role"}),i.jsxs(_t,{value:h.service_id,onValueChange:F=>v({...h,service_id:F}),children:[i.jsx(wt,{"data-testid":"select-assignment-service",children:i.jsx(jt,{placeholder:"Select a service"})}),i.jsx(bt,{children:l.map(F=>i.jsx(Ee,{value:F.id,children:F.name},F.id))})]})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>m(!1),"data-testid":"button-cancel-assignment",children:"Cancel"}),i.jsx(be,{type:"submit","data-testid":"button-create-assignment",children:"Create Assignment"})]})]})]})})]})}const OTe="modulepreload",RTe=function(e){return"/"+e},kL={},L5=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=RTe(c),c in kL)return;kL[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":OTe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function Qr(e){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(e)}var kl=Uint8Array,Ki=Uint16Array,SP=Int32Array,NP=new kl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kP=new kl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),EL=new kl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lX=function(e,t){for(var r=new Ki(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new SP(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},cX=lX(NP,2),ITe=cX.b,Z4=cX.r;ITe[28]=258,Z4[258]=28;var DTe=lX(kP,0),CL=DTe.r,Q4=new Ki(32768);for(var jn=0;jn<32768;++jn){var Gu=(jn&43690)>>1|(jn&21845)<<1;Gu=(Gu&52428)>>2|(Gu&13107)<<2,Gu=(Gu&61680)>>4|(Gu&3855)<<4,Q4[jn]=((Gu&65280)>>8|(Gu&255)<<8)>>1}var Eg=function(e,t,r){for(var n=e.length,a=0,s=new Ki(t);a<n;++a)e[a]&&++s[e[a]-1];var o=new Ki(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;var l;if(r){l=new Ki(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)l[Q4[f]>>c]=u}else for(l=new Ki(n),a=0;a<n;++a)e[a]&&(l[a]=Q4[o[e[a]-1]++]>>15-e[a]);return l},dh=new kl(288);for(var jn=0;jn<144;++jn)dh[jn]=8;for(var jn=144;jn<256;++jn)dh[jn]=9;for(var jn=256;jn<280;++jn)dh[jn]=7;for(var jn=280;jn<288;++jn)dh[jn]=8;var Hb=new kl(32);for(var jn=0;jn<32;++jn)Hb[jn]=5;var LTe=Eg(dh,9,0),MTe=Eg(Hb,5,0),uX=function(e){return(e+7)/8|0},FTe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new kl(e.subarray(t,r))},Ic=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},eg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},M5=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:fX,l:0};if(a==1){var o=new kl(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,C){return N.f-C.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=s[0].s,n=1;n<a;++n)s[n].s>m&&(m=s[n].s);var h=new Ki(m+1),v=eE(r[d-1],h,0);if(v>t){var n=0,g=0,y=v-t,x=1<<y;for(s.sort(function(C,j){return h[j.s]-h[C.s]||C.f-j.f});n<a;++n){var b=s[n].s;if(h[b]>t)g+=x-(1<<v-h[b]),h[b]=t;else break}for(g>>=y;g>0;){var _=s[n].s;h[_]<t?g-=1<<t-h[_]++-1:++n}for(;n>=0&&g;--n){var w=s[n].s;h[w]==t&&(--h[w],++g)}v=t}return{t:new kl(h),l:v}},eE=function(e,t,r){return e.s==-1?Math.max(eE(e.l,t,r+1),eE(e.r,t,r+1)):t[e.s]=r},AL=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ki(++t),n=0,a=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[l]}return{c:r.subarray(0,n),n:t}},tg=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},dX=function(e,t,r){var n=r.length,a=uX(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},PL=function(e,t,r,n,a,s,o,l,c,u,d){Ic(t,d++,r),++a[256];for(var f=M5(a,15),m=f.t,h=f.l,v=M5(s,15),g=v.t,y=v.l,x=AL(m),b=x.c,_=x.n,w=AL(g),N=w.c,C=w.n,j=new Ki(19),A=0;A<b.length;++A)++j[b[A]&31];for(var A=0;A<N.length;++A)++j[N[A]&31];for(var k=M5(j,7),I=k.t,T=k.l,P=19;P>4&&!I[EL[P-1]];--P);var V=u+5<<3,F=tg(a,dh)+tg(s,Hb)+o,Y=tg(a,m)+tg(s,g)+o+14+3*P+tg(j,I)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&V<=F&&V<=Y)return dX(t,d,e.subarray(c,c+u));var re,U,q,X;if(Ic(t,d,1+(Y<F)),d+=2,Y<F){re=Eg(m,h,0),U=m,q=Eg(g,y,0),X=g;var pe=Eg(I,T,0);Ic(t,d,_-257),Ic(t,d+5,C-1),Ic(t,d+10,P-4),d+=14;for(var A=0;A<P;++A)Ic(t,d+3*A,I[EL[A]]);d+=3*P;for(var xe=[b,N],D=0;D<2;++D)for(var M=xe[D],A=0;A<M.length;++A){var R=M[A]&31;Ic(t,d,pe[R]),d+=I[R],R>15&&(Ic(t,d,M[A]>>5&127),d+=M[A]>>12)}}else re=LTe,U=dh,q=MTe,X=Hb;for(var A=0;A<l;++A){var H=n[A];if(H>255){var R=H>>18&31;eg(t,d,re[R+257]),d+=U[R+257],R>7&&(Ic(t,d,H>>23&31),d+=NP[R]);var B=H&31;eg(t,d,q[B]),d+=X[B],B>3&&(eg(t,d,H>>5&8191),d+=kP[B])}else eg(t,d,re[H]),d+=U[H]}return eg(t,d,re[256]),d+U[256]},$Te=new SP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fX=new kl(0),BTe=function(e,t,r,n,a,s){var o=s.z||e.length,l=new kl(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var f=$Te[t-1],m=f>>13,h=f&8191,v=(1<<r)-1,g=s.p||new Ki(32768),y=s.h||new Ki(v+1),x=Math.ceil(r/3),b=2*x,_=function(ze){return(e[ze]^e[ze+1]<<x^e[ze+2]<<b)&v},w=new SP(25e3),N=new Ki(288),C=new Ki(32),j=0,A=0,k=s.i||0,I=0,T=s.w||0,P=0;k+2<o;++k){var V=_(k),F=k&32767,Y=y[V];if(g[F]=Y,y[V]=F,T<=k){var re=o-k;if((j>7e3||I>24576)&&(re>423||!u)){d=PL(e,c,0,w,N,C,A,I,P,k-P,d),I=j=A=0,P=k;for(var U=0;U<286;++U)N[U]=0;for(var U=0;U<30;++U)C[U]=0}var q=2,X=0,pe=h,xe=F-Y&32767;if(re>2&&V==_(k-xe))for(var D=Math.min(m,re)-1,M=Math.min(32767,k),R=Math.min(258,re);xe<=M&&--pe&&F!=Y;){if(e[k+q]==e[k+q-xe]){for(var H=0;H<R&&e[k+H]==e[k+H-xe];++H);if(H>q){if(q=H,X=xe,H>D)break;for(var B=Math.min(xe,H-2),W=0,U=0;U<B;++U){var te=k-xe+U&32767,J=g[te],oe=te-J&32767;oe>W&&(W=oe,Y=te)}}}F=Y,Y=g[F],xe+=F-Y&32767}if(X){w[I++]=268435456|Z4[q]<<18|CL[X];var _e=Z4[q]&31,ve=CL[X]&31;A+=NP[_e]+kP[ve],++N[257+_e],++C[ve],T=k+q,++j}else w[I++]=e[k],++N[e[k]]}}for(k=Math.max(k,T);k<o;++k)w[I++]=e[k],++N[e[k]];d=PL(e,c,u,w,N,C,A,I,P,k-P,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=y,s.p=g,s.i=k,s.w=T)}else{for(var k=s.w||0;k<o+u;k+=65535){var We=k+65535;We>=o&&(c[d/8|0]=u,We=o),d=dX(c,d+1,e.subarray(k,We))}s.i=o}return FTe(l,0,n+uX(d)+a)},hX=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},UTe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new kl(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return BTe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},mX=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},zTe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=hX();a.p(t.dictionary),mX(e,2,a.d())}};function tE(e,t){t||(t={});var r=hX();r.p(e);var n=UTe(e,t,t.dictionary?6:2,4);return zTe(n,t),mX(n,n.length-4,r.d()),n}var WTe=typeof TextDecoder<"u"&&new TextDecoder,HTe=0;try{WTe.decode(fX,{stream:!0}),HTe=1}catch{}function qTe(e){if(Array.isArray(e))return e}function VTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function TL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function GTe(e,t){if(e){if(typeof e=="string")return TL(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TL(e,t):void 0}}function KTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OL(e,t){return qTe(e)||VTe(e,t)||GTe(e,t)||KTe()}function RL(e,t="utf8"){return new TextDecoder(t).decode(e)}const YTe=new TextEncoder;function XTe(e){return YTe.encode(e)}const JTe=1024*8,ZTe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),F5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class EP{constructor(t=JTe,r={}){Ar(this,"buffer");Ar(this,"byteLength");Ar(this,"byteOffset");Ar(this,"length");Ar(this,"offset");Ar(this,"lastWrittenByte");Ar(this,"littleEndian");Ar(this,"_data");Ar(this,"_mark");Ar(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,s=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof EP)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=F5[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===ZTe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new F5[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new F5[r](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return RL(this.readBytes(t))}decodeText(t=1,r="utf8"){return RL(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(XTe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function r0(e){let t=e.length;for(;--t>=0;)e[t]=0}const QTe=3,eOe=258,pX=29,tOe=256,rOe=tOe+1+pX,gX=30,nOe=512,aOe=new Array((rOe+2)*2);r0(aOe);const sOe=new Array(gX*2);r0(sOe);const iOe=new Array(nOe);r0(iOe);const oOe=new Array(eOe-QTe+1);r0(oOe);const lOe=new Array(pX);r0(lOe);const cOe=new Array(gX);r0(cOe);const uOe=(e,t,r,n)=>{let a=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0};var rE=uOe;const dOe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},fOe=new Uint32Array(dOe()),hOe=(e,t,r,n)=>{const a=fOe,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var zl=hOe,nE={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vX={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const mOe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var pOe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)mOe(r,n)&&(e[n]=r[n])}}return e},gOe=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,s=e.length;n<s;n++){let o=e[n];r.set(o,a),a+=o.length}return r},xX={assign:pOe,flattenChunks:gOe};let yX=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yX=!1}const Av=new Uint8Array(256);for(let e=0;e<256;e++)Av[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Av[254]=Av[254]=1;var vOe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,s,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,a=0;s<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const xOe=(e,t)=>{if(t<65534&&e.subarray&&yX)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var yOe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){s[a++]=o;continue}let l=Av[o];if(l>4){s[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){s[a++]=65533;continue}o<65536?s[a++]=o:(o-=65536,s[a++]=55296|o>>10&1023,s[a++]=56320|o&1023)}return xOe(s,a)},wOe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Av[e[r]]>t?r:t},aE={string2buf:vOe,buf2string:yOe,utf8border:wOe};function bOe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _Oe=bOe;const u1=16209,jOe=16191;var SOe=function(t,r){let n,a,s,o,l,c,u,d,f,m,h,v,g,y,x,b,_,w,N,C,j,A,k,I;const T=t.state;n=t.next_in,k=t.input,a=n+(t.avail_in-5),s=t.next_out,I=t.output,o=s-(r-t.avail_out),l=s+(t.avail_out-257),c=T.dmax,u=T.wsize,d=T.whave,f=T.wnext,m=T.window,h=T.hold,v=T.bits,g=T.lencode,y=T.distcode,x=(1<<T.lenbits)-1,b=(1<<T.distbits)-1;e:do{v<15&&(h+=k[n++]<<v,v+=8,h+=k[n++]<<v,v+=8),_=g[h&x];t:for(;;){if(w=_>>>24,h>>>=w,v-=w,w=_>>>16&255,w===0)I[s++]=_&65535;else if(w&16){N=_&65535,w&=15,w&&(v<w&&(h+=k[n++]<<v,v+=8),N+=h&(1<<w)-1,h>>>=w,v-=w),v<15&&(h+=k[n++]<<v,v+=8,h+=k[n++]<<v,v+=8),_=y[h&b];r:for(;;){if(w=_>>>24,h>>>=w,v-=w,w=_>>>16&255,w&16){if(C=_&65535,w&=15,v<w&&(h+=k[n++]<<v,v+=8,v<w&&(h+=k[n++]<<v,v+=8)),C+=h&(1<<w)-1,C>c){t.msg="invalid distance too far back",T.mode=u1;break e}if(h>>>=w,v-=w,w=s-o,C>w){if(w=C-w,w>d&&T.sane){t.msg="invalid distance too far back",T.mode=u1;break e}if(j=0,A=m,f===0){if(j+=u-w,w<N){N-=w;do I[s++]=m[j++];while(--w);j=s-C,A=I}}else if(f<w){if(j+=u+f-w,w-=f,w<N){N-=w;do I[s++]=m[j++];while(--w);if(j=0,f<N){w=f,N-=w;do I[s++]=m[j++];while(--w);j=s-C,A=I}}}else if(j+=f-w,w<N){N-=w;do I[s++]=m[j++];while(--w);j=s-C,A=I}for(;N>2;)I[s++]=A[j++],I[s++]=A[j++],I[s++]=A[j++],N-=3;N&&(I[s++]=A[j++],N>1&&(I[s++]=A[j++]))}else{j=s-C;do I[s++]=I[j++],I[s++]=I[j++],I[s++]=I[j++],N-=3;while(N>2);N&&(I[s++]=I[j++],N>1&&(I[s++]=I[j++]))}}else if(w&64){t.msg="invalid distance code",T.mode=u1;break e}else{_=y[(_&65535)+(h&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){T.mode=jOe;break e}else{t.msg="invalid literal/length code",T.mode=u1;break e}else{_=g[(_&65535)+(h&(1<<w)-1)];continue t}break}}while(n<a&&s<l);N=v>>3,n-=N,v-=N<<3,h&=(1<<v)-1,t.next_in=n,t.next_out=s,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=s<l?257+(l-s):257-(s-l),T.hold=h,T.bits=v};const cm=15,IL=852,DL=592,LL=0,$5=1,ML=2,NOe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kOe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),EOe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),COe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),AOe=(e,t,r,n,a,s,o,l)=>{const c=l.bits;let u=0,d=0,f=0,m=0,h=0,v=0,g=0,y=0,x=0,b=0,_,w,N,C,j,A=null,k;const I=new Uint16Array(cm+1),T=new Uint16Array(cm+1);let P=null,V,F,Y;for(u=0;u<=cm;u++)I[u]=0;for(d=0;d<n;d++)I[t[r+d]]++;for(h=c,m=cm;m>=1&&I[m]===0;m--);if(h>m&&(h=m),m===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<m&&I[f]===0;f++);for(h<f&&(h=f),y=1,u=1;u<=cm;u++)if(y<<=1,y-=I[u],y<0)return-1;if(y>0&&(e===LL||m!==1))return-1;for(T[1]=0,u=1;u<cm;u++)T[u+1]=T[u]+I[u];for(d=0;d<n;d++)t[r+d]!==0&&(o[T[t[r+d]]++]=d);if(e===LL?(A=P=o,k=20):e===$5?(A=NOe,P=kOe,k=257):(A=EOe,P=COe,k=0),b=0,d=0,u=f,j=s,v=h,g=0,N=-1,x=1<<h,C=x-1,e===$5&&x>IL||e===ML&&x>DL)return 1;for(;;){V=u-g,o[d]+1<k?(F=0,Y=o[d]):o[d]>=k?(F=P[o[d]-k],Y=A[o[d]-k]):(F=96,Y=0),_=1<<u-g,w=1<<v,f=w;do w-=_,a[j+(b>>g)+w]=V<<24|F<<16|Y|0;while(w!==0);for(_=1<<u-1;b&_;)_>>=1;if(_!==0?(b&=_-1,b+=_):b=0,d++,--I[u]===0){if(u===m)break;u=t[r+o[d]]}if(u>h&&(b&C)!==N){for(g===0&&(g=h),j+=f,v=u-g,y=1<<v;v+g<m&&(y-=I[v+g],!(y<=0));)v++,y<<=1;if(x+=1<<v,e===$5&&x>IL||e===ML&&x>DL)return 1;N=b&C,a[N]=h<<24|v<<16|j-s|0}}return b!==0&&(a[j+b]=u-g<<24|64<<16|0),l.bits=h,0};var Cg=AOe;const POe=0,wX=1,bX=2,{Z_FINISH:FL,Z_BLOCK:TOe,Z_TREES:d1,Z_OK:fh,Z_STREAM_END:OOe,Z_NEED_DICT:ROe,Z_STREAM_ERROR:Lo,Z_DATA_ERROR:_X,Z_MEM_ERROR:jX,Z_BUF_ERROR:IOe,Z_DEFLATED:$L}=vX,gj=16180,BL=16181,UL=16182,zL=16183,WL=16184,HL=16185,qL=16186,VL=16187,GL=16188,KL=16189,qb=16190,Dc=16191,B5=16192,YL=16193,U5=16194,XL=16195,JL=16196,ZL=16197,QL=16198,f1=16199,h1=16200,eM=16201,tM=16202,rM=16203,nM=16204,aM=16205,z5=16206,sM=16207,iM=16208,Pn=16209,SX=16210,NX=16211,DOe=852,LOe=592,MOe=15,FOe=MOe,oM=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function $Oe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ch=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<gj||t.mode>NX?1:0},kX=e=>{if(Ch(e))return Lo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=gj,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(DOe),t.distcode=t.distdyn=new Int32Array(LOe),t.sane=1,t.back=-1,fh},EX=e=>{if(Ch(e))return Lo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,kX(e)},CX=(e,t)=>{let r;if(Ch(e))return Lo;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Lo:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,EX(e))},AX=(e,t)=>{if(!e)return Lo;const r=new $Oe;e.state=r,r.strm=e,r.window=null,r.mode=gj;const n=CX(e,t);return n!==fh&&(e.state=null),n},BOe=e=>AX(e,FOe);let lM=!0,W5,H5;const UOe=e=>{if(lM){W5=new Int32Array(512),H5=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Cg(wX,e.lens,0,288,W5,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Cg(bX,e.lens,0,32,H5,0,e.work,{bits:5}),lM=!1}e.lencode=W5,e.lenbits=9,e.distcode=H5,e.distbits=5},PX=(e,t,r,n)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(t.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},zOe=(e,t)=>{let r,n,a,s,o,l,c,u,d,f,m,h,v,g,y=0,x,b,_,w,N,C,j,A;const k=new Uint8Array(4);let I,T;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ch(e)||!e.output||!e.input&&e.avail_in!==0)return Lo;r=e.state,r.mode===Dc&&(r.mode=B5),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,f=l,m=c,A=fh;e:for(;;)switch(r.mode){case gj:if(r.wrap===0){r.mode=B5;break}for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=u&255,k[1]=u>>>8&255,r.check=zl(r.check,k,2,0),u=0,d=0,r.mode=BL;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Pn;break}if((u&15)!==$L){e.msg="unknown compression method",r.mode=Pn;break}if(u>>>=4,d-=4,j=(u&15)+8,r.wbits===0&&(r.wbits=j),j>15||j>r.wbits){e.msg="invalid window size",r.mode=Pn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?KL:Dc,u=0,d=0;break;case BL:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==$L){e.msg="unknown compression method",r.mode=Pn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Pn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=zl(r.check,k,2,0)),u=0,d=0,r.mode=UL;case UL:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,r.check=zl(r.check,k,4,0)),u=0,d=0,r.mode=zL;case zL:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=zl(r.check,k,2,0)),u=0,d=0,r.mode=WL;case WL:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=zl(r.check,k,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=HL;case HL:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(j=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+h),j)),r.flags&512&&r.wrap&4&&(r.check=zl(r.check,n,h,s)),l-=h,s+=h,r.length-=h),r.length))break e;r.length=0,r.mode=qL;case qL:if(r.flags&2048){if(l===0)break e;h=0;do j=n[s+h++],r.head&&j&&r.length<65536&&(r.head.name+=String.fromCharCode(j));while(j&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=zl(r.check,n,h,s)),l-=h,s+=h,j)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=VL;case VL:if(r.flags&4096){if(l===0)break e;h=0;do j=n[s+h++],r.head&&j&&r.length<65536&&(r.head.comment+=String.fromCharCode(j));while(j&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=zl(r.check,n,h,s)),l-=h,s+=h,j)break e}else r.head&&(r.head.comment=null);r.mode=GL;case GL:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Pn;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Dc;break;case KL:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}e.adler=r.check=oM(u),u=0,d=0,r.mode=qb;case qb:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,ROe;e.adler=r.check=1,r.mode=Dc;case Dc:if(t===TOe||t===d1)break e;case B5:if(r.last){u>>>=d&7,d-=d&7,r.mode=z5;break}for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=YL;break;case 1:if(UOe(r),r.mode=f1,t===d1){u>>>=2,d-=2;break e}break;case 2:r.mode=JL;break;case 3:e.msg="invalid block type",r.mode=Pn}u>>>=2,d-=2;break;case YL:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Pn;break}if(r.length=u&65535,u=0,d=0,r.mode=U5,t===d1)break e;case U5:r.mode=XL;case XL:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;a.set(n.subarray(s,s+h),o),l-=h,s+=h,c-=h,o+=h,r.length-=h;break}r.mode=Dc;break;case JL:for(;d<14;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Pn;break}r.have=0,r.mode=ZL;case ZL:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.lens[P[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,I={bits:r.lenbits},A=Cg(POe,r.lens,0,19,r.lencode,0,r.work,I),r.lenbits=I.bits,A){e.msg="invalid code lengths set",r.mode=Pn;break}r.have=0,r.mode=QL;case QL:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[u&(1<<r.lenbits)-1],x=y>>>24,b=y>>>16&255,_=y&65535,!(x<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(_<16)u>>>=x,d-=x,r.lens[r.have++]=_;else{if(_===16){for(T=x+2;d<T;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(u>>>=x,d-=x,r.have===0){e.msg="invalid bit length repeat",r.mode=Pn;break}j=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(_===17){for(T=x+3;d<T;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=x,d-=x,j=0,h=3+(u&7),u>>>=3,d-=3}else{for(T=x+7;d<T;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=x,d-=x,j=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Pn;break}for(;h--;)r.lens[r.have++]=j}}if(r.mode===Pn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Pn;break}if(r.lenbits=9,I={bits:r.lenbits},A=Cg(wX,r.lens,0,r.nlen,r.lencode,0,r.work,I),r.lenbits=I.bits,A){e.msg="invalid literal/lengths set",r.mode=Pn;break}if(r.distbits=6,r.distcode=r.distdyn,I={bits:r.distbits},A=Cg(bX,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,I),r.distbits=I.bits,A){e.msg="invalid distances set",r.mode=Pn;break}if(r.mode=f1,t===d1)break e;case f1:r.mode=h1;case h1:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,SOe(e,m),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===Dc&&(r.back=-1);break}for(r.back=0;y=r.lencode[u&(1<<r.lenbits)-1],x=y>>>24,b=y>>>16&255,_=y&65535,!(x<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(b&&!(b&240)){for(w=x,N=b,C=_;y=r.lencode[C+((u&(1<<w+N)-1)>>w)],x=y>>>24,b=y>>>16&255,_=y&65535,!(w+x<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=w,d-=w,r.back+=w}if(u>>>=x,d-=x,r.back+=x,r.length=_,b===0){r.mode=aM;break}if(b&32){r.back=-1,r.mode=Dc;break}if(b&64){e.msg="invalid literal/length code",r.mode=Pn;break}r.extra=b&15,r.mode=eM;case eM:if(r.extra){for(T=r.extra;d<T;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=tM;case tM:for(;y=r.distcode[u&(1<<r.distbits)-1],x=y>>>24,b=y>>>16&255,_=y&65535,!(x<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(!(b&240)){for(w=x,N=b,C=_;y=r.distcode[C+((u&(1<<w+N)-1)>>w)],x=y>>>24,b=y>>>16&255,_=y&65535,!(w+x<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=w,d-=w,r.back+=w}if(u>>>=x,d-=x,r.back+=x,b&64){e.msg="invalid distance code",r.mode=Pn;break}r.offset=_,r.extra=b&15,r.mode=rM;case rM:if(r.extra){for(T=r.extra;d<T;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Pn;break}r.mode=nM;case nM:if(c===0)break e;if(h=m-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Pn;break}h>r.wnext?(h-=r.wnext,v=r.wsize-h):v=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=a,v=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do a[o++]=g[v++];while(--h);r.length===0&&(r.mode=h1);break;case aM:if(c===0)break e;a[o++]=r.length,c--,r.mode=h1;break;case z5:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[s++]<<d,d+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?zl(r.check,a,m,o-m):rE(r.check,a,m,o-m)),m=c,r.wrap&4&&(r.flags?u:oM(u))!==r.check){e.msg="incorrect data check",r.mode=Pn;break}u=0,d=0}r.mode=sM;case sM:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Pn;break}u=0,d=0}r.mode=iM;case iM:A=OOe;break e;case Pn:A=_X;break e;case SX:return jX;case NX:default:return Lo}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<Pn&&(r.mode<z5||t!==FL))&&PX(e,e.output,e.next_out,m-e.avail_out),f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?zl(r.check,a,m,e.next_out-m):rE(r.check,a,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Dc?128:0)+(r.mode===f1||r.mode===U5?256:0),(f===0&&m===0||t===FL)&&A===fh&&(A=IOe),A},WOe=e=>{if(Ch(e))return Lo;let t=e.state;return t.window&&(t.window=null),e.state=null,fh},HOe=(e,t)=>{if(Ch(e))return Lo;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,fh):Lo},qOe=(e,t)=>{const r=t.length;let n,a,s;return Ch(e)||(n=e.state,n.wrap!==0&&n.mode!==qb)?Lo:n.mode===qb&&(a=1,a=rE(a,t,r,0),a!==n.check)?_X:(s=PX(e,t,r,r),s?(n.mode=SX,jX):(n.havedict=1,fh))};var VOe=EX,GOe=CX,KOe=kX,YOe=BOe,XOe=AX,JOe=zOe,ZOe=WOe,QOe=HOe,e6e=qOe,t6e="pako inflate (from Nodeca project)",Bc={inflateReset:VOe,inflateReset2:GOe,inflateResetKeep:KOe,inflateInit:YOe,inflateInit2:XOe,inflate:JOe,inflateEnd:ZOe,inflateGetHeader:QOe,inflateSetDictionary:e6e,inflateInfo:t6e};function r6e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var n6e=r6e;const TX=Object.prototype.toString,{Z_NO_FLUSH:a6e,Z_FINISH:s6e,Z_OK:Pv,Z_STREAM_END:q5,Z_NEED_DICT:V5,Z_STREAM_ERROR:i6e,Z_DATA_ERROR:cM,Z_MEM_ERROR:o6e}=vX;function Ex(e){this.options=xX.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _Oe,this.strm.avail_out=0;let r=Bc.inflateInit2(this.strm,t.windowBits);if(r!==Pv)throw new Error(nE[r]);if(this.header=new n6e,Bc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=aE.string2buf(t.dictionary):TX.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Bc.inflateSetDictionary(this.strm,t.dictionary),r!==Pv)))throw new Error(nE[r])}Ex.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?s6e:a6e,TX.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Bc.inflate(r,o),s===V5&&a&&(s=Bc.inflateSetDictionary(r,a),s===Pv?s=Bc.inflate(r,o):s===cM&&(s=V5));r.avail_in>0&&s===q5&&r.state.wrap>0&&e[r.next_in]!==0;)Bc.inflateReset(r),s=Bc.inflate(r,o);switch(s){case i6e:case cM:case V5:case o6e:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===q5))if(this.options.to==="string"){let c=aE.utf8border(r.output,r.next_out),u=r.next_out-c,d=aE.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Pv&&l===0)){if(s===q5)return s=Bc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Ex.prototype.onData=function(e){this.chunks.push(e)};Ex.prototype.onEnd=function(e){e===Pv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xX.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function l6e(e,t){const r=new Ex(t);if(r.push(e),r.err)throw r.msg||nE[r.err];return r.result}var c6e=Ex,u6e=l6e,d6e={Inflate:c6e,inflate:u6e};const{Inflate:f6e,inflate:h6e}=d6e;var uM=f6e,m6e=h6e;const OX=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;OX[e]=t}const dM=4294967295;function p6e(e,t,r){let n=e;for(let a=0;a<r;a++)n=OX[(n^t[a])&255]^n>>>8;return n}function g6e(e,t){return(p6e(dM,e,t)^dM)>>>0}function fM(e,t,r){const n=e.readUint32(),a=g6e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function RX(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function IX(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function DX(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function LX(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-a]+r[s]>>1)&255}}function MX(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+v6e(t[s-a],r[s],r[s-a])&255}}function v6e(e,t,r){const n=e+t-r,a=Math.abs(n-e),s=Math.abs(n-t),o=Math.abs(n-r);return a<=s&&a<=o?e:s<=o?t:r}function x6e(e,t,r,n,a,s){switch(e){case 0:RX(t,r,a);break;case 1:IX(t,r,a,s);break;case 2:DX(t,r,n,a);break;case 3:LX(t,r,n,a,s);break;case 4:MX(t,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const y6e=new Uint16Array([255]),w6e=new Uint8Array(y6e.buffer),b6e=w6e[0]===255;function _6e(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=o[d],m=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(m<=0||h<=0)continue;const v=m*l,g=new Uint8Array(v);for(let y=0;y<h;y++){const x=t[u++],b=t.subarray(u,u+v);u+=v;const _=new Uint8Array(v);x6e(x,b,_,g,v,l),g.set(_);for(let w=0;w<m;w++){const N=f.x+w*f.xStep,C=f.y+y*f.yStep;if(!(N>=r||C>=n))for(let j=0;j<l;j++)c[(C*r+N)*l+j]=_[w*l+j]}}}if(s===16){const d=new Uint16Array(c.buffer);if(b6e)for(let f=0;f<d.length;f++)d[f]=j6e(d[f]);return d}else return c}function j6e(e){return(e&255)<<8|e>>8&255}const S6e=new Uint16Array([255]),N6e=new Uint8Array(S6e.buffer),k6e=N6e[0]===255,E6e=new Uint8Array(0);function hM(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,o=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*r),c=new Uint8Array(n*l);let u=E6e,d=0,f,m;for(let h=0;h<n;h++){switch(f=t.subarray(d+1,d+1+l),m=c.subarray(h*l,(h+1)*l),t[d]){case 0:RX(f,m,l);break;case 1:IX(f,m,l,o);break;case 2:DX(f,m,u,l);break;case 3:LX(f,m,u,l,o);break;case 4:MX(f,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=l+1}if(s===16){const h=new Uint16Array(c.buffer);if(k6e)for(let v=0;v<h.length;v++)h[v]=C6e(h[v]);return h}else return c}function C6e(e){return(e&255)<<8|e>>8&255}const J1=Uint8Array.of(137,80,78,71,13,10,26,10);function mM(e){if(!A6e(e.readBytes(J1.length)))throw new Error("wrong PNG signature")}function A6e(e){if(e.length<J1.length)return!1;for(let t=0;t<J1.length;t++)if(e[t]!==J1[t])return!1;return!0}const P6e="tEXt",T6e=0,FX=new TextDecoder("latin1");function O6e(e){if(I6e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const R6e=/^[\u0000-\u00FF]*$/;function I6e(e){if(!R6e.test(e))throw new Error("invalid latin1 text")}function D6e(e,t,r){const n=$X(t);e[n]=L6e(t,r-n.length-1)}function $X(e){for(e.mark();e.readByte()!==T6e;);const t=e.offset;e.reset();const r=FX.decode(e.readBytes(t-e.offset-1));return e.skip(1),O6e(r),r}function L6e(e,t){return FX.decode(e.readBytes(t))}const Ri={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},G5={UNKNOWN:-1,DEFLATE:0},pM={UNKNOWN:-1,ADAPTIVE:0},K5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},m1={NONE:0,BACKGROUND:1,PREVIOUS:2},Y5={SOURCE:0,OVER:1};class M6e extends EP{constructor(r,n={}){super(r);Ar(this,"_checkCrc");Ar(this,"_inflator");Ar(this,"_png");Ar(this,"_apng");Ar(this,"_end");Ar(this,"_hasPalette");Ar(this,"_palette");Ar(this,"_hasTransparency");Ar(this,"_transparency");Ar(this,"_compressionMethod");Ar(this,"_filterMethod");Ar(this,"_interlaceMethod");Ar(this,"_colorType");Ar(this,"_isAnimated");Ar(this,"_numberOfFrames");Ar(this,"_numberOfPlays");Ar(this,"_frames");Ar(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new uM,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=G5.UNKNOWN,this._filterMethod=pM.UNKNOWN,this._interlaceMethod=K5.UNKNOWN,this._colorType=Ri.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(mM(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(mM(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case P6e:D6e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?fM(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?fM(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=F6e(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Ri.GREYSCALE:a=1;break;case Ri.TRUECOLOUR:a=3;break;case Ri.INDEXED_COLOUR:a=1;break;case Ri.GREYSCALE_ALPHA:a=2;break;case Ri.TRUECOLOUR_ALPHA:a=4;break;case Ri.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==G5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ri.GREYSCALE:case Ri.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ri.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ri.UNKNOWN:case Ri.GREYSCALE_ALPHA:case Ri.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=$X(this),a=this.readUint8();if(a!==G5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:m6e(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=hM({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case m1.NONE:break;case m1.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case m1.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,s=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case Y5.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case Y5.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/a,m=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*m+(1-f)*r.data[c+d]);r.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==pM.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===K5.NO_INTERLACE)this._png.data=hM({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===K5.ADAM7)this._png.data=_6e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:m1.NONE,blendOp:Y5.SOURCE,data:r}),this._inflator=new uM,this._writingDataChunks=!1}}function F6e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var gM;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(gM||(gM={}));function $6e(e,t){return new M6e(e,t).decode()}var ir=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function X5(){ir.console&&typeof ir.console.log=="function"&&ir.console.log.apply(ir.console,arguments)}var dn={log:X5,warn:function(e){ir.console&&(typeof ir.console.warn=="function"?ir.console.warn.apply(ir.console,arguments):X5.call(null,arguments))},error:function(e){ir.console&&(typeof ir.console.error=="function"?ir.console.error.apply(ir.console,arguments):X5(e))}};function J5(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){_f(n.response,t,r)},n.onerror=function(){dn.error("could not download file")},n.send()}function vM(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function p1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var _f=ir.saveAs||((typeof window>"u"?"undefined":Qr(window))!=="object"||window!==ir?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ir.URL||ir.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?vM(a.href)?J5(e,t,r):p1(a,a.target="_blank"):p1(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){p1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(vM(e))J5(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){p1(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:Qr(s)!=="object"&&(dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return J5(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(ir.HTMLElement)||ir.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":Qr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=ir.URL||ir.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function BX(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Z1=ir.atob.bind(ir),xM=ir.btoa.bind(ir);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Z5(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=As(r,n,a,s,t[0],7,-680876936),s=As(s,r,n,a,t[1],12,-389564586),a=As(a,s,r,n,t[2],17,606105819),n=As(n,a,s,r,t[3],22,-1044525330),r=As(r,n,a,s,t[4],7,-176418897),s=As(s,r,n,a,t[5],12,1200080426),a=As(a,s,r,n,t[6],17,-1473231341),n=As(n,a,s,r,t[7],22,-45705983),r=As(r,n,a,s,t[8],7,1770035416),s=As(s,r,n,a,t[9],12,-1958414417),a=As(a,s,r,n,t[10],17,-42063),n=As(n,a,s,r,t[11],22,-1990404162),r=As(r,n,a,s,t[12],7,1804603682),s=As(s,r,n,a,t[13],12,-40341101),a=As(a,s,r,n,t[14],17,-1502002290),r=Ps(r,n=As(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Ps(s,r,n,a,t[6],9,-1069501632),a=Ps(a,s,r,n,t[11],14,643717713),n=Ps(n,a,s,r,t[0],20,-373897302),r=Ps(r,n,a,s,t[5],5,-701558691),s=Ps(s,r,n,a,t[10],9,38016083),a=Ps(a,s,r,n,t[15],14,-660478335),n=Ps(n,a,s,r,t[4],20,-405537848),r=Ps(r,n,a,s,t[9],5,568446438),s=Ps(s,r,n,a,t[14],9,-1019803690),a=Ps(a,s,r,n,t[3],14,-187363961),n=Ps(n,a,s,r,t[8],20,1163531501),r=Ps(r,n,a,s,t[13],5,-1444681467),s=Ps(s,r,n,a,t[2],9,-51403784),a=Ps(a,s,r,n,t[7],14,1735328473),r=Ts(r,n=Ps(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Ts(s,r,n,a,t[8],11,-2022574463),a=Ts(a,s,r,n,t[11],16,1839030562),n=Ts(n,a,s,r,t[14],23,-35309556),r=Ts(r,n,a,s,t[1],4,-1530992060),s=Ts(s,r,n,a,t[4],11,1272893353),a=Ts(a,s,r,n,t[7],16,-155497632),n=Ts(n,a,s,r,t[10],23,-1094730640),r=Ts(r,n,a,s,t[13],4,681279174),s=Ts(s,r,n,a,t[0],11,-358537222),a=Ts(a,s,r,n,t[3],16,-722521979),n=Ts(n,a,s,r,t[6],23,76029189),r=Ts(r,n,a,s,t[9],4,-640364487),s=Ts(s,r,n,a,t[12],11,-421815835),a=Ts(a,s,r,n,t[15],16,530742520),r=Os(r,n=Ts(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Os(s,r,n,a,t[7],10,1126891415),a=Os(a,s,r,n,t[14],15,-1416354905),n=Os(n,a,s,r,t[5],21,-57434055),r=Os(r,n,a,s,t[12],6,1700485571),s=Os(s,r,n,a,t[3],10,-1894986606),a=Os(a,s,r,n,t[10],15,-1051523),n=Os(n,a,s,r,t[1],21,-2054922799),r=Os(r,n,a,s,t[8],6,1873313359),s=Os(s,r,n,a,t[15],10,-30611744),a=Os(a,s,r,n,t[6],15,-1560198380),n=Os(n,a,s,r,t[13],21,1309151649),r=Os(r,n,a,s,t[4],6,-145523070),s=Os(s,r,n,a,t[11],10,-1120210379),a=Os(a,s,r,n,t[2],15,718787259),n=Os(n,a,s,r,t[9],21,-343485551),e[0]=dd(r,e[0]),e[1]=dd(n,e[1]),e[2]=dd(a,e[2]),e[3]=dd(s,e[3])}function vj(e,t,r,n,a,s){return t=dd(dd(t,e),dd(n,s)),dd(t<<a|t>>>32-a,r)}function As(e,t,r,n,a,s,o){return vj(t&r|~t&n,e,t,a,s,o)}function Ps(e,t,r,n,a,s,o){return vj(t&n|r&~n,e,t,a,s,o)}function Ts(e,t,r,n,a,s,o){return vj(t^r^n,e,t,a,s,o)}function Os(e,t,r,n,a,s,o){return vj(r^(t|~n),e,t,a,s,o)}function UX(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Z5(n,B6e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Z5(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Z5(n,a),n}function B6e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var yM="0123456789abcdef".split("");function U6e(e){for(var t="",r=0;r<4;r++)t+=yM[e>>8*r+4&15]+yM[e>>8*r&15];return t}function z6e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function sE(e){return UX(e).map(z6e).join("")}var W6e=function(e){for(var t=0;t<e.length;t++)e[t]=U6e(e[t]);return e.join("")}(UX("hello"))!="5d41402abc4b2a76b9719d911017c592";function dd(e,t){if(W6e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function iE(e,t){var r,n,a,s;if(e!==r){for(var o=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,m=0,h=0,v="";for(c=0;c<f;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var wM={print:4,modify:8,copy:16,"annot-forms":32};function ym(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(wM.perm!==void 0)throw new Error("Invalid permission: "+l);a+=wM[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=sE(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=iE(this.encryptionKey,this.padding)}function wm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function bM(e){if(Qr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){ir.console&&dn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Vb(e){if(!(this instanceof Vb))return new Vb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function zX(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Nf(e,t,r,n,a){if(!(this instanceof Nf))return new Nf(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,zX.call(this,n,a)}function Fm(e,t,r,n,a){if(!(this instanceof Fm))return new Fm(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,zX.call(this,n,a)}function Ht(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",d=null;Qr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=bM;var v="1.3",g=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(O){v=O};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var x=h.__private__.getPageFormat=function(O){return y[O]};a=a||"a4";var b="compat",_="advanced",w=b;function N(){this.saveGraphicsState(),ae(new Xt(qe,0,0,-qe,0,ef()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),u="n",w=_}function C(){this.restoreGraphicsState(),u="S",w=b}var j=h.__private__.combineFontStyleAndFontWeight=function(O,G){if(O=="bold"&&G=="normal"||O=="bold"&&G==400||O=="normal"&&G=="italic"||O=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(O=G==400||G==="normal"?O==="italic"?"italic":"normal":G!=700&&G!=="bold"||O!=="normal"?(G==700?"bold":G)+""+O:"bold"),O};h.advancedAPI=function(O){var G=w===b;return G&&N.call(this),typeof O!="function"||(O(this),G&&C.call(this)),this},h.compatAPI=function(O){var G=w===_;return G&&C.call(this),typeof O!="function"||(O(this),G&&N.call(this)),this},h.isAdvancedAPI=function(){return w===_};var A,k=function(O){if(w!==_)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=h.roundToPrecision=h.__private__.roundToPrecision=function(O,G){var me=t||G;if(isNaN(O)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(me).replace(/0+$/,"")};A=h.hpf=h.__private__.hpf=typeof c=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return I(O,c)}:c==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return I(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return I(O,16)};var T=h.f2=h.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return I(O,2)},P=h.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return I(O,3)},V=h.scale=h.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return w===b?O*qe:w===_?O:void 0},F=function(O){return V(function(G){return w===b?ef()-G:w===_?G:void 0}(O))};h.__private__.setPrecision=h.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(t=parseInt(O,10))};var Y,re="00000000000000000000000000000000",U=h.__private__.getFileId=function(){return re},q=h.__private__.setFileId=function(O){return re=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Aa=new ym(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};h.setFileId=function(O){return q(O),this},h.getFileId=function(){return U()};var X=h.__private__.convertDateToPDFDate=function(O){var G=O.getTimezoneOffset(),me=G<0?"+":"-",je=Math.floor(Math.abs(G/60)),Pe=Math.abs(G%60),Xe=[me,R(je),"'",R(Pe),"'"].join("");return["D:",O.getFullYear(),R(O.getMonth()+1),R(O.getDate()),R(O.getHours()),R(O.getMinutes()),R(O.getSeconds()),Xe].join("")},pe=h.__private__.convertPDFDateToDate=function(O){var G=parseInt(O.substr(2,4),10),me=parseInt(O.substr(6,2),10)-1,je=parseInt(O.substr(8,2),10),Pe=parseInt(O.substr(10,2),10),Xe=parseInt(O.substr(12,2),10),Qe=parseInt(O.substr(14,2),10);return new Date(G,me,je,Pe,Xe,Qe,0)},xe=h.__private__.setCreationDate=function(O){var G;if(O===void 0&&(O=new Date),O instanceof Date)G=X(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=O}return Y=G},D=h.__private__.getCreationDate=function(O){var G=Y;return O==="jsDate"&&(G=pe(Y)),G};h.setCreationDate=function(O){return xe(O),this},h.getCreationDate=function(O){return D(O)};var M,R=h.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},H=h.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},B=0,W=[],te=[],J=0,oe=[],_e=[],ve=!1,We=te;h.__private__.setCustomOutputDestination=function(O){ve=!0,We=O};var ze=function(O){ve||(We=O)};h.__private__.resetCustomOutputDestination=function(){ve=!1,We=te};var ae=h.__private__.out=function(O){return O=O.toString(),J+=O.length+1,We.push(O),We},$e=h.__private__.write=function(O){return ae(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},He=h.__private__.getArrayBuffer=function(O){for(var G=O.length,me=new ArrayBuffer(G),je=new Uint8Array(me);G--;)je[G]=O.charCodeAt(G);return me},nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return nt};var Ke=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(O){return Ke=w===_?O/qe:O,this};var tt,at=h.__private__.getFontSize=h.getFontSize=function(){return w===b?Ke:Ke*qe},pt=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(O){return pt=O,this},h.__private__.getR2L=h.getR2L=function(){return pt};var kt,Jt=h.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))tt=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');tt=O}else tt=parseInt(O,10)};h.__private__.getZoomMode=function(){return tt};var Yt,Zt=h.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');kt=O};h.__private__.getPageMode=function(){return kt};var fr=h.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');Yt=O};h.__private__.getLayoutMode=function(){return Yt},h.__private__.setDisplayMode=h.setDisplayMode=function(O,G,me){return Jt(O),fr(G),Zt(me),this};var ar={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(O){if(Object.keys(ar).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ar[O]},h.__private__.getDocumentProperties=function(){return ar},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(O){for(var G in ar)ar.hasOwnProperty(G)&&O[G]&&(ar[G]=O[G]);return this},h.__private__.setDocumentProperty=function(O,G){if(Object.keys(ar).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ar[O]=G};var we,qe,rt,tr,Lt,Gt={},Ut={},Tr=[],Nt={},jr={},Kt={},rr={},Vr=null,Qt=0,qt=[],Er=new bM(h),vc=e.hotfixes||[],Ha={},Wo={},io=[],Xt=function O(G,me,je,Pe,Xe,Qe){if(!(this instanceof O))return new O(G,me,je,Pe,Xe,Qe);isNaN(G)&&(G=1),isNaN(me)&&(me=0),isNaN(je)&&(je=0),isNaN(Pe)&&(Pe=1),isNaN(Xe)&&(Xe=0),isNaN(Qe)&&(Qe=0),this._matrix=[G,me,je,Pe,Xe,Qe]};Object.defineProperty(Xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xt.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(O)},Xt.prototype.multiply=function(O){var G=O.sx*this.sx+O.shy*this.shx,me=O.sx*this.shy+O.shy*this.sy,je=O.shx*this.sx+O.sy*this.shx,Pe=O.shx*this.shy+O.sy*this.sy,Xe=O.tx*this.sx+O.ty*this.shx+this.tx,Qe=O.tx*this.shy+O.ty*this.sy+this.ty;return new Xt(G,me,je,Pe,Xe,Qe)},Xt.prototype.decompose=function(){var O=this.sx,G=this.shy,me=this.shx,je=this.sy,Pe=this.tx,Xe=this.ty,Qe=Math.sqrt(O*O+G*G),Mt=(O/=Qe)*me+(G/=Qe)*je;me-=O*Mt,je-=G*Mt;var zt=Math.sqrt(me*me+je*je);return Mt/=zt,O*(je/=zt)<G*(me/=zt)&&(O=-O,G=-G,Mt=-Mt,Qe=-Qe),{scale:new Xt(Qe,0,0,zt,0,0),translate:new Xt(1,0,0,1,Pe,Xe),rotate:new Xt(O,G,-G,O,0,0),skew:new Xt(1,0,Mt,1,0,0)}},Xt.prototype.toString=function(O){return this.join(" ")},Xt.prototype.inversed=function(){var O=this.sx,G=this.shy,me=this.shx,je=this.sy,Pe=this.tx,Xe=this.ty,Qe=1/(O*je-G*me),Mt=je*Qe,zt=-G*Qe,or=-me*Qe,hr=O*Qe;return new Xt(Mt,zt,or,hr,-Mt*Pe-or*Xe,-zt*Pe-hr*Xe)},Xt.prototype.applyToPoint=function(O){var G=O.x*this.sx+O.y*this.shx+this.tx,me=O.x*this.shy+O.y*this.sy+this.ty;return new _c(G,me)},Xt.prototype.applyToRectangle=function(O){var G=this.applyToPoint(O),me=this.applyToPoint(new _c(O.x+O.w,O.y+O.h));return new f0(G.x,G.y,me.x-G.x,me.y-G.y)},Xt.prototype.clone=function(){var O=this.sx,G=this.shy,me=this.shx,je=this.sy,Pe=this.tx,Xe=this.ty;return new Xt(O,G,me,je,Pe,Xe)},h.Matrix=Xt;var Ho=h.matrixMult=function(O,G){return G.multiply(O)},qo=new Xt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=qo;var Ns=function(O,G){if(!jr[O]){var me=(G instanceof Nf?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);G.id=me,jr[O]=me,Nt[me]=G,Er.publish("addPattern",G)}};h.ShadingPattern=Nf,h.TilingPattern=Fm,h.addShadingPattern=function(O,G){return k("addShadingPattern()"),Ns(O,G),this},h.beginTilingPattern=function(O){k("beginTilingPattern()"),h0(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},h.endTilingPattern=function(O,G){k("endTilingPattern()"),G.stream=_e[M].join(`
`),Ns(O,G),Er.publish("endTilingPattern",G),io.pop().restore()};var ci,An=h.__private__.newObject=function(){var O=pa();return Z(O,!0),O},pa=h.__private__.newObjectDeferred=function(){return B++,W[B]=function(){return J},B},Z=function(O,G){return G=typeof G=="boolean"&&G,W[O]=J,G&&ae(O+" 0 obj"),O},fe=h.__private__.newAdditionalObject=function(){var O={objId:pa(),content:""};return oe.push(O),O},se=pa(),le=pa(),he=h.__private__.decodeColorString=function(O){var G=O.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var me=parseFloat(G[0]);G=[me,me,me,"r"]}for(var je="#",Pe=0;Pe<3;Pe++)je+=("0"+Math.floor(255*parseFloat(G[Pe])).toString(16)).slice(-2);return je},ge=h.__private__.encodeColorString=function(O){var G;typeof O=="string"&&(O={ch1:O});var me=O.ch1,je=O.ch2,Pe=O.ch3,Xe=O.ch4,Qe=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var Mt=new BX(me);if(Mt.ok)me=Mt.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var zt=parseInt(me.substr(1),16);me=zt>>16&255,je=zt>>8&255,Pe=255&zt}if(je===void 0||Xe===void 0&&me===je&&je===Pe)G=typeof me=="string"?me+" "+Qe[0]:O.precision===2?T(me/255)+" "+Qe[0]:P(me/255)+" "+Qe[0];else if(Xe===void 0||Qr(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",Qe[1]].join(" ");G=typeof me=="string"?[me,je,Pe,Qe[1]].join(" "):O.precision===2?[T(me/255),T(je/255),T(Pe/255),Qe[1]].join(" "):[P(me/255),P(je/255),P(Pe/255),Qe[1]].join(" ")}else G=typeof me=="string"?[me,je,Pe,Xe,Qe[2]].join(" "):O.precision===2?[T(me),T(je),T(Pe),T(Xe),Qe[2]].join(" "):[P(me),P(je),P(Pe),P(Xe),Qe[2]].join(" ");return G},Oe=h.__private__.getFilters=function(){return o},Be=h.__private__.putStream=function(O){var G=(O=O||{}).data||"",me=O.filters||Oe(),je=O.alreadyAppliedFilters||[],Pe=O.addLength1||!1,Xe=G.length,Qe=O.objectId,Mt=function(Pa){return Pa};if(d!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Mt=Aa.encryptor(Qe,0));var zt={};me===!0&&(me=["FlateEncode"]);var or=O.additionalKeyValues||[],hr=(zt=Ht.API.processDataByFilters!==void 0?Ht.API.processDataByFilters(G,me):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(zt.data.length!==0&&(or.push({key:"Length",value:zt.data.length}),Pe===!0&&or.push({key:"Length1",value:Xe})),hr.length!=0)if(hr.split("/").length-1==1)or.push({key:"Filter",value:hr});else{or.push({key:"Filter",value:"["+hr+"]"});for(var Or=0;Or<or.length;Or+=1)if(or[Or].key==="DecodeParms"){for(var Mn=[],xa=0;xa<zt.reverseChain.split("/").length-1;xa+=1)Mn.push("null");Mn.push(or[Or].value),or[Or].value="["+Mn.join(" ")+"]"}}ae("<<");for(var mn=0;mn<or.length;mn++)ae("/"+or[mn].key+" "+or[mn].value);ae(">>"),zt.data.length!==0&&(ae("stream"),ae(Mt(zt.data)),ae("endstream"))},Re=h.__private__.putPage=function(O){var G=O.number,me=O.data,je=O.objId,Pe=O.contentsObjId;Z(je,!0),ae("<</Type /Page"),ae("/Parent "+O.rootDictionaryObjId+" 0 R"),ae("/Resources "+O.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(A(O.mediaBox.bottomLeftX))+" "+parseFloat(A(O.mediaBox.bottomLeftY))+" "+A(O.mediaBox.topRightX)+" "+A(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&ae("/CropBox ["+A(O.cropBox.bottomLeftX)+" "+A(O.cropBox.bottomLeftY)+" "+A(O.cropBox.topRightX)+" "+A(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&ae("/BleedBox ["+A(O.bleedBox.bottomLeftX)+" "+A(O.bleedBox.bottomLeftY)+" "+A(O.bleedBox.topRightX)+" "+A(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&ae("/TrimBox ["+A(O.trimBox.bottomLeftX)+" "+A(O.trimBox.bottomLeftY)+" "+A(O.trimBox.topRightX)+" "+A(O.trimBox.topRightY)+"]"),O.artBox!==null&&ae("/ArtBox ["+A(O.artBox.bottomLeftX)+" "+A(O.artBox.bottomLeftY)+" "+A(O.artBox.topRightX)+" "+A(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&ae("/UserUnit "+O.userUnit),Er.publish("putPage",{objId:je,pageContext:qt[G],pageNumber:G,page:me}),ae("/Contents "+Pe+" 0 R"),ae(">>"),ae("endobj");var Xe=me.join(`
`);return w===_&&(Xe+=`
Q`),Z(Pe,!0),Be({data:Xe,filters:Oe(),objectId:Pe}),ae("endobj"),je},De=h.__private__.putPages=function(){var O,G,me=[];for(O=1;O<=Qt;O++)qt[O].objId=pa(),qt[O].contentsObjId=pa();for(O=1;O<=Qt;O++)me.push(Re({number:O,data:_e[O],objId:qt[O].objId,contentsObjId:qt[O].contentsObjId,mediaBox:qt[O].mediaBox,cropBox:qt[O].cropBox,bleedBox:qt[O].bleedBox,trimBox:qt[O].trimBox,artBox:qt[O].artBox,userUnit:qt[O].userUnit,rootDictionaryObjId:se,resourceDictionaryObjId:le}));Z(se,!0),ae("<</Type /Pages");var je="/Kids [";for(G=0;G<Qt;G++)je+=me[G]+" 0 R ";ae(je+"]"),ae("/Count "+Qt),ae(">>"),ae("endobj"),Er.publish("postPutPages")},Fe=function(O){Er.publish("putFont",{font:O,out:ae,newObject:An,putStream:Be}),O.isAlreadyPutted!==!0&&(O.objectNumber=An(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+wm(O.postScriptName)),ae("/Subtype /Type1"),typeof O.encoding=="string"&&ae("/Encoding /"+O.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},st=function(O){O.objectNumber=An();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[A(O.x),A(O.y),A(O.x+O.width),A(O.y+O.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var me=O.pages[1].join(`
`);Be({data:me,additionalKeyValues:G,objectId:O.objectNumber}),ae("endobj")},ft=function(O,G){G||(G=21);var me=An(),je=function(Qe,Mt){var zt,or=[],hr=1/(Mt-1);for(zt=0;zt<1;zt+=hr)or.push(zt);if(or.push(1),Qe[0].offset!=0){var Or={offset:0,color:Qe[0].color};Qe.unshift(Or)}if(Qe[Qe.length-1].offset!=1){var Mn={offset:1,color:Qe[Qe.length-1].color};Qe.push(Mn)}for(var xa="",mn=0,Pa=0;Pa<or.length;Pa++){for(zt=or[Pa];zt>Qe[mn+1].offset;)mn++;var ya=Qe[mn].offset,ss=(zt-ya)/(Qe[mn+1].offset-ya),Nc=Qe[mn].color,Ko=Qe[mn+1].color;xa+=H(Math.round((1-ss)*Nc[0]+ss*Ko[0]).toString(16))+H(Math.round((1-ss)*Nc[1]+ss*Ko[1]).toString(16))+H(Math.round((1-ss)*Nc[2]+ss*Ko[2]).toString(16))}return xa.trim()}(O.colors,G),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+G+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be({data:je,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),ae("endobj"),O.objectNumber=An(),ae("<< /ShadingType "+O.type),ae("/ColorSpace /DeviceRGB");var Xe="/Coords ["+A(parseFloat(O.coords[0]))+" "+A(parseFloat(O.coords[1]))+" ";O.type===2?Xe+=A(parseFloat(O.coords[2]))+" "+A(parseFloat(O.coords[3])):Xe+=A(parseFloat(O.coords[2]))+" "+A(parseFloat(O.coords[3]))+" "+A(parseFloat(O.coords[4]))+" "+A(parseFloat(O.coords[5])),ae(Xe+="]"),O.matrix&&ae("/Matrix ["+O.matrix.toString()+"]"),ae("/Function "+me+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},St=function(O,G){var me=pa(),je=An();G.push({resourcesOid:me,objectOid:je}),O.objectNumber=je;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+O.boundingBox.map(A).join(" ")+"]"}),Pe.push({key:"XStep",value:A(O.xStep)}),Pe.push({key:"YStep",value:A(O.yStep)}),Pe.push({key:"Resources",value:me+" 0 R"}),O.matrix&&Pe.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),Be({data:O.stream,additionalKeyValues:Pe,objectId:O.objectNumber}),ae("endobj")},ct=function(O){for(var G in O.objectNumber=An(),ae("<<"),O)switch(G){case"opacity":ae("/ca "+T(O[G]));break;case"stroke-opacity":ae("/CA "+T(O[G]))}ae(">>"),ae("endobj")},xt=function(O){Z(O.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var G in ae("/Font <<"),Gt)Gt.hasOwnProperty(G)&&(f===!1||f===!0&&m.hasOwnProperty(G))&&ae("/"+G+" "+Gt[G].objectNumber+" 0 R");ae(">>")}(),function(){if(Object.keys(Nt).length>0){for(var G in ae("/Shading <<"),Nt)Nt.hasOwnProperty(G)&&Nt[G]instanceof Nf&&Nt[G].objectNumber>=0&&ae("/"+G+" "+Nt[G].objectNumber+" 0 R");Er.publish("putShadingPatternDict"),ae(">>")}}(),function(G){if(Object.keys(Nt).length>0){for(var me in ae("/Pattern <<"),Nt)Nt.hasOwnProperty(me)&&Nt[me]instanceof h.TilingPattern&&Nt[me].objectNumber>=0&&Nt[me].objectNumber<G&&ae("/"+me+" "+Nt[me].objectNumber+" 0 R");Er.publish("putTilingPatternDict"),ae(">>")}}(O.objectOid),function(){if(Object.keys(Kt).length>0){var G;for(G in ae("/ExtGState <<"),Kt)Kt.hasOwnProperty(G)&&Kt[G].objectNumber>=0&&ae("/"+G+" "+Kt[G].objectNumber+" 0 R");Er.publish("putGStateDict"),ae(">>")}}(),function(){for(var G in ae("/XObject <<"),Ha)Ha.hasOwnProperty(G)&&Ha[G].objectNumber>=0&&ae("/"+G+" "+Ha[G].objectNumber+" 0 R");Er.publish("putXobjectDict"),ae(">>")}(),ae(">>"),ae("endobj")},sr=function(O){Ut[O.fontName]=Ut[O.fontName]||{},Ut[O.fontName][O.fontStyle]=O.id},an=function(O,G,me,je,Pe){var Xe={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:O,fontName:G,fontStyle:me,encoding:je,isStandardFont:Pe||!1,metadata:{}};return Er.publish("addFont",{font:Xe,instance:this}),Gt[Xe.id]=Xe,sr(Xe),Xe.id},Sr=h.__private__.pdfEscape=h.pdfEscape=function(O,G){return function(me,je){var Pe,Xe,Qe,Mt,zt,or,hr,Or,Mn;if(Qe=(je=je||{}).sourceEncoding||"Unicode",zt=je.outputEncoding,(je.autoencode||zt)&&Gt[we].metadata&&Gt[we].metadata[Qe]&&Gt[we].metadata[Qe].encoding&&(Mt=Gt[we].metadata[Qe].encoding,!zt&&Gt[we].encoding&&(zt=Gt[we].encoding),!zt&&Mt.codePages&&(zt=Mt.codePages[0]),typeof zt=="string"&&(zt=Mt[zt]),zt)){for(hr=!1,or=[],Pe=0,Xe=me.length;Pe<Xe;Pe++)(Or=zt[me.charCodeAt(Pe)])?or.push(String.fromCharCode(Or)):or.push(me[Pe]),or[Pe].charCodeAt(0)>>8&&(hr=!0);me=or.join("")}for(Pe=me.length;hr===void 0&&Pe!==0;)me.charCodeAt(Pe-1)>>8&&(hr=!0),Pe--;if(!hr)return me;for(or=je.noBOM?[]:[254,255],Pe=0,Xe=me.length;Pe<Xe;Pe++){if((Mn=(Or=me.charCodeAt(Pe))>>8)>>8)throw new Error("Character at position "+Pe+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");or.push(Mn),or.push(Or-(Mn<<8))}return String.fromCharCode.apply(void 0,or)}(O,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qn=h.__private__.beginPage=function(O){_e[++Qt]=[],qt[Qt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},Ol(Qt),ze(_e[M])},Tl=function(O,G){var me,je,Pe;switch(r=G||r,typeof O=="string"&&(me=x(O.toLowerCase()),Array.isArray(me)&&(je=me[0],Pe=me[1])),Array.isArray(O)&&(je=O[0]*qe,Pe=O[1]*qe),isNaN(je)&&(je=a[0],Pe=a[1]),(je>14400||Pe>14400)&&(dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Pe=Math.min(14400,Pe)),a=[je,Pe],r.substr(0,1)){case"l":Pe>je&&(a=[Pe,je]);break;case"p":je>Pe&&(a=[Pe,je])}qn(a),lr(l0),ae(Fh),u0!==0&&ae(u0+" J"),d0!==0&&ae(d0+" j"),Er.publish("addPage",{pageNumber:Qt})},Vo=function(O){O>0&&O<=Qt&&(_e.splice(O,1),qt.splice(O,1),Qt--,M>Qt&&(M=Qt),this.setPage(M))},Ol=function(O){O>0&&O<=Qt&&(M=O)},oo=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return _e.length-1},Cu=function(O,G,me){var je,Pe=void 0;return me=me||{},O=O!==void 0?O:Gt[we].fontName,G=G!==void 0?G:Gt[we].fontStyle,je=O.toLowerCase(),Ut[je]!==void 0&&Ut[je][G]!==void 0?Pe=Ut[je][G]:Ut[O]!==void 0&&Ut[O][G]!==void 0?Pe=Ut[O][G]:me.disableWarning===!1&&dn.warn("Unable to look up font label for font '"+O+"', '"+G+"'. Refer to getFontList() for available fonts."),Pe||me.noFallback||(Pe=Ut.times[G])==null&&(Pe=Ut.times.normal),Pe},ga=h.__private__.putInfo=function(){var O=An(),G=function(je){return je};for(var me in d!==null&&(G=Aa.encryptor(O,0)),ae("<<"),ae("/Producer ("+Sr(G("jsPDF "+Ht.version))+")"),ar)ar.hasOwnProperty(me)&&ar[me]&&ae("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Sr(G(ar[me]))+")");ae("/CreationDate ("+Sr(G(Y))+")"),ae(">>"),ae("endobj")},Dh=h.__private__.putCatalog=function(O){var G=(O=O||{}).rootDictionaryObjId||se;switch(An(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+G+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+tt;me.substr(me.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+T(tt)+"]")}switch(Yt||(Yt="continuous"),Yt){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}kt&&ae("/PageMode /"+kt),Er.publish("putCatalog"),ae(">>"),ae("endobj")},Oj=h.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(B+1)),ae("/Root "+B+" 0 R"),ae("/Info "+(B-1)+" 0 R"),d!==null&&ae("/Encrypt "+Aa.oid+" 0 R"),ae("/ID [ <"+re+"> <"+re+"> ]"),ae(">>")},va=h.__private__.putHeader=function(){ae("%PDF-"+v),ae("%")},Dx=h.__private__.putXRef=function(){var O="0000000000";ae("xref"),ae("0 "+(B+1)),ae("0000000000 65535 f ");for(var G=1;G<=B;G++)typeof W[G]=="function"?ae((O+W[G]()).slice(-10)+" 00000 n "):W[G]!==void 0?ae((O+W[G]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},Rl=h.__private__.buildDocument=function(){var O;B=0,J=0,te=[],W=[],oe=[],se=pa(),le=pa(),ze(te),Er.publish("buildDocument"),va(),De(),function(){Er.publish("putAdditionalObjects");for(var me=0;me<oe.length;me++){var je=oe[me];Z(je.objId,!0),ae(je.content),ae("endobj")}Er.publish("postPutAdditionalObjects")}(),O=[],function(){for(var me in Gt)Gt.hasOwnProperty(me)&&(f===!1||f===!0&&m.hasOwnProperty(me))&&Fe(Gt[me])}(),function(){var me;for(me in Kt)Kt.hasOwnProperty(me)&&ct(Kt[me])}(),function(){for(var me in Ha)Ha.hasOwnProperty(me)&&st(Ha[me])}(),function(me){var je;for(je in Nt)Nt.hasOwnProperty(je)&&(Nt[je]instanceof Nf?ft(Nt[je]):Nt[je]instanceof Fm&&St(Nt[je],me))}(O),Er.publish("putResources"),O.forEach(xt),xt({resourcesOid:le,objectOid:Number.MAX_SAFE_INTEGER}),Er.publish("postPutResources"),d!==null&&(Aa.oid=An(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Aa.v),ae("/R "+Aa.r),ae("/U <"+Aa.toHexString(Aa.U)+">"),ae("/O <"+Aa.toHexString(Aa.O)+">"),ae("/P "+Aa.P),ae(">>"),ae("endobj")),ga(),Dh();var G=J;return Dx(),Oj(),ae("startxref"),ae(""+G),ae("%%EOF"),ze(_e[M]),te.join(`
`)},Lh=h.__private__.getBlob=function(O){return new Blob([He(O)],{type:"application/pdf"})},Lx=h.output=h.__private__.output=(ci=function(O,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",O){case void 0:return Rl();case"save":h.save(G.filename);break;case"arraybuffer":return He(Rl());case"blob":return Lh(Rl());case"bloburi":case"bloburl":if(ir.URL!==void 0&&typeof ir.URL.createObjectURL=="function")return ir.URL&&ir.URL.createObjectURL(Lh(Rl()))||void 0;dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",je=Rl();try{me=xM(je)}catch{me=xM(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+G.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Pe=G.pdfObjectUrl,Xe="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",Mt=ir.open();return Mt!==null&&Mt.document.write(Qe),Mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',or=ir.open();if(or!==null){or.document.write(zt);var hr=this;or.document.documentElement.querySelector("#pdfViewer").onload=function(){or.document.title=G.filename,or.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hr.output("bloburl"))}}return or}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ir)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Or='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',Mn=ir.open();if(Mn!==null&&(Mn.document.write(Or),Mn.document.title=G.filename),Mn||typeof safari>"u")return Mn;break;case"datauri":case"dataurl":return ir.document.location.href=this.output("datauristring",G);default:return null}},ci.foo=function(){try{return ci.apply(this,arguments)}catch(me){var O=me.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var G="Error in function "+O.split(`
`)[0].split("<")[0]+": "+me.message;if(!ir.console)throw new Error(G);ir.console.error(G,me),ir.alert&&alert(G)}},ci.foo.bar=ci,ci.foo),lo=function(O){return Array.isArray(vc)===!0&&vc.indexOf(O)>-1};switch(n){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=lo("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);qe=n}var Aa=null;xe(),q();var xc=h.__private__.getPageInfo=h.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qt[O].objId,pageNumber:O,pageContext:qt[O]}},Mx=h.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in qt)if(qt[G].objId===O)break;return xc(G)},Rj=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:qt[M].objId,pageNumber:M,pageContext:qt[M]}};h.addPage=function(){return Tl.apply(this,arguments),this},h.setPage=function(){return Ol.apply(this,arguments),ze.call(this,_e[M]),this},h.insertPage=function(O){return this.addPage(),this.movePage(M,O),this},h.movePage=function(O,G){var me,je;if(O>G){me=_e[O],je=qt[O];for(var Pe=O;Pe>G;Pe--)_e[Pe]=_e[Pe-1],qt[Pe]=qt[Pe-1];_e[G]=me,qt[G]=je,this.setPage(G)}else if(O<G){me=_e[O],je=qt[O];for(var Xe=O;Xe<G;Xe++)_e[Xe]=_e[Xe+1],qt[Xe]=qt[Xe+1];_e[G]=me,qt[G]=je,this.setPage(G)}return this},h.deletePage=function(){return Vo.apply(this,arguments),this},h.__private__.text=h.text=function(O,G,me,je,Pe){var Xe,Qe,Mt,zt,or,hr,Or,Mn,xa,mn=(je=je||{}).scope||this;if(typeof O=="number"&&typeof G=="number"&&(typeof me=="string"||Array.isArray(me))){var Pa=me;me=G,G=O,O=Pa}if(arguments[3]instanceof Xt==0?(Mt=arguments[4],zt=arguments[5],Qr(Or=arguments[3])==="object"&&Or!==null||(typeof Mt=="string"&&(zt=Mt,Mt=null),typeof Or=="string"&&(zt=Or,Or=null),typeof Or=="number"&&(Mt=Or,Or=null),je={flags:Or,angle:Mt,align:zt})):(k("The transform parameter of text() with a Matrix value"),xa=Pe),isNaN(G)||isNaN(me)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return mn;var ya,ss="",Nc=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:Jd,Ko=mn.internal.scaleFactor;function kc(Hr){return Hr=Hr.split("	").join(Array(je.TabLen||9).join(" ")),Sr(Hr,Or)}function p0(Hr){for(var cn,la=Hr.concat(),Ta=[],Ac=la.length;Ac--;)typeof(cn=la.shift())=="string"?Ta.push(cn):Array.isArray(Hr)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?Ta.push(cn[0]):Ta.push([cn[0],cn[1],cn[2]]);return Ta}function Bh(Hr,cn){var la;if(typeof Hr=="string")la=cn(Hr)[0];else if(Array.isArray(Hr)){for(var Ta,Ac,N0=Hr.concat(),Wh=[],Kx=N0.length;Kx--;)typeof(Ta=N0.shift())=="string"?Wh.push(cn(Ta)[0]):Array.isArray(Ta)&&typeof Ta[0]=="string"&&(Ac=cn(Ta[0],Ta[1],Ta[2]),Wh.push([Ac[0],Ac[1],Ac[2]]));la=Wh}return la}var Au=!1,tf=!0;if(typeof O=="string")Au=!0;else if(Array.isArray(O)){var rf=O.concat();Qe=[];for(var Pu,is=rf.length;is--;)(typeof(Pu=rf.shift())!="string"||Array.isArray(Pu)&&typeof Pu[0]!="string")&&(tf=!1);Au=tf}if(Au===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var nf=Ke/mn.internal.scaleFactor,af=nf*(Nc-1);switch(je.baseline){case"bottom":me-=af;break;case"top":me+=nf-af;break;case"hanging":me+=nf-2*af;break;case"middle":me+=nf/2-af}if((hr=je.maxWidth||0)>0&&(typeof O=="string"?O=mn.splitTextToSize(O,hr):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(Hr,cn){return Hr.concat(mn.splitTextToSize(cn,hr))},[]))),Xe={text:O,x:G,y:me,options:je,mutex:{pdfEscape:Sr,activeFontKey:we,fonts:Gt,activeFontSize:Ke}},Er.publish("preProcessText",Xe),O=Xe.text,Mt=(je=Xe.options).angle,xa instanceof Xt==0&&Mt&&typeof Mt=="number"){Mt*=Math.PI/180,je.rotationDirection===0&&(Mt=-Mt),w===_&&(Mt=-Mt);var g0=Math.cos(Mt),v0=Math.sin(Mt);xa=new Xt(g0,v0,-v0,g0,0,0)}else Mt&&Mt instanceof Xt&&(xa=Mt);w!==_||xa||(xa=qo),(or=je.charSpace||bc)!==void 0&&(ss+=A(V(or))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mn=je.horizontalScale)!==void 0&&(ss+=A(100*Mn)+` Tz
`),je.lang;var Us=-1,Ec=je.renderingMode!==void 0?je.renderingMode:je.stroke,Uh=mn.internal.getCurrentPageInfo().pageContext;switch(Ec){case 0:case!1:case"fill":Us=0;break;case 1:case!0:case"stroke":Us=1;break;case 2:case"fillThenStroke":Us=2;break;case 3:case"invisible":Us=3;break;case 4:case"fillAndAddForClipping":Us=4;break;case 5:case"strokeAndAddPathForClipping":Us=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Us=6;break;case 7:case"addToPathForClipping":Us=7}var Vx=Uh.usedRenderingMode!==void 0?Uh.usedRenderingMode:-1;Us!==-1?ss+=Us+` Tr
`:Vx!==-1&&(ss+=`0 Tr
`),Us!==-1&&(Uh.usedRenderingMode=Us),zt=je.align||"left";var co,sf=Ke*Nc,x0=mn.internal.pageSize.getWidth(),y0=Gt[we];or=je.charSpace||bc,hr=je.maxWidth||0,Or=Object.assign({autoencode:!0,noBOM:!0},je.flags);var Tu=[],of=function(Hr){return mn.getStringUnitWidth(Hr,{font:y0,charSpace:or,fontSize:Ke,doKerning:!1})*Ke/Ko};if(Object.prototype.toString.call(O)==="[object Array]"){var Ni;Qe=p0(O),zt!=="left"&&(co=Qe.map(of));var ki,Ou=0;if(zt==="right"){G-=co[0],O=[],is=Qe.length;for(var Cc=0;Cc<is;Cc++)Cc===0?(ki=yc(G),Ni=wc(me)):(ki=V(Ou-co[Cc]),Ni=-sf),O.push([Qe[Cc],ki,Ni]),Ou=co[Cc]}else if(zt==="center"){G-=co[0]/2,O=[],is=Qe.length;for(var Ru=0;Ru<is;Ru++)Ru===0?(ki=yc(G),Ni=wc(me)):(ki=V((Ou-co[Ru])/2),Ni=-sf),O.push([Qe[Ru],ki,Ni]),Ou=co[Ru]}else if(zt==="left"){O=[],is=Qe.length;for(var w0=0;w0<is;w0++)O.push(Qe[w0])}else if(zt==="justify"&&y0.encoding==="Identity-H"){O=[],is=Qe.length,hr=hr!==0?hr:x0;for(var zh=0,oa=0;oa<is;oa++)if(Ni=oa===0?wc(me):-sf,ki=oa===0?yc(G):zh,oa<is-1){var Gx=V((hr-co[oa])/(Qe[oa].split(" ").length-1)),Dl=Qe[oa].split(" ");O.push([Dl[0]+" ",ki,Ni]),zh=0;for(var Ll=1;Ll<Dl.length;Ll++){var b0=(of(Dl[Ll-1]+" "+Dl[Ll])-of(Dl[Ll]))*Ko+Gx;Ll==Dl.length-1?O.push([Dl[Ll],b0,0]):O.push([Dl[Ll]+" ",b0,0]),zh-=b0}}else O.push([Qe[oa],ki,Ni]);O.push(["",zh,0])}else{if(zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],is=Qe.length,hr=hr!==0?hr:x0,oa=0;oa<is;oa++){Ni=oa===0?wc(me):-sf,ki=oa===0?yc(G):0;var _0=Qe[oa].split(" ").length-1,j0=_0>0?(hr-co[oa])/_0:0;oa<is-1?Tu.push(A(V(j0))):Tu.push(0),O.push([Qe[oa],ki,Ni])}}}(typeof je.R2L=="boolean"?je.R2L:pt)===!0&&(O=Bh(O,function(Hr,cn,la){return[Hr.split("").reverse().join(""),cn,la]})),Xe={text:O,x:G,y:me,options:je,mutex:{pdfEscape:Sr,activeFontKey:we,fonts:Gt,activeFontSize:Ke}},Er.publish("postProcessText",Xe),O=Xe.text,ya=Xe.mutex.isHex||!1;var S0=Gt[we].encoding;S0!=="WinAnsiEncoding"&&S0!=="StandardEncoding"||(O=Bh(O,function(Hr,cn,la){return[kc(Hr),cn,la]})),Qe=p0(O),O=[];for(var Iu,Du,Lu,lf=Array.isArray(Qe[0])?1:0,Mu="",cf=function(Hr,cn,la){var Ta="";return la instanceof Xt?(la=typeof je.angle=="number"?Ho(la,new Xt(1,0,0,1,Hr,cn)):Ho(new Xt(1,0,0,1,Hr,cn),la),w===_&&(la=Ho(new Xt(1,0,0,-1,0,0),la)),Ta=la.join(" ")+` Tm
`):Ta=A(Hr)+" "+A(cn)+` Td
`,Ta},uo=0;uo<Qe.length;uo++){switch(Mu="",lf){case 1:Lu=(ya?"<":"(")+Qe[uo][0]+(ya?">":")"),Iu=parseFloat(Qe[uo][1]),Du=parseFloat(Qe[uo][2]);break;case 0:Lu=(ya?"<":"(")+Qe[uo]+(ya?">":")"),Iu=yc(G),Du=wc(me)}Tu!==void 0&&Tu[uo]!==void 0&&(Mu=Tu[uo]+` Tw
`),uo===0?O.push(Mu+cf(Iu,Du,xa)+Lu):lf===0?O.push(Mu+Lu):lf===1&&O.push(Mu+cf(Iu,Du,xa)+Lu)}O=lf===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Ml=`BT
/`;return Ml+=we+" "+Ke+` Tf
`,Ml+=A(Ke*Nc)+` TL
`,Ml+=Zd+`
`,Ml+=ss,Ml+=O,ae(Ml+="ET"),m[we]=!0,mn};var Ij=h.__private__.clip=h.clip=function(O){return ae(O==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Ij("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ae("n"),this};var Il=h.__private__.isValidStyle=function(O){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(G=!0),G};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(O){return Il(O)&&(u=O),this};var Fx=h.__private__.getStyle=h.getStyle=function(O){var G=u;switch(O){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=O}return G},$x=h.close=function(){return ae("h"),this};h.stroke=function(){return ae("S"),this},h.fill=function(O){return Mh("f",O),this},h.fillEvenOdd=function(O){return Mh("f*",O),this},h.fillStroke=function(O){return Mh("B",O),this},h.fillStrokeEvenOdd=function(O){return Mh("B*",O),this};var Mh=function(O,G){Qr(G)==="object"?Lj(G,O):ae(O)},Xd=function(O){O===null||w===_&&O===void 0||(O=Fx(O),ae(O))};function Dj(O,G,me,je,Pe){var Xe=new Fm(G||this.boundingBox,me||this.xStep,je||this.yStep,this.gState,Pe||this.matrix);Xe.stream=this.stream;var Qe=O+"$$"+this.cloneIndex+++"$$";return Ns(Qe,Xe),Xe}var Lj=function(O,G){var me=jr[O.key],je=Nt[me];if(je instanceof Nf)ae("q"),ae(Mj(G)),je.gState&&h.setGState(je.gState),ae(O.matrix.toString()+" cm"),ae("/"+me+" sh"),ae("Q");else if(je instanceof Fm){var Pe=new Xt(1,0,0,-1,0,ef());O.matrix&&(Pe=Pe.multiply(O.matrix||qo),me=Dj.call(je,O.key,O.boundingBox,O.xStep,O.yStep,Pe).id),ae("q"),ae("/Pattern cs"),ae("/"+me+" scn"),je.gState&&h.setGState(je.gState),ae(G),ae("Q")}},Mj=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},o0=h.moveTo=function(O,G){return ae(A(V(O))+" "+A(F(G))+" m"),this},Bx=h.lineTo=function(O,G){return ae(A(V(O))+" "+A(F(G))+" l"),this},Go=h.curveTo=function(O,G,me,je,Pe,Xe){return ae([A(V(O)),A(F(G)),A(V(me)),A(F(je)),A(V(Pe)),A(F(Xe)),"c"].join(" ")),this};h.__private__.line=h.line=function(O,G,me,je,Pe){if(isNaN(O)||isNaN(G)||isNaN(me)||isNaN(je)||!Il(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return w===b?this.lines([[me-O,je-G]],O,G,[1,1],Pe||"S"):this.lines([[me-O,je-G]],O,G,[1,1]).stroke()},h.__private__.lines=h.lines=function(O,G,me,je,Pe,Xe){var Qe,Mt,zt,or,hr,Or,Mn,xa,mn,Pa,ya,ss;if(typeof O=="number"&&(ss=me,me=G,G=O,O=ss),je=je||[1,1],Xe=Xe||!1,isNaN(G)||isNaN(me)||!Array.isArray(O)||!Array.isArray(je)||!Il(Pe)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(o0(G,me),Qe=je[0],Mt=je[1],or=O.length,Pa=G,ya=me,zt=0;zt<or;zt++)(hr=O[zt]).length===2?(Pa=hr[0]*Qe+Pa,ya=hr[1]*Mt+ya,Bx(Pa,ya)):(Or=hr[0]*Qe+Pa,Mn=hr[1]*Mt+ya,xa=hr[2]*Qe+Pa,mn=hr[3]*Mt+ya,Pa=hr[4]*Qe+Pa,ya=hr[5]*Mt+ya,Go(Or,Mn,xa,mn,Pa,ya));return Xe&&$x(),Xd(Pe),this},h.path=function(O){for(var G=0;G<O.length;G++){var me=O[G],je=me.c;switch(me.op){case"m":o0(je[0],je[1]);break;case"l":Bx(je[0],je[1]);break;case"c":Go.apply(this,je);break;case"h":$x()}}return this},h.__private__.rect=h.rect=function(O,G,me,je,Pe){if(isNaN(O)||isNaN(G)||isNaN(me)||isNaN(je)||!Il(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b&&(je=-je),ae([A(V(O)),A(F(G)),A(V(me)),A(V(je)),"re"].join(" ")),Xd(Pe),this},h.__private__.triangle=h.triangle=function(O,G,me,je,Pe,Xe,Qe){if(isNaN(O)||isNaN(G)||isNaN(me)||isNaN(je)||isNaN(Pe)||isNaN(Xe)||!Il(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-O,je-G],[Pe-me,Xe-je],[O-Pe,G-Xe]],O,G,[1,1],Qe,!0),this},h.__private__.roundedRect=h.roundedRect=function(O,G,me,je,Pe,Xe,Qe){if(isNaN(O)||isNaN(G)||isNaN(me)||isNaN(je)||isNaN(Pe)||isNaN(Xe)||!Il(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*me),Xe=Math.min(Xe,.5*je),this.lines([[me-2*Pe,0],[Pe*Mt,0,Pe,Xe-Xe*Mt,Pe,Xe],[0,je-2*Xe],[0,Xe*Mt,-Pe*Mt,Xe,-Pe,Xe],[2*Pe-me,0],[-Pe*Mt,0,-Pe,-Xe*Mt,-Pe,-Xe],[0,2*Xe-je],[0,-Xe*Mt,Pe*Mt,-Xe,Pe,-Xe]],O+Pe,G,[1,1],Qe,!0),this},h.__private__.ellipse=h.ellipse=function(O,G,me,je,Pe){if(isNaN(O)||isNaN(G)||isNaN(me)||isNaN(je)||!Il(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*me,Qe=4/3*(Math.SQRT2-1)*je;return o0(O+me,G),Go(O+me,G-Qe,O+Xe,G-je,O,G-je),Go(O-Xe,G-je,O-me,G-Qe,O-me,G),Go(O-me,G+Qe,O-Xe,G+je,O,G+je),Go(O+Xe,G+je,O+me,G+Qe,O+me,G),Xd(Pe),this},h.__private__.circle=h.circle=function(O,G,me,je){if(isNaN(O)||isNaN(G)||isNaN(me)||!Il(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,G,me,me,je)},h.setFont=function(O,G,me){return me&&(G=j(G,me)),we=Cu(O,G,{disableWarning:!1}),this};var Fj=h.__private__.getFont=h.getFont=function(){return Gt[Cu.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var O,G,me={};for(O in Ut)if(Ut.hasOwnProperty(O))for(G in me[O]=[],Ut[O])Ut[O].hasOwnProperty(G)&&me[O].push(G);return me},h.addFont=function(O,G,me,je,Pe){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(me=j(me,je)),an.call(this,O,G,me,Pe=Pe||"Identity-H")};var Jd,l0=e.lineWidth||.200025,$j=h.__private__.getLineWidth=h.getLineWidth=function(){return l0},lr=h.__private__.setLineWidth=h.setLineWidth=function(O){return l0=O,ae(A(V(O))+" w"),this};h.__private__.setLineDash=Ht.API.setLineDash=Ht.API.setLineDashPattern=function(O,G){if(O=O||[],G=G||0,isNaN(G)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(me){return A(V(me))}).join(" "),G=A(V(G)),ae("["+O+"] "+G+" d"),this};var Bj=h.__private__.getLineHeight=h.getLineHeight=function(){return Ke*Jd};h.__private__.getLineHeight=h.getLineHeight=function(){return Ke*Jd};var Uj=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(Jd=O),this},zj=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Jd};Uj(e.lineHeight);var yc=h.__private__.getHorizontalCoordinate=function(O){return V(O)},wc=h.__private__.getVerticalCoordinate=function(O){return w===_?O:qt[M].mediaBox.topRightY-qt[M].mediaBox.bottomLeftY-V(O)},Wj=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(O){return A(yc(O))},Hj=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(O){return A(wc(O))},Fh=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return he(Fh)},h.__private__.setStrokeColor=h.setDrawColor=function(O,G,me,je){return Fh=ge({ch1:O,ch2:G,ch3:me,ch4:je,pdfColorType:"draw",precision:2}),ae(Fh),this};var c0=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return he(c0)},h.__private__.setFillColor=h.setFillColor=function(O,G,me,je){return c0=ge({ch1:O,ch2:G,ch3:me,ch4:je,pdfColorType:"fill",precision:2}),ae(c0),this};var Zd=e.textColor||"0 g",qj=h.__private__.getTextColor=h.getTextColor=function(){return he(Zd)};h.__private__.setTextColor=h.setTextColor=function(O,G,me,je){return Zd=ge({ch1:O,ch2:G,ch3:me,ch4:je,pdfColorType:"text",precision:3}),this};var bc=e.charSpace,Vj=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(bc||0)};h.__private__.setCharSpace=h.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bc=O,this};var u0=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(O){var G=h.CapJoinStyles[O];if(G===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return u0=G,ae(G+" J"),this};var d0=0;h.__private__.setLineJoin=h.setLineJoin=function(O){var G=h.CapJoinStyles[O];if(G===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return d0=G,ae(G+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(A(V(O))+" M"),this},h.GState=Vb,h.setGState=function(O){(O=typeof O=="string"?Kt[rr[O]]:Ux(null,O)).equals(Vr)||(ae("/"+O.id+" gs"),Vr=O)};var Ux=function(O,G){if(!O||!rr[O]){var me=!1;for(var je in Kt)if(Kt.hasOwnProperty(je)&&Kt[je].equals(G)){me=!0;break}if(me)G=Kt[je];else{var Pe="GS"+(Object.keys(Kt).length+1).toString(10);Kt[Pe]=G,G.id=Pe}return O&&(rr[O]=G.id),Er.publish("addGState",G),G}};h.addGState=function(O,G){return Ux(O,G),this},h.saveGraphicsState=function(){return ae("q"),Tr.push({key:we,size:Ke,color:Zd}),this},h.restoreGraphicsState=function(){ae("Q");var O=Tr.pop();return we=O.key,Ke=O.size,Zd=O.color,Vr=null,this},h.setCurrentTransformationMatrix=function(O){return ae(O.toString()+" cm"),this},h.comment=function(O){return ae("#"+O),this};var _c=function(O,G){var me=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(Xe){isNaN(Xe)||(me=parseFloat(Xe))}});var je=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(Xe){isNaN(Xe)||(je=parseFloat(Xe))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Xe){Pe=Xe.toString()}}),this},f0=function(O,G,me,je){_c.call(this,O,G),this.type="rect";var Pe=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(Qe){isNaN(Qe)||(Pe=parseFloat(Qe))}});var Xe=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(Qe){isNaN(Qe)||(Xe=parseFloat(Qe))}}),this},$h=function(){this.page=Qt,this.currentPage=M,this.pages=_e.slice(0),this.pagesContext=qt.slice(0),this.x=rt,this.y=tr,this.matrix=Lt,this.width=m0(M),this.height=Wx(M),this.outputDestination=We,this.id="",this.objectNumber=-1};$h.prototype.restore=function(){Qt=this.page,M=this.currentPage,qt=this.pagesContext,_e=this.pages,rt=this.x,tr=this.y,Lt=this.matrix,zx(M,this.width),jc(M,this.height),We=this.outputDestination};var h0=function(O,G,me,je,Pe){io.push(new $h),Qt=M=0,_e=[],rt=O,tr=G,Lt=Pe,qn([me,je])};for(var Qd in h.beginFormObject=function(O,G,me,je,Pe){return h0(O,G,me,je,Pe),this},h.endFormObject=function(O){return function(G){if(Wo[G])io.pop().restore();else{var me=new $h,je="Xo"+(Object.keys(Ha).length+1).toString(10);me.id=je,Wo[G]=je,Ha[je]=me,Er.publish("addFormObject",me),io.pop().restore()}}(O),this},h.doFormObject=function(O,G){var me=Ha[Wo[O]];return ae("q"),ae(G.toString()+" cm"),ae("/"+me.id+" Do"),ae("Q"),this},h.getFormObject=function(O){var G=Ha[Wo[O]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},h.save=function(O,G){return O=O||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(_f(Lh(Rl()),O),typeof _f.unload=="function"&&ir.setTimeout&&setTimeout(_f.unload,911),this):new Promise(function(me,je){try{var Pe=_f(Lh(Rl()),O);typeof _f.unload=="function"&&ir.setTimeout&&setTimeout(_f.unload,911),me(Pe)}catch(Xe){je(Xe.message)}})},Ht.API)Ht.API.hasOwnProperty(Qd)&&(Qd==="events"&&Ht.API.events.length?function(O,G){var me,je,Pe;for(Pe=G.length-1;Pe!==-1;Pe--)me=G[Pe][0],je=G[Pe][1],O.subscribe.apply(O,[me].concat(typeof je=="function"?[je]:je))}(Er,Ht.API.events):h[Qd]=Ht.API[Qd]);function m0(O){return qt[O].mediaBox.topRightX-qt[O].mediaBox.bottomLeftX}function zx(O,G){qt[O].mediaBox.topRightX=G+qt[O].mediaBox.bottomLeftX}function Wx(O){return qt[O].mediaBox.topRightY-qt[O].mediaBox.bottomLeftY}function jc(O,G){qt[O].mediaBox.topRightY=G+qt[O].mediaBox.bottomLeftY}var Sc=h.getPageWidth=function(O){return m0(O=O||M)/qe},Hx=h.setPageWidth=function(O,G){zx(O,G*qe)},ef=h.getPageHeight=function(O){return Wx(O=O||M)/qe},qx=h.setPageHeight=function(O,G){jc(O,G*qe)};return h.internal={pdfEscape:Sr,getStyle:Fx,getFont:Fj,getFontSize:at,getCharSpace:Vj,getTextColor:qj,getLineHeight:Bj,getLineHeightFactor:zj,getLineWidth:$j,write:$e,getHorizontalCoordinate:yc,getVerticalCoordinate:wc,getCoordinateString:Wj,getVerticalCoordinateString:Hj,collections:{},newObject:An,newAdditionalObject:fe,newObjectDeferred:pa,newObjectDeferredBegin:Z,getFilters:Oe,putStream:Be,events:Er,scaleFactor:qe,pageSize:{getWidth:function(){return Sc(M)},setWidth:function(O){Hx(M,O)},getHeight:function(){return ef(M)},setHeight:function(O){qx(M,O)}},encryptionOptions:d,encryption:Aa,getEncryptor:function(O){return d!==null?Aa.encryptor(O,0):function(G){return G}},output:Lx,getNumberOfPages:oo,get pages(){return _e},out:ae,f2:T,f3:P,getPageInfo:xc,getPageInfoByObjId:Mx,getCurrentPageInfo:Rj,getPDFVersion:g,Point:_c,Rectangle:f0,Matrix:Xt,hasHotfix:lo},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Sc(M)},set:function(O){Hx(M,O)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return ef(M)},set:function(O){qx(M,O)},enumerable:!0,configurable:!0}),(function(O){for(var G=0,me=nt.length;G<me;G++){var je=an.call(this,O[G][0],O[G][1],O[G][2],nt[G][3],!0);f===!1&&(m[je]=!0);var Pe=O[G][0].split("-");sr({id:je,fontName:Pe[0],fontStyle:Pe[1]||""})}Er.publish("addFonts",{fonts:Gt,dictionary:Ut})}).call(h,nt),we="F1",Tl(a,r),Er.publish("initialized"),h}ym.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ym.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ym.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},ym.prototype.processOwnerPassword=function(e,t){return iE(sE(t).substr(0,5),e)},ym.prototype.encryptor=function(e,t){var r=sE(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return iE(r,n)}},Vb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Qr(e)!==Qr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ht.API={events:[]},Ht.version="4.1.0";var Kn=Ht.API,CP=1,Ah=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},um=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Gb=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var r=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},cr=function(e){return e.toFixed(2)},Ku=function(e){return e.toFixed(5)};Kn.__acroform__={};var Si=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},_M=function(e){return e*CP},Wl=function(e){var t=new HX,r=It.internal.getHeight(e)||0,n=It.internal.getWidth(e)||0;return t.BBox=[0,0,Number(cr(n)),Number(cr(r))],t},H6e=Kn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},q6e=Kn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},V6e=Kn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},fa=Kn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return V6e(e,t-1)},ha=Kn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return H6e(e,t-1)},ma=Kn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return q6e(e,t-1)},G6e=Kn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(s)||0,[Number(cr(c.lowerLeft_X)),Number(cr(c.lowerLeft_Y)),Number(cr(c.upperRight_X)),Number(cr(c.upperRight_Y))]},K6e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=oE(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+cr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Wl(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},oE=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var s=r,o=It.internal.getHeight(e)||0;o=o<0?-o:o;var l=It.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(T,P,V){if(T+1<a.length){var F=P+" "+a[T+1][0];return g1(F,e,V).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=g1("3",e,s).height,m=e.multiline?o-s:(o-f)/2,h=m+=2,v=0,g=0,y=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+g1(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var x="",b=0,_=0;_<a.length;_++)if(a.hasOwnProperty(_)){var w=!1;if(a[_].length!==1&&y!==a[_].length-1){if((f+2)*(b+2)+2>o)continue e;x+=a[_][y],w=!0,g=_,_--}else{x=(x+=a[_][y]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var N=parseInt(_),C=c(N,x,s),j=_>=a.length-1;if(C&&!j){x+=" ",y=0;continue}if(C||j){if(j)g=N;else if(e.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>o)continue e;g=N}}for(var A="",k=v;k<=g;k++){var I=a[k];if(e.multiline){if(k===g){A+=I[y]+" ",y=(y+1)%I.length;continue}if(k===v){A+=I[I.length-1]+" ";continue}}A+=I[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=g1(A,e,s).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=cr(u)+" "+cr(h)+` Td
`,t+="("+Ah(A)+`) Tj
`,t+=-cr(u)+` 0 Td
`,h=-(s+2),d=0,v=w?g:g+1,b++,x=""}break}return n.text=t,n.fontSize=s,n},g1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Y6e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},X6e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},J6e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Al.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Y6e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");CP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new qX,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&X6e(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=G6e(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=It.createDefaultAppearanceStream(l),Qr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=K6e(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var v=h[o];typeof v=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&function(g,y){for(var x in g)if(g.hasOwnProperty(x)){var b=x,_=g[x];y.internal.newObjectDeferredBegin(_.objId,!0),Qr(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete g[b]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},WX=Kn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),Qr(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)==="/"?a+="/"+Gb(e[s].substr(1)):(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ah(n(e[s].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Q5=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ah(n(e))+")"},ec=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ec.prototype.toString=function(){return this.objId+" 0 R"},ec.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ec.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:WX(a,this.objId,this.scope)}):a instanceof ec?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var HX=function(){ec.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Si(HX,ec);var qX=function(){ec.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ah(r(e))+")"}},set:function(r){e=r}})};Si(qX,ec);var Al=function e(){ec.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fa(t,3)},set:function(x){x?this.F=ha(t,3):this.F=ma(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Kb)return;s="FieldObject"+e.FieldNum++}var x=function(b){return b};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Ah(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/CP:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Kb||this instanceof Uf))return Q5(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ya==0?Q5(m,this.objId,this.scope):m},set:function(x){x=x.toString(),m=this instanceof Ya==0?x.substr(0,1)==="("?um(x.substr(1,x.length-2)):um(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ya==1?um(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof Ya==1?"/"+Gb(x):x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ya==0?Q5(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof Ya==0?x.substr(0,1)==="("?um(x.substr(1,x.length-2)):um(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ya==1?um(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Ya==1?"/"+Gb(x):x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(x){v=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,1)},set:function(x){x?this.Ff=ha(this.Ff,1):this.Ff=ma(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,2)},set:function(x){x?this.Ff=ha(this.Ff,2):this.Ff=ma(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,3)},set:function(x){x?this.Ff=ha(this.Ff,3):this.Ff=ma(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');y=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(y){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Si(Al,ec);var Jm=function(){Al.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WX(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,18)},set:function(r){r?this.Ff=ha(this.Ff,18):this.Ff=ma(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ha(this.Ff,19):this.Ff=ma(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,20)},set:function(r){r?(this.Ff=ha(this.Ff,20),t.sort()):this.Ff=ma(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,22)},set:function(r){r?this.Ff=ha(this.Ff,22):this.Ff=ma(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,23)},set:function(r){r?this.Ff=ha(this.Ff,23):this.Ff=ma(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,27)},set:function(r){r?this.Ff=ha(this.Ff,27):this.Ff=ma(this.Ff,27)}}),this.hasAppearanceStream=!1};Si(Jm,Al);var Zm=function(){Jm.call(this),this.fontName="helvetica",this.combo=!1};Si(Zm,Jm);var Qm=function(){Zm.call(this),this.combo=!0};Si(Qm,Zm);var Q1=function(){Qm.call(this),this.edit=!0};Si(Q1,Qm);var Ya=function(){Al.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,15)},set:function(r){r?this.Ff=ha(this.Ff,15):this.Ff=ma(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,16)},set:function(r){r?this.Ff=ha(this.Ff,16):this.Ff=ma(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,17)},set:function(r){r?this.Ff=ha(this.Ff,17):this.Ff=ma(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,26)},set:function(r){r?this.Ff=ha(this.Ff,26):this.Ff=ma(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ah(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Qr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+Gb(r)}})};Si(Ya,Al);var ew=function(){Ya.call(this),this.pushButton=!0};Si(ew,Ya);var ep=function(){Ya.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Si(ep,Ya);var Kb=function(){var e,t;Al.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Ah(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Qr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=It.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Si(Kb,Al),ep.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},ep.prototype.createOption=function(e){var t=new Kb;return t.Parent=this,t.optionName=e,this.Kids.push(t),Z6e.call(this.scope,t),t};var tw=function(){Ya.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=It.CheckBox.createAppearanceStream()};Si(tw,Ya);var Uf=function(){Al.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,13)},set:function(t){t?this.Ff=ha(this.Ff,13):this.Ff=ma(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,21)},set:function(t){t?this.Ff=ha(this.Ff,21):this.Ff=ma(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,23)},set:function(t){t?this.Ff=ha(this.Ff,23):this.Ff=ma(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,24)},set:function(t){t?this.Ff=ha(this.Ff,24):this.Ff=ma(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,25)},set:function(t){t?this.Ff=ha(this.Ff,25):this.Ff=ma(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,26)},set:function(t){t?this.Ff=ha(this.Ff,26):this.Ff=ma(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Si(Uf,Al);var rw=function(){Uf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,14)},set:function(e){e?this.Ff=ha(this.Ff,14):this.Ff=ma(this.Ff,14)}}),this.password=!0};Si(rw,Uf);var It={CheckBox:{createAppearanceStream:function(){return{N:{On:It.CheckBox.YesNormal},D:{On:It.CheckBox.YesPushDown,Off:It.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Wl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=oE(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+cr(It.internal.getWidth(e))+" "+cr(It.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+cr(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Wl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=It.internal.getHeight(e),o=It.internal.getWidth(e),l=oE(e,e.caption);return a.push("1 g"),a.push("0 0 "+cr(o)+" "+cr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+cr(o-1)+" "+cr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+cr(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Wl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+cr(It.internal.getWidth(e))+" "+cr(It.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:It.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=It.RadioButton.Circle.YesNormal,t.D[e]=It.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Wl(e);t.scope=e.scope;var r=[],n=It.internal.getWidth(e)<=It.internal.getHeight(e)?It.internal.getWidth(e)/4:It.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=It.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ku(It.internal.getWidth(e)/2)+" "+Ku(It.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Wl(e);t.scope=e.scope;var r=[],n=It.internal.getWidth(e)<=It.internal.getHeight(e)?It.internal.getWidth(e)/4:It.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*It.internal.Bezier_C).toFixed(5)),o=Number((n*It.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ku(It.internal.getWidth(e)/2)+" "+Ku(It.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ku(It.internal.getWidth(e)/2)+" "+Ku(It.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Wl(e);t.scope=e.scope;var r=[],n=It.internal.getWidth(e)<=It.internal.getHeight(e)?It.internal.getWidth(e)/4:It.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*It.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ku(It.internal.getWidth(e)/2)+" "+Ku(It.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:It.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=It.RadioButton.Cross.YesNormal,t.D[e]=It.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Wl(e);t.scope=e.scope;var r=[],n=It.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+cr(It.internal.getWidth(e)-2)+" "+cr(It.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(cr(n.x1.x)+" "+cr(n.x1.y)+" m"),r.push(cr(n.x2.x)+" "+cr(n.x2.y)+" l"),r.push(cr(n.x4.x)+" "+cr(n.x4.y)+" m"),r.push(cr(n.x3.x)+" "+cr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Wl(e);t.scope=e.scope;var r=It.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+cr(It.internal.getWidth(e))+" "+cr(It.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+cr(It.internal.getWidth(e)-2)+" "+cr(It.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(cr(r.x1.x)+" "+cr(r.x1.y)+" m"),n.push(cr(r.x2.x)+" "+cr(r.x2.y)+" l"),n.push(cr(r.x4.x)+" "+cr(r.x4.y)+" m"),n.push(cr(r.x3.x)+" "+cr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Wl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+cr(It.internal.getWidth(e))+" "+cr(It.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};It.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=It.internal.getWidth(e),r=It.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},It.internal.getWidth=function(e){var t=0;return Qr(e)==="object"&&(t=_M(e.Rect[2])),t},It.internal.getHeight=function(e){var t=0;return Qr(e)==="object"&&(t=_M(e.Rect[3])),t};var Z6e=Kn.addField=function(e){if(J6e(this,e),!(e instanceof Al))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Kn.AcroFormChoiceField=Jm,Kn.AcroFormListBox=Zm,Kn.AcroFormComboBox=Qm,Kn.AcroFormEditBox=Q1,Kn.AcroFormButton=Ya,Kn.AcroFormPushButton=ew,Kn.AcroFormRadioButton=ep,Kn.AcroFormCheckBox=tw,Kn.AcroFormTextField=Uf,Kn.AcroFormPasswordField=rw,Kn.AcroFormAppearance=It,Kn.AcroForm={ChoiceField:Jm,ListBox:Zm,ComboBox:Qm,EditBox:Q1,Button:Ya,PushButton:ew,RadioButton:ep,CheckBox:tw,TextField:Uf,PasswordField:rw,Appearance:It},Ht.AcroForm={ChoiceField:Jm,ListBox:Zm,ComboBox:Qm,EditBox:Q1,Button:Ya,PushButton:ew,RadioButton:ep,CheckBox:tw,TextField:Uf,PasswordField:rw,Appearance:It};Ht.AcroForm;function VX(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(T,P){var V,F,Y,re,U,q=r;if((P=P||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(C(T))for(U in n)for(Y=n[U],V=0;V<Y.length;V+=1){for(re=!0,F=0;F<Y[V].length;F+=1)if(Y[V][F]!==void 0&&Y[V][F]!==T[F]){re=!1;break}if(re===!0){q=U;break}}else for(U in n)for(Y=n[U],V=0;V<Y.length;V+=1){for(re=!0,F=0;F<Y[V].length;F+=1)if(Y[V][F]!==void 0&&Y[V][F]!==T.charCodeAt(F)){re=!1;break}if(re===!0){q=U;break}}return q===r&&P!==r&&(q=P),q},s=function T(P){for(var V=this.internal.write,F=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:P.width}),re.push({key:"Height",value:P.height}),P.colorSpace===x.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===x.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var U="",q=0,X=P.transparency.length;q<X;q++)U+=P.transparency[q]+" "+P.transparency[q]+" ";re.push({key:"Mask",value:"["+U+"]"})}P.sMask!==void 0&&re.push({key:"SMask",value:P.objectId+1+" 0 R"});var pe=P.filter!==void 0?["/"+P.filter]:void 0;if(F({data:P.data,additionalKeyValues:re,alreadyAppliedFilters:pe,objectId:P.objectId}),V("endobj"),"sMask"in P&&P.sMask!==void 0){var xe,D=(xe=P.sMaskBitsPerComponent)!==null&&xe!==void 0?xe:P.bitsPerComponent,M={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:P.sMask};"filter"in P&&(M.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(P.width),M.filter=P.filter),T.call(this,M)}if(P.colorSpace===x.INDEXED){var R=this.internal.newObject();F({data:A(new Uint8Array(P.palette)),objectId:R}),V("endobj")}},o=function(){var T=this.internal.collections[t+"images"];for(var P in T)s.call(this,T[P])},l=function(){var T,P=this.internal.collections[t+"images"],V=this.internal.write;for(var F in P)V("/I"+(T=P[F]).index,T.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var T=this.internal.collections[t+"images"];return c.call(this),T},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(T){return typeof e["process"+T.toUpperCase()]=="function"},m=function(T){return Qr(T)==="object"&&T.nodeType===1},h=function(T,P){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var V=""+T.getAttribute("src");if(V.indexOf("data:image/")===0)return Z1(unescape(V).split("base64,").pop());var F=e.loadFile(V,!0);if(F!==void 0)return F}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Y;switch(P){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return Z1(T.toDataURL(Y,1).split("base64,").pop())}},v=function(T){var P=this.internal.collections[t+"images"];if(P){for(var V in P)if(T===P[V].alias)return P[V]}},g=function(T,P,V){return T||P||(T=-96,P=-96),T<0&&(T=-1*V.width*72/T/this.internal.scaleFactor),P<0&&(P=-1*V.height*72/P/this.internal.scaleFactor),T===0&&(T=P*V.width/V.height),P===0&&(P=T*V.height/V.width),[T,P]},y=function(T,P,V,F,Y,re){var U=g.call(this,V,F,Y),q=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,pe=u.call(this);if(V=U[0],F=U[1],pe[Y.index]=Y,re){re*=Math.PI/180;var xe=Math.cos(re),D=Math.sin(re),M=function(H){return H.toFixed(4)},R=[M(xe),M(D),M(-1*D),M(xe),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,q(T),X(P+F),"cm"].join(" ")),this.internal.write(R.join(" ")),this.internal.write([q(V),"0","0",q(F),"0","0","cm"].join(" "))):this.internal.write([q(V),"0","0",q(F),q(T),X(P+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(T){var P,V,F=0;if(typeof T=="string")for(V=T.length,P=0;P<V;P++)F=(F<<5)-F+T.charCodeAt(P),F|=0;else if(C(T))for(V=T.byteLength/2,P=0;P<V;P++)F=(F<<5)-F+T[P],F|=0;return F},w=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var P=!0;return T.length===0&&(P=!1),T.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(P=!1),P},N=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var P=T.indexOf(",");return P<0?null:T.substring(0,P).trim().endsWith("base64")?T.substring(P+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var C=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},j=e.__addimage__.binaryStringToUint8Array=function(T){for(var P=T.length,V=new Uint8Array(P),F=0;F<P;F++)V[F]=T.charCodeAt(F);return V},A=e.__addimage__.arrayBufferToBinaryString=function(T){for(var P="",V=C(T)?T:new Uint8Array(T),F=0;F<V.length;F+=8192)P+=String.fromCharCode.apply(null,V.subarray(F,F+8192));return P};e.addImage=function(){var T,P,V,F,Y,re,U,q,X;if(typeof arguments[1]=="number"?(P=r,V=arguments[1],F=arguments[2],Y=arguments[3],re=arguments[4],U=arguments[5],q=arguments[6],X=arguments[7]):(P=arguments[1],V=arguments[2],F=arguments[3],Y=arguments[4],re=arguments[5],U=arguments[6],q=arguments[7],X=arguments[8]),Qr(T=arguments[0])==="object"&&!m(T)&&"imageData"in T){var pe=T;T=pe.imageData,P=pe.format||P||r,V=pe.x||V||0,F=pe.y||F||0,Y=pe.w||pe.width||Y,re=pe.h||pe.height||re,U=pe.alias||U,q=pe.compression||q,X=pe.rotation||pe.angle||X}var xe=this.internal.getFilters();if(q===void 0&&xe.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(V)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=k.call(this,T,P,U,q);return y.call(this,V,F,Y,re,D,X),this};var k=function(T,P,V,F){var Y,re,U;if(typeof T=="string"&&a(T)===r){T=unescape(T);var q=I(T,!1);(q!==""||(q=e.loadFile(T,!0))!==void 0)&&(T=q)}if(m(T)&&(T=h(T,P)),P=a(T,P),!f(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((U=V)==null||U.length===0)&&(V=function(X){return typeof X=="string"||C(X)?_(X):C(X.data)?_(X.data):null}(T)),(Y=v.call(this,V))||(T instanceof Uint8Array||P==="RGBA"||(re=T,T=j(T)),Y=this["process"+P.toUpperCase()](T,d.call(this),V,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:b.NONE}(F),re)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},I=e.__addimage__.convertBase64ToBinaryString=function(T,P){P=typeof P!="boolean"||P;var V,F="";if(typeof T=="string"){var Y;V=(Y=N(T))!==null&&Y!==void 0?Y:T;try{F=Z1(V)}catch(re){if(P)throw w(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};e.getImageProperties=function(T){var P,V,F="";if(m(T)&&(T=h(T)),typeof T=="string"&&a(T)===r&&((F=I(T,!1))===""&&(F=e.loadFile(T)||""),T=F),V=a(T),!f(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(T instanceof Uint8Array||(T=j(T)),!(P=this["process"+V.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=V,P}})(Ht.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ht.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),b=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+h(x(b))+") >>",g.content=s;var _=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var C=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,a,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,o,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ht.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var y=0,x=r,b="",_=0;for(y=0;y<g.length;y+=1)x[g.charCodeAt(y)]!==void 0?(_++,typeof(x=x[g.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(x),x=r,_=0),y===g.length-1&&(x=r,b+=g.charAt(y-(_-1)),y-=_-1,_=0)):(x=r,b+=g.charAt(y-_),y-=_,_=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(g,y,x){return o(g)?s(g)===!1?-1:!u(g)||!o(y)&&!o(x)||!o(x)&&l(y)||l(g)&&!o(y)||l(g)&&c(y)||l(g)&&l(y)?0:d(g)&&o(y)&&!l(y)&&o(x)&&u(x)?3:l(g)||!o(x)?1:2:-1},h=function(g){var y=0,x=0,b=0,_="",w="",N="",C=(g=g||"").split("\\s+"),j=[];for(y=0;y<C.length;y+=1){for(j.push(""),x=0;x<C[y].length;x+=1)_=C[y][x],w=C[y][x-1],N=C[y][x+1],o(_)?(b=m(_,w,N),j[y]+=b!==-1?String.fromCharCode(t[_.charCodeAt(0)][b]):_):j[y]+=_;j[y]=f(j[y])}return j.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(y)){var b=0;for(x=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?x.push([h(y[b][0]),y[b][1],y[b][2]]):x.push([h(y[b])]);g=x}else g=h(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])}(Ht.API),Ht.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ht.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,g=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,w){return _.concat(y.splitTextToSize(w,x))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)h<(g=this.getStringUnitWidth(c[b],{font:f})*d)&&(h=g);return h!==0&&(v=c.length),{w:h/=m,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,v,g,y,x=[],b=[],_=[],w={},N={},C=[],j=[],A=(m=m||{}).autoSize||!1,k=m.printHeaders!==!1,I=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,T=m.margins||Object.assign({width:this.getPageWidth()},t),P=typeof m.padding=="number"?m.padding:3,V=m.headerBackgroundColor||"#c8c8c8",F=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=F,this.setFontSize(I),f==null)b=x=Object.keys(d[0]),_=x.map(function(){return"left"});else if(Array.isArray(f)&&Qr(f[0])==="object")for(x=f.map(function(pe){return pe.name}),b=f.map(function(pe){return pe.prompt||pe.name||""}),_=f.map(function(pe){return pe.align||"left"}),h=0;h<f.length;h+=1)N[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(b=x=f,_=x.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(w[y=x[h]]=d.map(function(pe){return pe[y]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=w[y],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)C.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[y]=Math.max.apply(null,C)+P+P,C=[]}if(k){var Y={};for(h=0;h<x.length;h+=1)Y[x[h]]={},Y[x[h]].text=b[h],Y[x[h]].align=_[h];var re=l.call(this,Y,N);j=x.map(function(pe){return new s(c,u,N[pe],re,Y[pe].text,void 0,Y[pe].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var U=f.reduce(function(pe,xe){return pe[xe.name]=xe.align,pe},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var q=l.call(this,d[h],N);for(g=0;g<x.length;g+=1){var X=d[h][x[g]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:g,data:X},this),o.call(this,new s(c,u,N[x[g]],q,X,h+2,U[x[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var v=c[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+d+d},this).reduce(function(h,v){return Math.max(h,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(Ht.API);var GX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],lE=VX(KX),YX=[100,200,300,400,500,600,700,800,900],Q6e=VX(YX);function eN(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return GX[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),a=function(s){return typeof lE[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function jM(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var eRe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},SM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function NM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function kM(e){return e.trimLeft()}function tRe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function rRe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var dm,v1,EM,CM,AM,tN=["times"];function PM(e,t,r,n,a){var s=4,o=OM;switch(a){case Ht.API.image_compression.FAST:s=1,o=TM;break;case Ht.API.image_compression.MEDIUM:s=6,o=RM;break;case Ht.API.image_compression.SLOW:s=9,o=IM}e=function(c,u,d,f){for(var m,h=c.length/u,v=new Uint8Array(c.length+h),g=[nRe,TM,OM,RM,IM],y=0;y<h;y+=1){var x=y*u,b=c.subarray(x,x+u);if(f)v.set(f(b,d,m),x+y);else{for(var _=g.length,w=[],N=0;N<_;N+=1)w[N]=g[N](b,d,m);var C=sRe(w.concat());v.set(w[C],x+y)}m=b}return v}(e,t,Math.ceil(r*n/8),o);var l=tE(e,{level:s});return Ht.API.__addimage__.arrayBufferToBinaryString(l)}function nRe(e){var t=Array.apply([],e);return t.unshift(0),t}function TM(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=e[a-t]||0;n[a+1]=e[a]-s+256&255}return n}function OM(e,t,r){var n=e.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;a[s+1]=e[s]-o+256&255}return a}function RM(e,t,r){var n=e.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var o=e[s-t]||0,l=r&&r[s]||0;a[s+1]=e[s]+256-(o+l>>>1)&255}return a}function IM(e,t,r){var n=e.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var o=aRe(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);a[s+1]=e[s]-o+256&255}return a}function aRe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=a&&n<=s?e:a<=s?t:r}function sRe(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function rN(e,t,r){var n=t*r,a=Math.floor(n/8),s=16-(n-8*a+r),o=(1<<r)-1;return XX(e,a)>>s&o}function DM(e,t,r,n){var a=r*n,s=Math.floor(a/8),o=16-(a-8*s+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var m=f>>8&255;u.setUint8(d,m)}})(e,s,XX(e,s)&~(l<<o)&65535|c)}function XX(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function iRe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,m=null,h=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],1&g||(m=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,w=e[t++],N=w>>6&1,C=1<<1+(7&w),j=l,A=c,k=!1;w>>7&&(k=!0,j=t,A=C,t+=3*C);var I=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}d.push({x:y,y:x,width:b,height:_,has_local_palette:k,palette_offset:j,palette_size:A,data_offset:I,data_length:t-I,transparent_index:m,interlaced:!!N,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,V){var F=this.frameInfo(P),Y=F.width*F.height,re=new Uint8Array(Y);LM(e,F.data_offset,re,Y);var U=F.palette_offset,q=F.transparent_index;q===null&&(q=256);var X=F.width,pe=r-X,xe=X,D=4*(F.y*r+F.x),M=4*((F.y+F.height)*r+F.x),R=D,H=4*pe;F.interlaced===!0&&(H+=4*r*7);for(var B=8,W=0,te=re.length;W<te;++W){var J=re[W];if(xe===0&&(xe=X,(R+=H)>=M&&(H=4*pe+4*r*(B-1),R=D+(X+pe)*(B<<1),B>>=1)),J===q)R+=4;else{var oe=e[U+3*J],_e=e[U+3*J+1],ve=e[U+3*J+2];V[R++]=ve,V[R++]=_e,V[R++]=oe,V[R++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(P,V){var F=this.frameInfo(P),Y=F.width*F.height,re=new Uint8Array(Y);LM(e,F.data_offset,re,Y);var U=F.palette_offset,q=F.transparent_index;q===null&&(q=256);var X=F.width,pe=r-X,xe=X,D=4*(F.y*r+F.x),M=4*((F.y+F.height)*r+F.x),R=D,H=4*pe;F.interlaced===!0&&(H+=4*r*7);for(var B=8,W=0,te=re.length;W<te;++W){var J=re[W];if(xe===0&&(xe=X,(R+=H)>=M&&(H=4*pe+4*r*(B-1),R=D+(X+pe)*(B<<1),B>>=1)),J===q)R+=4;else{var oe=e[U+3*J],_e=e[U+3*J+1],ve=e[U+3*J+2];V[R++]=oe,V[R++]=_e,V[R++]=ve,V[R++]=255}--xe}}}function LM(e,t,r,n){for(var a=e[t++],s=1<<a,o=s+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,m=0,h=e[t++],v=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var y=f&u;if(f>>=c,d-=c,y!==s){if(y===o)break;for(var x=y<l?y:g,b=0,_=x;_>s;)_=v[_]>>8,++b;var w=_;if(m+b+(x!==y?1:0)>n)return void dn.log("Warning, gif stream longer than expected.");r[m++]=w;var N=m+=b;for(x!==y&&(r[m++]=w),_=x;b--;)_=v[_],r[--N]=255&_,_>>=8;g!==null&&l<4096&&(v[l++]=g<<8|w,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=y}else l=o+1,u=(1<<(c=a+1))-1,g=null}return m!==n&&dn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function nN(e){var t,r,n,a,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),v=new Array(64),g=[],y=0,x=7,b=new Array(64),_=new Array(64),w=new Array(64),N=new Array(256),C=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(D,M){for(var R=0,H=0,B=new Array,W=1;W<=16;W++){for(var te=1;te<=D[W];te++)B[M[H]]=[],B[M[H]][0]=R,B[M[H]][1]=W,H++,R++;R*=2}return B}function U(D){for(var M=D[0],R=D[1]-1;R>=0;)M&1<<R&&(y|=1<<x),R--,--x<0&&(y==255?(q(255),q(0)):q(y),x=7,y=0)}function q(D){g.push(D)}function X(D){q(D>>8&255),q(255&D)}function pe(D,M,R,H,B){for(var W,te=B[0],J=B[240],oe=function(Ke,tt){var at,pt,kt,Jt,Yt,Zt,fr,ar,we,qe,rt=0;for(we=0;we<8;++we){at=Ke[rt],pt=Ke[rt+1],kt=Ke[rt+2],Jt=Ke[rt+3],Yt=Ke[rt+4],Zt=Ke[rt+5],fr=Ke[rt+6];var tr=at+(ar=Ke[rt+7]),Lt=at-ar,Gt=pt+fr,Ut=pt-fr,Tr=kt+Zt,Nt=kt-Zt,jr=Jt+Yt,Kt=Jt-Yt,rr=tr+jr,Vr=tr-jr,Qt=Gt+Tr,qt=Gt-Tr;Ke[rt]=rr+Qt,Ke[rt+4]=rr-Qt;var Er=.707106781*(qt+Vr);Ke[rt+2]=Vr+Er,Ke[rt+6]=Vr-Er;var vc=.382683433*((rr=Kt+Nt)-(qt=Ut+Lt)),Ha=.5411961*rr+vc,Wo=1.306562965*qt+vc,io=.707106781*(Qt=Nt+Ut),Xt=Lt+io,Ho=Lt-io;Ke[rt+5]=Ho+Ha,Ke[rt+3]=Ho-Ha,Ke[rt+1]=Xt+Wo,Ke[rt+7]=Xt-Wo,rt+=8}for(rt=0,we=0;we<8;++we){at=Ke[rt],pt=Ke[rt+8],kt=Ke[rt+16],Jt=Ke[rt+24],Yt=Ke[rt+32],Zt=Ke[rt+40],fr=Ke[rt+48];var qo=at+(ar=Ke[rt+56]),Ns=at-ar,ci=pt+fr,An=pt-fr,pa=kt+Zt,Z=kt-Zt,fe=Jt+Yt,se=Jt-Yt,le=qo+fe,he=qo-fe,ge=ci+pa,Oe=ci-pa;Ke[rt]=le+ge,Ke[rt+32]=le-ge;var Be=.707106781*(Oe+he);Ke[rt+16]=he+Be,Ke[rt+48]=he-Be;var Re=.382683433*((le=se+Z)-(Oe=An+Ns)),De=.5411961*le+Re,Fe=1.306562965*Oe+Re,st=.707106781*(ge=Z+An),ft=Ns+st,St=Ns-st;Ke[rt+40]=St+De,Ke[rt+24]=St-De,Ke[rt+8]=ft+Fe,Ke[rt+56]=ft-Fe,rt++}for(we=0;we<64;++we)qe=Ke[we]*tt[we],h[we]=qe>0?qe+.5|0:qe-.5|0;return h}(D,M),_e=0;_e<64;++_e)v[j[_e]]=oe[_e];var ve=v[0]-R;R=v[0],ve==0?U(H[0]):(U(H[m[W=32767+ve]]),U(f[W]));for(var We=63;We>0&&v[We]==0;)We--;if(We==0)return U(te),R;for(var ze,ae=1;ae<=We;){for(var $e=ae;v[ae]==0&&ae<=We;)++ae;var He=ae-$e;if(He>=16){ze=He>>4;for(var nt=1;nt<=ze;++nt)U(J);He&=15}W=32767+v[ae],U(B[(He<<4)+m[W]]),U(f[W]),ae++}return We!=63&&U(te),R}function xe(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(M){for(var R=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var B=o((R[H]*M+50)/100);B=Math.min(Math.max(B,1),255),l[j[H]]=B}for(var W=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var J=o((W[te]*M+50)/100);J=Math.min(Math.max(J,1),255),c[j[te]]=J}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,ve=0;ve<8;ve++)for(var We=0;We<8;We++)u[_e]=1/(l[j[_e]]*oe[ve]*oe[We]*8),d[_e]=1/(c[j[_e]]*oe[ve]*oe[We]*8),_e++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,M){M&&xe(M),g=new Array,y=0,x=7,X(65496),X(65504),X(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),X(1),X(1),q(0),q(0),function(){X(65499),X(132),q(0);for(var pt=0;pt<64;pt++)q(l[pt]);q(1);for(var kt=0;kt<64;kt++)q(c[kt])}(),function(pt,kt){X(65472),X(17),q(8),X(kt),X(pt),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(D.width,D.height),function(){X(65476),X(418),q(0);for(var pt=0;pt<16;pt++)q(A[pt+1]);for(var kt=0;kt<=11;kt++)q(k[kt]);q(16);for(var Jt=0;Jt<16;Jt++)q(I[Jt+1]);for(var Yt=0;Yt<=161;Yt++)q(T[Yt]);q(1);for(var Zt=0;Zt<16;Zt++)q(P[Zt+1]);for(var fr=0;fr<=11;fr++)q(V[fr]);q(17);for(var ar=0;ar<16;ar++)q(F[ar+1]);for(var we=0;we<=161;we++)q(Y[we])}(),X(65498),X(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var R=0,H=0,B=0;y=0,x=7,this.encode.displayName="_encode_";for(var W,te,J,oe,_e,ve,We,ze,ae,$e=D.data,He=D.width,nt=D.height,Ke=4*He,tt=0;tt<nt;){for(W=0;W<Ke;){for(_e=Ke*tt+W,We=-1,ze=0,ae=0;ae<64;ae++)ve=_e+(ze=ae>>3)*Ke+(We=4*(7&ae)),tt+ze>=nt&&(ve-=Ke*(tt+1+ze-nt)),W+We>=Ke&&(ve-=W+We-Ke+4),te=$e[ve++],J=$e[ve++],oe=$e[ve++],b[ae]=(C[te]+C[J+256|0]+C[oe+512|0]>>16)-128,_[ae]=(C[te+768|0]+C[J+1024|0]+C[oe+1280|0]>>16)-128,w[ae]=(C[te+1280|0]+C[J+1536|0]+C[oe+1792|0]>>16)-128;R=pe(b,u,R,t,n),H=pe(_,d,H,r,a),B=pe(w,d,B,r,a),W+=32}tt+=8}if(x>=0){var at=[];at[1]=x+1,at[0]=(1<<x+1)-1,U(at)}return X(65497),new Uint8Array(g)},e=e||50,function(){for(var D=String.fromCharCode,M=0;M<256;M++)N[M]=D(M)}(),t=re(A,k),r=re(P,V),n=re(I,T),a=re(F,Y),function(){for(var D=1,M=2,R=1;R<=15;R++){for(var H=D;H<M;H++)m[32767+H]=R,f[32767+H]=[],f[32767+H][1]=R,f[32767+H][0]=H;for(var B=-(M-1);B<=-D;B++)m[32767+B]=R,f[32767+B]=[],f[32767+B][1]=R,f[32767+B][0]=M-1+B;D<<=1,M<<=1}}(),function(){for(var D=0;D<256;D++)C[D]=19595*D,C[D+256|0]=38470*D,C[D+512|0]=7471*D+32768,C[D+768|0]=-11059*D,C[D+1024|0]=-21709*D,C[D+1280|0]=32768*D+8421375,C[D+1536|0]=-27439*D,C[D+1792|0]=-5329*D}(),xe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function el(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function MM(e){function t(k){if(!k)throw Error("assert :P")}function r(k,I,T){for(var P=0;4>P;P++)if(k[I+P]!=T.charCodeAt(P))return!0;return!1}function n(k,I,T,P,V){for(var F=0;F<V;F++)k[I+F]=T[P+F]}function a(k,I,T,P){for(var V=0;V<P;V++)k[I+V]=T}function s(k){return new Int32Array(k)}function o(k,I){for(var T=[],P=0;P<k;P++)T.push(new I);return T}function l(k,I){var T=[];return function P(V,F,Y){for(var re=Y[F],U=0;U<re&&(V.push(Y.length>F+1?[]:new I),!(Y.length<F+1));U++)P(V[U],F+1,Y)}(T,0,k),T}var c=function(){var k=this;function I(S,E){for(var L=1<<E-1>>>0;S&L;)L>>>=1;return L?(S&L-1)+L:S}function T(S,E,L,z,K){t(!(z%L));do S[E+(z-=L)]=K;while(0<z)}function P(S,E,L,z,K){if(t(2328>=K),512>=K)var Q=s(512);else if((Q=s(K))==null)return 0;return function(ee,ne,ie,ue,Se,Me){var de,ke,Te=ne,Ge=1<<ie,Le=s(16),Ye=s(16);for(t(Se!=0),t(ue!=null),t(ee!=null),t(0<ie),ke=0;ke<Se;++ke){if(15<ue[ke])return 0;++Le[ue[ke]]}if(Le[0]==Se)return 0;for(Ye[1]=0,de=1;15>de;++de){if(Le[de]>1<<de)return 0;Ye[de+1]=Ye[de]+Le[de]}for(ke=0;ke<Se;++ke)de=ue[ke],0<ue[ke]&&(Me[Ye[de]++]=ke);if(Ye[15]==1)return(ue=new V).g=0,ue.value=Me[0],T(ee,Te,1,Ge,ue),Ge;var Je,it=-1,et=Ge-1,Vt=0,Tt=1,pr=1,Ft=1<<ie;for(ke=0,de=1,Se=2;de<=ie;++de,Se<<=1){if(Tt+=pr<<=1,0>(pr-=Le[de]))return 0;for(;0<Le[de];--Le[de])(ue=new V).g=de,ue.value=Me[ke++],T(ee,Te+Vt,Se,Ft,ue),Vt=I(Vt,de)}for(de=ie+1,Se=2;15>=de;++de,Se<<=1){if(Tt+=pr<<=1,0>(pr-=Le[de]))return 0;for(;0<Le[de];--Le[de]){if(ue=new V,(Vt&et)!=it){for(Te+=Ft,Je=1<<(it=de)-ie;15>it&&!(0>=(Je-=Le[it]));)++it,Je<<=1;Ge+=Ft=1<<(Je=it-ie),ee[ne+(it=Vt&et)].g=Je+ie,ee[ne+it].value=Te-ne-it}ue.g=de-ie,ue.value=Me[ke++],T(ee,Te+(Vt>>ie),Se,Ft,ue),Vt=I(Vt,de)}}return Tt!=2*Ye[15]-1?0:Ge}(S,E,L,z,K,Q)}function V(){this.value=this.g=0}function F(){this.value=this.g=0}function Y(){this.G=o(5,V),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(of,F)}function re(S,E,L,z){t(S!=null),t(E!=null),t(2147483648>z),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=E,S.pa=L,S.Jd=E,S.Yc=L+z,S.Zc=4<=z?L+z-4+1:L,te(S)}function U(S,E){for(var L=0;0<E--;)L|=oe(S,128)<<E;return L}function q(S,E){var L=U(S,E);return J(S)?-L:L}function X(S,E,L,z){var K,Q=0;for(t(S!=null),t(E!=null),t(4294967288>z),S.Sb=z,S.Ra=0,S.u=0,S.h=0,4<z&&(z=4),K=0;K<z;++K)Q+=E[L+K]<<8*K;S.Ra=Q,S.bb=z,S.oa=E,S.pa=L}function pe(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Ou-8>>>0,++S.bb,S.u-=8;H(S)&&(S.h=1,S.u=0)}function xe(S,E){if(t(0<=E),!S.h&&E<=ki){var L=R(S)&Ni[E];return S.u+=E,pe(S),L}return S.h=1,S.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(S){return S.Ra>>>(S.u&Ou-1)>>>0}function H(S){return t(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Ou}function B(S,E){S.u=E,S.h=H(S)}function W(S){S.u>=Cc&&(t(S.u>=Cc),pe(S))}function te(S){t(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(t(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function J(S){return U(S,1)}function oe(S,E){var L=S.Ca;0>S.b&&te(S);var z=S.b,K=L*E>>>8,Q=(S.I>>>z>K)+0;for(Q?(L-=K,S.I-=K+1<<z>>>0):L=K+1,z=L,K=0;256<=z;)K+=8,z>>=8;return z=7^K+Ru[z],S.b-=z,S.Ca=(L<<z)-1,Q}function _e(S,E,L){S[E+0]=L>>24&255,S[E+1]=L>>16&255,S[E+2]=L>>8&255,S[E+3]=255&L}function ve(S,E){return S[E+0]|S[E+1]<<8}function We(S,E){return ve(S,E)|S[E+2]<<16}function ze(S,E){return ve(S,E)|ve(S,E+2)<<16}function ae(S,E){var L=1<<E;return t(S!=null),t(0<E),S.X=s(L),S.X==null?0:(S.Mb=32-E,S.Xa=E,1)}function $e(S,E){t(S!=null),t(E!=null),t(S.Xa==E.Xa),n(E.X,0,S.X,0,1<<E.Xa)}function He(){this.X=[],this.Xa=this.Mb=0}function nt(S,E,L,z){t(L!=null),t(z!=null);var K=L[0],Q=z[0];return K==0&&(K=(S*Q+E/2)/E),Q==0&&(Q=(E*K+S/2)/S),0>=K||0>=Q?0:(L[0]=K,z[0]=Q,1)}function Ke(S,E){return S+(1<<E)-1>>>E}function tt(S,E){return((4278255360&S)+(4278255360&E)>>>0&4278255360)+((16711935&S)+(16711935&E)>>>0&16711935)>>>0}function at(S,E){k[E]=function(L,z,K,Q,ee,ne,ie){var ue;for(ue=0;ue<ee;++ue){var Se=k[S](ne[ie+ue-1],K,Q+ue);ne[ie+ue]=tt(L[z+ue],Se)}}}function pt(){this.ud=this.hd=this.jd=0}function kt(S,E){return((4278124286&(S^E))>>>1)+(S&E)>>>0}function Jt(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Yt(S,E){return Jt(S+(S-E+.5>>1))}function Zt(S,E,L){return Math.abs(E-L)-Math.abs(S-L)}function fr(S,E,L,z,K,Q,ee){for(z=Q[ee-1],L=0;L<K;++L)Q[ee+L]=z=tt(S[E+L],z)}function ar(S,E,L,z,K){var Q;for(Q=0;Q<L;++Q){var ee=S[E+Q],ne=ee>>8&255,ie=16711935&(ie=(ie=16711935&ee)+((ne<<16)+ne));z[K+Q]=(4278255360&ee)+ie>>>0}}function we(S,E){E.jd=255&S,E.hd=S>>8&255,E.ud=S>>16&255}function qe(S,E,L,z,K,Q){var ee;for(ee=0;ee<z;++ee){var ne=E[L+ee],ie=ne>>>8,ue=ne,Se=255&(Se=(Se=ne>>>16)+((S.jd<<24>>24)*(ie<<24>>24)>>>5));ue=255&(ue=(ue+=(S.hd<<24>>24)*(ie<<24>>24)>>>5)+((S.ud<<24>>24)*(Se<<24>>24)>>>5)),K[Q+ee]=(4278255360&ne)+(Se<<16)+ue}}function rt(S,E,L,z,K){k[E]=function(Q,ee,ne,ie,ue,Se,Me,de,ke){for(ie=Me;ie<de;++ie)for(Me=0;Me<ke;++Me)ue[Se++]=K(ne[z(Q[ee++])])},k[S]=function(Q,ee,ne,ie,ue,Se,Me){var de=8>>Q.b,ke=Q.Ea,Te=Q.K[0],Ge=Q.w;if(8>de)for(Q=(1<<Q.b)-1,Ge=(1<<de)-1;ee<ne;++ee){var Le,Ye=0;for(Le=0;Le<ke;++Le)Le&Q||(Ye=z(ie[ue++])),Se[Me++]=K(Te[Ye&Ge]),Ye>>=de}else k["VP8LMapColor"+L](ie,ue,Te,Ge,Se,Me,ee,ne,ke)}}function tr(S,E,L,z,K){for(L=E+L;E<L;){var Q=S[E++];z[K++]=Q>>16&255,z[K++]=Q>>8&255,z[K++]=255&Q}}function Lt(S,E,L,z,K){for(L=E+L;E<L;){var Q=S[E++];z[K++]=Q>>16&255,z[K++]=Q>>8&255,z[K++]=255&Q,z[K++]=Q>>24&255}}function Gt(S,E,L,z,K){for(L=E+L;E<L;){var Q=(ee=S[E++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;z[K++]=Q,z[K++]=ee}}function Ut(S,E,L,z,K){for(L=E+L;E<L;){var Q=(ee=S[E++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;z[K++]=Q,z[K++]=ee}}function Tr(S,E,L,z,K){for(L=E+L;E<L;){var Q=S[E++];z[K++]=255&Q,z[K++]=Q>>8&255,z[K++]=Q>>16&255}}function Nt(S,E,L,z,K,Q){if(Q==0)for(L=E+L;E<L;)_e(z,((Q=S[E++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),K+=32;else n(z,K,S,E,L)}function jr(S,E){k[E][0]=k[S+"0"],k[E][1]=k[S+"1"],k[E][2]=k[S+"2"],k[E][3]=k[S+"3"],k[E][4]=k[S+"4"],k[E][5]=k[S+"5"],k[E][6]=k[S+"6"],k[E][7]=k[S+"7"],k[E][8]=k[S+"8"],k[E][9]=k[S+"9"],k[E][10]=k[S+"10"],k[E][11]=k[S+"11"],k[E][12]=k[S+"12"],k[E][13]=k[S+"13"],k[E][14]=k[S+"0"],k[E][15]=k[S+"0"]}function Kt(S){return S==Yj||S==Xj||S==ey||S==Jj}function rr(){this.eb=[],this.size=this.A=this.fb=0}function Vr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rr,this.f.kb=new Vr,this.sd=null}function qt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Er(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vc(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function Ha(S,E){var L=S.T,z=E.ba.f.RGBA,K=z.eb,Q=z.fb+S.ka*z.A,ee=ho[E.ba.S],ne=S.y,ie=S.O,ue=S.f,Se=S.N,Me=S.ea,de=S.W,ke=E.cc,Te=E.dc,Ge=E.Mc,Le=E.Nc,Ye=S.ka,Je=S.ka+S.T,it=S.U,et=it+1>>1;for(Ye==0?ee(ne,ie,null,null,ue,Se,Me,de,ue,Se,Me,de,K,Q,null,null,it):(ee(E.ec,E.fc,ne,ie,ke,Te,Ge,Le,ue,Se,Me,de,K,Q-z.A,K,Q,it),++L);Ye+2<Je;Ye+=2)ke=ue,Te=Se,Ge=Me,Le=de,Se+=S.Rc,de+=S.Rc,Q+=2*z.A,ee(ne,(ie+=2*S.fa)-S.fa,ne,ie,ke,Te,Ge,Le,ue,Se,Me,de,K,Q-z.A,K,Q,it);return ie+=S.fa,S.j+Je<S.o?(n(E.ec,E.fc,ne,ie,it),n(E.cc,E.dc,ue,Se,et),n(E.Mc,E.Nc,Me,de,et),L--):1&Je||ee(ne,ie,null,null,ue,Se,Me,de,ue,Se,Me,de,K,Q+z.A,null,null,it),L}function Wo(S,E,L){var z=S.F,K=[S.J];if(z!=null){var Q=S.U,ee=E.ba.S,ne=ee==Qx||ee==ey;E=E.ba.f.RGBA;var ie=[0],ue=S.ka;ie[0]=S.T,S.Kb&&(ue==0?--ie[0]:(--ue,K[0]-=S.width),S.j+S.ka+S.T==S.o&&(ie[0]=S.o-S.j-ue));var Se=E.eb;ue=E.fb+ue*E.A,S=lT(z,K[0],S.width,Q,ie,Se,ue+(ne?0:3),E.A),t(L==ie),S&&Kt(ee)&&k0(Se,ue,ne,Q,ie,E.A)}return 0}function io(S){var E=S.ma,L=E.ba.S,z=11>L,K=L==Jx||L==Zx||L==Qx||L==Kj||L==12||Kt(L);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!x0(E.Oa,S,K?11:12))return 0;if(K&&Kt(L)&&p0(),S.da)alert("todo:use_scaling");else{if(z){if(E.Ib=vc,S.Kb){if(L=S.U+1>>1,E.memory=s(S.U+2*L),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+S.U,E.Mc=E.cc,E.Nc=E.dc+L,E.Ib=Ha,p0()}}else alert("todo:EmitYUV");K&&(E.Jb=Wo,z&&Ko())}if(z&&!ST){for(S=0;256>S;++S)HQ[S]=89858*(S-128)+ry>>ty,GQ[S]=-22014*(S-128)+ry,VQ[S]=-45773*(S-128),qQ[S]=113618*(S-128)+ry>>ty;for(S=C0;S<eS;++S)E=76283*(S-16)+ry>>ty,KQ[S-C0]=ga(E,255),YQ[S-C0]=ga(E+8>>4,15);ST=1}return 1}function Xt(S){var E=S.ma,L=S.U,z=S.T;return t(!(1&S.ka)),0>=L||0>=z?0:(L=E.Ib(S,E),E.Jb!=null&&E.Jb(S,E,L),E.Dc+=L,1)}function Ho(S){S.ma.memory=null}function qo(S,E,L,z){return xe(S,8)!=47?0:(E[0]=xe(S,14)+1,L[0]=xe(S,14)+1,z[0]=xe(S,1),xe(S,3)!=0?0:!S.h)}function Ns(S,E){if(4>S)return S+1;var L=S-2>>1;return(2+(1&S)<<L)+xe(E,L)+1}function ci(S,E){return 120<E?E-120:1<=(L=((L=PQ[E-1])>>4)*S+(8-(15&L)))?L:1;var L}function An(S,E,L){var z=R(L),K=S[E+=255&z].g-8;return 0<K&&(B(L,L.u+8),z=R(L),E+=S[E].value,E+=z&(1<<K)-1),B(L,L.u+S[E].g),S[E].value}function pa(S,E,L){return L.g+=S.g,L.value+=S.value<<E>>>0,t(8>=L.g),S.g}function Z(S,E,L){var z=S.xc;return t((E=z==0?0:S.vc[S.md*(L>>z)+(E>>z)])<S.Wb),S.Ya[E]}function fe(S,E,L,z){var K=S.ab,Q=S.c*E,ee=S.C;E=ee+E;var ne=L,ie=z;for(z=S.Ta,L=S.Ua;0<K--;){var ue=S.gc[K],Se=ee,Me=E,de=ne,ke=ie,Te=(ie=z,ne=L,ue.Ea);switch(t(Se<Me),t(Me<=ue.nc),ue.hc){case 2:oa(de,ke,(Me-Se)*Te,ie,ne);break;case 0:var Ge=Se,Le=Me,Ye=ie,Je=ne,it=(Ft=ue).Ea;Ge==0&&(w0(de,ke,null,null,1,Ye,Je),fr(de,ke+1,0,0,it-1,Ye,Je+1),ke+=it,Je+=it,++Ge);for(var et=1<<Ft.b,Vt=et-1,Tt=Ke(it,Ft.b),pr=Ft.K,Ft=Ft.w+(Ge>>Ft.b)*Tt;Ge<Le;){var Nr=pr,Oa=Ft,gr=1;for(zh(de,ke,Ye,Je-it,1,Ye,Je);gr<it;){var $t=(gr&~Vt)+et;$t>it&&($t=it),(0,_0[Nr[Oa++]>>8&15])(de,ke+ +gr,Ye,Je+gr-it,$t-gr,Ye,Je+gr),gr=$t}ke+=it,Je+=it,++Ge&Vt||(Ft+=Tt)}Me!=ue.nc&&n(ie,ne-Te,ie,ne+(Me-Se-1)*Te,Te);break;case 1:for(Te=de,Le=ke,it=(de=ue.Ea)-(Je=de&~(Ye=(ke=1<<ue.b)-1)),Ge=Ke(de,ue.b),et=ue.K,ue=ue.w+(Se>>ue.b)*Ge;Se<Me;){for(Vt=et,Tt=ue,pr=new pt,Ft=Le+Je,Nr=Le+de;Le<Ft;)we(Vt[Tt++],pr),j0(pr,Te,Le,ke,ie,ne),Le+=ke,ne+=ke;Le<Nr&&(we(Vt[Tt++],pr),j0(pr,Te,Le,it,ie,ne),Le+=it,ne+=it),++Se&Ye||(ue+=Ge)}break;case 3:if(de==ie&&ke==ne&&0<ue.b){for(Le=ie,de=Te=ne+(Me-Se)*Te-(Je=(Me-Se)*Ke(ue.Ea,ue.b)),ke=ie,Ye=ne,Ge=[],Je=(it=Je)-1;0<=Je;--Je)Ge[Je]=ke[Ye+Je];for(Je=it-1;0<=Je;--Je)Le[de+Je]=Ge[Je];Gx(ue,Se,Me,ie,Te,ie,ne)}else Gx(ue,Se,Me,de,ke,ie,ne)}ne=z,ie=L}ie!=L&&n(z,L,ne,ie,Q)}function se(S,E){var L=S.V,z=S.Ba+S.c*S.C,K=E-S.C;if(t(E<=S.l.o),t(16>=K),0<K){var Q=S.l,ee=S.Ta,ne=S.Ua,ie=Q.width;if(fe(S,K,L,z),K=ne=[ne],t((L=S.C)<(z=E)),t(Q.v<Q.va),z>Q.o&&(z=Q.o),L<Q.j){var ue=Q.j-L;L=Q.j,K[0]+=ue*ie}if(L>=z?L=0:(K[0]+=4*Q.v,Q.ka=L-Q.j,Q.U=Q.va-Q.v,Q.T=z-L,L=1),L){if(ne=ne[0],11>(L=S.ca).S){var Se=L.f.RGBA,Me=(z=L.S,K=Q.U,Q=Q.T,ue=Se.eb,Se.A),de=Q;for(Se=Se.fb+S.Ma*Se.A;0<de--;){var ke=ee,Te=ne,Ge=K,Le=ue,Ye=Se;switch(z){case Xx:S0(ke,Te,Ge,Le,Ye);break;case Jx:Iu(ke,Te,Ge,Le,Ye);break;case Yj:Iu(ke,Te,Ge,Le,Ye),k0(Le,Ye,0,Ge,1,0);break;case pT:lf(ke,Te,Ge,Le,Ye);break;case Zx:Nt(ke,Te,Ge,Le,Ye,1);break;case Xj:Nt(ke,Te,Ge,Le,Ye,1),k0(Le,Ye,0,Ge,1,0);break;case Qx:Nt(ke,Te,Ge,Le,Ye,0);break;case ey:Nt(ke,Te,Ge,Le,Ye,0),k0(Le,Ye,1,Ge,1,0);break;case Kj:Du(ke,Te,Ge,Le,Ye);break;case Jj:Du(ke,Te,Ge,Le,Ye),oT(Le,Ye,Ge,1,0);break;case gT:Lu(ke,Te,Ge,Le,Ye);break;default:t(0)}ne+=ie,Se+=Me}S.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");t(S.Ma<=L.height)}}S.C=E,t(S.C<=S.i)}function le(S){var E;if(0<S.ua)return 0;for(E=0;E<S.Wb;++E){var L=S.Ya[E].G,z=S.Ya[E].H;if(0<L[1][z[1]+0].g||0<L[2][z[2]+0].g||0<L[3][z[3]+0].g)return 0}return 1}function he(S,E,L,z,K,Q){if(S.Z!=0){var ee=S.qd,ne=S.rd;for(t($u[S.Z]!=null);E<L;++E)$u[S.Z](ee,ne,z,K,z,K,Q),ee=z,ne=K,K+=Q;S.qd=ee,S.rd=ne}}function ge(S,E){var L=S.l.ma,z=L.Z==0||L.Z==1?S.l.j:S.C;if(z=S.C<z?z:S.C,t(E<=S.l.o),E>z){var K=S.l.width,Q=L.ca,ee=L.tb+K*z,ne=S.V,ie=S.Ba+S.c*z,ue=S.gc;t(S.ab==1),t(ue[0].hc==3),Ll(ue[0],z,E,ne,ie,Q,ee),he(L,z,E,Q,ee,K)}S.C=S.Ma=E}function Oe(S,E,L,z,K,Q,ee){var ne=S.$/z,ie=S.$%z,ue=S.m,Se=S.s,Me=L+S.$,de=Me;K=L+z*K;var ke=L+z*Q,Te=280+Se.ua,Ge=S.Pb?ne:16777216,Le=0<Se.ua?Se.Wa:null,Ye=Se.wc,Je=Me<ke?Z(Se,ie,ne):null;t(S.C<Q),t(ke<=K);var it=!1;e:for(;;){for(;it||Me<ke;){var et=0;if(ne>=Ge){var Vt=Me-L;t((Ge=S).Pb),Ge.wd=Ge.m,Ge.xd=Vt,0<Ge.s.ua&&$e(Ge.s.Wa,Ge.s.vb),Ge=ne+OQ}if(ie&Ye||(Je=Z(Se,ie,ne)),t(Je!=null),Je.Qb&&(E[Me]=Je.qb,it=!0),!it)if(W(ue),Je.jc){et=ue,Vt=E;var Tt=Me,pr=Je.pd[R(et)&of-1];t(Je.jc),256>pr.g?(B(et,et.u+pr.g),Vt[Tt]=pr.value,et=0):(B(et,et.u+pr.g-256),t(256<=pr.value),et=pr.value),et==0&&(it=!0)}else et=An(Je.G[0],Je.H[0],ue);if(ue.h)break;if(it||256>et){if(!it)if(Je.nd)E[Me]=(Je.qb|et<<8)>>>0;else{if(W(ue),it=An(Je.G[1],Je.H[1],ue),W(ue),Vt=An(Je.G[2],Je.H[2],ue),Tt=An(Je.G[3],Je.H[3],ue),ue.h)break;E[Me]=(Tt<<24|it<<16|et<<8|Vt)>>>0}if(it=!1,++Me,++ie>=z&&(ie=0,++ne,ee!=null&&ne<=Q&&!(ne%16)&&ee(S,ne),Le!=null))for(;de<Me;)et=E[de++],Le.X[(506832829*et&4294967295)>>>Le.Mb]=et}else if(280>et){if(et=Ns(et-256,ue),Vt=An(Je.G[4],Je.H[4],ue),W(ue),Vt=ci(z,Vt=Ns(Vt,ue)),ue.h)break;if(Me-L<Vt||K-Me<et)break e;for(Tt=0;Tt<et;++Tt)E[Me+Tt]=E[Me+Tt-Vt];for(Me+=et,ie+=et;ie>=z;)ie-=z,++ne,ee!=null&&ne<=Q&&!(ne%16)&&ee(S,ne);if(t(Me<=K),ie&Ye&&(Je=Z(Se,ie,ne)),Le!=null)for(;de<Me;)et=E[de++],Le.X[(506832829*et&4294967295)>>>Le.Mb]=et}else{if(!(et<Te))break e;for(it=et-280,t(Le!=null);de<Me;)et=E[de++],Le.X[(506832829*et&4294967295)>>>Le.Mb]=et;et=Me,t(!(it>>>(Vt=Le).Xa)),E[et]=Vt.X[it],it=!0}it||t(ue.h==H(ue))}if(S.Pb&&ue.h&&Me<K)t(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&$e(S.s.vb,S.s.Wa);else{if(ue.h)break e;ee!=null&&ee(S,ne>Q?Q:ne),S.a=0,S.$=Me-L}return 1}return S.a=3,0}function Be(S){t(S!=null),S.vc=null,S.yc=null,S.Ya=null;var E=S.Wa;E!=null&&(E.X=null),S.vb=null,t(S!=null)}function Re(){var S=new or;return S==null?null:(S.a=0,S.xb=yT,jr("Predictor","VP8LPredictors"),jr("Predictor","VP8LPredictors_C"),jr("PredictorAdd","VP8LPredictorsAdd"),jr("PredictorAdd","VP8LPredictorsAdd_C"),oa=ar,j0=qe,S0=tr,Iu=Lt,Du=Gt,Lu=Ut,lf=Tr,k.VP8LMapColor32b=Dl,k.VP8LMapColor8b=b0,S)}function De(S,E,L,z,K){var Q=1,ee=[S],ne=[E],ie=z.m,ue=z.s,Se=null,Me=0;e:for(;;){if(L)for(;Q&&xe(ie,1);){var de=ee,ke=ne,Te=z,Ge=1,Le=Te.m,Ye=Te.gc[Te.ab],Je=xe(Le,2);if(Te.Oc&1<<Je)Q=0;else{switch(Te.Oc|=1<<Je,Ye.hc=Je,Ye.Ea=de[0],Ye.nc=ke[0],Ye.K=[null],++Te.ab,t(4>=Te.ab),Je){case 0:case 1:Ye.b=xe(Le,3)+2,Ge=De(Ke(Ye.Ea,Ye.b),Ke(Ye.nc,Ye.b),0,Te,Ye.K),Ye.K=Ye.K[0];break;case 3:var it,et=xe(Le,8)+1,Vt=16<et?0:4<et?1:2<et?2:3;if(de[0]=Ke(Ye.Ea,Vt),Ye.b=Vt,it=Ge=De(et,1,0,Te,Ye.K)){var Tt,pr=et,Ft=Ye,Nr=1<<(8>>Ft.b),Oa=s(Nr);if(Oa==null)it=0;else{var gr=Ft.K[0],$t=Ft.w;for(Oa[0]=Ft.K[0][0],Tt=1;Tt<1*pr;++Tt)Oa[Tt]=tt(gr[$t+Tt],Oa[Tt-1]);for(;Tt<4*Nr;++Tt)Oa[Tt]=0;Ft.K[0]=null,Ft.K[0]=Oa,it=1}}Ge=it;break;case 2:break;default:t(0)}Q=Ge}}if(ee=ee[0],ne=ne[0],Q&&xe(ie,1)&&!(Q=1<=(Me=xe(ie,4))&&11>=Me)){z.a=3;break e}var gt;if(gt=Q)t:{var ca,ur,Cr,wn=z,os=ee,zs=ne,Vn=Me,ks=L,Ws=wn.m,Ra=wn.s,Rr=[null],Gr=1,Gn=0,Kr=TQ[Vn];r:for(;;){if(ks&&xe(Ws,1)){var ls=xe(Ws,3)+2,Xo=Ke(os,ls),ua=Ke(zs,ls),ui=Xo*ua;if(!De(Xo,ua,0,wn,Rr))break r;for(Rr=Rr[0],Ra.xc=ls,ca=0;ca<ui;++ca){var un=Rr[ca]>>8&65535;Rr[ca]=un,un>=Gr&&(Gr=un+1)}}if(Ws.h)break r;for(ur=0;5>ur;++ur){var Ia=vT[ur];!ur&&0<Vn&&(Ia+=1<<Vn),Gn<Ia&&(Gn=Ia)}var Ci=o(Gr*Kr,V),Hs=Gr,Ai=o(Hs,Y);if(Ai==null)var Pi=null;else t(65536>=Hs),Pi=Ai;var di=s(Gn);if(Pi==null||di==null||Ci==null){wn.a=1;break r}var Ti=Ci;for(ca=Cr=0;ca<Gr;++ca){var pn=Pi[ca],Oi=pn.G,Jo=pn.H,uf=0,Tc=1,cs=0;for(ur=0;5>ur;++ur){Ia=vT[ur],Oi[ur]=Ti,Jo[ur]=Cr,!ur&&0<Vn&&(Ia+=1<<Vn);a:{var ay,tS=Ia,sy=wn,A0=di,ZQ=Ti,QQ=Cr,rS=0,Bu=sy.m,eee=xe(Bu,1);if(a(A0,0,0,tS),eee){var tee=xe(Bu,1)+1,ree=xe(Bu,1),ET=xe(Bu,ree==0?1:8);A0[ET]=1,tee==2&&(A0[ET=xe(Bu,8)]=1);var iy=1}else{var CT=s(19),AT=xe(Bu,4)+4;if(19<AT){sy.a=3;var oy=0;break a}for(ay=0;ay<AT;++ay)CT[AQ[ay]]=xe(Bu,3);var nS=void 0,P0=void 0,PT=sy,nee=CT,ly=tS,TT=A0,aS=0,Uu=PT.m,OT=8,RT=o(128,V);n:for(;P(RT,0,7,nee,19);){if(xe(Uu,1)){var aee=2+2*xe(Uu,3);if((nS=2+xe(Uu,aee))>ly)break n}else nS=ly;for(P0=0;P0<ly&&nS--;){W(Uu);var IT=RT[0+(127&R(Uu))];B(Uu,Uu.u+IT.g);var Hh=IT.value;if(16>Hh)TT[P0++]=Hh,Hh!=0&&(OT=Hh);else{var see=Hh==16,DT=Hh-16,iee=EQ[DT],LT=xe(Uu,kQ[DT])+iee;if(P0+LT>ly)break n;for(var oee=see?OT:0;0<LT--;)TT[P0++]=oee}}aS=1;break n}aS||(PT.a=3),iy=aS}(iy=iy&&!Bu.h)&&(rS=P(ZQ,QQ,8,A0,tS)),iy&&rS!=0?oy=rS:(sy.a=3,oy=0)}if(oy==0)break r;if(Tc&&CQ[ur]==1&&(Tc=Ti[Cr].g==0),uf+=Ti[Cr].g,Cr+=oy,3>=ur){var T0,sS=di[0];for(T0=1;T0<Ia;++T0)di[T0]>sS&&(sS=di[T0]);cs+=sS}}if(pn.nd=Tc,pn.Qb=0,Tc&&(pn.qb=(Oi[3][Jo[3]+0].value<<24|Oi[1][Jo[1]+0].value<<16|Oi[2][Jo[2]+0].value)>>>0,uf==0&&256>Oi[0][Jo[0]+0].value&&(pn.Qb=1,pn.qb+=Oi[0][Jo[0]+0].value<<8)),pn.jc=!pn.Qb&&6>cs,pn.jc){var cy,Oc=pn;for(cy=0;cy<of;++cy){var zu=cy,Wu=Oc.pd[zu],uy=Oc.G[0][Oc.H[0]+zu];256<=uy.value?(Wu.g=uy.g+256,Wu.value=uy.value):(Wu.g=0,Wu.value=0,zu>>=pa(uy,8,Wu),zu>>=pa(Oc.G[1][Oc.H[1]+zu],16,Wu),zu>>=pa(Oc.G[2][Oc.H[2]+zu],0,Wu),pa(Oc.G[3][Oc.H[3]+zu],24,Wu))}}}Ra.vc=Rr,Ra.Wb=Gr,Ra.Ya=Pi,Ra.yc=Ci,gt=1;break t}gt=0}if(!(Q=gt)){z.a=3;break e}if(0<Me){if(ue.ua=1<<Me,!ae(ue.Wa,Me)){z.a=1,Q=0;break e}}else ue.ua=0;var iS=z,MT=ee,lee=ne,oS=iS.s,lS=oS.xc;if(iS.c=MT,iS.i=lee,oS.md=Ke(MT,lS),oS.wc=lS==0?-1:(1<<lS)-1,L){z.xb=$Q;break e}if((Se=s(ee*ne))==null){z.a=1,Q=0;break e}Q=(Q=Oe(z,Se,0,ee,ne,ne,null))&&!ie.h;break e}return Q?(K!=null?K[0]=Se:(t(Se==null),t(L)),z.$=0,L||Be(ue)):Be(ue),Q}function Fe(S,E){var L=S.c*S.i,z=L+E+16*E;return t(S.c<=E),S.V=s(z),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+L+E,1)}function st(S,E){var L=S.C,z=E-L,K=S.V,Q=S.Ba+S.c*L;for(t(E<=S.l.o);0<z;){var ee=16<z?16:z,ne=S.l.ma,ie=S.l.width,ue=ie*ee,Se=ne.ca,Me=ne.tb+ie*L,de=S.Ta,ke=S.Ua;fe(S,ee,K,Q),cT(de,ke,Se,Me,ue),he(ne,L,L+ee,Se,Me,ie),z-=ee,K+=ee*S.c,L+=ee}t(L==E),S.C=S.Ma=E}function ft(){this.ub=this.yd=this.td=this.Rb=0}function St(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ct(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function xt(){this.Yb=function(){var S=[];return function E(L,z,K){for(var Q=K[z],ee=0;ee<Q&&(L.push(K.length>z+1?[]:0),!(K.length<z+1));ee++)E(L[ee],z+1,K)}(S,0,[3,11]),S}()}function sr(){this.jb=s(3),this.Wc=l([4,8],xt),this.Xc=l([4,17],xt)}function an(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Sr(){this.ld=this.La=this.dd=this.tc=0}function qn(){this.Na=this.la=0}function Tl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ol(){this.uc=this.M=this.Nb=0,this.wa=Array(new Sr),this.Y=0,this.ya=Array(new Vo),this.aa=0,this.l=new Dh}function oo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Cu(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new ft,this.Kc=new St,this.ed=new an,this.Qa=new ct,this.Ic=this.$c=this.Aa=0,this.D=new Ol,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,Tl),this.Pa=new sr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new oo),this.Hd=0,this.rb=Array(new qn),this.sb=0,this.wa=Array(new Sr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vo),this.L=this.aa=0,this.gd=l([4,2],Sr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ga(S,E){return 0>S?0:S>E?E:S}function Dh(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Oj(){var S=new Cu;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,E0||(E0=Lh)),S}function va(S,E,L){return S.a==0&&(S.a=E,S.sc=L,S.cb=0),0}function Dx(S,E,L){return 3<=L&&S[E+0]==157&&S[E+1]==1&&S[E+2]==42}function Rl(S,E){if(S==null)return 0;if(S.a=0,S.sc="OK",E==null)return va(S,2,"null VP8Io passed to VP8GetHeaders()");var L=E.data,z=E.w,K=E.ha;if(4>K)return va(S,7,"Truncated header.");var Q=L[z+0]|L[z+1]<<8|L[z+2]<<16,ee=S.Od;if(ee.Rb=!(1&Q),ee.td=Q>>1&7,ee.yd=Q>>4&1,ee.ub=Q>>5,3<ee.td)return va(S,3,"Incorrect keyframe parameters.");if(!ee.yd)return va(S,4,"Frame not displayable.");z+=3,K-=3;var ne=S.Kc;if(ee.Rb){if(7>K)return va(S,7,"cannot parse picture header");if(!Dx(L,z,K))return va(S,3,"Bad code word");ne.c=16383&(L[z+4]<<8|L[z+3]),ne.Td=L[z+4]>>6,ne.i=16383&(L[z+6]<<8|L[z+5]),ne.Ud=L[z+6]>>6,z+=7,K-=7,S.za=ne.c+15>>4,S.Ub=ne.i+15>>4,E.width=ne.c,E.height=ne.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((Q=S.Pa).jb,0,255,Q.jb.length),t((Q=S.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,a(Q.Zb,0,0,Q.Zb.length),a(Q.Lb,0,0,Q.Lb)}if(ee.ub>K)return va(S,7,"bad partition length");re(Q=S.m,L,z,ee.ub),z+=ee.ub,K-=ee.ub,ee.Rb&&(ne.Ld=J(Q),ne.Kd=J(Q)),ne=S.Qa;var ie,ue=S.Pa;if(t(Q!=null),t(ne!=null),ne.Cb=J(Q),ne.Cb){if(ne.Bb=J(Q),J(Q)){for(ne.Fb=J(Q),ie=0;4>ie;++ie)ne.Zb[ie]=J(Q)?q(Q,7):0;for(ie=0;4>ie;++ie)ne.Lb[ie]=J(Q)?q(Q,6):0}if(ne.Bb)for(ie=0;3>ie;++ie)ue.jb[ie]=J(Q)?U(Q,8):255}else ne.Bb=0;if(Q.Ka)return va(S,3,"cannot parse segment header");if((ne=S.ed).zd=J(Q),ne.Tb=U(Q,6),ne.wb=U(Q,3),ne.Pc=J(Q),ne.Pc&&J(Q)){for(ue=0;4>ue;++ue)J(Q)&&(ne.vd[ue]=q(Q,6));for(ue=0;4>ue;++ue)J(Q)&&(ne.od[ue]=q(Q,6))}if(S.L=ne.Tb==0?0:ne.zd?1:2,Q.Ka)return va(S,3,"cannot parse filter header");var Se=K;if(K=ie=z,z=ie+Se,ne=Se,S.Xb=(1<<U(S.m,2))-1,Se<3*(ue=S.Xb))L=7;else{for(ie+=3*ue,ne-=3*ue,Se=0;Se<ue;++Se){var Me=L[K+0]|L[K+1]<<8|L[K+2]<<16;Me>ne&&(Me=ne),re(S.Jc[+Se],L,ie,Me),ie+=Me,ne-=Me,K+=3}re(S.Jc[+ue],L,ie,ne),L=ie<z?0:5}if(L!=0)return va(S,L,"cannot parse partitions");for(L=U(ie=S.m,7),K=J(ie)?q(ie,4):0,z=J(ie)?q(ie,4):0,ne=J(ie)?q(ie,4):0,ue=J(ie)?q(ie,4):0,ie=J(ie)?q(ie,4):0,Se=S.Qa,Me=0;4>Me;++Me){if(Se.Cb){var de=Se.Zb[Me];Se.Fb||(de+=L)}else{if(0<Me){S.pb[Me]=S.pb[0];continue}de=L}var ke=S.pb[Me];ke.Sc[0]=Zj[ga(de+K,127)],ke.Sc[1]=Qj[ga(de+0,127)],ke.Eb[0]=2*Zj[ga(de+z,127)],ke.Eb[1]=101581*Qj[ga(de+ne,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=Zj[ga(de+ue,117)],ke.Qc[1]=Qj[ga(de+ie,127)],ke.lc=de+ie}if(!ee.Rb)return va(S,4,"Not a key frame.");for(J(Q),ee=S.Pa,L=0;4>L;++L){for(K=0;8>K;++K)for(z=0;3>z;++z)for(ne=0;11>ne;++ne)ue=oe(Q,MQ[L][K][z][ne])?U(Q,8):DQ[L][K][z][ne],ee.Wc[L][K].Yb[z][ne]=ue;for(K=0;17>K;++K)ee.Xc[L][K]=ee.Wc[L][FQ[K]]}return S.kc=J(Q),S.kc&&(S.Bd=U(Q,8)),S.cb=1}function Lh(S,E,L,z,K,Q,ee){var ne=E[K].Yb[L];for(L=0;16>K;++K){if(!oe(S,ne[L+0]))return K;for(;!oe(S,ne[L+1]);)if(ne=E[++K].Yb[0],L=0,K==16)return 16;var ie=E[K+1].Yb;if(oe(S,ne[L+2])){var ue=S,Se=0;if(oe(ue,(de=ne)[(Me=L)+3]))if(oe(ue,de[Me+6])){for(ne=0,Me=2*(Se=oe(ue,de[Me+8]))+(de=oe(ue,de[Me+9+Se])),Se=0,de=RQ[Me];de[ne];++ne)Se+=Se+oe(ue,de[ne]);Se+=3+(8<<Me)}else oe(ue,de[Me+7])?(Se=7+2*oe(ue,165),Se+=oe(ue,145)):Se=5+oe(ue,159);else Se=oe(ue,de[Me+4])?3+oe(ue,de[Me+5]):2;ne=ie[2]}else Se=1,ne=ie[1];ie=ee+IQ[K],0>(ue=S).b&&te(ue);var Me,de=ue.b,ke=(Me=ue.Ca>>1)-(ue.I>>de)>>31;--ue.b,ue.Ca+=ke,ue.Ca|=1,ue.I-=(Me+1&ke)<<de,Q[ie]=((Se^ke)-ke)*z[(0<K)+0]}return 16}function Lx(S){var E=S.rb[S.sb-1];E.la=0,E.Na=0,a(S.zc,0,0,S.zc.length),S.ja=0}function lo(S,E,L,z,K){K=S[E+L+32*z]+(K>>3),S[E+L+32*z]=-256&K?0>K?0:255:K}function Aa(S,E,L,z,K,Q){lo(S,E,0,L,z+K),lo(S,E,1,L,z+Q),lo(S,E,2,L,z-Q),lo(S,E,3,L,z-K)}function xc(S){return(20091*S>>16)+S}function Mx(S,E,L,z){var K,Q=0,ee=s(16);for(K=0;4>K;++K){var ne=S[E+0]+S[E+8],ie=S[E+0]-S[E+8],ue=(35468*S[E+4]>>16)-xc(S[E+12]),Se=xc(S[E+4])+(35468*S[E+12]>>16);ee[Q+0]=ne+Se,ee[Q+1]=ie+ue,ee[Q+2]=ie-ue,ee[Q+3]=ne-Se,Q+=4,E++}for(K=Q=0;4>K;++K)ne=(S=ee[Q+0]+4)+ee[Q+8],ie=S-ee[Q+8],ue=(35468*ee[Q+4]>>16)-xc(ee[Q+12]),lo(L,z,0,0,ne+(Se=xc(ee[Q+4])+(35468*ee[Q+12]>>16))),lo(L,z,1,0,ie+ue),lo(L,z,2,0,ie-ue),lo(L,z,3,0,ne-Se),Q++,z+=32}function Rj(S,E,L,z){var K=S[E+0]+4,Q=35468*S[E+4]>>16,ee=xc(S[E+4]),ne=35468*S[E+1]>>16;Aa(L,z,0,K+ee,S=xc(S[E+1]),ne),Aa(L,z,1,K+Q,S,ne),Aa(L,z,2,K-Q,S,ne),Aa(L,z,3,K-ee,S,ne)}function Ij(S,E,L,z,K){Mx(S,E,L,z),K&&Mx(S,E+16,L,z+4)}function Il(S,E,L,z){cf(S,E+0,L,z,1),cf(S,E+32,L,z+128,1)}function Fx(S,E,L,z){var K;for(S=S[E+0]+4,K=0;4>K;++K)for(E=0;4>E;++E)lo(L,z,E,K,S)}function $x(S,E,L,z){S[E+0]&&Hr(S,E+0,L,z),S[E+16]&&Hr(S,E+16,L,z+4),S[E+32]&&Hr(S,E+32,L,z+128),S[E+48]&&Hr(S,E+48,L,z+128+4)}function Mh(S,E,L,z){var K,Q=s(16);for(K=0;4>K;++K){var ee=S[E+0+K]+S[E+12+K],ne=S[E+4+K]+S[E+8+K],ie=S[E+4+K]-S[E+8+K],ue=S[E+0+K]-S[E+12+K];Q[0+K]=ee+ne,Q[8+K]=ee-ne,Q[4+K]=ue+ie,Q[12+K]=ue-ie}for(K=0;4>K;++K)ee=(S=Q[0+4*K]+3)+Q[3+4*K],ne=Q[1+4*K]+Q[2+4*K],ie=Q[1+4*K]-Q[2+4*K],ue=S-Q[3+4*K],L[z+0]=ee+ne>>3,L[z+16]=ue+ie>>3,L[z+32]=ee-ne>>3,L[z+48]=ue-ie>>3,z+=64}function Xd(S,E,L){var z,K=E-32,Q=Ei,ee=255-S[K-1];for(z=0;z<L;++z){var ne,ie=Q,ue=ee+S[E-1];for(ne=0;ne<L;++ne)S[E+ne]=ie[ue+S[K+ne]];E+=32}}function Dj(S,E){Xd(S,E,4)}function Lj(S,E){Xd(S,E,8)}function Mj(S,E){Xd(S,E,16)}function o0(S,E){var L;for(L=0;16>L;++L)n(S,E+32*L,S,E-32,16)}function Bx(S,E){var L;for(L=16;0<L;--L)a(S,E,S[E-1],16),E+=32}function Go(S,E,L){var z;for(z=0;16>z;++z)a(E,L+32*z,S,16)}function Fj(S,E){var L,z=16;for(L=0;16>L;++L)z+=S[E-1+32*L]+S[E+L-32];Go(z>>5,S,E)}function Jd(S,E){var L,z=8;for(L=0;16>L;++L)z+=S[E-1+32*L];Go(z>>4,S,E)}function l0(S,E){var L,z=8;for(L=0;16>L;++L)z+=S[E+L-32];Go(z>>4,S,E)}function $j(S,E){Go(128,S,E)}function lr(S,E,L){return S+2*E+L+2>>2}function Bj(S,E){var L,z=E-32;for(z=new Uint8Array([lr(S[z-1],S[z+0],S[z+1]),lr(S[z+0],S[z+1],S[z+2]),lr(S[z+1],S[z+2],S[z+3]),lr(S[z+2],S[z+3],S[z+4])]),L=0;4>L;++L)n(S,E+32*L,z,0,z.length)}function Uj(S,E){var L=S[E-1],z=S[E-1+32],K=S[E-1+64],Q=S[E-1+96];_e(S,E+0,16843009*lr(S[E-1-32],L,z)),_e(S,E+32,16843009*lr(L,z,K)),_e(S,E+64,16843009*lr(z,K,Q)),_e(S,E+96,16843009*lr(K,Q,Q))}function zj(S,E){var L,z=4;for(L=0;4>L;++L)z+=S[E+L-32]+S[E-1+32*L];for(z>>=3,L=0;4>L;++L)a(S,E+32*L,z,4)}function yc(S,E){var L=S[E-1+0],z=S[E-1+32],K=S[E-1+64],Q=S[E-1-32],ee=S[E+0-32],ne=S[E+1-32],ie=S[E+2-32],ue=S[E+3-32];S[E+0+96]=lr(z,K,S[E-1+96]),S[E+1+96]=S[E+0+64]=lr(L,z,K),S[E+2+96]=S[E+1+64]=S[E+0+32]=lr(Q,L,z),S[E+3+96]=S[E+2+64]=S[E+1+32]=S[E+0+0]=lr(ee,Q,L),S[E+3+64]=S[E+2+32]=S[E+1+0]=lr(ne,ee,Q),S[E+3+32]=S[E+2+0]=lr(ie,ne,ee),S[E+3+0]=lr(ue,ie,ne)}function wc(S,E){var L=S[E+1-32],z=S[E+2-32],K=S[E+3-32],Q=S[E+4-32],ee=S[E+5-32],ne=S[E+6-32],ie=S[E+7-32];S[E+0+0]=lr(S[E+0-32],L,z),S[E+1+0]=S[E+0+32]=lr(L,z,K),S[E+2+0]=S[E+1+32]=S[E+0+64]=lr(z,K,Q),S[E+3+0]=S[E+2+32]=S[E+1+64]=S[E+0+96]=lr(K,Q,ee),S[E+3+32]=S[E+2+64]=S[E+1+96]=lr(Q,ee,ne),S[E+3+64]=S[E+2+96]=lr(ee,ne,ie),S[E+3+96]=lr(ne,ie,ie)}function Wj(S,E){var L=S[E-1+0],z=S[E-1+32],K=S[E-1+64],Q=S[E-1-32],ee=S[E+0-32],ne=S[E+1-32],ie=S[E+2-32],ue=S[E+3-32];S[E+0+0]=S[E+1+64]=Q+ee+1>>1,S[E+1+0]=S[E+2+64]=ee+ne+1>>1,S[E+2+0]=S[E+3+64]=ne+ie+1>>1,S[E+3+0]=ie+ue+1>>1,S[E+0+96]=lr(K,z,L),S[E+0+64]=lr(z,L,Q),S[E+0+32]=S[E+1+96]=lr(L,Q,ee),S[E+1+32]=S[E+2+96]=lr(Q,ee,ne),S[E+2+32]=S[E+3+96]=lr(ee,ne,ie),S[E+3+32]=lr(ne,ie,ue)}function Hj(S,E){var L=S[E+0-32],z=S[E+1-32],K=S[E+2-32],Q=S[E+3-32],ee=S[E+4-32],ne=S[E+5-32],ie=S[E+6-32],ue=S[E+7-32];S[E+0+0]=L+z+1>>1,S[E+1+0]=S[E+0+64]=z+K+1>>1,S[E+2+0]=S[E+1+64]=K+Q+1>>1,S[E+3+0]=S[E+2+64]=Q+ee+1>>1,S[E+0+32]=lr(L,z,K),S[E+1+32]=S[E+0+96]=lr(z,K,Q),S[E+2+32]=S[E+1+96]=lr(K,Q,ee),S[E+3+32]=S[E+2+96]=lr(Q,ee,ne),S[E+3+64]=lr(ee,ne,ie),S[E+3+96]=lr(ne,ie,ue)}function Fh(S,E){var L=S[E-1+0],z=S[E-1+32],K=S[E-1+64],Q=S[E-1+96];S[E+0+0]=L+z+1>>1,S[E+2+0]=S[E+0+32]=z+K+1>>1,S[E+2+32]=S[E+0+64]=K+Q+1>>1,S[E+1+0]=lr(L,z,K),S[E+3+0]=S[E+1+32]=lr(z,K,Q),S[E+3+32]=S[E+1+64]=lr(K,Q,Q),S[E+3+64]=S[E+2+64]=S[E+0+96]=S[E+1+96]=S[E+2+96]=S[E+3+96]=Q}function c0(S,E){var L=S[E-1+0],z=S[E-1+32],K=S[E-1+64],Q=S[E-1+96],ee=S[E-1-32],ne=S[E+0-32],ie=S[E+1-32],ue=S[E+2-32];S[E+0+0]=S[E+2+32]=L+ee+1>>1,S[E+0+32]=S[E+2+64]=z+L+1>>1,S[E+0+64]=S[E+2+96]=K+z+1>>1,S[E+0+96]=Q+K+1>>1,S[E+3+0]=lr(ne,ie,ue),S[E+2+0]=lr(ee,ne,ie),S[E+1+0]=S[E+3+32]=lr(L,ee,ne),S[E+1+32]=S[E+3+64]=lr(z,L,ee),S[E+1+64]=S[E+3+96]=lr(K,z,L),S[E+1+96]=lr(Q,K,z)}function Zd(S,E){var L;for(L=0;8>L;++L)n(S,E+32*L,S,E-32,8)}function qj(S,E){var L;for(L=0;8>L;++L)a(S,E,S[E-1],8),E+=32}function bc(S,E,L){var z;for(z=0;8>z;++z)a(E,L+32*z,S,8)}function Vj(S,E){var L,z=8;for(L=0;8>L;++L)z+=S[E+L-32]+S[E-1+32*L];bc(z>>4,S,E)}function u0(S,E){var L,z=4;for(L=0;8>L;++L)z+=S[E+L-32];bc(z>>3,S,E)}function d0(S,E){var L,z=4;for(L=0;8>L;++L)z+=S[E-1+32*L];bc(z>>3,S,E)}function Ux(S,E){bc(128,S,E)}function _c(S,E,L){var z=S[E-L],K=S[E+0],Q=3*(K-z)+Gj[1020+S[E-2*L]-S[E+L]],ee=Yx[112+(Q+4>>3)];S[E-L]=Ei[255+z+Yx[112+(Q+3>>3)]],S[E+0]=Ei[255+K-ee]}function f0(S,E,L,z){var K=S[E+0],Q=S[E+L];return fo[255+S[E-2*L]-S[E-L]]>z||fo[255+Q-K]>z}function $h(S,E,L,z){return 4*fo[255+S[E-L]-S[E+0]]+fo[255+S[E-2*L]-S[E+L]]<=z}function h0(S,E,L,z,K){var Q=S[E-3*L],ee=S[E-2*L],ne=S[E-L],ie=S[E+0],ue=S[E+L],Se=S[E+2*L],Me=S[E+3*L];return 4*fo[255+ne-ie]+fo[255+ee-ue]>z?0:fo[255+S[E-4*L]-Q]<=K&&fo[255+Q-ee]<=K&&fo[255+ee-ne]<=K&&fo[255+Me-Se]<=K&&fo[255+Se-ue]<=K&&fo[255+ue-ie]<=K}function Qd(S,E,L,z){var K=2*z+1;for(z=0;16>z;++z)$h(S,E+z,L,K)&&_c(S,E+z,L)}function m0(S,E,L,z){var K=2*z+1;for(z=0;16>z;++z)$h(S,E+z*L,1,K)&&_c(S,E+z*L,1)}function zx(S,E,L,z){var K;for(K=3;0<K;--K)Qd(S,E+=4*L,L,z)}function Wx(S,E,L,z){var K;for(K=3;0<K;--K)m0(S,E+=4,L,z)}function jc(S,E,L,z,K,Q,ee,ne){for(Q=2*Q+1;0<K--;){if(h0(S,E,L,Q,ee))if(f0(S,E,L,ne))_c(S,E,L);else{var ie=S,ue=E,Se=L,Me=ie[ue-2*Se],de=ie[ue-Se],ke=ie[ue+0],Te=ie[ue+Se],Ge=ie[ue+2*Se],Le=27*(Je=Gj[1020+3*(ke-de)+Gj[1020+Me-Te]])+63>>7,Ye=18*Je+63>>7,Je=9*Je+63>>7;ie[ue-3*Se]=Ei[255+ie[ue-3*Se]+Je],ie[ue-2*Se]=Ei[255+Me+Ye],ie[ue-Se]=Ei[255+de+Le],ie[ue+0]=Ei[255+ke-Le],ie[ue+Se]=Ei[255+Te-Ye],ie[ue+2*Se]=Ei[255+Ge-Je]}E+=z}}function Sc(S,E,L,z,K,Q,ee,ne){for(Q=2*Q+1;0<K--;){if(h0(S,E,L,Q,ee))if(f0(S,E,L,ne))_c(S,E,L);else{var ie=S,ue=E,Se=L,Me=ie[ue-Se],de=ie[ue+0],ke=ie[ue+Se],Te=Yx[112+(4+(Ge=3*(de-Me))>>3)],Ge=Yx[112+(Ge+3>>3)],Le=Te+1>>1;ie[ue-2*Se]=Ei[255+ie[ue-2*Se]+Le],ie[ue-Se]=Ei[255+Me+Ge],ie[ue+0]=Ei[255+de-Te],ie[ue+Se]=Ei[255+ke-Le]}E+=z}}function Hx(S,E,L,z,K,Q){jc(S,E,L,1,16,z,K,Q)}function ef(S,E,L,z,K,Q){jc(S,E,1,L,16,z,K,Q)}function qx(S,E,L,z,K,Q){var ee;for(ee=3;0<ee;--ee)Sc(S,E+=4*L,L,1,16,z,K,Q)}function O(S,E,L,z,K,Q){var ee;for(ee=3;0<ee;--ee)Sc(S,E+=4,1,L,16,z,K,Q)}function G(S,E,L,z,K,Q,ee,ne){jc(S,E,K,1,8,Q,ee,ne),jc(L,z,K,1,8,Q,ee,ne)}function me(S,E,L,z,K,Q,ee,ne){jc(S,E,1,K,8,Q,ee,ne),jc(L,z,1,K,8,Q,ee,ne)}function je(S,E,L,z,K,Q,ee,ne){Sc(S,E+4*K,K,1,8,Q,ee,ne),Sc(L,z+4*K,K,1,8,Q,ee,ne)}function Pe(S,E,L,z,K,Q,ee,ne){Sc(S,E+4,1,K,8,Q,ee,ne),Sc(L,z+4,1,K,8,Q,ee,ne)}function Xe(){this.ba=new Qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Er,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zt(){this.ua=0,this.Wa=new He,this.vb=new He,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new V}function or(){this.xb=this.a=0,this.l=new Dh,this.ca=new Qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zt,this.ab=0,this.gc=o(4,Mt),this.Oc=0}function hr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Dh,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Or(S,E,L,z,K,Q,ee){for(S=S==null?0:S[E+0],E=0;E<ee;++E)K[Q+E]=S+L[z+E]&255,S=K[Q+E]}function Mn(S,E,L,z,K,Q,ee){var ne;if(S==null)Or(null,null,L,z,K,Q,ee);else for(ne=0;ne<ee;++ne)K[Q+ne]=S[E+ne]+L[z+ne]&255}function xa(S,E,L,z,K,Q,ee){if(S==null)Or(null,null,L,z,K,Q,ee);else{var ne,ie=S[E+0],ue=ie,Se=ie;for(ne=0;ne<ee;++ne)ue=Se+(ie=S[E+ne])-ue,Se=L[z+ne]+(-256&ue?0>ue?0:255:ue)&255,ue=ie,K[Q+ne]=Se}}function mn(S,E,L,z){var K=E.width,Q=E.o;if(t(S!=null&&E!=null),0>L||0>=z||L+z>Q)return null;if(!S.Cc){if(S.ga==null){var ee;if(S.ga=new hr,(ee=S.ga==null)||(ee=E.width*E.o,t(S.Gb.length==0),S.Gb=s(ee),S.Uc=0,S.Gb==null?ee=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ee=1),ee=!ee),!ee){ee=S.ga;var ne=S.Fa,ie=S.P,ue=S.qc,Se=S.mb,Me=S.nb,de=ie+1,ke=ue-1,Te=ee.l;if(t(ne!=null&&Se!=null&&E!=null),$u[0]=null,$u[1]=Or,$u[2]=Mn,$u[3]=xa,ee.ca=Se,ee.tb=Me,ee.c=E.width,ee.i=E.height,t(0<ee.c&&0<ee.i),1>=ue)E=0;else if(ee.$a=3&ne[ie+0],ee.Z=ne[ie+0]>>2&3,ee.Lc=ne[ie+0]>>4&3,ie=ne[ie+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||ie)E=0;else if(Te.put=Xt,Te.ac=io,Te.bc=Ho,Te.ma=ee,Te.width=E.width,Te.height=E.height,Te.Da=E.Da,Te.v=E.v,Te.va=E.va,Te.j=E.j,Te.o=E.o,ee.$a)e:{t(ee.$a==1),E=Re();t:for(;;){if(E==null){E=0;break e}if(t(ee!=null),ee.mc=E,E.c=ee.c,E.i=ee.i,E.l=ee.l,E.l.ma=ee,E.l.width=ee.c,E.l.height=ee.i,E.a=0,X(E.m,ne,de,ke),!De(ee.c,ee.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&le(E.s)?(ee.ic=1,ne=E.c*E.i,E.Ta=null,E.Ua=0,E.V=s(ne),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(ee.ic=0,E=Fe(E,ee.c)),!E))break t;E=1;break e}ee.mc=null,E=0}else E=ke>=ee.c*ee.i;ee=!E}if(ee)return null;S.ga.Lc!=1?S.Ga=0:z=Q-L}t(S.ga!=null),t(L+z<=Q);e:{if(E=(ne=S.ga).c,Q=ne.l.o,ne.$a==0){if(de=S.rc,ke=S.Vc,Te=S.Fa,ie=S.P+1+L*E,ue=S.mb,Se=S.nb+L*E,t(ie<=S.P+S.qc),ne.Z!=0)for(t($u[ne.Z]!=null),ee=0;ee<z;++ee)$u[ne.Z](de,ke,Te,ie,ue,Se,E),de=ue,ke=Se,Se+=E,ie+=E;else for(ee=0;ee<z;++ee)n(ue,Se,Te,ie,E),de=ue,ke=Se,Se+=E,ie+=E;S.rc=de,S.Vc=ke}else{if(t(ne.mc!=null),E=L+z,t((ee=ne.mc)!=null),t(E<=ee.i),ee.C>=E)E=1;else if(ne.ic||Ko(),ne.ic){ne=ee.V,de=ee.Ba,ke=ee.c;var Ge=ee.i,Le=(Te=1,ie=ee.$/ke,ue=ee.$%ke,Se=ee.m,Me=ee.s,ee.$),Ye=ke*Ge,Je=ke*E,it=Me.wc,et=Le<Je?Z(Me,ue,ie):null;t(Le<=Ye),t(E<=Ge),t(le(Me));t:for(;;){for(;!Se.h&&Le<Je;){if(ue&it||(et=Z(Me,ue,ie)),t(et!=null),W(Se),256>(Ge=An(et.G[0],et.H[0],Se)))ne[de+Le]=Ge,++Le,++ue>=ke&&(ue=0,++ie<=E&&!(ie%16)&&ge(ee,ie));else{if(!(280>Ge)){Te=0;break t}Ge=Ns(Ge-256,Se);var Vt,Tt=An(et.G[4],et.H[4],Se);if(W(Se),!(Le>=(Tt=ci(ke,Tt=Ns(Tt,Se)))&&Ye-Le>=Ge)){Te=0;break t}for(Vt=0;Vt<Ge;++Vt)ne[de+Le+Vt]=ne[de+Le+Vt-Tt];for(Le+=Ge,ue+=Ge;ue>=ke;)ue-=ke,++ie<=E&&!(ie%16)&&ge(ee,ie);Le<Je&&ue&it&&(et=Z(Me,ue,ie))}t(Se.h==H(Se))}ge(ee,ie>E?E:ie);break t}!Te||Se.h&&Le<Ye?(Te=0,ee.a=Se.h?5:3):ee.$=Le,E=Te}else E=Oe(ee,ee.V,ee.Ba,ee.c,ee.i,E,st);if(!E){z=0;break e}}L+z>=Q&&(S.Cc=1),z=1}if(!z)return null;if(S.Cc&&((z=S.ga)!=null&&(z.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+L*K}function Pa(S,E,L,z,K,Q){for(;0<K--;){var ee,ne=S,ie=E+(L?1:0),ue=S,Se=E+(L?0:3);for(ee=0;ee<z;++ee){var Me=ue[Se+4*ee];Me!=255&&(Me*=32897,ne[ie+4*ee+0]=ne[ie+4*ee+0]*Me>>23,ne[ie+4*ee+1]=ne[ie+4*ee+1]*Me>>23,ne[ie+4*ee+2]=ne[ie+4*ee+2]*Me>>23)}E+=Q}}function ya(S,E,L,z,K){for(;0<z--;){var Q;for(Q=0;Q<L;++Q){var ee=S[E+2*Q+0],ne=15&(ue=S[E+2*Q+1]),ie=4369*ne,ue=(240&ue|ue>>4)*ie>>16;S[E+2*Q+0]=(240&ee|ee>>4)*ie>>16&240|(15&ee|ee<<4)*ie>>16>>4&15,S[E+2*Q+1]=240&ue|ne}E+=K}}function ss(S,E,L,z,K,Q,ee,ne){var ie,ue,Se=255;for(ue=0;ue<K;++ue){for(ie=0;ie<z;++ie){var Me=S[E+ie];Q[ee+4*ie]=Me,Se&=Me}E+=L,ee+=ne}return Se!=255}function Nc(S,E,L,z,K){var Q;for(Q=0;Q<K;++Q)L[z+Q]=S[E+Q]>>8}function Ko(){k0=Pa,oT=ya,lT=ss,cT=Nc}function kc(S,E,L){k[S]=function(z,K,Q,ee,ne,ie,ue,Se,Me,de,ke,Te,Ge,Le,Ye,Je,it){var et,Vt=it-1>>1,Tt=ne[ie+0]|ue[Se+0]<<16,pr=Me[de+0]|ke[Te+0]<<16;t(z!=null);var Ft=3*Tt+pr+131074>>2;for(E(z[K+0],255&Ft,Ft>>16,Ge,Le),Q!=null&&(Ft=3*pr+Tt+131074>>2,E(Q[ee+0],255&Ft,Ft>>16,Ye,Je)),et=1;et<=Vt;++et){var Nr=ne[ie+et]|ue[Se+et]<<16,Oa=Me[de+et]|ke[Te+et]<<16,gr=Tt+Nr+pr+Oa+524296,$t=gr+2*(Nr+pr)>>3;Ft=$t+Tt>>1,Tt=(gr=gr+2*(Tt+Oa)>>3)+Nr>>1,E(z[K+2*et-1],255&Ft,Ft>>16,Ge,Le+(2*et-1)*L),E(z[K+2*et-0],255&Tt,Tt>>16,Ge,Le+(2*et-0)*L),Q!=null&&(Ft=gr+pr>>1,Tt=$t+Oa>>1,E(Q[ee+2*et-1],255&Ft,Ft>>16,Ye,Je+(2*et-1)*L),E(Q[ee+2*et+0],255&Tt,Tt>>16,Ye,Je+(2*et+0)*L)),Tt=Nr,pr=Oa}1&it||(Ft=3*Tt+pr+131074>>2,E(z[K+it-1],255&Ft,Ft>>16,Ge,Le+(it-1)*L),Q!=null&&(Ft=3*pr+Tt+131074>>2,E(Q[ee+it-1],255&Ft,Ft>>16,Ye,Je+(it-1)*L)))}}function p0(){ho[Xx]=BQ,ho[Jx]=wT,ho[pT]=UQ,ho[Zx]=bT,ho[Qx]=_T,ho[Kj]=jT,ho[gT]=zQ,ho[Yj]=wT,ho[Xj]=bT,ho[ey]=_T,ho[Jj]=jT}function Bh(S){return S&-16384?0>S?0:255:S>>WQ}function Au(S,E){return Bh((19077*S>>8)+(26149*E>>8)-14234)}function tf(S,E,L){return Bh((19077*S>>8)-(6419*E>>8)-(13320*L>>8)+8708)}function rf(S,E){return Bh((19077*S>>8)+(33050*E>>8)-17685)}function Pu(S,E,L,z,K){z[K+0]=Au(S,L),z[K+1]=tf(S,E,L),z[K+2]=rf(S,E)}function is(S,E,L,z,K){z[K+0]=rf(S,E),z[K+1]=tf(S,E,L),z[K+2]=Au(S,L)}function nf(S,E,L,z,K){var Q=tf(S,E,L);E=Q<<3&224|rf(S,E)>>3,z[K+0]=248&Au(S,L)|Q>>5,z[K+1]=E}function af(S,E,L,z,K){var Q=240&rf(S,E)|15;z[K+0]=240&Au(S,L)|tf(S,E,L)>>4,z[K+1]=Q}function g0(S,E,L,z,K){z[K+0]=255,Pu(S,E,L,z,K+1)}function v0(S,E,L,z,K){is(S,E,L,z,K),z[K+3]=255}function Us(S,E,L,z,K){Pu(S,E,L,z,K),z[K+3]=255}function Ec(S,E,L){k[S]=function(z,K,Q,ee,ne,ie,ue,Se,Me){for(var de=Se+(-2&Me)*L;Se!=de;)E(z[K+0],Q[ee+0],ne[ie+0],ue,Se),E(z[K+1],Q[ee+0],ne[ie+0],ue,Se+L),K+=2,++ee,++ie,Se+=2*L;1&Me&&E(z[K+0],Q[ee+0],ne[ie+0],ue,Se)}}function Uh(S,E,L){return L==0?S==0?E==0?6:5:E==0?4:0:L}function Vx(S,E,L,z,K){switch(S>>>30){case 3:cf(E,L,z,K,0);break;case 2:uo(E,L,z,K);break;case 1:Hr(E,L,z,K)}}function co(S,E){var L,z,K=E.M,Q=E.Nb,ee=S.oc,ne=S.pc+40,ie=S.oc,ue=S.pc+584,Se=S.oc,Me=S.pc+600;for(L=0;16>L;++L)ee[ne+32*L-1]=129;for(L=0;8>L;++L)ie[ue+32*L-1]=129,Se[Me+32*L-1]=129;for(0<K?ee[ne-1-32]=ie[ue-1-32]=Se[Me-1-32]=129:(a(ee,ne-32-1,127,21),a(ie,ue-32-1,127,9),a(Se,Me-32-1,127,9)),z=0;z<S.za;++z){var de=E.ya[E.aa+z];if(0<z){for(L=-1;16>L;++L)n(ee,ne+32*L-4,ee,ne+32*L+12,4);for(L=-1;8>L;++L)n(ie,ue+32*L-4,ie,ue+32*L+4,4),n(Se,Me+32*L-4,Se,Me+32*L+4,4)}var ke=S.Gd,Te=S.Hd+z,Ge=de.ad,Le=de.Hc;if(0<K&&(n(ee,ne-32,ke[Te].y,0,16),n(ie,ue-32,ke[Te].f,0,8),n(Se,Me-32,ke[Te].ea,0,8)),de.Za){var Ye=ee,Je=ne-32+16;for(0<K&&(z>=S.za-1?a(Ye,Je,ke[Te].y[15],4):n(Ye,Je,ke[Te+1].y,0,4)),L=0;4>L;L++)Ye[Je+128+L]=Ye[Je+256+L]=Ye[Je+384+L]=Ye[Je+0+L];for(L=0;16>L;++L,Le<<=2)Ye=ee,Je=ne+NT[L],Yo[de.Ob[L]](Ye,Je),Vx(Le,Ge,16*+L,Ye,Je)}else if(Ye=Uh(z,K,de.Ob[0]),Fu[Ye](ee,ne),Le!=0)for(L=0;16>L;++L,Le<<=2)Vx(Le,Ge,16*+L,ee,ne+NT[L]);for(L=de.Gc,Ye=Uh(z,K,de.Dd),Pc[Ye](ie,ue),Pc[Ye](Se,Me),Le=Ge,Ye=ie,Je=ue,255&(de=0|L)&&(170&de?Ml(Le,256,Ye,Je):cn(Le,256,Ye,Je)),de=Se,Le=Me,255&(L>>=8)&&(170&L?Ml(Ge,320,de,Le):cn(Ge,320,de,Le)),K<S.Ub-1&&(n(ke[Te].y,0,ee,ne+480,16),n(ke[Te].f,0,ie,ue+224,8),n(ke[Te].ea,0,Se,Me+224,8)),L=8*Q*S.B,ke=S.sa,Te=S.ta+16*z+16*Q*S.R,Ge=S.qa,de=S.ra+8*z+L,Le=S.Ha,Ye=S.Ia+8*z+L,L=0;16>L;++L)n(ke,Te+L*S.R,ee,ne+32*L,16);for(L=0;8>L;++L)n(Ge,de+L*S.B,ie,ue+32*L,8),n(Le,Ye+L*S.B,Se,Me+32*L,8)}}function sf(S,E,L,z,K,Q,ee,ne,ie){var ue=[0],Se=[0],Me=0,de=ie!=null?ie.kd:0,ke=ie??new Qe;if(S==null||12>L)return 7;ke.data=S,ke.w=E,ke.ha=L,E=[E],L=[L],ke.gb=[ke.gb];e:{var Te=E,Ge=L,Le=ke.gb;if(t(S!=null),t(Ge!=null),t(Le!=null),Le[0]=0,12<=Ge[0]&&!r(S,Te[0],"RIFF")){if(r(S,Te[0]+8,"WEBP")){Le=3;break e}var Ye=ze(S,Te[0]+4);if(12>Ye||4294967286<Ye){Le=3;break e}if(de&&Ye>Ge[0]-8){Le=7;break e}Le[0]=Ye,Te[0]+=12,Ge[0]-=12}Le=0}if(Le!=0)return Le;for(Ye=0<ke.gb[0],L=L[0];;){e:{var Je=S;Ge=E,Le=L;var it=ue,et=Se,Vt=Te=[0];if((Ft=Me=[Me])[0]=0,8>Le[0])Le=7;else{if(!r(Je,Ge[0],"VP8X")){if(ze(Je,Ge[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var Tt=ze(Je,Ge[0]+8),pr=1+We(Je,Ge[0]+12);if(2147483648<=pr*(Je=1+We(Je,Ge[0]+15))){Le=3;break e}Vt!=null&&(Vt[0]=Tt),it!=null&&(it[0]=pr),et!=null&&(et[0]=Je),Ge[0]+=18,Le[0]-=18,Ft[0]=1}Le=0}}if(Me=Me[0],Te=Te[0],Le!=0)return Le;if(Ge=!!(2&Te),!Ye&&Me)return 3;if(Q!=null&&(Q[0]=!!(16&Te)),ee!=null&&(ee[0]=Ge),ne!=null&&(ne[0]=0),ee=ue[0],Te=Se[0],Me&&Ge&&ie==null){Le=0;break}if(4>L){Le=7;break}if(Ye&&Me||!Ye&&!Me&&!r(S,E[0],"ALPH")){L=[L],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{Tt=S,Le=E,Ye=L;var Ft=ke.gb;it=ke.na,et=ke.P,Vt=ke.Sa,pr=22,t(Tt!=null),t(Ye!=null),Je=Le[0];var Nr=Ye[0];for(t(it!=null),t(Vt!=null),it[0]=null,et[0]=null,Vt[0]=0;;){if(Le[0]=Je,Ye[0]=Nr,8>Nr){Le=7;break e}var Oa=ze(Tt,Je+4);if(4294967286<Oa){Le=3;break e}var gr=8+Oa+1&-2;if(pr+=gr,0<Ft&&pr>Ft){Le=3;break e}if(!r(Tt,Je,"VP8 ")||!r(Tt,Je,"VP8L")){Le=0;break e}if(Nr[0]<gr){Le=7;break e}r(Tt,Je,"ALPH")||(it[0]=Tt,et[0]=Je+8,Vt[0]=Oa),Je+=gr,Nr-=gr}}if(L=L[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Le!=0)break}L=[L],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(Ft=S,Le=E,Ye=L,it=ke.gb[0],et=ke.Ja,Vt=ke.xa,Tt=Le[0],Je=!r(Ft,Tt,"VP8 "),pr=!r(Ft,Tt,"VP8L"),t(Ft!=null),t(Ye!=null),t(et!=null),t(Vt!=null),8>Ye[0])Le=7;else{if(Je||pr){if(Ft=ze(Ft,Tt+4),12<=it&&Ft>it-12){Le=3;break e}if(de&&Ft>Ye[0]-8){Le=7;break e}et[0]=Ft,Le[0]+=8,Ye[0]-=8,Vt[0]=pr}else Vt[0]=5<=Ye[0]&&Ft[Tt+0]==47&&!(Ft[Tt+4]>>5),et[0]=Ye[0];Le=0}if(L=L[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],E=E[0],Le!=0)break;if(4294967286<ke.Ja)return 3;if(ne==null||Ge||(ne[0]=ke.xa?2:1),ee=[ee],Te=[Te],ke.xa){if(5>L){Le=7;break}ne=ee,de=Te,Ge=Q,S==null||5>L?S=0:5<=L&&S[E+0]==47&&!(S[E+4]>>5)?(Ye=[0],Ft=[0],it=[0],X(et=new M,S,E,L),qo(et,Ye,Ft,it)?(ne!=null&&(ne[0]=Ye[0]),de!=null&&(de[0]=Ft[0]),Ge!=null&&(Ge[0]=it[0]),S=1):S=0):S=0}else{if(10>L){Le=7;break}ne=Te,S==null||10>L||!Dx(S,E+3,L-3)?S=0:(de=S[E+0]|S[E+1]<<8|S[E+2]<<16,Ge=16383&(S[E+7]<<8|S[E+6]),S=16383&(S[E+9]<<8|S[E+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=ke.Ja||!Ge||!S?S=0:(ee&&(ee[0]=Ge),ne&&(ne[0]=S),S=1))}if(!S||(ee=ee[0],Te=Te[0],Me&&(ue[0]!=ee||Se[0]!=Te)))return 3;ie!=null&&(ie[0]=ke,ie.offset=E-ie.w,t(4294967286>E-ie.w),t(ie.offset==ie.ha-L));break}return Le==0||Le==7&&Me&&ie==null?(Q!=null&&(Q[0]|=ke.na!=null&&0<ke.na.length),z!=null&&(z[0]=ee),K!=null&&(K[0]=Te),0):Le}function x0(S,E,L){var z=E.width,K=E.height,Q=0,ee=0,ne=z,ie=K;if(E.Da=S!=null&&0<S.Da,E.Da&&(ne=S.cd,ie=S.bd,Q=S.v,ee=S.j,11>L||(Q&=-2,ee&=-2),0>Q||0>ee||0>=ne||0>=ie||Q+ne>z||ee+ie>K))return 0;if(E.v=Q,E.j=ee,E.va=Q+ne,E.o=ee+ie,E.U=ne,E.T=ie,E.da=S!=null&&0<S.da,E.da){if(!nt(ne,ie,L=[S.ib],Q=[S.hb]))return 0;E.ib=L[0],E.hb=Q[0]}return E.ob=S!=null&&S.ob,E.Kb=S==null||!S.Sd,E.da&&(E.ob=E.ib<3*z/4&&E.hb<3*K/4,E.Kb=0),1}function y0(S){if(S==null)return 2;if(11>S.S){var E=S.f.RGBA;E.fb+=(S.height-1)*E.A,E.A=-E.A}else E=S.f.kb,S=S.height,E.O+=(S-1)*E.fa,E.fa=-E.fa,E.N+=(S-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(S-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(S-1)*E.lb,E.lb=-E.lb);return 0}function Tu(S,E,L,z){if(z==null||0>=S||0>=E)return 2;if(L!=null){if(L.Da){var K=L.cd,Q=L.bd,ee=-2&L.v,ne=-2&L.j;if(0>ee||0>ne||0>=K||0>=Q||ee+K>S||ne+Q>E)return 2;S=K,E=Q}if(L.da){if(!nt(S,E,K=[L.ib],Q=[L.hb]))return 2;S=K[0],E=Q[0]}}z.width=S,z.height=E;e:{var ie=z.width,ue=z.height;if(S=z.S,0>=ie||0>=ue||!(S>=Xx&&13>S))S=2;else{if(0>=z.Rd&&z.sd==null){ee=Q=K=E=0;var Se=(ne=ie*kT[S])*ue;if(11>S||(Q=(ue+1)/2*(E=(ie+1)/2),S==12&&(ee=(K=ie)*ue)),(ue=s(Se+2*Q+ee))==null){S=1;break e}z.sd=ue,11>S?((ie=z.f.RGBA).eb=ue,ie.fb=0,ie.A=ne,ie.size=Se):((ie=z.f.kb).y=ue,ie.O=0,ie.fa=ne,ie.Fd=Se,ie.f=ue,ie.N=0+Se,ie.Ab=E,ie.Cd=Q,ie.ea=ue,ie.W=0+Se+Q,ie.Db=E,ie.Ed=Q,S==12&&(ie.F=ue,ie.J=0+Se+2*Q),ie.Tc=ee,ie.lb=K)}if(E=1,K=z.S,Q=z.width,ee=z.height,K>=Xx&&13>K)if(11>K)S=z.f.RGBA,E&=(ne=Math.abs(S.A))*(ee-1)+Q<=S.size,E&=ne>=Q*kT[K],E&=S.eb!=null;else{S=z.f.kb,ne=(Q+1)/2,Se=(ee+1)/2,ie=Math.abs(S.fa),ue=Math.abs(S.Ab);var Me=Math.abs(S.Db),de=Math.abs(S.lb),ke=de*(ee-1)+Q;E&=ie*(ee-1)+Q<=S.Fd,E&=ue*(Se-1)+ne<=S.Cd,E=(E&=Me*(Se-1)+ne<=S.Ed)&ie>=Q&ue>=ne&Me>=ne,E&=S.y!=null,E&=S.f!=null,E&=S.ea!=null,K==12&&(E&=de>=Q,E&=ke<=S.Tc,E&=S.F!=null)}else E=0;S=E?0:2}}return S!=0||L!=null&&L.fd&&(S=y0(z)),S}var of=64,Ni=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ki=24,Ou=32,Cc=8,Ru=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];at("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(S){return S},k.Predictor2=function(S,E,L){return E[L+0]},k.Predictor3=function(S,E,L){return E[L+1]},k.Predictor4=function(S,E,L){return E[L-1]},k.Predictor5=function(S,E,L){return kt(kt(S,E[L+1]),E[L+0])},k.Predictor6=function(S,E,L){return kt(S,E[L-1])},k.Predictor7=function(S,E,L){return kt(S,E[L+0])},k.Predictor8=function(S,E,L){return kt(E[L-1],E[L+0])},k.Predictor9=function(S,E,L){return kt(E[L+0],E[L+1])},k.Predictor10=function(S,E,L){return kt(kt(S,E[L-1]),kt(E[L+0],E[L+1]))},k.Predictor11=function(S,E,L){var z=E[L+0];return 0>=Zt(z>>24&255,S>>24&255,(E=E[L-1])>>24&255)+Zt(z>>16&255,S>>16&255,E>>16&255)+Zt(z>>8&255,S>>8&255,E>>8&255)+Zt(255&z,255&S,255&E)?z:S},k.Predictor12=function(S,E,L){var z=E[L+0];return(Jt((S>>24&255)+(z>>24&255)-((E=E[L-1])>>24&255))<<24|Jt((S>>16&255)+(z>>16&255)-(E>>16&255))<<16|Jt((S>>8&255)+(z>>8&255)-(E>>8&255))<<8|Jt((255&S)+(255&z)-(255&E)))>>>0},k.Predictor13=function(S,E,L){var z=E[L-1];return(Yt((S=kt(S,E[L+0]))>>24&255,z>>24&255)<<24|Yt(S>>16&255,z>>16&255)<<16|Yt(S>>8&255,z>>8&255)<<8|Yt(255&S,255&z))>>>0};var w0=k.PredictorAdd0;k.PredictorAdd1=fr,at("Predictor2","PredictorAdd2"),at("Predictor3","PredictorAdd3"),at("Predictor4","PredictorAdd4"),at("Predictor5","PredictorAdd5"),at("Predictor6","PredictorAdd6"),at("Predictor7","PredictorAdd7"),at("Predictor8","PredictorAdd8"),at("Predictor9","PredictorAdd9"),at("Predictor10","PredictorAdd10"),at("Predictor11","PredictorAdd11"),at("Predictor12","PredictorAdd12"),at("Predictor13","PredictorAdd13");var zh=k.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var oa,Gx=k.ColorIndexInverseTransform,Dl=k.MapARGB,Ll=k.VP8LColorIndexInverseTransformAlpha,b0=k.MapAlpha,_0=k.VP8LPredictorsAdd=[];_0.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var j0,S0,Iu,Du,Lu,lf,Mu,cf,uo,Ml,Hr,cn,la,Ta,Ac,N0,Wh,Kx,tT,rT,nT,aT,sT,iT,k0,oT,lT,cT,uT=s(511),dT=s(2041),fT=s(225),hT=s(767),mT=0,Gj=dT,Yx=fT,Ei=hT,fo=uT,Xx=0,Jx=1,pT=2,Zx=3,Qx=4,Kj=5,gT=6,Yj=7,Xj=8,ey=9,Jj=10,kQ=[2,3,7],EQ=[3,3,11],vT=[280,256,256,256,40],CQ=[0,1,1,1,0],AQ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],PQ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],TQ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],OQ=8,Zj=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qj=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],E0=null,RQ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],IQ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xT=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],DQ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],LQ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],MQ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],FQ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fu=[],Yo=[],Pc=[],$Q=1,yT=2,$u=[],ho=[];kc("UpsampleRgbLinePair",Pu,3),kc("UpsampleBgrLinePair",is,3),kc("UpsampleRgbaLinePair",Us,4),kc("UpsampleBgraLinePair",v0,4),kc("UpsampleArgbLinePair",g0,4),kc("UpsampleRgba4444LinePair",af,2),kc("UpsampleRgb565LinePair",nf,2);var BQ=k.UpsampleRgbLinePair,UQ=k.UpsampleBgrLinePair,wT=k.UpsampleRgbaLinePair,bT=k.UpsampleBgraLinePair,_T=k.UpsampleArgbLinePair,jT=k.UpsampleRgba4444LinePair,zQ=k.UpsampleRgb565LinePair,ty=16,ry=1<<ty-1,C0=-227,eS=482,WQ=6,ST=0,HQ=s(256),qQ=s(256),VQ=s(256),GQ=s(256),KQ=s(eS-C0),YQ=s(eS-C0);Ec("YuvToRgbRow",Pu,3),Ec("YuvToBgrRow",is,3),Ec("YuvToRgbaRow",Us,4),Ec("YuvToBgraRow",v0,4),Ec("YuvToArgbRow",g0,4),Ec("YuvToRgba4444Row",af,2),Ec("YuvToRgb565Row",nf,2);var NT=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ny=[0,2,8],XQ=[8,7,6,4,4,2,2,2,1,1,1,1],JQ=1;this.WebPDecodeRGBA=function(S,E,L,z,K){var Q=Jx,ee=new Xe,ne=new Qt;ee.ba=ne,ne.S=Q,ne.width=[ne.width],ne.height=[ne.height];var ie=ne.width,ue=ne.height,Se=new qt;if(Se==null||S==null)var Me=2;else t(Se!=null),Me=sf(S,E,L,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Me!=0?ie=0:(ie!=null&&(ie[0]=Se.width[0]),ue!=null&&(ue[0]=Se.height[0]),ie=1),ie){ne.width=ne.width[0],ne.height=ne.height[0],z!=null&&(z[0]=ne.width),K!=null&&(K[0]=ne.height);e:{if(z=new Dh,(K=new Qe).data=S,K.w=E,K.ha=L,K.kd=1,E=[0],t(K!=null),((S=sf(K.data,K.w,K.ha,null,null,null,E,null,K))==0||S==7)&&E[0]&&(S=4),(E=S)==0){if(t(ee!=null),z.data=K.data,z.w=K.w+K.offset,z.ha=K.ha-K.offset,z.put=Xt,z.ac=io,z.bc=Ho,z.ma=ee,K.xa){if((S=Re())==null){ee=1;break e}if(function(de,ke){var Te=[0],Ge=[0],Le=[0];t:for(;;){if(de==null)return 0;if(ke==null)return de.a=2,0;if(de.l=ke,de.a=0,X(de.m,ke.data,ke.w,ke.ha),!qo(de.m,Te,Ge,Le)){de.a=3;break t}if(de.xb=yT,ke.width=Te[0],ke.height=Ge[0],!De(Te[0],Ge[0],1,de,null))break t;return 1}return t(de.a!=0),0}(S,z)){if(z=(E=Tu(z.width,z.height,ee.Oa,ee.ba))==0){t:{z=S;r:for(;;){if(z==null){z=0;break t}if(t(z.s.yc!=null),t(z.s.Ya!=null),t(0<z.s.Wb),t((L=z.l)!=null),t((K=L.ma)!=null),z.xb!=0){if(z.ca=K.ba,z.tb=K.tb,t(z.ca!=null),!x0(K.Oa,L,Zx)){z.a=2;break r}if(!Fe(z,L.width)||L.da)break r;if((L.da||Kt(z.ca.S))&&Ko(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Ko()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!ae(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!Oe(z,z.V,z.Ba,z.c,z.i,L.o,se))break r;K.Dc=z.Ma,z=1;break t}t(z.a!=0),z=0}z=!z}z&&(E=S.a)}else E=S.a}else{if((S=new Oj)==null){ee=1;break e}if(S.Fa=K.na,S.P=K.P,S.qc=K.Sa,Rl(S,z)){if((E=Tu(z.width,z.height,ee.Oa,ee.ba))==0){if(S.Aa=0,L=ee.Oa,t((K=S)!=null),L!=null){if(0<(ie=0>(ie=L.Md)?0:100<ie?255:255*ie/100)){for(ue=Se=0;4>ue;++ue)12>(Me=K.pb[ue]).lc&&(Me.ia=ie*XQ[0>Me.lc?0:Me.lc]>>3),Se|=Me.ia;Se&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=L.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}(function(de,ke){if(de==null)return 0;if(ke==null)return va(de,2,"NULL VP8Io parameter in VP8Decode().");if(!de.cb&&!Rl(de,ke))return 0;if(t(de.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(de.L=0);var Te=ny[de.L];if(de.L==2?(de.yb=0,de.zb=0):(de.yb=ke.v-Te>>4,de.zb=ke.j-Te>>4,0>de.yb&&(de.yb=0),0>de.zb&&(de.zb=0)),de.Va=ke.o+15+Te>>4,de.Hb=ke.va+15+Te>>4,de.Hb>de.za&&(de.Hb=de.za),de.Va>de.Ub&&(de.Va=de.Ub),0<de.L){var Ge=de.ed;for(Te=0;4>Te;++Te){var Le;if(de.Qa.Cb){var Ye=de.Qa.Lb[Te];de.Qa.Fb||(Ye+=Ge.Tb)}else Ye=Ge.Tb;for(Le=0;1>=Le;++Le){var Je=de.gd[Te][Le],it=Ye;if(Ge.Pc&&(it+=Ge.vd[0],Le&&(it+=Ge.od[0])),0<(it=0>it?0:63<it?63:it)){var et=it;0<Ge.wb&&(et=4<Ge.wb?et>>2:et>>1)>9-Ge.wb&&(et=9-Ge.wb),1>et&&(et=1),Je.dd=et,Je.tc=2*it+et,Je.ld=40<=it?2:15<=it?1:0}else Je.tc=0;Je.La=Le}}}Te=0}else va(de,6,"Frame setup failed"),Te=de.a;if(Te=Te==0){if(Te){de.$c=0,0<de.Aa||(de.Ic=JQ);t:{Te=de.Ic,Ge=4*(et=de.za);var Vt=32*et,Tt=et+1,pr=0<de.L?et*(0<de.Aa?2:1):0,Ft=(de.Aa==2?2:1)*et;if((Je=Ge+832+(Le=3*(16*Te+ny[de.L])/2*Vt)+(Ye=de.Fa!=null&&0<de.Fa.length?de.Kc.c*de.Kc.i:0))!=Je)Te=0;else{if(Je>de.Vb){if(de.Vb=0,de.Ec=s(Je),de.Fc=0,de.Ec==null){Te=va(de,1,"no memory during frame initialization.");break t}de.Vb=Je}Je=de.Ec,it=de.Fc,de.Ac=Je,de.Bc=it,it+=Ge,de.Gd=o(Vt,oo),de.Hd=0,de.rb=o(Tt+1,qn),de.sb=1,de.wa=pr?o(pr,Sr):null,de.Y=0,de.D.Nb=0,de.D.wa=de.wa,de.D.Y=de.Y,0<de.Aa&&(de.D.Y+=et),t(!0),de.oc=Je,de.pc=it,it+=832,de.ya=o(Ft,Vo),de.aa=0,de.D.ya=de.ya,de.D.aa=de.aa,de.Aa==2&&(de.D.aa+=et),de.R=16*et,de.B=8*et,et=(Vt=ny[de.L])*de.R,Vt=Vt/2*de.B,de.sa=Je,de.ta=it+et,de.qa=de.sa,de.ra=de.ta+16*Te*de.R+Vt,de.Ha=de.qa,de.Ia=de.ra+8*Te*de.B+Vt,de.$c=0,it+=Le,de.mb=Ye?Je:null,de.nb=Ye?it:null,t(it+Ye<=de.Fc+de.Vb),Lx(de),a(de.Ac,de.Bc,0,Ge),Te=1}}if(Te){if(ke.ka=0,ke.y=de.sa,ke.O=de.ta,ke.f=de.qa,ke.N=de.ra,ke.ea=de.Ha,ke.Vd=de.Ia,ke.fa=de.R,ke.Rc=de.B,ke.F=null,ke.J=0,!mT){for(Te=-255;255>=Te;++Te)uT[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)dT[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)fT[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)hT[255+Te]=0>Te?0:255<Te?255:Te;mT=1}Mu=Mh,cf=Ij,Ml=Il,Hr=Fx,cn=$x,uo=Rj,la=Hx,Ta=ef,Ac=G,N0=me,Wh=qx,Kx=O,tT=je,rT=Pe,nT=Qd,aT=m0,sT=zx,iT=Wx,Yo[0]=zj,Yo[1]=Dj,Yo[2]=Bj,Yo[3]=Uj,Yo[4]=yc,Yo[5]=Wj,Yo[6]=wc,Yo[7]=Hj,Yo[8]=c0,Yo[9]=Fh,Fu[0]=Fj,Fu[1]=Mj,Fu[2]=o0,Fu[3]=Bx,Fu[4]=Jd,Fu[5]=l0,Fu[6]=$j,Pc[0]=Vj,Pc[1]=Lj,Pc[2]=Zd,Pc[3]=qj,Pc[4]=d0,Pc[5]=u0,Pc[6]=Ux,Te=1}else Te=0}Te&&(Te=function(Nr,Oa){for(Nr.M=0;Nr.M<Nr.Va;++Nr.M){var gr,$t=Nr.Jc[Nr.M&Nr.Xb],gt=Nr.m,ca=Nr;for(gr=0;gr<ca.za;++gr){var ur=gt,Cr=ca,wn=Cr.Ac,os=Cr.Bc+4*gr,zs=Cr.zc,Vn=Cr.ya[Cr.aa+gr];if(Cr.Qa.Bb?Vn.$b=oe(ur,Cr.Pa.jb[0])?2+oe(ur,Cr.Pa.jb[2]):oe(ur,Cr.Pa.jb[1]):Vn.$b=0,Cr.kc&&(Vn.Ad=oe(ur,Cr.Bd)),Vn.Za=!oe(ur,145)+0,Vn.Za){var ks=Vn.Ob,Ws=0;for(Cr=0;4>Cr;++Cr){var Ra,Rr=zs[0+Cr];for(Ra=0;4>Ra;++Ra){Rr=LQ[wn[os+Ra]][Rr];for(var Gr=xT[oe(ur,Rr[0])];0<Gr;)Gr=xT[2*Gr+oe(ur,Rr[Gr])];Rr=-Gr,wn[os+Ra]=Rr}n(ks,Ws,wn,os,4),Ws+=4,zs[0+Cr]=Rr}}else Rr=oe(ur,156)?oe(ur,128)?1:3:oe(ur,163)?2:0,Vn.Ob[0]=Rr,a(wn,os,Rr,4),a(zs,0,Rr,4);Vn.Dd=oe(ur,142)?oe(ur,114)?oe(ur,183)?1:3:2:0}if(ca.m.Ka)return va(Nr,7,"Premature end-of-partition0 encountered.");for(;Nr.ja<Nr.za;++Nr.ja){if(ca=$t,ur=(gt=Nr).rb[gt.sb-1],wn=gt.rb[gt.sb+gt.ja],gr=gt.ya[gt.aa+gt.ja],os=gt.kc?gr.Ad:0)ur.la=wn.la=0,gr.Za||(ur.Na=wn.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Gn,Kr;if(ur=wn,wn=ca,os=gt.Pa.Xc,zs=gt.ya[gt.aa+gt.ja],Vn=gt.pb[zs.$b],Cr=zs.ad,ks=0,Ws=gt.rb[gt.sb-1],Rr=Ra=0,a(Cr,ks,0,384),zs.Za)var ls=0,Xo=os[3];else{Gr=s(16);var ua=ur.Na+Ws.Na;if(ua=E0(wn,os[1],ua,Vn.Eb,0,Gr,0),ur.Na=Ws.Na=(0<ua)+0,1<ua)Mu(Gr,0,Cr,ks);else{var ui=Gr[0]+3>>3;for(Gr=0;256>Gr;Gr+=16)Cr[ks+Gr]=ui}ls=1,Xo=os[0]}var un=15&ur.la,Ia=15&Ws.la;for(Gr=0;4>Gr;++Gr){var Ci=1&Ia;for(ui=Kr=0;4>ui;++ui)un=un>>1|(Ci=(ua=E0(wn,Xo,ua=Ci+(1&un),Vn.Sc,ls,Cr,ks))>ls)<<7,Kr=Kr<<2|(3<ua?3:1<ua?2:Cr[ks+0]!=0),ks+=16;un>>=4,Ia=Ia>>1|Ci<<7,Ra=(Ra<<8|Kr)>>>0}for(Xo=un,ls=Ia>>4,Gn=0;4>Gn;Gn+=2){for(Kr=0,un=ur.la>>4+Gn,Ia=Ws.la>>4+Gn,Gr=0;2>Gr;++Gr){for(Ci=1&Ia,ui=0;2>ui;++ui)ua=Ci+(1&un),un=un>>1|(Ci=0<(ua=E0(wn,os[2],ua,Vn.Qc,0,Cr,ks)))<<3,Kr=Kr<<2|(3<ua?3:1<ua?2:Cr[ks+0]!=0),ks+=16;un>>=2,Ia=Ia>>1|Ci<<5}Rr|=Kr<<4*Gn,Xo|=un<<4<<Gn,ls|=(240&Ia)<<Gn}ur.la=Xo,Ws.la=ls,zs.Hc=Ra,zs.Gc=Rr,zs.ia=43690&Rr?0:Vn.ia,os=!(Ra|Rr)}if(0<gt.L&&(gt.wa[gt.Y+gt.ja]=gt.gd[gr.$b][gr.Za],gt.wa[gt.Y+gt.ja].La|=!os),ca.Ka)return va(Nr,7,"Premature end-of-file encountered.")}if(Lx(Nr),gt=Oa,ca=1,gr=($t=Nr).D,ur=0<$t.L&&$t.M>=$t.zb&&$t.M<=$t.Va,$t.Aa==0)t:{if(gr.M=$t.M,gr.uc=ur,co($t,gr),ca=1,gr=(Kr=$t.D).Nb,ur=(Rr=ny[$t.L])*$t.R,wn=Rr/2*$t.B,Gr=16*gr*$t.R,ui=8*gr*$t.B,os=$t.sa,zs=$t.ta-ur+Gr,Vn=$t.qa,Cr=$t.ra-wn+ui,ks=$t.Ha,Ws=$t.Ia-wn+ui,Ia=(un=Kr.M)==0,Ra=un>=$t.Va-1,$t.Aa==2&&co($t,Kr),Kr.uc)for(Ci=(ua=$t).D.M,t(ua.D.uc),Kr=ua.yb;Kr<ua.Hb;++Kr){ls=Kr,Xo=Ci;var Hs=(Ai=(cs=ua).D).Nb;Gn=cs.R;var Ai=Ai.wa[Ai.Y+ls],Pi=cs.sa,di=cs.ta+16*Hs*Gn+16*ls,Ti=Ai.dd,pn=Ai.tc;if(pn!=0)if(t(3<=pn),cs.L==1)0<ls&&aT(Pi,di,Gn,pn+4),Ai.La&&iT(Pi,di,Gn,pn),0<Xo&&nT(Pi,di,Gn,pn+4),Ai.La&&sT(Pi,di,Gn,pn);else{var Oi=cs.B,Jo=cs.qa,uf=cs.ra+8*Hs*Oi+8*ls,Tc=cs.Ha,cs=cs.Ia+8*Hs*Oi+8*ls;Hs=Ai.ld,0<ls&&(Ta(Pi,di,Gn,pn+4,Ti,Hs),N0(Jo,uf,Tc,cs,Oi,pn+4,Ti,Hs)),Ai.La&&(Kx(Pi,di,Gn,pn,Ti,Hs),rT(Jo,uf,Tc,cs,Oi,pn,Ti,Hs)),0<Xo&&(la(Pi,di,Gn,pn+4,Ti,Hs),Ac(Jo,uf,Tc,cs,Oi,pn+4,Ti,Hs)),Ai.La&&(Wh(Pi,di,Gn,pn,Ti,Hs),tT(Jo,uf,Tc,cs,Oi,pn,Ti,Hs))}}if($t.ia&&alert("todo:DitherRow"),gt.put!=null){if(Kr=16*un,un=16*(un+1),Ia?(gt.y=$t.sa,gt.O=$t.ta+Gr,gt.f=$t.qa,gt.N=$t.ra+ui,gt.ea=$t.Ha,gt.W=$t.Ia+ui):(Kr-=Rr,gt.y=os,gt.O=zs,gt.f=Vn,gt.N=Cr,gt.ea=ks,gt.W=Ws),Ra||(un-=Rr),un>gt.o&&(un=gt.o),gt.F=null,gt.J=null,$t.Fa!=null&&0<$t.Fa.length&&Kr<un&&(gt.J=mn($t,gt,Kr,un-Kr),gt.F=$t.mb,gt.F==null&&gt.F.length==0)){ca=va($t,3,"Could not decode alpha data.");break t}Kr<gt.j&&(Rr=gt.j-Kr,Kr=gt.j,t(!(1&Rr)),gt.O+=$t.R*Rr,gt.N+=$t.B*(Rr>>1),gt.W+=$t.B*(Rr>>1),gt.F!=null&&(gt.J+=gt.width*Rr)),Kr<un&&(gt.O+=gt.v,gt.N+=gt.v>>1,gt.W+=gt.v>>1,gt.F!=null&&(gt.J+=gt.v),gt.ka=Kr-gt.j,gt.U=gt.va-gt.v,gt.T=un-Kr,ca=gt.put(gt))}gr+1!=$t.Ic||Ra||(n($t.sa,$t.ta-ur,os,zs+16*$t.R,ur),n($t.qa,$t.ra-wn,Vn,Cr+8*$t.B,wn),n($t.Ha,$t.Ia-wn,ks,Ws+8*$t.B,wn))}if(!ca)return va(Nr,6,"Output aborted.")}return 1}(de,ke)),ke.bc!=null&&ke.bc(ke),Te&=1}return Te?(de.cb=0,Te):0})(S,z)||(E=S.a)}}else E=S.a}E==0&&ee.Oa!=null&&ee.Oa.fd&&(E=y0(ee.ba))}ee=E}Q=ee!=0?null:11>Q?ne.f.RGBA.eb:ne.f.kb.y}else Q=null;return Q};var kT=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,I){for(var T="",P=0;P<4;P++)T+=String.fromCharCode(k[I++]);return T}function d(k,I){return k[I+0]|k[I+1]<<8}function f(k,I){return(k[I+0]|k[I+1]<<8|k[I+2]<<16)>>>0}function m(k,I){return(k[I+0]|k[I+1]<<8|k[I+2]<<16|k[I+3]<<24)>>>0}new c;var h=[0],v=[0],g=[],y=new c,x=e,b=function(k,I){var T={},P=0,V=!1,F=0,Y=0;if(T.frames=[],!function(D,M){for(var R=0;R<4;R++)if(D[M+R]!="RIFF".charCodeAt(R))return!0;return!1}(k,I)){for(m(k,I+=4),I+=8;I<k.length;){var re=u(k,I),U=m(k,I+=4);I+=4;var q=U+(1&U);switch(re){case"VP8 ":case"VP8L":T.frames[P]===void 0&&(T.frames[P]={}),(xe=T.frames[P]).src_off=V?Y:I-8,xe.src_size=F+U+8,P++,V&&(V=!1,F=0,Y=0);break;case"VP8X":(xe=T.header={}).feature_flags=k[I];var X=I+4;xe.canvas_width=1+f(k,X),X+=3,xe.canvas_height=1+f(k,X),X+=3;break;case"ALPH":V=!0,F=q+8,Y=I-8;break;case"ANIM":(xe=T.header).bgcolor=m(k,I),X=I+4,xe.loop_count=d(k,X),X+=2;break;case"ANMF":var pe,xe;(xe=T.frames[P]={}).offset_x=2*f(k,I),I+=3,xe.offset_y=2*f(k,I),I+=3,xe.width=1+f(k,I),I+=3,xe.height=1+f(k,I),I+=3,xe.duration=f(k,I),I+=3,pe=k[I++],xe.dispose=1&pe,xe.blend=pe>>1&1}re!="ANMF"&&(I+=q)}return T}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var _=b.header?b.header:null,w=b.frames?b.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],v=[_.canvas_width];for(var N=0;N<w.length&&w[N].blend!=0;N++);}var C=w[0],j=y.WebPDecodeRGBA(x,C.src_off,C.src_size,v,h);C.rgba=j,C.imgwidth=v[0],C.imgheight=h[0];for(var A=0;A<v[0]*h[0]*4;A++)g[A]=j[A];return this.width=v,this.height=h,this.data=g,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function oRe(){var e,t=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function lRe(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,r,n,a,s,o,l,c,u,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=D;Object.defineProperty(this,"pdf",{get:function(){return M}});var R=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return R},set:function(ae){R=!!ae}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(ae){H=!!ae}});var B=0;Object.defineProperty(this,"posX",{get:function(){return B},set:function(ae){isNaN(ae)||(B=ae)}});var W=0;Object.defineProperty(this,"posY",{get:function(){return W},set:function(ae){isNaN(ae)||(W=ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ae){var $e;typeof ae=="number"?$e=[ae,ae,ae,ae]:(($e=new Array(4))[0]=ae[0],$e[1]=ae.length>=2?ae[1]:$e[0],$e[2]=ae.length>=3?ae[2]:$e[0],$e[3]=ae.length>=4?ae[3]:$e[1]),u.margin=$e}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(ae){te=ae}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(ae){J=ae}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(ae){oe=ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ae){ae instanceof d&&(u=ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ae){u.path=ae}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(ae){_e=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var $e;$e=m(ae),this.ctx.fillStyle=$e.style,this.ctx.isFillTransparent=$e.a===0,this.ctx.fillOpacity=$e.a,this.pdf.setFillColor($e.r,$e.g,$e.b,{a:$e.a}),this.pdf.setTextColor($e.r,$e.g,$e.b,{a:$e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var $e=m(ae);this.ctx.strokeStyle=$e.style,this.ctx.isStrokeTransparent=$e.a===0,this.ctx.strokeOpacity=$e.a,$e.a===0?this.pdf.setDrawColor(255,255,255):($e.a,this.pdf.setDrawColor($e.r,$e.g,$e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var ve=null,We=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(ae){ve=null,We=null,ze=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var $e;if(this.ctx.font=ae,($e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ae))!==null){var He=$e[1];$e[2];var nt=$e[3],Ke=$e[4];$e[5];var tt=$e[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(at==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var pt=function(rt){var tr,Lt,Gt=[],Ut=rt.trim();if(Ut==="")return tN;if(Ut in SM)return[SM[Ut]];for(;Ut!=="";){switch(Lt=null,tr=(Ut=kM(Ut)).charAt(0)){case'"':case"'":Lt=tRe(Ut.substring(1),tr);break;default:Lt=rRe(Ut)}if(Lt===null||(Gt.push(Lt[0]),(Ut=kM(Lt[1]))!==""&&Ut.charAt(0)!==","))return tN;Ut=Ut.replace(/^,/,"")}return Gt}(tt);if(this.fontFaces){var kt=function(rt,tr){var Lt=rt.getFontList(),Gt=JSON.stringify(Lt);if(ve===null||We!==Gt){var Ut=function(Tr){var Nt=[];return Object.keys(Tr).forEach(function(jr){Tr[jr].forEach(function(Kt){var rr=null;switch(Kt){case"bold":rr={family:jr,weight:"bold"};break;case"italic":rr={family:jr,style:"italic"};break;case"bolditalic":rr={family:jr,weight:"bold",style:"italic"};break;case"":case"normal":rr={family:jr}}rr!==null&&(rr.ref={name:jr,style:Kt},Nt.push(rr))})}),Nt}(Lt);ve=function(Tr){for(var Nt={},jr=0;jr<Tr.length;++jr){var Kt=eN(Tr[jr]),rr=Kt.family,Vr=Kt.stretch,Qt=Kt.style,qt=Kt.weight;Nt[rr]=Nt[rr]||{},Nt[rr][Vr]=Nt[rr][Vr]||{},Nt[rr][Vr][Qt]=Nt[rr][Vr][Qt]||{},Nt[rr][Vr][Qt][qt]=Kt}return Nt}(Ut.concat(tr)),We=Gt}return ve}(this.pdf,this.fontFaces),Jt=pt.map(function(rt){return{family:rt,stretch:"normal",weight:nt,style:He}}),Yt=function(rt,tr,Lt){for(var Gt=(Lt=Lt||{}).defaultFontFamily||"times",Ut=Object.assign({},eRe,Lt.genericFontFamilies||{}),Tr=null,Nt=null,jr=0;jr<tr.length;++jr)if(Ut[(Tr=eN(tr[jr])).family]&&(Tr.family=Ut[Tr.family]),rt.hasOwnProperty(Tr.family)){Nt=rt[Tr.family];break}if(!(Nt=Nt||rt[Gt]))throw new Error("Could not find a font-family for the rule '"+NM(Tr)+"' and default family '"+Gt+"'.");if(Nt=function(Kt,rr){if(rr[Kt])return rr[Kt];var Vr=lE[Kt],Qt=Vr<=lE.normal?-1:1,qt=jM(rr,KX,Vr,Qt);if(!qt)throw new Error("Could not find a matching font-stretch value for "+Kt);return qt}(Tr.stretch,Nt),Nt=function(Kt,rr){if(rr[Kt])return rr[Kt];for(var Vr=GX[Kt],Qt=0;Qt<Vr.length;++Qt)if(rr[Vr[Qt]])return rr[Vr[Qt]];throw new Error("Could not find a matching font-style for "+Kt)}(Tr.style,Nt),!(Nt=function(Kt,rr){if(rr[Kt])return rr[Kt];if(Kt===400&&rr[500])return rr[500];if(Kt===500&&rr[400])return rr[400];var Vr=Q6e[Kt],Qt=jM(rr,YX,Vr,Kt<400?-1:1);if(!Qt)throw new Error("Could not find a matching font-weight for value "+Kt);return Qt}(Tr.weight,Nt)))throw new Error("Failed to resolve a font for the rule '"+NM(Tr)+"'.");return Nt}(kt,Jt);this.pdf.setFont(Yt.ref.name,Yt.ref.style)}else{var Zt="";(nt==="bold"||parseInt(nt,10)>=700||He==="bold")&&(Zt="bold"),He==="italic"&&(Zt+="italic"),Zt.length===0&&(Zt="normal");for(var fr="",ar={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},we=0;we<pt.length;we++){if(this.pdf.internal.getFont(pt[we],Zt,{noFallback:!0,disableWarning:!0})!==void 0){fr=pt[we];break}if(Zt==="bolditalic"&&this.pdf.internal.getFont(pt[we],"bold",{noFallback:!0,disableWarning:!0})!==void 0)fr=pt[we],Zt="bold";else if(this.pdf.internal.getFont(pt[we],"normal",{noFallback:!0,disableWarning:!0})!==void 0){fr=pt[we],Zt="normal";break}}if(fr===""){for(var qe=0;qe<pt.length;qe++)if(ar[pt[qe]]){fr=ar[pt[qe]];break}}fr=fr===""?"Times":fr,this.pdf.setFont(fr,Zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,M){if(isNaN(D)||isNaN(M))throw dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var R=this.ctx.transform.applyToPoint(new o(D,M));this.path.push({type:"mt",x:R.x,y:R.y}),this.ctx.lastPoint=new o(D,M)},f.prototype.closePath=function(){var D=new o(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Qr(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){D=new o(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},f.prototype.lineTo=function(D,M){if(isNaN(D)||isNaN(M))throw dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var R=this.ctx.transform.applyToPoint(new o(D,M));this.path.push({type:"lt",x:R.x,y:R.y}),this.ctx.lastPoint=new o(R.x,R.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,M,R,H){if(isNaN(R)||isNaN(H)||isNaN(D)||isNaN(M))throw dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var B=this.ctx.transform.applyToPoint(new o(R,H)),W=this.ctx.transform.applyToPoint(new o(D,M));this.path.push({type:"qct",x1:W.x,y1:W.y,x:B.x,y:B.y}),this.ctx.lastPoint=new o(B.x,B.y)},f.prototype.bezierCurveTo=function(D,M,R,H,B,W){if(isNaN(B)||isNaN(W)||isNaN(D)||isNaN(M)||isNaN(R)||isNaN(H))throw dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new o(B,W)),J=this.ctx.transform.applyToPoint(new o(D,M)),oe=this.ctx.transform.applyToPoint(new o(R,H));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:oe.x,y2:oe.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},f.prototype.arc=function(D,M,R,H,B,W){if(isNaN(D)||isNaN(M)||isNaN(R)||isNaN(H)||isNaN(B))throw dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(W=!!W,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new o(D,M));D=te.x,M=te.y;var J=this.ctx.transform.applyToPoint(new o(0,R)),oe=this.ctx.transform.applyToPoint(new o(0,0));R=Math.sqrt(Math.pow(J.x-oe.x,2)+Math.pow(J.y-oe.y,2))}Math.abs(B-H)>=2*Math.PI&&(H=0,B=2*Math.PI),this.path.push({type:"arc",x:D,y:M,radius:R,startAngle:H,endAngle:B,counterclockwise:W})},f.prototype.arcTo=function(D,M,R,H,B){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,M,R,H){if(isNaN(D)||isNaN(M)||isNaN(R)||isNaN(H))throw dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,M),this.lineTo(D+R,M),this.lineTo(D+R,M+H),this.lineTo(D,M+H),this.lineTo(D,M),this.lineTo(D+R,M),this.lineTo(D,M)},f.prototype.fillRect=function(D,M,R,H){if(isNaN(D)||isNaN(M)||isNaN(R)||isNaN(H))throw dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var B={};this.lineCap!=="butt"&&(B.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(B.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,M,R,H),this.fill(),B.hasOwnProperty("lineCap")&&(this.lineCap=B.lineCap),B.hasOwnProperty("lineJoin")&&(this.lineJoin=B.lineJoin)}},f.prototype.strokeRect=function(D,M,R,H){if(isNaN(D)||isNaN(M)||isNaN(R)||isNaN(H))throw dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(D,M,R,H),this.stroke())},f.prototype.clearRect=function(D,M,R,H){if(isNaN(D)||isNaN(M)||isNaN(R)||isNaN(H))throw dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,M,R,H))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("Q");this.pdf.setPage(M),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(D){var M,R,H,B;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))M=0,R=0,H=0,B=0;else{var W=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(W!==null)M=parseInt(W[1]),R=parseInt(W[2]),H=parseInt(W[3]),B=1;else if((W=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)M=parseInt(W[1]),R=parseInt(W[2]),H=parseInt(W[3]),B=parseFloat(W[4]);else{if(B=1,typeof D=="string"&&D.charAt(0)!=="#"){var te=new BX(D);D=te.ok?te.toHex():"#000000"}D.length===4?(M=D.substring(1,2),M+=M,R=D.substring(2,3),R+=R,H=D.substring(3,4),H+=H):(M=D.substring(1,3),R=D.substring(3,5),H=D.substring(5,7)),M=parseInt(M,16),R=parseInt(R,16),H=parseInt(H,16)}}return{r:M,g:R,b:H,a:B,style:D}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,M,R,H){if(isNaN(M)||isNaN(R)||typeof D!="string")throw dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!h.call(this)){var B=q(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;P.call(this,{text:D,x:M,y:R,scale:W,angle:B,align:this.textAlign,maxWidth:H})}},f.prototype.strokeText=function(D,M,R,H){if(isNaN(M)||isNaN(R)||typeof D!="string")throw dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){H=isNaN(H)?void 0:H;var B=q(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;P.call(this,{text:D,x:M,y:R,scale:W,renderingMode:"stroke",angle:B,align:this.textAlign,maxWidth:H})}},f.prototype.measureText=function(D){if(typeof D!="string")throw dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,R=this.pdf.internal.scaleFactor,H=M.internal.getFontSize(),B=M.getStringUnitWidth(D)*H/M.internal.scaleFactor;return new function(W){var te=(W=W||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this}({width:B*=Math.round(96*R/72*1e4)/1e4})},f.prototype.scale=function(D,M){if(isNaN(D)||isNaN(M))throw dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var R=new c(D,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.rotate=function(D){if(isNaN(D))throw dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},f.prototype.translate=function(D,M){if(isNaN(D)||isNaN(M))throw dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var R=new c(1,0,0,1,D,M);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.transform=function(D,M,R,H,B,W){if(isNaN(D)||isNaN(M)||isNaN(R)||isNaN(H)||isNaN(B)||isNaN(W))throw dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new c(D,M,R,H,B,W);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.setTransform=function(D,M,R,H,B,W){D=isNaN(D)?1:D,M=isNaN(M)?0:M,R=isNaN(R)?0:R,H=isNaN(H)?1:H,B=isNaN(B)?0:B,W=isNaN(W)?0:W,this.ctx.transform=new c(D,M,R,H,B,W)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,M,R,H,B,W,te,J,oe){var _e=this.pdf.getImageProperties(D),ve=1,We=1,ze=1,ae=1;H!==void 0&&J!==void 0&&(ze=J/H,ae=oe/B,ve=_e.width/H*J/H,We=_e.height/B*oe/B),W===void 0&&(W=M,te=R,M=0,R=0),H!==void 0&&J===void 0&&(J=H,oe=B),H===void 0&&J===void 0&&(J=_e.width,oe=_e.height);var $e=this.ctx.transform.decompose(),He=q($e.rotate.shx),nt=new c,Ke=(nt=(nt=(nt=nt.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new l(W-M*ze,te-R*ae,H*ve,B*We));if(this.autoPaging){for(var tt,at=y.call(this,Ke),pt=[],kt=0;kt<at.length;kt+=1)pt.indexOf(at[kt])===-1&&pt.push(at[kt]);_(pt);for(var Jt=pt[0],Yt=pt[pt.length-1],Zt=Jt;Zt<Yt+1;Zt++){this.pdf.setPage(Zt);var fr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ar=Zt===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Zt===1?0:we+(Zt-2)*qe;if(this.ctx.clip_path.length!==0){var tr=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(tt,this.posX+this.margin[3],-rt+ar+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=tr}var Lt=JSON.parse(JSON.stringify(Ke));Lt=b([Lt],this.posX+this.margin[3],-rt+ar+this.ctx.prevPageLastElemOffset)[0];var Gt=(Zt>Jt||Zt<Yt)&&g.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fr,qe,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,He),Gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,He)};var y=function(D,M,R){var H=[];M=M||this.pdf.internal.pageSize.width,R=R||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var B=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":H.push(Math.floor((D.y+B)/R)+1);break;case"arc":H.push(Math.floor((D.y+B-D.radius)/R)+1),H.push(Math.floor((D.y+B+D.radius)/R)+1);break;case"qct":var W=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);H.push(Math.floor((W.y+B)/R)+1),H.push(Math.floor((W.y+W.h+B)/R)+1);break;case"bct":var te=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);H.push(Math.floor((te.y+B)/R)+1),H.push(Math.floor((te.y+te.h+B)/R)+1);break;case"rect":H.push(Math.floor((D.y+B)/R)+1),H.push(Math.floor((D.y+D.h+B)/R)+1)}for(var J=0;J<H.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<H[J];)x.call(this);return H},x=function(){var D=this.fillStyle,M=this.strokeStyle,R=this.font,H=this.lineCap,B=this.lineWidth,W=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=M,this.font=R,this.lineCap=H,this.lineWidth=B,this.lineJoin=W},b=function(D,M,R){for(var H=0;H<D.length;H++)switch(D[H].type){case"bct":D[H].x2+=M,D[H].y2+=R;case"qct":D[H].x1+=M,D[H].y1+=R;default:D[H].x+=M,D[H].y+=R}return D},_=function(D){return D.sort(function(M,R){return M-R})},w=function(D,M){var R=this.fillStyle,H=this.strokeStyle,B=this.lineCap,W=this.lineWidth,te=Math.abs(W*this.ctx.transform.scaleX),J=this.lineJoin;if(this.autoPaging){for(var oe,_e,ve=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),ze=[],ae=0;ae<We.length;ae++)if(We[ae].x!==void 0)for(var $e=y.call(this,We[ae]),He=0;He<$e.length;He+=1)ze.indexOf($e[He])===-1&&ze.push($e[He]);for(var nt=0;nt<ze.length;nt++)for(;this.pdf.internal.getNumberOfPages()<ze[nt];)x.call(this);_(ze);for(var Ke=ze[0],tt=ze[ze.length-1],at=Ke;at<tt+1;at++){this.pdf.setPage(at),this.fillStyle=R,this.strokeStyle=H,this.lineCap=B,this.lineWidth=te,this.lineJoin=J;var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=at===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Zt=at===1?0:Jt+(at-2)*Yt;if(this.ctx.clip_path.length!==0){var fr=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(oe,this.posX+this.margin[3],-Zt+kt+this.ctx.prevPageLastElemOffset),N.call(this,D,!0),this.path=fr}if(_e=JSON.parse(JSON.stringify(ve)),this.path=b(_e,this.posX+this.margin[3],-Zt+kt+this.ctx.prevPageLastElemOffset),M===!1||at===0){var ar=(at>Ke||at<tt)&&g.call(this);ar&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Yt,null).clip().discardPath()),N.call(this,D,M),ar&&this.pdf.restoreGraphicsState()}this.lineWidth=W}this.path=ve}else this.lineWidth=te,N.call(this,D,M),this.lineWidth=W},N=function(D,M){if((D!=="stroke"||M||!v.call(this))&&(D==="stroke"||M||!h.call(this))){for(var R,H,B=[],W=this.path,te=0;te<W.length;te++){var J=W[te];switch(J.type){case"begin":B.push({begin:!0});break;case"close":B.push({close:!0});break;case"mt":B.push({start:J,deltas:[],abs:[]});break;case"lt":var oe=B.length;if(W[te-1]&&!isNaN(W[te-1].x)&&(R=[J.x-W[te-1].x,J.y-W[te-1].y],oe>0)){for(;oe>=0;oe--)if(B[oe-1].close!==!0&&B[oe-1].begin!==!0){B[oe-1].deltas.push(R),B[oe-1].abs.push(J);break}}break;case"bct":R=[J.x1-W[te-1].x,J.y1-W[te-1].y,J.x2-W[te-1].x,J.y2-W[te-1].y,J.x-W[te-1].x,J.y-W[te-1].y],B[B.length-1].deltas.push(R);break;case"qct":var _e=W[te-1].x+2/3*(J.x1-W[te-1].x),ve=W[te-1].y+2/3*(J.y1-W[te-1].y),We=J.x+2/3*(J.x1-J.x),ze=J.y+2/3*(J.y1-J.y),ae=J.x,$e=J.y;R=[_e-W[te-1].x,ve-W[te-1].y,We-W[te-1].x,ze-W[te-1].y,ae-W[te-1].x,$e-W[te-1].y],B[B.length-1].deltas.push(R);break;case"arc":B.push({deltas:[],abs:[],arc:!0}),Array.isArray(B[B.length-1].abs)&&B[B.length-1].abs.push(J)}}H=M?null:D==="stroke"?"stroke":"fill";for(var He=!1,nt=0;nt<B.length;nt++)if(B[nt].arc)for(var Ke=B[nt].abs,tt=0;tt<Ke.length;tt++){var at=Ke[tt];at.type==="arc"?A.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,M,!He):V.call(this,at.x,at.y),He=!0}else if(B[nt].close===!0)this.pdf.internal.out("h"),He=!1;else if(B[nt].begin!==!0){var pt=B[nt].start.x,kt=B[nt].start.y;F.call(this,B[nt].deltas,pt,kt),He=!0}H&&k.call(this,H),M&&I.call(this)}},C=function(D){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,R=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-R;case"top":return D+M-R;case"hanging":return D+M-2*R;case"middle":return D+M/2-R;default:return D}},j=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(M,R){this.colorStops.push([M,R])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(D,M,R,H,B,W,te,J,oe){for(var _e=re.call(this,R,H,B,W),ve=0;ve<_e.length;ve++){var We=_e[ve];ve===0&&(oe?T.call(this,We.x1+D,We.y1+M):V.call(this,We.x1+D,We.y1+M)),Y.call(this,D,M,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}J?I.call(this):k.call(this,te)},k=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(D,M){this.pdf.internal.out(r(D)+" "+n(M)+" m")},P=function(D){var M;switch(D.align){case"right":case"end":M="right";break;case"center":M="center";break;default:M="left"}var R,H,B,W=this.pdf.getTextDimensions(D.text),te=C.call(this,D.y),J=j.call(this,te)-W.h,oe=this.ctx.transform.applyToPoint(new o(D.x,te));if(this.autoPaging){var _e=this.ctx.transform.decompose(),ve=new c;ve=(ve=(ve=ve.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var We=this.ctx.transform.applyToRectangle(new l(D.x,te,W.w,W.h)),ze=ve.applyToRectangle(new l(D.x,J,W.w,W.h)),ae=y.call(this,ze),$e=[],He=0;He<ae.length;He+=1)$e.indexOf(ae[He])===-1&&$e.push(ae[He]);_($e);for(var nt=$e[0],Ke=$e[$e.length-1],tt=nt;tt<Ke+1;tt++){this.pdf.setPage(tt);var at=tt===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Jt=kt-this.margin[0],Yt=this.pdf.internal.pageSize.width-this.margin[1],Zt=Yt-this.margin[3],fr=tt===1?0:pt+(tt-2)*Jt;if(this.ctx.clip_path.length!==0){var ar=this.path;R=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(R,this.posX+this.margin[3],-1*fr+at),N.call(this,"fill",!0),this.path=ar}var we=b([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-fr+at+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(H=this.pdf.internal.getFontSize(),this.pdf.setFontSize(H*D.scale),B=this.lineWidth,this.lineWidth=B*D.scale);var qe=this.autoPaging!=="text";if(qe||we.y+we.h<=kt){if(qe||we.y>=at&&we.x<=Yt){var rt=qe?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Yt-we.x)[0],tr=b([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-fr+at+this.ctx.prevPageLastElemOffset)[0],Lt=qe&&(tt>nt||tt<Ke)&&g.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zt,Jt,null).clip().discardPath()),this.pdf.text(rt,tr.x,tr.y,{angle:D.angle,align:M,renderingMode:D.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else we.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-we.y);D.scale>=.01&&(this.pdf.setFontSize(H),this.lineWidth=B)}}else D.scale>=.01&&(H=this.pdf.internal.getFontSize(),this.pdf.setFontSize(H*D.scale),B=this.lineWidth,this.lineWidth=B*D.scale),this.pdf.text(D.text,oe.x+this.posX,oe.y+this.posY,{angle:D.angle,align:M,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(H),this.lineWidth=B)},V=function(D,M,R,H){R=R||0,H=H||0,this.pdf.internal.out(r(D+R)+" "+n(M+H)+" l")},F=function(D,M,R){return this.pdf.lines(D,M,R,null,null)},Y=function(D,M,R,H,B,W,te,J){this.pdf.internal.out([t(a(R+D)),t(s(H+M)),t(a(B+D)),t(s(W+M)),t(a(te+D)),t(s(J+M)),"c"].join(" "))},re=function(D,M,R,H){for(var B=2*Math.PI,W=Math.PI/2;M>R;)M-=B;var te=Math.abs(R-M);te<B&&H&&(te=B-te);for(var J=[],oe=H?-1:1,_e=M;te>1e-5;){var ve=_e+oe*Math.min(te,W);J.push(U.call(this,D,_e,ve)),te-=Math.abs(ve-_e),_e=ve}return J},U=function(D,M,R){var H=(R-M)/2,B=D*Math.cos(H),W=D*Math.sin(H),te=B,J=-W,oe=te*te+J*J,_e=oe+te*B+J*W,ve=4/3*(Math.sqrt(2*oe*_e)-_e)/(te*W-J*B),We=te-ve*J,ze=J+ve*te,ae=We,$e=-ze,He=H+M,nt=Math.cos(He),Ke=Math.sin(He);return{x1:D*Math.cos(M),y1:D*Math.sin(M),x2:We*nt-ze*Ke,y2:We*Ke+ze*nt,x3:ae*nt-$e*Ke,y3:ae*Ke+$e*nt,x4:D*Math.cos(R),y4:D*Math.sin(R)}},q=function(D){return 180*D/Math.PI},X=function(D,M,R,H,B,W){var te=D+.5*(R-D),J=M+.5*(H-M),oe=B+.5*(R-B),_e=W+.5*(H-W),ve=Math.min(D,B,te,oe),We=Math.max(D,B,te,oe),ze=Math.min(M,W,J,_e),ae=Math.max(M,W,J,_e);return new l(ve,ze,We-ve,ae-ze)},pe=function(D,M,R,H,B,W,te,J){var oe,_e,ve,We,ze,ae,$e,He,nt,Ke,tt,at,pt,kt,Jt=R-D,Yt=H-M,Zt=B-R,fr=W-H,ar=te-B,we=J-W;for(_e=0;_e<41;_e++)nt=($e=(ve=D+(oe=_e/40)*Jt)+oe*((ze=R+oe*Zt)-ve))+oe*(ze+oe*(B+oe*ar-ze)-$e),Ke=(He=(We=M+oe*Yt)+oe*((ae=H+oe*fr)-We))+oe*(ae+oe*(W+oe*we-ae)-He),_e==0?(tt=nt,at=Ke,pt=nt,kt=Ke):(tt=Math.min(tt,nt),at=Math.min(at,Ke),pt=Math.max(pt,nt),kt=Math.max(kt,Ke));return new l(Math.round(tt),Math.round(at),Math.round(pt-tt),Math.round(kt-at))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,M,R=(D=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:M}));this.prevLineDash!==R&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=R)}}})(Ht.API),function(e){var t=function(o){var l,c,u,d,f,m,h,v,g,y;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(y=f%85))/85)-(g=f%85))/85)-(v=f%85))/85)-(h=f%85))/85)%85,c.push(m+33,h+33,v+33,g+33,y+33)):c.push(122);return function(x,b){for(var _=b;_>0;_--)x.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,f,m=String,h="length",v=255,g="charCodeAt",y="slice",x="replace";for(o[y](-2),o=o[y](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[y](o[h]%5||5))[h];f>d;d+=5)c=52200625*(o[g](d)-33)+614125*(o[g](d+1)-33)+7225*(o[g](d+2)-33)+85*(o[g](d+3)-33)+(o[g](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(b,_){for(var w=_;w>0;w--)b.pop()}(u,l[h]),m.fromCharCode.apply(m,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=tE(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Ht.API),function(e){e.loadFile=function(t,r,n){return function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,m=0,h=function(v){var g=v.length,y=[],x=String.fromCharCode;for(m=0;m<g;m+=1)y.push(x(255&v.charCodeAt(m)));return y.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(a,s,o)}catch{}return l}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Ht.API),function(e){function t(){return(ir.html2canvas?Promise.resolve(ir.html2canvas):L5(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(ir.DOMPurify?Promise.resolve(ir.DOMPurify):L5(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Qr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var v=d[h],g=v.src.find(function(y){return y.format==="truetype"});g&&u.addFont(g.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(f,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ht.getPageSize=function(l,c,u){if(Qr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var v,g=0,y=0;if(h.hasOwnProperty(m))g=h[m][1]/f,y=h[m][0]/f;else try{g=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",y>g&&(v=y,y=g,g=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>y&&(v=y,y=g,g=v)}return{width:y,height:g,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(eN):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(Ht.API),Ht.API.addJS=function(e){var t,r,n=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(Ht.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},y=4;y<v;y+=2){if(y+=h,t.indexOf(f.charCodeAt(y+1))!==-1){m=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),g={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:m,numcomponents:f.charCodeAt(y+9)};break}h=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Ht.API),Ht.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=$6e(e,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,u=s.palette,d=s.depth;a=u&&c===1?function(A){for(var k=A.width,I=A.height,T=A.data,P=A.palette,V=A.depth,F=!1,Y=[],re=[],U=void 0,q=!1,X=0,pe=0;pe<P.length;pe++){var xe=OL(P[pe],4),D=xe[0],M=xe[1],R=xe[2],H=xe[3];Y.push(D,M,R),H!=null&&(H===0?(X++,re.length<1&&re.push(pe)):H<255&&(q=!0))}if(q||X>1){F=!0,re=void 0;var B=k*I;U=new Uint8Array(B);for(var W=new DataView(T.buffer),te=0;te<B;te++){var J=rN(W,te,V),oe=OL(P[J],4)[3];U[te]=oe}}else X===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:F?8:void 0,colorBytes:T,alphaBytes:U,needSMask:F,palette:Y,mask:re}}(s):c===2||c===4?function(A){for(var k=A.data,I=A.width,T=A.height,P=A.channels,V=A.depth,F=P===2?"DeviceGray":"DeviceRGB",Y=P-1,re=I*T,U=Y,q=re*U,X=1*re,pe=Math.ceil(q*V/8),xe=Math.ceil(X*V/8),D=new Uint8Array(pe),M=new Uint8Array(xe),R=new DataView(k.buffer),H=new DataView(D.buffer),B=new DataView(M.buffer),W=!1,te=0;te<re;te++){for(var J=te*P,oe=0;oe<U;oe++)DM(H,rN(R,J+oe,V),te*U+oe,V);var _e=rN(R,J+U,V);_e<(1<<V)-1&&(W=!0),DM(B,_e,1*te,V)}return{colorSpace:F,colorsPerPixel:Y,sMaskBitsPerComponent:W?V:void 0,colorBytes:D,alphaBytes:M,needSMask:W}}(s):function(A){var k=A.data,I=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(T){for(var P=T.length,V=new Uint8Array(2*P),F=new DataView(V.buffer,V.byteOffset,V.byteLength),Y=0;Y<P;Y++)F.setUint16(2*Y,T[Y],!1);return V}(k):k,needSMask:!1}}(s);var f,m,h,v=a,g=v.colorSpace,y=v.colorsPerPixel,x=v.sMaskBitsPerComponent,b=v.colorBytes,_=v.alphaBytes,w=v.needSMask,N=v.palette,C=v.mask,j=null;return n!==Ht.API.image_compression.NONE&&typeof tE=="function"?(j=function(A){var k;switch(A){case Ht.API.image_compression.FAST:k=11;break;case Ht.API.image_compression.MEDIUM:k=13;break;case Ht.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(j," /Colors ").concat(y," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=PM(b,Math.ceil(o*y*d/8),y,d,n),w&&(h=PM(_,Math.ceil(o*x/8),1,x,n))):(f=void 0,m=void 0,e=b,w&&(h=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:m,transparency:C,palette:N,sMask:h,predictor:j,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,a){var s=new iRe(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new nN(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Ht.API),el.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},el.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(r){dn.log("bit decode error:"+r)}},el.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},el.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},el.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},el.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},el.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},el.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},el.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},el.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new el(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new nN(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Ht.API),MM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new MM(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new nN(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Ht.API),Ht.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],m=n[u+2],h=n[u+3];s[l++]=d,s[l++]=f,s[l++]=m,o[c++]=h}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ht.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dm=Ht.API,v1=dm.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,m=0,h=e.length,v=0,g=l[0]||c,y=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(m=f&&Qr(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,y.push((l[n]||g)/c+m)),v=n;return y},EM=dm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return dm.processArabic&&(e=dm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:v1.apply(this,arguments).reduce(function(s,o){return s+o},0)},CM=function(e,t,r,n){for(var a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;a.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(a.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},AM=function(e,t,r){r||(r={});var n,a,s,o,l,c,u,d=[],f=[d],m=r.textIndent||0,h=0,v=0,g=e.split(" "),y=v1.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),b=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?b=b.concat(w.map(function(N,C){return(C&&N.length?`
`:"")+N})):b.push(w[0])}),g=b,c=EM.apply(this,[x,r])}for(s=0,o=g.length;s<o;s++){var _=0;if(n=g[s],c&&n[0]==`
`&&(n=n.substr(1),_=1),m+h+(v=(a=v1.apply(this,[n,r])).reduce(function(w,N){return w+N},0))>t||_){if(v>t){for(l=CM.apply(this,[n,a,t-(m+h),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(w,N){return w+N},0)}else d=[n];f.push(d),m=v+c,h=y}else d.push(n),m+=h+v,h=y}return u=c?function(w,N){return(N?x:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(u)},dm.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(AM.apply(this,[n[l],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=t[s],a[t[s]]=r[s];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var h,v,g,y,x=["{"];for(var b in m){if(h=m[b],isNaN(parseInt(b,10))?v="'"+b+"'":(b=parseInt(b,10),v=(v=o(b).slice(2)).slice(0,-1)+a[v.slice(-1)]),typeof h=="number")h<0?(g=o(h).slice(3),y="-"):(g=o(h).slice(2),y=""),g=y+g.slice(0,-1)+a[g.slice(-1)];else{if(Qr(h)!=="object")throw new Error("Don't know what to do with value type "+Qr(h)+".");g=l(h)}x.push(v+g)}return x.push("}"),x.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,v,g,y,x={},b=1,_=x,w=[],N="",C="",j=m.length-1,A=1;A<j;A+=1)(y=m[A])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(y):y=="{"?(w.push([_,g]),_={},g=void 0):y=="}"?((v=w.pop())[0][v[1]]=_,g=void 0,_=v[0]):y=="-"?b=-1:g===void 0?n.hasOwnProperty(y)?(N+=n[y],g=parseInt(N,16)*b,b=1,N=""):N+=y:n.hasOwnProperty(y)?(C+=n[y],_[g]=parseInt(C,16)*b,b=1,g=void 0,C=""):C+=y;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,v=f.Unicode[h.postScriptName];v&&(h.metadata.Unicode={},h.metadata.Unicode.widths=v.widths,h.metadata.Unicode.kerning=v.kerning);var g=d.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(Ht.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Z1(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Ht),Ht.API.addSvgAsImage=function(e,t,r,n,a,s,o,l){if(isNaN(t)||isNaN(r))throw dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(ir.canvg?Promise.resolve(ir.canvg):L5(()=>import("./index.es-DYEVDe0m.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},Ht.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Ht.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function m(v,g){var y,x=!1;for(y=0;y<v.length;y+=1)v[y]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(Qr(e)==="object"){for(a in e)if(s=e[a],m(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&m(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Ht.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",lRe),this.internal.events.subscribe("postPutResources",oRe)),this},function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=s.length;f<m;++f){if(l=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var o,l,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(s).sort(function(h,v){return h-v})).length;f<m;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",v=0;v<m.length;v++)h+=String.fromCharCode(m[v]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var y=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+wm(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+wm(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+wm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var v=u();d({data:m,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var y=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+wm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+wm(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},m=f.pdfEscape,h=f.activeFontKey,v=f.fonts,g=h,y="",x=0,b="",_=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(b=l,g=h,Array.isArray(l)&&(b=l[0]),x=0;x<b.length;x+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[b[x].charCodeAt(0)]),o||b[x].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?y+=b[x]:y+="";var w="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?w=m(y,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(w=r(y,v[g])),f.isHex=!0,{text:w,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:o})).text}])}(Ht),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ht.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,o,l,c,u,d,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,_=0;this.__bidiEngine__={};var w=function(T){var P=T.charCodeAt(),V=P>>8,F=g[V];return F!==void 0?f[256*F+(255&P)]:V===252||V===253?"AL":x.test(V)?"L":V===8?"R":"N"},N=function(T){for(var P,V=0;V<T.length;V++){if((P=w(T.charAt(V)))==="L")return!1;if(P==="R")return!0}return!1},C=function(T,P,V,F){var Y,re,U,q,X=P[F];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(X="AN");break;case"AL":b=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":F<1||F+1>=P.length||(Y=V[F-1])!=="EN"&&Y!=="AN"||(re=P[F+1])!=="EN"&&re!=="AN"?X="N":b&&(re="AN"),X=re===Y?re:"N";break;case"ES":X=(Y=F>0?V[F-1]:"B")==="EN"&&F+1<P.length&&P[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&V[F-1]==="EN"){X="EN";break}if(b){X="N";break}for(U=F+1,q=P.length;U<q&&P[U]==="ET";)U++;X=U<q&&P[U]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(q=P.length,U=F+1;U<q&&P[U]==="NSM";)U++;if(U<q){var pe=T[F],xe=pe>=1425&&pe<=2303||pe===64286;if(Y=P[U],xe&&(Y==="R"||Y==="AL")){X="R";break}}}X=F<1||(Y=P[F-1])==="B"?"N":V[F-1];break;case"B":b=!1,a=!0,X=_;break;case"S":s=!0,X="N"}return X},j=function(T,P,V){var F=T.split("");return V&&A(F,V,{hiLevel:_}),F.reverse(),P&&P.reverse(),F.join("")},A=function(T,P,V){var F,Y,re,U,q,X=-1,pe=T.length,xe=0,D=[],M=_?h:m,R=[];for(b=!1,a=!1,s=!1,Y=0;Y<pe;Y++)R[Y]=w(T[Y]);for(re=0;re<pe;re++){if(q=xe,D[re]=C(T,R,D,re),F=240&(xe=M[q][v[D[re]]]),xe&=15,P[re]=U=M[xe][5],F>0)if(F===16){for(Y=X;Y<re;Y++)P[Y]=1;X=-1}else X=-1;if(M[xe][6])X===-1&&(X=re);else if(X>-1){for(Y=X;Y<re;Y++)P[Y]=U;X=-1}R[re]==="B"&&(P[re]=0),V.hiLevel|=U}s&&function(H,B,W){for(var te=0;te<W;te++)if(H[te]==="S"){B[te]=_;for(var J=te-1;J>=0&&H[J]==="WS";J--)B[J]=_}}(R,P,pe)},k=function(T,P,V,F,Y){if(!(Y.hiLevel<T)){if(T===1&&_===1&&!a)return P.reverse(),void(V&&V.reverse());for(var re,U,q,X,pe=P.length,xe=0;xe<pe;){if(F[xe]>=T){for(q=xe+1;q<pe&&F[q]>=T;)q++;for(X=xe,U=q-1;X<U;X++,U--)re=P[X],P[X]=P[U],P[U]=re,V&&(re=V[X],V[X]=V[U],V[U]=re);xe=q}xe++}}},I=function(T,P,V){var F=T.split(""),Y={hiLevel:_};return V||(V=[]),A(F,V,Y),function(re,U,q){if(q.hiLevel!==0&&d)for(var X,pe=0;pe<re.length;pe++)U[pe]===1&&(X=y.indexOf(re[pe]))>=0&&(re[pe]=y[X+1])}(F,V,Y),k(2,F,P,V,Y),k(1,F,P,V,Y),F.join("")};return this.__bidiEngine__.doBidiReorder=function(T,P,V){if(function(Y,re){if(re)for(var U=0;U<Y.length;U++)re[U]=U;l===void 0&&(l=N(Y)),u===void 0&&(u=N(Y))}(T,P),o||!c||u)if(o&&c&&l^u)_=l?1:0,T=j(T,P,V);else if(!o&&c&&u)_=l?1:0,T=I(T,P,V),T=j(T,P);else if(!o||l||c||u){if(o&&!c&&l^u)T=j(T,P),l?(_=0,T=I(T,P,V)):(_=1,T=I(T,P,V),T=j(T,P));else if(o&&l&&!c&&u)_=1,T=I(T,P,V),T=j(T,P);else if(!o&&!c&&l^u){var F=d;l?(_=1,T=I(T,P,V),_=0,d=!1,T=I(T,P,V),d=F):(_=0,T=I(T,P,V),T=j(T,P),_=1,d=!1,T=I(T,P,V),d=F,T=j(T,P))}}else _=0,T=I(T,P,V);else _=l?1:0,T=I(T,P,V);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,u=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Ht),Ht.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ld(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new jRe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new cRe(this.contents),this.head=new dRe(this),this.name=new gRe(this),this.cmap=new JX(this),this.toUnicode={},this.hhea=new fRe(this),this.maxp=new vRe(this),this.hmtx=new xRe(this),this.post=new mRe(this),this.os2=new hRe(this),this.loca=new _Re(this),this.glyf=new yRe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Pl,Ld=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),cRe=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,o,l,c,u,d,f,m,h,v,g;for(g in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(a=new Ld).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(o),a.writeShort(d),s=16*h,u=a.pos+s,l=null,v=[],r)for(m=r[g],a.writeString(g),a.writeInt(e(m)),a.writeInt(u),a.writeInt(m.length),v=v.concat(m),g==="head"&&(l=u),u+=m.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,o;for(r=ZX.call(r);r.length%4;)r.push(0);for(s=new Ld(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),uRe={}.hasOwnProperty,gc=function(e,t){for(var r in t)uRe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Pl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var dRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Pl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ld).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),FM=function(){function e(t,r){var n,a,s,o,l,c,u,d,f,m,h,v,g,y,x,b,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,s=function(){var w,N;for(N=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)N.push(t.readUInt16());return N}(),t.pos+=2,g=function(){var w,N;for(N=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)N.push(t.readUInt16());return N}(),u=function(){var w,N;for(N=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)N.push(t.readUInt16());return N}(),d=function(){var w,N;for(N=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)N.push(t.readUInt16());return N}(),a=(this.length-t.pos+this.offset)/2,l=function(){var w,N;for(N=[],c=w=0;0<=a?w<a:w>a;c=0<=a?++w:--w)N.push(t.readUInt16());return N}(),c=x=0,_=s.length;x<_;c=++x)for(y=s[c],n=b=v=g[c];v<=y?b<=y:b>=y;n=v<=y?++b:--b)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-v)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,s,o,l,c,u,d,f,m,h,v,g,y,x,b,_,w,N,C,j,A,k,I,T,P,V,F,Y,re,U,q,X,pe,xe,D,M,R,H,B,W,te,J,oe,_e,ve;switch(F=new Ld,o=Object.keys(t).sort(function(We,ze){return We-ze}),r){case"macroman":for(g=0,y=function(){var We=[];for(v=0;v<256;++v)We.push(0);return We}(),b={0:0},s={},Y=0,X=o.length;Y<X;Y++)b[J=t[a=o[Y]]]==null&&(b[J]=++g),s[a]={old:t[a],new:b[t[a]]},y[a]=b[t[a]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(y),{charMap:s,subtable:F.data,maxGlyphID:g+1};case"unicode":for(P=[],f=[],_=0,b={},n={},x=u=null,re=0,pe=o.length;re<pe;re++)b[N=t[a=o[re]]]==null&&(b[N]=++_),n[a]={old:N,new:b[N]},l=b[N]-a,x!=null&&l===u||(x&&f.push(x),P.push(a),u=l),x=a;for(x&&f.push(x),f.push(65535),P.push(65535),I=2*(k=P.length),A=2*Math.pow(Math.log(k)/Math.LN2,2),m=Math.log(A/2)/Math.LN2,j=2*k-A,c=[],C=[],h=[],v=U=0,xe=P.length;U<xe;v=++U){if(T=P[v],d=f[v],T===65535){c.push(0),C.push(0);break}if(T-(V=n[T].new)>=32768)for(c.push(0),C.push(2*(h.length+k-v)),a=q=T;T<=d?q<=d:q>=d;a=T<=d?++q:--q)h.push(n[a].new);else c.push(V-T),C.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*k+2*h.length),F.writeUInt16(0),F.writeUInt16(I),F.writeUInt16(A),F.writeUInt16(m),F.writeUInt16(j),W=0,D=f.length;W<D;W++)a=f[W],F.writeUInt16(a);for(F.writeUInt16(0),te=0,M=P.length;te<M;te++)a=P[te],F.writeUInt16(a);for(oe=0,R=c.length;oe<R;oe++)l=c[oe],F.writeUInt16(l);for(_e=0,H=C.length;_e<H;_e++)w=C[_e],F.writeUInt16(w);for(ve=0,B=h.length;ve<B;ve++)g=h[ve],F.writeUInt16(g);return{charMap:n,subtable:F.data,maxGlyphID:_+1}}},e}(),JX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Pl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new FM(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=FM.encode(t,r),(a=new Ld).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),fRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Pl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),hRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Pl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),mRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Pl),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),pRe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},gRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Pl),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,s,o,l,c,u,d,f,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=d=0,f=n.length;d<f;s=++d)a=n[s],t.pos=a.offset,u=t.readString(a.length),o=new pRe(u,a),c[m=a.nameID]==null&&(c[m]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),vRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Pl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),xRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Pl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,s,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],m.push(s.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),ZX=[].slice,yRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Pl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,s,o,l,c,u,d,f;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Ld(r.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new bRe(l,u,f,c,d):new wRe(l,o,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,s,o,l,c;for(o=[],s=[],l=0,c=r.length;l<c;l++)a=t[r[l]],s.push(o.length),a&&(o=o.concat(a.encode(n)));return s.push(o.length),{table:o,offsets:s}},e}(),wRe=function(){function e(t,r,n,a,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),bRe=function(){function e(t,r,n,a,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ld(ZX.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),_Re=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,Pl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<n.length;++o)if(n[o]=a,s<r.length&&r[s]==o){++s,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),jRe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,o,l,c,u,d,f,m,h,v,g,y,x;for(a in n=JX.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},x=n.charMap)h[(c=x[a]).old]=c.new;for(v in m=n.maxGlyphID,o)v in h||(h[v]=m++);return d=function(b){var _,w;for(_ in w={},b)w[b[_]]=_;return w}(h),f=Object.keys(d).sort(function(b,_){return b-_}),g=function(){var b,_,w;for(w=[],b=0,_=f.length;b<_;b++)l=f[b],w.push(d[l]);return w}(),s=this.font.glyf.encode(o,g,h),u=this.font.loca.encode(s.offsets,g),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Ht.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();function QX(e,t,r,n,a){n=n||{};var s=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():s,u=l*c,d=/\r\n|\r|\n/g,f="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,m=f.length||1),r+=l*(2-s),n.valign==="middle"?r-=m/2*u:n.valign==="bottom"&&(r-=m*u),n.halign==="center"||n.halign==="right"){var h=l;if(n.halign==="center"&&(h*=.5),f&&m>=1){for(var v=0;v<f.length;v++)a.text(f[v],t-a.getStringUnitWidth(f[v])*h,r),r+=u;return a}t-=a.getStringUnitWidth(e)*h}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var $M={},tp=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:$M=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return $M||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),cE=function(e,t){return cE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},cE(e,t)};function eJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tJ=function(e){eJ(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function SRe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function NRe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Yb(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return a}function rJ(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var o=nJ(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function nJ(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function xj(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function aJ(e,t){var r=xj(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function kRe(e,t,r,n,a){var s={},o=1.3333333333333333,l=aN(t,function(_){return a.getComputedStyle(_).backgroundColor});l!=null&&(s.fillColor=l);var c=aN(t,function(_){return a.getComputedStyle(_).color});c!=null&&(s.textColor=c);var u=CRe(n,r);u&&(s.cellPadding=u);var d="borderTopColor",f=o*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var h=(parseFloat(m)||0)/f;h&&(s.lineWidth=h)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var v=aN(t,function(_){return a.getComputedStyle(_)[d]});v!=null&&(s.lineColor=v);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(s.fontSize=y/o);var x=ERe(n);x&&(s.fontStyle=x);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(s.font=b),s}function ERe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function aN(e,t){var r=sJ(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function sJ(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:sJ(e.parentElement,t):r}function CRe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(l){return parseInt(l||"0")/n}),o=xj(s,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function iJ(e,t,r,n,a){var s,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],m=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:m};for(var h=0;h<l.rows.length;h++){var v=l.rows[h],g=(o=(s=v==null?void 0:v.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),y=ARe(c,u,r,v,n,a);y&&(g==="thead"?d.push(y):g==="tfoot"?m.push(y):f.push(y))}return{head:d,body:f,foot:m}}function ARe(e,t,r,n,a,s){for(var o=new tJ(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var d=void 0;s&&(d=kRe(e,c,t,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:PRe(c)})}}var f=r.getComputedStyle(n);if(o.length>0&&(a||f.display!=="none"))return o}function PRe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function TRe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Gc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function oJ(e,t){var r=new tp(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();TRe(a,n,t);var s=Gc({},a,n,t),o;typeof window<"u"&&(o=window);var l=ORe(a,n,t),c=RRe(a,n,t),u=IRe(r,s),d=LRe(r,s,o);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function ORe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],f=r[c];n.columnStyles=Gc({},u,d,f)}else{var m=[e,t,r],h=m.map(function(v){return v[c]||{}});n[c]=Gc({},h[0],h[1],h[2])}},s=0,o=Object.keys(n);s<o.length;s++){var l=o[s];a(l)}return n}function RRe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var l=o[s];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function IRe(e,t){var r,n,a,s,o,l,c,u,d,f,m,h,v=xj(t.margin,40/e.scaleFactor()),g=(r=DRe(e,t.startY))!==null&&r!==void 0?r:v.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var x;t.showHead===!0?x="everyPage":t.showHead===!1?x="never":x=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(s=t.useCss)!==null&&s!==void 0?s:!1,_=t.theme||(b?"plain":"striped"),w=!!t.horizontalPageBreak,N=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:b,theme:_,startY:g,margin:v,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:x,showFoot:y,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(m=t.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:w,horizontalPageBreakRepeat:N,horizontalPageBreakBehaviour:(h=t.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function DRe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function LRe(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=iJ(e,t.html,r,o,t.useCss)||{};n=l.head||n,a=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||MRe(n,a,s);return{columns:c,head:n,body:a,foot:s}}function MRe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(n)?l=n[parseInt(s)]:l=n[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(c>0?"_".concat(c):"");var d={dataKey:u};a.push(d)}}),a}var uE=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),FRe=function(e){eJ(t,e);function t(r,n,a,s,o,l){var c=e.call(this,r,n,l)||this;return c.cell=a,c.row=s,c.column=o,c.section=s.section,c}return t}(uE),$Re=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new FRe(t,this,n,a,s,o),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new uE(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new uE(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),lJ=function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof tJ&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var o=n.cells[s.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>a?u:a},0)},e}(),cJ=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=xj(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),BRe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function URe(e,t){zRe(e,t);var r=[],n=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=dE(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=dE(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),HRe(t),qRe(t,e),WRe(t)}function zRe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=aJ(e,t);t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,s,c,null);var f=u.padding("horizontal");u.contentWidth=Yb(u.text,u.styles,e)+f;var m=Yb(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/r;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function dE(e,t,r){for(var n=t,a=e.reduce(function(h,v){return h+v.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],l=o.wrappedWidth/a,c=n*l,u=o.width+c,d=r(o),f=u<d?d:u;t-=f-o.width,o.width=f}if(t=Math.round(t*1e10)/1e10,t){var m=e.filter(function(h){return t<0?h.width>r(h):!0});m.length&&(t=dE(m,t,r))}return t}function WRe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=t[c.index];if(r>1)r--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=s.cells[c.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var f=n.length-a,m=d.rowSpan>f?f:d.rowSpan;t[c.index]={cell:d,left:m,row:s}}}}}function HRe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])s+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+s}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){a=u,s+=c.width;continue}u.width=c.width+s}}}function qRe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=BM(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=BM(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>s.height&&(s.height=m)}}r.count--}}function BM(e,t,r,n,a){return e.map(function(s){return VRe(s,t,r,n,a)})}function VRe(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Yb(e,r,n))return e;for(;t<Yb(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function uJ(e,t){var r=new tp(e),n=GRe(t,r.scaleFactor()),a=new $Re(t,n);return URe(r,a),r.applyStyles(r.userStyles),a}function GRe(e,t){var r=e.content,n=YRe(r.columns);if(r.head.length===0){var a=UM(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=UM(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,o=e.styles;return{columns:n,head:sN("head",r.head,n,o,s,t),body:sN("body",r.body,n,o,s,t),foot:sN("foot",r.foot,n,o,s,t)}}function sN(e,t,r,n,a,s){var o={},l=t.map(function(c,u){for(var d=0,f={},m=0,h=0,v=0,g=r;v<g.length;v++){var y=g[v];if(o[y.index]==null||o[y.index].left===0)if(h===0){var x=void 0;Array.isArray(c)?x=c[y.index-m-d]:x=c[y.dataKey];var b={};typeof x=="object"&&!Array.isArray(x)&&(b=(x==null?void 0:x.styles)||{});var _=XRe(e,y,u,a,n,s,b),w=new cJ(x,_,e);f[y.dataKey]=w,f[y.index]=w,h=w.colSpan-1,o[y.index]={left:w.rowSpan-1,times:h}}else h--,m++;else o[y.index].left--,h=o[y.index].times,d++}return new lJ(c,u,e,f)});return l}function UM(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=KRe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function KRe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function YRe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new BRe(a,t,r)})}function XRe(e,t,r,n,a,s,o){var l=NRe(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var u=Gc({},l.table,l[e],a.styles,c),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},m=e==="body"&&r%2===0?Gc({},l.alternateRow,a.alternateRowStyles):{},h=SRe(s),v=Gc({},h,u,m,f);return Gc(v,o)}function JRe(e,t,r){var n;r===void 0&&(r={});var a=aJ(e,t),s=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var h=t.columns.find(function(v){return v.dataKey===m||v.index===m});h&&!s.has(h.index)&&(s.set(h.index,!0),o.push(h.index),l.push(t.columns[h.index]),a-=h.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(s.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,o.push(d),l.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function ZRe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=JRe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function dJ(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(m,h){return m+h.height},0);l+=u}var d=new tp(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(hJ(d),s.y=a.top),t.callWillDrawPageHooks(d,s);var f=Gc({},s);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?QRe(d,t,f,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(m){return hu(d,t,m,s,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(m,h){var v=h===t.body.length-1;Xb(d,t,m,v,f,s,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(m){return hu(d,t,m,s,t.columns)})),rJ(d,t,f,s),t.callEndPageHooks(d,s),t.finalY=s.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function QRe(e,t,r,n){var a=ZRe(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?Ag(e,t,r,n,u.columns,!0):zM(e,t,n,u.columns),eIe(e,t,r,n,u.columns),iN(e,t,n,u.columns)});else for(var o=-1,l=a[0],c=function(){var u=o;if(l){e.applyStyles(e.userStyles);var d=l.columns;o>=0?Ag(e,t,r,n,d,!0):zM(e,t,n,d),u=WM(e,t,o+1,n,d),iN(e,t,n,d)}var f=u-o;a.slice(1).forEach(function(m){e.applyStyles(e.userStyles),Ag(e,t,r,n,m.columns,!0),WM(e,t,o+1,n,m.columns,f),iN(e,t,n,m.columns)}),o=u};o<t.body.length-1;)c()}function zM(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return hu(e,t,s,r,n)})}function eIe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var l=o===t.body.length-1;Xb(e,t,s,l,r,n,a)})}function WM(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(r+s,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,u){var d=r+u===t.body.length-1,f=fJ(e,t,d,n);c.canEntireRowFit(f,a)&&(hu(e,t,c,n,a),l=r+u)}),l}function iN(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return hu(e,t,s,r,n)})}function tIe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function rIe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new cJ(u.raw,u.styles,u.section);d=Gc(d,u),d.text=[];var f=tIe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var m=n.scaleFactor(),h=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,h),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,h),d.contentHeight>s&&(s=d.contentHeight),a[c.index]=d}}var v=new lJ(e.raw,-1,e.section,a,!0);v.height=s;for(var g=0,y=r.columns;g<y.length;g++){var c=y[g],d=v.cells[c.index];d&&(d.height=v.height);var u=e.cells[c.index];u&&(u.height=e.height)}return v}function nIe(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,l=a-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>l)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>l;return f?(d&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function Xb(e,t,r,n,a,s,o){var l=fJ(e,t,n,s);if(r.canEntireRowFit(l,o))hu(e,t,r,s,o);else if(nIe(e,r,l,t)){var c=rIe(r,l,t,e);hu(e,t,r,s,o),Ag(e,t,a,s,o),Xb(e,t,c,n,a,s,o)}else Ag(e,t,a,s,o),Xb(e,t,r,n,a,s,o)}function hu(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,o=a;s<o.length;s++){var l=o[s],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}aIe(e,c,n);var d=c.getTextPos();QX(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function aIe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=nJ(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),sIe(e,t,r,n.lineWidth))}function sIe(e,t,r,n){var a,s,o,l;n.top&&(a=r.x,s=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,s,o,l)),n.bottom&&(a=r.x,s=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,s,o,l)),n.left&&(a=r.x,s=r.y,o=r.x,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,s,o,l)),n.right&&(a=r.x+t.width,s=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,s,o,l));function c(u,d,f,m,h){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,m,h,"S")}}function fJ(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Ag(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(l){return hu(e,t,l,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;rJ(e,t,r,n),hJ(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return hu(e,t,l,n,a)}),e.applyStyles(e.userStyles))}function hJ(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function iIe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=oJ(this,n),s=uJ(this,a);return dJ(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){QX(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return tp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){tp.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new tp(this),s=iJ(a,t,window,r,!1),o=s.head,l=s.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var oN;function fE(e,t){var r=oJ(e,t),n=uJ(e,r);dJ(e,n)}try{if(typeof window<"u"&&window){var HM=window,qM=HM.jsPDF||((oN=HM.jspdf)===null||oN===void 0?void 0:oN.jsPDF);qM&&iIe(qM)}}catch(e){console.error("Could not apply autoTable plugin",e)}function oIe(e){var h,v,g,y,x,b;const{report:t,client:r,employee:n,service:a,metrics:s}=e,o=new Ht,l=o.internal.pageSize.getWidth(),c=20;let u=20;o.setFontSize(20),o.setTextColor(30,64,175),o.text("ClientFlow - Weekly Report",c,u),u+=15,o.setFontSize(10),o.setTextColor(100,100,100),o.text(`Generated: ${Bt(new Date,"MMM dd, yyyy HH:mm")}`,c,u),u+=15,o.setDrawColor(200,200,200),o.line(c,u,l-c,u),u+=10,o.setFontSize(12),o.setTextColor(0,0,0);const d=[["Client",(r==null?void 0:r.name)||"N/A"],["Service",(a==null?void 0:a.name)||"N/A"],["Employee",(n==null?void 0:n.full_name)||"N/A"],["Week Start Date",Bt(new Date(t.week_start_date),"MMM dd, yyyy")],["Status",t.status.replace("_"," ").toUpperCase()]];fE(o,{startY:u,head:[],body:d,theme:"plain",styles:{fontSize:10,cellPadding:3},columnStyles:{0:{fontStyle:"bold",cellWidth:40},1:{cellWidth:"auto"}},margin:{left:c}}),u=o.lastAutoTable.finalY+10,o.setFontSize(14),o.setFont(void 0,"bold"),o.text("Work Summary",c,u),u+=7,o.setFont(void 0,"normal"),o.setFontSize(10);const f=o.splitTextToSize(t.work_summary||"No summary provided",l-2*c);if(o.text(f,c,u),u+=f.length*5+10,t.key_wins){o.setFontSize(14),o.setFont(void 0,"bold"),o.text("Key Wins",c,u),u+=7,o.setFont(void 0,"normal"),o.setFontSize(10);const _=o.splitTextToSize(t.key_wins,l-2*c);o.text(_,c,u),u+=_.length*5+10}if(t.challenges){u>250&&(o.addPage(),u=20),o.setFontSize(14),o.setFont(void 0,"bold"),o.text("Challenges / Blockers",c,u),u+=7,o.setFont(void 0,"normal"),o.setFontSize(10);const _=o.splitTextToSize(t.challenges,l-2*c);o.text(_,c,u),u+=_.length*5+10}if(t.next_week_plan){u>250&&(o.addPage(),u=20),o.setFontSize(14),o.setFont(void 0,"bold"),o.text("Next Week Plan",c,u),u+=7,o.setFont(void 0,"normal"),o.setFontSize(10);const _=o.splitTextToSize(t.next_week_plan,l-2*c);o.text(_,c,u),u+=_.length*5+10}if(s){u>220&&(o.addPage(),u=20),o.setFontSize(14),o.setFont(void 0,"bold"),o.text("Metrics",c,u),u+=7;const _=[];(a==null?void 0:a.slug)==="linkedin_outreach"?_.push(["Connections Sent",((h=s.connections_sent)==null?void 0:h.toString())||"0"],["Connections Accepted",((v=s.connections_accepted)==null?void 0:v.toString())||"0"],["Responses Received",((g=s.responses_received)==null?void 0:g.toString())||"0"],["Positive Responses",((y=s.positive_responses)==null?void 0:y.toString())||"0"],["Meetings Booked",((x=s.meetings_booked)==null?void 0:x.toString())||"0"]):s.metric_data&&Object.entries(s.metric_data).forEach(([w,N])=>{const C=w.replace(/_/g," ").replace(/\b\w/g,j=>j.toUpperCase());_.push([C,String(N)])}),_.length>0&&fE(o,{startY:u,head:[],body:_,theme:"striped",styles:{fontSize:10,cellPadding:3},columnStyles:{0:{fontStyle:"bold",cellWidth:80},1:{cellWidth:"auto"}},margin:{left:c},headStyles:{fillColor:[30,64,175]}})}const m=`report-${((b=r==null?void 0:r.name)==null?void 0:b.replace(/\s+/g,"-").toLowerCase())||"unknown"}-${Bt(new Date(t.week_start_date),"yyyy-MM-dd")}.pdf`;o.save(m)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Jb={};Jb.version="0.18.5";var mJ=1252,lIe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],pJ=function(e){lIe.indexOf(e)!=-1&&(mJ=e)};function cIe(){pJ(1252)}var Tv=function(e){pJ(e)};function uIe(){Tv(1200),cIe()}var x1=function(t){return String.fromCharCode(t)},VM=function(t){return String.fromCharCode(t)},Zb,fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ov(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=fd.charAt(s)+fd.charAt(o)+fd.charAt(l)+fd.charAt(c);return t}function mu(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=fd.indexOf(e.charAt(u++)),o=fd.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=fd.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=fd.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var $r=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Eu=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function hh(e){return $r?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function GM(e){return $r?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var hl=function(t){return $r?Eu(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function yj(e){if(typeof ArrayBuffer>"u")return hl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Cx(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function dIe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var vs=$r?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Eu(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function fIe(e){for(var t=[],r=0,n=e.length+250,a=hh(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=hh(65535),n=65530)}return t.push(a.slice(0,r)),vs(t)}var Pg=/\u0000/g,y1=/[\u0001-\u0006]/g;function rp(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function pl(e,t){var r=""+e;return r.length>=t?r:ea("0",t-r.length)+r}function AP(e,t){var r=""+e;return r.length>=t?r:ea(" ",t-r.length)+r}function Qb(e,t){var r=""+e;return r.length>=t?r:r+ea(" ",t-r.length)}function hIe(e,t){var r=""+Math.round(e);return r.length>=t?r:ea("0",t-r.length)+r}function mIe(e,t){var r=""+e;return r.length>=t?r:ea("0",t-r.length)+r}var KM=Math.pow(2,32);function fm(e,t){if(e>KM||e<-KM)return hIe(e,t);var r=Math.round(e);return mIe(r,t)}function e2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var YM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],lN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pIe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var na={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},XM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},gIe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function t2(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function w1(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=jIe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var gJ=new Date(1899,11,31,0,0,0),vIe=gJ.getTime(),xIe=new Date(1900,2,1,0,0,0);function vJ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=xIe&&(r+=24*60*60*1e3),(r-(vIe+(e.getTimezoneOffset()-gJ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function PP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function yIe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function wIe(e){var t=e<0?12:11,r=PP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function bIe(e){var t=PP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function _Ie(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=wIe(e):t===10?r=e.toFixed(10).substr(0,12):r=bIe(e),PP(yIe(r.toUpperCase()))}function hE(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):_Ie(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Md(14,vJ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function jIe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function SIe(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return lN[r.m-1][1];case 5:return lN[r.m-1][0];default:return lN[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return YM[r.q][0];default:return YM[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?pl(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=pl(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?pl(c,u):"";return d}function hd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var xJ=/%/g;function NIe(e,t,r){var n=t.replace(xJ,""),a=t.length-n.length;return Jc(e,n,r*Math.pow(10,2*a))+ea("%",a)}function kIe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Jc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function yJ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+yJ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var wJ=/# (\?+)( ?)\/( ?)(\d+)/;function EIe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?ea(" ",e[1].length+1+e[4].length):AP(o,e[1].length)+e[2]+"/"+e[3]+pl(l,e[4].length))}function CIe(e,t,r){return r+(t===0?"":""+t)+ea(" ",e[1].length+2+e[4].length)}var bJ=/^#*0*\.([0#]+)/,_J=/\).*[0#]/,jJ=/\(###\) ###\\?-####/;function Vs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function JM(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function ZM(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function AIe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function PIe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function vo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_J)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vo("n",n,r):"("+vo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return kIe(e,t,r);if(t.indexOf("%")!==-1)return NIe(e,t,r);if(t.indexOf("E")!==-1)return yJ(t,r);if(t.charCodeAt(0)===36)return"$"+vo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+fm(c,t.length);if(t.match(/^[#?]+$/))return a=fm(r,0),a==="0"&&(a=""),a.length>t.length?a:Vs(t.substr(0,t.length-a.length))+a;if(s=t.match(wJ))return EIe(s,c,u);if(t.match(/^#+0+$/))return u+fm(c,t.length-t.indexOf("0"));if(s=t.match(bJ))return a=JM(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Vs(s[1])).replace(/\.$/,"."+Vs(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+ea("0",Vs(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+JM(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+hd(fm(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vo(e,t,-r):hd(""+(Math.floor(r)+AIe(r,s[1].length)))+"."+pl(ZM(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return vo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=rp(vo(e,t.replace(/[\\-]/g,""),r)),o=0,rp(rp(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<a.length?a.charAt(o++):v==="0"?"0":""}));if(t.match(jJ))return a=vo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=t2(c,Math.pow(10,o)-1,!1),a=""+u,d=Jc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Qb(l[2],o),d.length<s[4].length&&(d=Vs(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=t2(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?AP(l[1],o)+s[2]+"/"+s[3]+Qb(l[2],o):ea(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=fm(r,0),t.length<=a.length?a:Vs(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Vs(t.substr(0,f)+a+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=ZM(r,s[1].length),r<0?"-"+vo(e,t,-r):hd(PIe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?pl(0,3-v.length):"")+v})+"."+pl(o,s[1].length);switch(t){case"###,##0.00":return vo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=hd(fm(c,0));return h!=="0"?u+h:"";case"###,###.00":return vo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return vo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function TIe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Jc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function OIe(e,t,r){var n=t.replace(xJ,""),a=t.length-n.length;return Jc(e,n,r*Math.pow(10,2*a))+ea("%",a)}function SJ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+SJ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Hl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_J)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Hl("n",n,r):"("+Hl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return TIe(e,t,r);if(t.indexOf("%")!==-1)return OIe(e,t,r);if(t.indexOf("E")!==-1)return SJ(t,r);if(t.charCodeAt(0)===36)return"$"+Hl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+pl(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Vs(t.substr(0,t.length-a.length))+a;if(s=t.match(wJ))return CIe(s,c,u);if(t.match(/^#+0+$/))return u+pl(c,t.length-t.indexOf("0"));if(s=t.match(bJ))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Vs(s[1])).replace(/\.$/,"."+Vs(s[1])),a=a.replace(/\.(\d*)$/,function(v,g){return"."+g+ea("0",Vs(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+hd(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Hl(e,t,-r):hd(""+r)+"."+ea("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Hl(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=rp(Hl(e,t.replace(/[\\-]/g,""),r)),o=0,rp(rp(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<a.length?a.charAt(o++):v==="0"?"0":""}));if(t.match(jJ))return a=Hl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=t2(c,Math.pow(10,o)-1,!1),a=""+u,d=Jc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Qb(l[2],o),d.length<s[4].length&&(d=Vs(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=t2(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?AP(l[1],o)+s[2]+"/"+s[3]+Qb(l[2],o):ea(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Vs(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Vs(t.substr(0,f)+a+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Hl(e,t,-r):hd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?pl(0,3-v.length):"")+v})+"."+pl(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=hd(""+c);return h!=="0"?u+h:"";default:if(t.match(/\.[0#?]*$/))return Hl(e,t.slice(0,t.lastIndexOf(".")),r)+Vs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Jc(e,t,r){return(r|0)===r?Hl(e,t,r):vo(e,t,r)}function RIe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var NJ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function kJ(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":e2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(NJ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function IIe(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!e2(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var h=e.charAt(++o),v=h==="("||h===")"?h:"t";a[a.length]={t:v,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=w1(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=w1(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=w1(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,m="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(NJ)){if(u==null&&(u=w1(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",kJ(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var y=0,x=0,b;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",y<1&&(y=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(x=Math.max(x,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[o].v.match(/[Hh]/)&&(y=1),y<2&&a[o].v.match(/[Mm]/)&&(y=2),y<3&&a[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var _="",w;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=SIe(a[o].t.charCodeAt(0),a[o].v,u,x),a[o].t="t";break;case"n":case"?":for(w=o+1;a[w]!=null&&((l=a[w].t)==="?"||l==="D"||(l===" "||l==="t")&&a[w+1]!=null&&(a[w+1].t==="?"||a[w+1].t==="t"&&a[w+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[w].v==="/"||a[w].v===" "&&a[w+1]!=null&&a[w+1].t=="?"));)a[o].v+=a[w].v,a[w]={v:"",t:";"},++w;_+=a[o].v,o=w-1;break;case"G":a[o].t="t",a[o].v=hE(t,r);break}var N="",C,j;if(_.length>0){_.charCodeAt(0)==40?(C=t<0&&_.charCodeAt(0)===45?-t:t,j=Jc("n",_,C)):(C=t<0&&n>1?-t:t,j=Jc("n",_,C),C<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),w=j.length-1;var A=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){A=o;break}var k=a.length;if(A===a.length&&j.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(w>=a[o].v.length-1?(w-=a[o].v.length,a[o].v=j.substr(w+1,a[o].v.length)):w<0?a[o].v="":(a[o].v=j.substr(0,w+1),w=-1),a[o].t="t",k=o);w>=0&&k<a.length&&(a[k].v=j.substr(0,w+1)+a[k].v)}else if(A!==a.length&&j.indexOf("E")===-1){for(w=j.indexOf(".")-1,o=A;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(d+1);d>=0;--d)w>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(N=j.charAt(w--)+N);a[o].v=N,a[o].t="t",k=o}for(w>=0&&k<a.length&&(a[k].v=j.substr(0,w+1)+a[k].v),w=j.indexOf(".")+1,o=A;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==A)){for(d=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,d);d<a[o].v.length;++d)w<j.length&&(N+=j.charAt(w++));a[o].v=N,a[o].t="t",k=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(C=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Jc(a[o].t,a[o].v,C),a[o].t="t");var I="";for(o=0;o!==a.length;++o)a[o]!=null&&(I+=a[o].v);return I}var QM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function eF(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function DIe(e,t){var r=RIe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(QM),l=r[1].match(QM);return eF(t,o)?[n,r[0]]:eF(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function Md(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:na)[e],n==null&&(n=r.table&&r.table[XM[e]]||na[XM[e]]),n==null&&(n=gIe[e]||"General");break}if(e2(n,0))return hE(t,r);t instanceof Date&&(t=vJ(t,r.date1904));var a=DIe(n,t);if(e2(a[1]))return hE(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return IIe(a[1],t,r,a[0])}function EJ(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(na[r]==null){t<0&&(t=r);continue}if(na[r]==e){t=r;break}}t<0&&(t=391)}return na[t]=e,t}function wj(e){for(var t=0;t!=392;++t)e[t]!==void 0&&EJ(e[t],t)}function bj(){na=pIe()}var CJ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function LIe(e){var t=typeof e=="number"?na[e]:e;return t=t.replace(CJ,"(\\d+)"),new RegExp("^"+t+"$")}function MIe(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(CJ)||[]).forEach(function(f,m){var h=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":s=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:a=h;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var FIe=function(){var e={};e.version="1.2.0";function t(){for(var j=0,A=new Array(256),k=0;k!=256;++k)j=k,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,A[k]=j;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(j){var A=0,k=0,I=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)T[I]=j[I];for(I=0;I!=256;++I)for(k=j[I],A=256+I;A<4096;A+=256)k=T[A]=k>>>8^j[k&255];var P=[];for(I=1;I!=16;++I)P[I-1]=typeof Int32Array<"u"?T.subarray(I*256,I*256+256):T.slice(I*256,I*256+256);return P}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],m=a[7],h=a[8],v=a[9],g=a[10],y=a[11],x=a[12],b=a[13],_=a[14];function w(j,A){for(var k=A^-1,I=0,T=j.length;I<T;)k=k>>>8^r[(k^j.charCodeAt(I++))&255];return~k}function N(j,A){for(var k=A^-1,I=j.length-15,T=0;T<I;)k=_[j[T++]^k&255]^b[j[T++]^k>>8&255]^x[j[T++]^k>>16&255]^y[j[T++]^k>>>24]^g[j[T++]]^v[j[T++]]^h[j[T++]]^m[j[T++]]^f[j[T++]]^d[j[T++]]^u[j[T++]]^c[j[T++]]^l[j[T++]]^o[j[T++]]^s[j[T++]]^r[j[T++]];for(I+=15;T<I;)k=k>>>8^r[(k^j[T++])&255];return~k}function C(j,A){for(var k=A^-1,I=0,T=j.length,P=0,V=0;I<T;)P=j.charCodeAt(I++),P<128?k=k>>>8^r[(k^P)&255]:P<2048?(k=k>>>8^r[(k^(192|P>>6&31))&255],k=k>>>8^r[(k^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,V=j.charCodeAt(I++)&1023,k=k>>>8^r[(k^(240|P>>8&7))&255],k=k>>>8^r[(k^(128|P>>2&63))&255],k=k>>>8^r[(k^(128|V>>6&15|(P&3)<<4))&255],k=k>>>8^r[(k^(128|V&63))&255]):(k=k>>>8^r[(k^(224|P>>12&15))&255],k=k>>>8^r[(k^(128|P>>6&63))&255],k=k>>>8^r[(k^(128|P&63))&255]);return~k}return e.table=r,e.bstr=w,e.buf=N,e.str=C,e}(),sn=function(){var t={};t.version="1.2.1";function r(Z,fe){for(var se=Z.split("/"),le=fe.split("/"),he=0,ge=0,Oe=Math.min(se.length,le.length);he<Oe;++he){if(ge=se[he].length-le[he].length)return ge;if(se[he]!=le[he])return se[he]<le[he]?-1:1}return se.length-le.length}function n(Z){if(Z.charAt(Z.length-1)=="/")return Z.slice(0,-1).indexOf("/")===-1?Z:n(Z.slice(0,-1));var fe=Z.lastIndexOf("/");return fe===-1?Z:Z.slice(0,fe+1)}function a(Z){if(Z.charAt(Z.length-1)=="/")return a(Z.slice(0,-1));var fe=Z.lastIndexOf("/");return fe===-1?Z:Z.slice(fe+1)}function s(Z,fe){typeof fe=="string"&&(fe=new Date(fe));var se=fe.getHours();se=se<<6|fe.getMinutes(),se=se<<5|fe.getSeconds()>>>1,Z.write_shift(2,se);var le=fe.getFullYear()-1980;le=le<<4|fe.getMonth()+1,le=le<<5|fe.getDate(),Z.write_shift(2,le)}function o(Z){var fe=Z.read_shift(2)&65535,se=Z.read_shift(2)&65535,le=new Date,he=se&31;se>>>=5;var ge=se&15;se>>>=4,le.setMilliseconds(0),le.setFullYear(se+1980),le.setMonth(ge-1),le.setDate(he);var Oe=fe&31;fe>>>=5;var Be=fe&63;return fe>>>=6,le.setHours(fe),le.setMinutes(Be),le.setSeconds(Oe<<1),le}function l(Z){Mi(Z,0);for(var fe={},se=0;Z.l<=Z.length-4;){var le=Z.read_shift(2),he=Z.read_shift(2),ge=Z.l+he,Oe={};switch(le){case 21589:se=Z.read_shift(1),se&1&&(Oe.mtime=Z.read_shift(4)),he>5&&(se&2&&(Oe.atime=Z.read_shift(4)),se&4&&(Oe.ctime=Z.read_shift(4))),Oe.mtime&&(Oe.mt=new Date(Oe.mtime*1e3));break}Z.l=ge,fe[le]=Oe}return fe}var c;function u(){return c||(c={})}function d(Z,fe){if(Z[0]==80&&Z[1]==75)return rr(Z,fe);if((Z[0]|32)==109&&(Z[1]|32)==105)return Xt(Z,fe);if(Z.length<512)throw new Error("CFB file size "+Z.length+" < 512");var se=3,le=512,he=0,ge=0,Oe=0,Be=0,Re=0,De=[],Fe=Z.slice(0,512);Mi(Fe,0);var st=f(Fe);switch(se=st[0],se){case 3:le=512;break;case 4:le=4096;break;case 0:if(st[1]==0)return rr(Z,fe);default:throw new Error("Major Version: Expected 3 or 4 saw "+se)}le!==512&&(Fe=Z.slice(0,le),Mi(Fe,28));var ft=Z.slice(0,le);m(Fe,se);var St=Fe.read_shift(4,"i");if(se===3&&St!==0)throw new Error("# Directory Sectors: Expected 0 saw "+St);Fe.l+=4,Oe=Fe.read_shift(4,"i"),Fe.l+=4,Fe.chk("00100000","Mini Stream Cutoff Size: "),Be=Fe.read_shift(4,"i"),he=Fe.read_shift(4,"i"),Re=Fe.read_shift(4,"i"),ge=Fe.read_shift(4,"i");for(var ct=-1,xt=0;xt<109&&(ct=Fe.read_shift(4,"i"),!(ct<0));++xt)De[xt]=ct;var sr=h(Z,le);y(Re,ge,sr,le,De);var an=b(sr,Oe,De,le);an[Oe].name="!Directory",he>0&&Be!==V&&(an[Be].name="!MiniFAT"),an[De[0]].name="!FAT",an.fat_addrs=De,an.ssz=le;var Sr={},qn=[],Tl=[],Vo=[];_(Oe,an,sr,qn,he,Sr,Tl,Be),v(Tl,Vo,qn),qn.shift();var Ol={FileIndex:Tl,FullPaths:Vo};return fe&&fe.raw&&(Ol.raw={header:ft,sectors:sr}),Ol}function f(Z){if(Z[Z.l]==80&&Z[Z.l+1]==75)return[0,0];Z.chk(F,"Header Signature: "),Z.l+=16;var fe=Z.read_shift(2,"u");return[Z.read_shift(2,"u"),fe]}function m(Z,fe){var se=9;switch(Z.l+=2,se=Z.read_shift(2)){case 9:if(fe!=3)throw new Error("Sector Shift: Expected 9 saw "+se);break;case 12:if(fe!=4)throw new Error("Sector Shift: Expected 12 saw "+se);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+se)}Z.chk("0600","Mini Sector Shift: "),Z.chk("000000000000","Reserved: ")}function h(Z,fe){for(var se=Math.ceil(Z.length/fe)-1,le=[],he=1;he<se;++he)le[he-1]=Z.slice(he*fe,(he+1)*fe);return le[se-1]=Z.slice(se*fe),le}function v(Z,fe,se){for(var le=0,he=0,ge=0,Oe=0,Be=0,Re=se.length,De=[],Fe=[];le<Re;++le)De[le]=Fe[le]=le,fe[le]=se[le];for(;Be<Fe.length;++Be)le=Fe[Be],he=Z[le].L,ge=Z[le].R,Oe=Z[le].C,De[le]===le&&(he!==-1&&De[he]!==he&&(De[le]=De[he]),ge!==-1&&De[ge]!==ge&&(De[le]=De[ge])),Oe!==-1&&(De[Oe]=le),he!==-1&&le!=De[le]&&(De[he]=De[le],Fe.lastIndexOf(he)<Be&&Fe.push(he)),ge!==-1&&le!=De[le]&&(De[ge]=De[le],Fe.lastIndexOf(ge)<Be&&Fe.push(ge));for(le=1;le<Re;++le)De[le]===le&&(ge!==-1&&De[ge]!==ge?De[le]=De[ge]:he!==-1&&De[he]!==he&&(De[le]=De[he]));for(le=1;le<Re;++le)if(Z[le].type!==0){if(Be=le,Be!=De[Be])do Be=De[Be],fe[le]=fe[Be]+"/"+fe[le];while(Be!==0&&De[Be]!==-1&&Be!=De[Be]);De[le]=-1}for(fe[0]+="/",le=1;le<Re;++le)Z[le].type!==2&&(fe[le]+="/")}function g(Z,fe,se){for(var le=Z.start,he=Z.size,ge=[],Oe=le;se&&he>0&&Oe>=0;)ge.push(fe.slice(Oe*P,Oe*P+P)),he-=P,Oe=kf(se,Oe*4);return ge.length===0?Ve(0):vs(ge).slice(0,Z.size)}function y(Z,fe,se,le,he){var ge=V;if(Z===V){if(fe!==0)throw new Error("DIFAT chain shorter than expected")}else if(Z!==-1){var Oe=se[Z],Be=(le>>>2)-1;if(!Oe)return;for(var Re=0;Re<Be&&(ge=kf(Oe,Re*4))!==V;++Re)he.push(ge);y(kf(Oe,le-4),fe-1,se,le,he)}}function x(Z,fe,se,le,he){var ge=[],Oe=[];he||(he=[]);var Be=le-1,Re=0,De=0;for(Re=fe;Re>=0;){he[Re]=!0,ge[ge.length]=Re,Oe.push(Z[Re]);var Fe=se[Math.floor(Re*4/le)];if(De=Re*4&Be,le<4+De)throw new Error("FAT boundary crossed: "+Re+" 4 "+le);if(!Z[Fe])break;Re=kf(Z[Fe],De)}return{nodes:ge,data:lF([Oe])}}function b(Z,fe,se,le){var he=Z.length,ge=[],Oe=[],Be=[],Re=[],De=le-1,Fe=0,st=0,ft=0,St=0;for(Fe=0;Fe<he;++Fe)if(Be=[],ft=Fe+fe,ft>=he&&(ft-=he),!Oe[ft]){Re=[];var ct=[];for(st=ft;st>=0;){ct[st]=!0,Oe[st]=!0,Be[Be.length]=st,Re.push(Z[st]);var xt=se[Math.floor(st*4/le)];if(St=st*4&De,le<4+St)throw new Error("FAT boundary crossed: "+st+" 4 "+le);if(!Z[xt]||(st=kf(Z[xt],St),ct[st]))break}ge[ft]={nodes:Be,data:lF([Re])}}return ge}function _(Z,fe,se,le,he,ge,Oe,Be){for(var Re=0,De=le.length?2:0,Fe=fe[Z].data,st=0,ft=0,St;st<Fe.length;st+=128){var ct=Fe.slice(st,st+128);Mi(ct,64),ft=ct.read_shift(2),St=DP(ct,0,ft-De),le.push(St);var xt={name:St,type:ct.read_shift(1),color:ct.read_shift(1),L:ct.read_shift(4,"i"),R:ct.read_shift(4,"i"),C:ct.read_shift(4,"i"),clsid:ct.read_shift(16),state:ct.read_shift(4,"i"),start:0,size:0},sr=ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2);sr!==0&&(xt.ct=w(ct,ct.l-8));var an=ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2);an!==0&&(xt.mt=w(ct,ct.l-8)),xt.start=ct.read_shift(4,"i"),xt.size=ct.read_shift(4,"i"),xt.size<0&&xt.start<0&&(xt.size=xt.type=0,xt.start=V,xt.name=""),xt.type===5?(Re=xt.start,he>0&&Re!==V&&(fe[Re].name="!StreamData")):xt.size>=4096?(xt.storage="fat",fe[xt.start]===void 0&&(fe[xt.start]=x(se,xt.start,fe.fat_addrs,fe.ssz)),fe[xt.start].name=xt.name,xt.content=fe[xt.start].data.slice(0,xt.size)):(xt.storage="minifat",xt.size<0?xt.size=0:Re!==V&&xt.start!==V&&fe[Re]&&(xt.content=g(xt,fe[Re].data,(fe[Be]||{}).data))),xt.content&&Mi(xt.content,0),ge[St]=xt,Oe.push(xt)}}function w(Z,fe){return new Date((Ui(Z,fe+4)/1e7*Math.pow(2,32)+Ui(Z,fe)/1e7-11644473600)*1e3)}function N(Z,fe){return u(),d(c.readFileSync(Z),fe)}function C(Z,fe){var se=fe&&fe.type;switch(se||$r&&Buffer.isBuffer(Z)&&(se="buffer"),se||"base64"){case"file":return N(Z,fe);case"base64":return d(hl(mu(Z)),fe);case"binary":return d(hl(Z),fe)}return d(Z,fe)}function j(Z,fe){var se=fe||{},le=se.root||"Root Entry";if(Z.FullPaths||(Z.FullPaths=[]),Z.FileIndex||(Z.FileIndex=[]),Z.FullPaths.length!==Z.FileIndex.length)throw new Error("inconsistent CFB structure");Z.FullPaths.length===0&&(Z.FullPaths[0]=le+"/",Z.FileIndex[0]={name:le,type:5}),se.CLSID&&(Z.FileIndex[0].clsid=se.CLSID),A(Z)}function A(Z){var fe="Sh33tJ5";if(!sn.find(Z,"/"+fe)){var se=Ve(4);se[0]=55,se[1]=se[3]=50,se[2]=54,Z.FileIndex.push({name:fe,type:2,content:se,size:4,L:69,R:69,C:69}),Z.FullPaths.push(Z.FullPaths[0]+fe),k(Z)}}function k(Z,fe){j(Z);for(var se=!1,le=!1,he=Z.FullPaths.length-1;he>=0;--he){var ge=Z.FileIndex[he];switch(ge.type){case 0:le?se=!0:(Z.FileIndex.pop(),Z.FullPaths.pop());break;case 1:case 2:case 5:le=!0,isNaN(ge.R*ge.L*ge.C)&&(se=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(se=!0);break;default:se=!0;break}}if(!(!se&&!fe)){var Oe=new Date(1987,1,19),Be=0,Re=Object.create?Object.create(null):{},De=[];for(he=0;he<Z.FullPaths.length;++he)Re[Z.FullPaths[he]]=!0,Z.FileIndex[he].type!==0&&De.push([Z.FullPaths[he],Z.FileIndex[he]]);for(he=0;he<De.length;++he){var Fe=n(De[he][0]);le=Re[Fe],le||(De.push([Fe,{name:a(Fe).replace("/",""),type:1,clsid:re,ct:Oe,mt:Oe,content:null}]),Re[Fe]=!0)}for(De.sort(function(St,ct){return r(St[0],ct[0])}),Z.FullPaths=[],Z.FileIndex=[],he=0;he<De.length;++he)Z.FullPaths[he]=De[he][0],Z.FileIndex[he]=De[he][1];for(he=0;he<De.length;++he){var st=Z.FileIndex[he],ft=Z.FullPaths[he];if(st.name=a(ft).replace("/",""),st.L=st.R=st.C=-(st.color=1),st.size=st.content?st.content.length:0,st.start=0,st.clsid=st.clsid||re,he===0)st.C=De.length>1?1:-1,st.size=0,st.type=5;else if(ft.slice(-1)=="/"){for(Be=he+1;Be<De.length&&n(Z.FullPaths[Be])!=ft;++Be);for(st.C=Be>=De.length?-1:Be,Be=he+1;Be<De.length&&n(Z.FullPaths[Be])!=n(ft);++Be);st.R=Be>=De.length?-1:Be,st.type=1}else n(Z.FullPaths[he+1]||"")==n(ft)&&(st.R=he+1),st.type=2}}}function I(Z,fe){var se=fe||{};if(se.fileType=="mad")return Ho(Z,se);switch(k(Z),se.fileType){case"zip":return Qt(Z,se)}var le=function(St){for(var ct=0,xt=0,sr=0;sr<St.FileIndex.length;++sr){var an=St.FileIndex[sr];if(an.content){var Sr=an.content.length;Sr>0&&(Sr<4096?ct+=Sr+63>>6:xt+=Sr+511>>9)}}for(var qn=St.FullPaths.length+3>>2,Tl=ct+7>>3,Vo=ct+127>>7,Ol=Tl+xt+qn+Vo,oo=Ol+127>>7,Cu=oo<=109?0:Math.ceil((oo-109)/127);Ol+oo+Cu+127>>7>oo;)Cu=++oo<=109?0:Math.ceil((oo-109)/127);var ga=[1,Cu,oo,Vo,qn,xt,ct,0];return St.FileIndex[0].size=ct<<6,ga[7]=(St.FileIndex[0].start=ga[0]+ga[1]+ga[2]+ga[3]+ga[4]+ga[5])+(ga[6]+7>>3),ga}(Z),he=Ve(le[7]<<9),ge=0,Oe=0;{for(ge=0;ge<8;++ge)he.write_shift(1,Y[ge]);for(ge=0;ge<8;++ge)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),ge=0;ge<3;++ge)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,le[2]),he.write_shift(4,le[0]+le[1]+le[2]+le[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,le[3]?le[0]+le[1]+le[2]-1:V),he.write_shift(4,le[3]),he.write_shift(-4,le[1]?le[0]-1:V),he.write_shift(4,le[1]),ge=0;ge<109;++ge)he.write_shift(-4,ge<le[2]?le[1]+ge:-1)}if(le[1])for(Oe=0;Oe<le[1];++Oe){for(;ge<236+Oe*127;++ge)he.write_shift(-4,ge<le[2]?le[1]+ge:-1);he.write_shift(-4,Oe===le[1]-1?V:Oe+1)}var Be=function(St){for(Oe+=St;ge<Oe-1;++ge)he.write_shift(-4,ge+1);St&&(++ge,he.write_shift(-4,V))};for(Oe=ge=0,Oe+=le[1];ge<Oe;++ge)he.write_shift(-4,U.DIFSECT);for(Oe+=le[2];ge<Oe;++ge)he.write_shift(-4,U.FATSECT);Be(le[3]),Be(le[4]);for(var Re=0,De=0,Fe=Z.FileIndex[0];Re<Z.FileIndex.length;++Re)Fe=Z.FileIndex[Re],Fe.content&&(De=Fe.content.length,!(De<4096)&&(Fe.start=Oe,Be(De+511>>9)));for(Be(le[6]+7>>3);he.l&511;)he.write_shift(-4,U.ENDOFCHAIN);for(Oe=ge=0,Re=0;Re<Z.FileIndex.length;++Re)Fe=Z.FileIndex[Re],Fe.content&&(De=Fe.content.length,!(!De||De>=4096)&&(Fe.start=Oe,Be(De+63>>6)));for(;he.l&511;)he.write_shift(-4,U.ENDOFCHAIN);for(ge=0;ge<le[4]<<2;++ge){var st=Z.FullPaths[ge];if(!st||st.length===0){for(Re=0;Re<17;++Re)he.write_shift(4,0);for(Re=0;Re<3;++Re)he.write_shift(4,-1);for(Re=0;Re<12;++Re)he.write_shift(4,0);continue}Fe=Z.FileIndex[ge],ge===0&&(Fe.start=Fe.size?Fe.start-1:V);var ft=ge===0&&se.root||Fe.name;if(De=2*(ft.length+1),he.write_shift(64,ft,"utf16le"),he.write_shift(2,De),he.write_shift(1,Fe.type),he.write_shift(1,Fe.color),he.write_shift(-4,Fe.L),he.write_shift(-4,Fe.R),he.write_shift(-4,Fe.C),Fe.clsid)he.write_shift(16,Fe.clsid,"hex");else for(Re=0;Re<4;++Re)he.write_shift(4,0);he.write_shift(4,Fe.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,Fe.start),he.write_shift(4,Fe.size),he.write_shift(4,0)}for(ge=1;ge<Z.FileIndex.length;++ge)if(Fe=Z.FileIndex[ge],Fe.size>=4096)if(he.l=Fe.start+1<<9,$r&&Buffer.isBuffer(Fe.content))Fe.content.copy(he,he.l,0,Fe.size),he.l+=Fe.size+511&-512;else{for(Re=0;Re<Fe.size;++Re)he.write_shift(1,Fe.content[Re]);for(;Re&511;++Re)he.write_shift(1,0)}for(ge=1;ge<Z.FileIndex.length;++ge)if(Fe=Z.FileIndex[ge],Fe.size>0&&Fe.size<4096)if($r&&Buffer.isBuffer(Fe.content))Fe.content.copy(he,he.l,0,Fe.size),he.l+=Fe.size+63&-64;else{for(Re=0;Re<Fe.size;++Re)he.write_shift(1,Fe.content[Re]);for(;Re&63;++Re)he.write_shift(1,0)}if($r)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function T(Z,fe){var se=Z.FullPaths.map(function(Re){return Re.toUpperCase()}),le=se.map(function(Re){var De=Re.split("/");return De[De.length-(Re.slice(-1)=="/"?2:1)]}),he=!1;fe.charCodeAt(0)===47?(he=!0,fe=se[0].slice(0,-1)+fe):he=fe.indexOf("/")!==-1;var ge=fe.toUpperCase(),Oe=he===!0?se.indexOf(ge):le.indexOf(ge);if(Oe!==-1)return Z.FileIndex[Oe];var Be=!ge.match(y1);for(ge=ge.replace(Pg,""),Be&&(ge=ge.replace(y1,"!")),Oe=0;Oe<se.length;++Oe)if((Be?se[Oe].replace(y1,"!"):se[Oe]).replace(Pg,"")==ge||(Be?le[Oe].replace(y1,"!"):le[Oe]).replace(Pg,"")==ge)return Z.FileIndex[Oe];return null}var P=64,V=-2,F="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",U={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:F,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(Z,fe,se){u();var le=I(Z,se);c.writeFileSync(fe,le)}function X(Z){for(var fe=new Array(Z.length),se=0;se<Z.length;++se)fe[se]=String.fromCharCode(Z[se]);return fe.join("")}function pe(Z,fe){var se=I(Z,fe);switch(fe&&fe.type||"buffer"){case"file":return u(),c.writeFileSync(fe.filename,se),se;case"binary":return typeof se=="string"?se:X(se);case"base64":return Ov(typeof se=="string"?se:X(se));case"buffer":if($r)return Buffer.isBuffer(se)?se:Eu(se);case"array":return typeof se=="string"?hl(se):se}return se}var xe;function D(Z){try{var fe=Z.InflateRaw,se=new fe;if(se._processChunk(new Uint8Array([3,0]),se._finishFlushFlag),se.bytesRead)xe=Z;else throw new Error("zlib does not expose bytesRead")}catch(le){console.error("cannot use native zlib: "+(le.message||le))}}function M(Z,fe){if(!xe)return jr(Z,fe);var se=xe.InflateRaw,le=new se,he=le._processChunk(Z.slice(Z.l),le._finishFlushFlag);return Z.l+=le.bytesRead,he}function R(Z){return xe?xe.deflateRawSync(Z):qe(Z)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],W=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function te(Z){var fe=(Z<<1|Z<<11)&139536|(Z<<5|Z<<15)&558144;return(fe>>16|fe>>8|fe)&255}for(var J=typeof Uint8Array<"u",oe=J?new Uint8Array(256):[],_e=0;_e<256;++_e)oe[_e]=te(_e);function ve(Z,fe){var se=oe[Z&255];return fe<=8?se>>>8-fe:(se=se<<8|oe[Z>>8&255],fe<=16?se>>>16-fe:(se=se<<8|oe[Z>>16&255],se>>>24-fe))}function We(Z,fe){var se=fe&7,le=fe>>>3;return(Z[le]|(se<=6?0:Z[le+1]<<8))>>>se&3}function ze(Z,fe){var se=fe&7,le=fe>>>3;return(Z[le]|(se<=5?0:Z[le+1]<<8))>>>se&7}function ae(Z,fe){var se=fe&7,le=fe>>>3;return(Z[le]|(se<=4?0:Z[le+1]<<8))>>>se&15}function $e(Z,fe){var se=fe&7,le=fe>>>3;return(Z[le]|(se<=3?0:Z[le+1]<<8))>>>se&31}function He(Z,fe){var se=fe&7,le=fe>>>3;return(Z[le]|(se<=1?0:Z[le+1]<<8))>>>se&127}function nt(Z,fe,se){var le=fe&7,he=fe>>>3,ge=(1<<se)-1,Oe=Z[he]>>>le;return se<8-le||(Oe|=Z[he+1]<<8-le,se<16-le)||(Oe|=Z[he+2]<<16-le,se<24-le)||(Oe|=Z[he+3]<<24-le),Oe&ge}function Ke(Z,fe,se){var le=fe&7,he=fe>>>3;return le<=5?Z[he]|=(se&7)<<le:(Z[he]|=se<<le&255,Z[he+1]=(se&7)>>8-le),fe+3}function tt(Z,fe,se){var le=fe&7,he=fe>>>3;return se=(se&1)<<le,Z[he]|=se,fe+1}function at(Z,fe,se){var le=fe&7,he=fe>>>3;return se<<=le,Z[he]|=se&255,se>>>=8,Z[he+1]=se,fe+8}function pt(Z,fe,se){var le=fe&7,he=fe>>>3;return se<<=le,Z[he]|=se&255,se>>>=8,Z[he+1]=se&255,Z[he+2]=se>>>8,fe+16}function kt(Z,fe){var se=Z.length,le=2*se>fe?2*se:fe+5,he=0;if(se>=fe)return Z;if($r){var ge=GM(le);if(Z.copy)Z.copy(ge);else for(;he<Z.length;++he)ge[he]=Z[he];return ge}else if(J){var Oe=new Uint8Array(le);if(Oe.set)Oe.set(Z);else for(;he<se;++he)Oe[he]=Z[he];return Oe}return Z.length=le,Z}function Jt(Z){for(var fe=new Array(Z),se=0;se<Z;++se)fe[se]=0;return fe}function Yt(Z,fe,se){var le=1,he=0,ge=0,Oe=0,Be=0,Re=Z.length,De=J?new Uint16Array(32):Jt(32);for(ge=0;ge<32;++ge)De[ge]=0;for(ge=Re;ge<se;++ge)Z[ge]=0;Re=Z.length;var Fe=J?new Uint16Array(Re):Jt(Re);for(ge=0;ge<Re;++ge)De[he=Z[ge]]++,le<he&&(le=he),Fe[ge]=0;for(De[0]=0,ge=1;ge<=le;++ge)De[ge+16]=Be=Be+De[ge-1]<<1;for(ge=0;ge<Re;++ge)Be=Z[ge],Be!=0&&(Fe[ge]=De[Be+16]++);var st=0;for(ge=0;ge<Re;++ge)if(st=Z[ge],st!=0)for(Be=ve(Fe[ge],le)>>le-st,Oe=(1<<le+4-st)-1;Oe>=0;--Oe)fe[Be|Oe<<st]=st&15|ge<<4;return le}var Zt=J?new Uint16Array(512):Jt(512),fr=J?new Uint16Array(32):Jt(32);if(!J){for(var ar=0;ar<512;++ar)Zt[ar]=0;for(ar=0;ar<32;++ar)fr[ar]=0}(function(){for(var Z=[],fe=0;fe<32;fe++)Z.push(5);Yt(Z,fr,32);var se=[];for(fe=0;fe<=143;fe++)se.push(8);for(;fe<=255;fe++)se.push(9);for(;fe<=279;fe++)se.push(7);for(;fe<=287;fe++)se.push(8);Yt(se,Zt,288)})();var we=function(){for(var fe=J?new Uint8Array(32768):[],se=0,le=0;se<W.length-1;++se)for(;le<W[se+1];++le)fe[le]=se;for(;le<32768;++le)fe[le]=29;var he=J?new Uint8Array(259):[];for(se=0,le=0;se<B.length-1;++se)for(;le<B[se+1];++le)he[le]=se;function ge(Be,Re){for(var De=0;De<Be.length;){var Fe=Math.min(65535,Be.length-De),st=De+Fe==Be.length;for(Re.write_shift(1,+st),Re.write_shift(2,Fe),Re.write_shift(2,~Fe&65535);Fe-- >0;)Re[Re.l++]=Be[De++]}return Re.l}function Oe(Be,Re){for(var De=0,Fe=0,st=J?new Uint16Array(32768):[];Fe<Be.length;){var ft=Math.min(65535,Be.length-Fe);if(ft<10){for(De=Ke(Re,De,+(Fe+ft==Be.length)),De&7&&(De+=8-(De&7)),Re.l=De/8|0,Re.write_shift(2,ft),Re.write_shift(2,~ft&65535);ft-- >0;)Re[Re.l++]=Be[Fe++];De=Re.l*8;continue}De=Ke(Re,De,+(Fe+ft==Be.length)+2);for(var St=0;ft-- >0;){var ct=Be[Fe];St=(St<<5^ct)&32767;var xt=-1,sr=0;if((xt=st[St])&&(xt|=Fe&-32768,xt>Fe&&(xt-=32768),xt<Fe))for(;Be[xt+sr]==Be[Fe+sr]&&sr<250;)++sr;if(sr>2){ct=he[sr],ct<=22?De=at(Re,De,oe[ct+1]>>1)-1:(at(Re,De,3),De+=5,at(Re,De,oe[ct-23]>>5),De+=3);var an=ct<8?0:ct-4>>2;an>0&&(pt(Re,De,sr-B[ct]),De+=an),ct=fe[Fe-xt],De=at(Re,De,oe[ct]>>3),De-=3;var Sr=ct<4?0:ct-2>>1;Sr>0&&(pt(Re,De,Fe-xt-W[ct]),De+=Sr);for(var qn=0;qn<sr;++qn)st[St]=Fe&32767,St=(St<<5^Be[Fe])&32767,++Fe;ft-=sr-1}else ct<=143?ct=ct+48:De=tt(Re,De,1),De=at(Re,De,oe[ct]),st[St]=Fe&32767,++Fe}De=at(Re,De,0)-1}return Re.l=(De+7)/8|0,Re.l}return function(Re,De){return Re.length<8?ge(Re,De):Oe(Re,De)}}();function qe(Z){var fe=Ve(50+Math.floor(Z.length*1.1)),se=we(Z,fe);return fe.slice(0,se)}var rt=J?new Uint16Array(32768):Jt(32768),tr=J?new Uint16Array(32768):Jt(32768),Lt=J?new Uint16Array(128):Jt(128),Gt=1,Ut=1;function Tr(Z,fe){var se=$e(Z,fe)+257;fe+=5;var le=$e(Z,fe)+1;fe+=5;var he=ae(Z,fe)+4;fe+=4;for(var ge=0,Oe=J?new Uint8Array(19):Jt(19),Be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Re=1,De=J?new Uint8Array(8):Jt(8),Fe=J?new Uint8Array(8):Jt(8),st=Oe.length,ft=0;ft<he;++ft)Oe[H[ft]]=ge=ze(Z,fe),Re<ge&&(Re=ge),De[ge]++,fe+=3;var St=0;for(De[0]=0,ft=1;ft<=Re;++ft)Fe[ft]=St=St+De[ft-1]<<1;for(ft=0;ft<st;++ft)(St=Oe[ft])!=0&&(Be[ft]=Fe[St]++);var ct=0;for(ft=0;ft<st;++ft)if(ct=Oe[ft],ct!=0){St=oe[Be[ft]]>>8-ct;for(var xt=(1<<7-ct)-1;xt>=0;--xt)Lt[St|xt<<ct]=ct&7|ft<<3}var sr=[];for(Re=1;sr.length<se+le;)switch(St=Lt[He(Z,fe)],fe+=St&7,St>>>=3){case 16:for(ge=3+We(Z,fe),fe+=2,St=sr[sr.length-1];ge-- >0;)sr.push(St);break;case 17:for(ge=3+ze(Z,fe),fe+=3;ge-- >0;)sr.push(0);break;case 18:for(ge=11+He(Z,fe),fe+=7;ge-- >0;)sr.push(0);break;default:sr.push(St),Re<St&&(Re=St);break}var an=sr.slice(0,se),Sr=sr.slice(se);for(ft=se;ft<286;++ft)an[ft]=0;for(ft=le;ft<30;++ft)Sr[ft]=0;return Gt=Yt(an,rt,286),Ut=Yt(Sr,tr,30),fe}function Nt(Z,fe){if(Z[0]==3&&!(Z[1]&3))return[hh(fe),2];for(var se=0,le=0,he=GM(fe||1<<18),ge=0,Oe=he.length>>>0,Be=0,Re=0;!(le&1);){if(le=ze(Z,se),se+=3,le>>>1)le>>1==1?(Be=9,Re=5):(se=Tr(Z,se),Be=Gt,Re=Ut);else{se&7&&(se+=8-(se&7));var De=Z[se>>>3]|Z[(se>>>3)+1]<<8;if(se+=32,De>0)for(!fe&&Oe<ge+De&&(he=kt(he,ge+De),Oe=he.length);De-- >0;)he[ge++]=Z[se>>>3],se+=8;continue}for(;;){!fe&&Oe<ge+32767&&(he=kt(he,ge+32767),Oe=he.length);var Fe=nt(Z,se,Be),st=le>>>1==1?Zt[Fe]:rt[Fe];if(se+=st&15,st>>>=4,!(st>>>8&255))he[ge++]=st;else{if(st==256)break;st-=257;var ft=st<8?0:st-4>>2;ft>5&&(ft=0);var St=ge+B[st];ft>0&&(St+=nt(Z,se,ft),se+=ft),Fe=nt(Z,se,Re),st=le>>>1==1?fr[Fe]:tr[Fe],se+=st&15,st>>>=4;var ct=st<4?0:st-2>>1,xt=W[st];for(ct>0&&(xt+=nt(Z,se,ct),se+=ct),!fe&&Oe<St&&(he=kt(he,St+100),Oe=he.length);ge<St;)he[ge]=he[ge-xt],++ge}}}return fe?[he,se+7>>>3]:[he.slice(0,ge),se+7>>>3]}function jr(Z,fe){var se=Z.slice(Z.l||0),le=Nt(se,fe);return Z.l+=le[1],le[0]}function Kt(Z,fe){if(Z)typeof console<"u"&&console.error(fe);else throw new Error(fe)}function rr(Z,fe){var se=Z;Mi(se,0);var le=[],he=[],ge={FileIndex:le,FullPaths:he};j(ge,{root:fe.root});for(var Oe=se.length-4;(se[Oe]!=80||se[Oe+1]!=75||se[Oe+2]!=5||se[Oe+3]!=6)&&Oe>=0;)--Oe;se.l=Oe+4,se.l+=4;var Be=se.read_shift(2);se.l+=6;var Re=se.read_shift(4);for(se.l=Re,Oe=0;Oe<Be;++Oe){se.l+=20;var De=se.read_shift(4),Fe=se.read_shift(4),st=se.read_shift(2),ft=se.read_shift(2),St=se.read_shift(2);se.l+=8;var ct=se.read_shift(4),xt=l(se.slice(se.l+st,se.l+st+ft));se.l+=st+ft+St;var sr=se.l;se.l=ct+4,Vr(se,De,Fe,ge,xt),se.l=sr}return ge}function Vr(Z,fe,se,le,he){Z.l+=2;var ge=Z.read_shift(2),Oe=Z.read_shift(2),Be=o(Z);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var Re=Z.read_shift(4),De=Z.read_shift(4),Fe=Z.read_shift(4),st=Z.read_shift(2),ft=Z.read_shift(2),St="",ct=0;ct<st;++ct)St+=String.fromCharCode(Z[Z.l++]);if(ft){var xt=l(Z.slice(Z.l,Z.l+ft));(xt[21589]||{}).mt&&(Be=xt[21589].mt),((he||{})[21589]||{}).mt&&(Be=he[21589].mt)}Z.l+=ft;var sr=Z.slice(Z.l,Z.l+De);switch(Oe){case 8:sr=M(Z,Fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Oe)}var an=!1;ge&8&&(Re=Z.read_shift(4),Re==134695760&&(Re=Z.read_shift(4),an=!0),De=Z.read_shift(4),Fe=Z.read_shift(4)),De!=fe&&Kt(an,"Bad compressed size: "+fe+" != "+De),Fe!=se&&Kt(an,"Bad uncompressed size: "+se+" != "+Fe),Ns(le,St,sr,{unsafe:!0,mt:Be})}function Qt(Z,fe){var se=fe||{},le=[],he=[],ge=Ve(1),Oe=se.compression?8:0,Be=0,Re=0,De=0,Fe=0,st=0,ft=Z.FullPaths[0],St=ft,ct=Z.FileIndex[0],xt=[],sr=0;for(Re=1;Re<Z.FullPaths.length;++Re)if(St=Z.FullPaths[Re].slice(ft.length),ct=Z.FileIndex[Re],!(!ct.size||!ct.content||St=="Sh33tJ5")){var an=Fe,Sr=Ve(St.length);for(De=0;De<St.length;++De)Sr.write_shift(1,St.charCodeAt(De)&127);Sr=Sr.slice(0,Sr.l),xt[st]=FIe.buf(ct.content,0);var qn=ct.content;Oe==8&&(qn=R(qn)),ge=Ve(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,Be),ge.write_shift(2,Oe),ct.mt?s(ge,ct.mt):ge.write_shift(4,0),ge.write_shift(-4,xt[st]),ge.write_shift(4,qn.length),ge.write_shift(4,ct.content.length),ge.write_shift(2,Sr.length),ge.write_shift(2,0),Fe+=ge.length,le.push(ge),Fe+=Sr.length,le.push(Sr),Fe+=qn.length,le.push(qn),ge=Ve(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,Be),ge.write_shift(2,Oe),ge.write_shift(4,0),ge.write_shift(-4,xt[st]),ge.write_shift(4,qn.length),ge.write_shift(4,ct.content.length),ge.write_shift(2,Sr.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,an),sr+=ge.l,he.push(ge),sr+=Sr.length,he.push(Sr),++st}return ge=Ve(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,st),ge.write_shift(2,st),ge.write_shift(4,sr),ge.write_shift(4,Fe),ge.write_shift(2,0),vs([vs(le),vs(he),ge])}var qt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Er(Z,fe){if(Z.ctype)return Z.ctype;var se=Z.name||"",le=se.match(/\.([^\.]+)$/);return le&&qt[le[1]]||fe&&(le=(se=fe).match(/[\.\\]([^\.\\])+$/),le&&qt[le[1]])?qt[le[1]]:"application/octet-stream"}function vc(Z){for(var fe=Ov(Z),se=[],le=0;le<fe.length;le+=76)se.push(fe.slice(le,le+76));return se.join(`\r
`)+`\r
`}function Ha(Z){var fe=Z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(De){var Fe=De.charCodeAt(0).toString(16).toUpperCase();return"="+(Fe.length==1?"0"+Fe:Fe)});fe=fe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),fe.charAt(0)==`
`&&(fe="=0D"+fe.slice(1)),fe=fe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var se=[],le=fe.split(`\r
`),he=0;he<le.length;++he){var ge=le[he];if(ge.length==0){se.push("");continue}for(var Oe=0;Oe<ge.length;){var Be=76,Re=ge.slice(Oe,Oe+Be);Re.charAt(Be-1)=="="?Be--:Re.charAt(Be-2)=="="?Be-=2:Re.charAt(Be-3)=="="&&(Be-=3),Re=ge.slice(Oe,Oe+Be),Oe+=Be,Oe<ge.length&&(Re+="="),se.push(Re)}}return se.join(`\r
`)}function Wo(Z){for(var fe=[],se=0;se<Z.length;++se){for(var le=Z[se];se<=Z.length&&le.charAt(le.length-1)=="=";)le=le.slice(0,le.length-1)+Z[++se];fe.push(le)}for(var he=0;he<fe.length;++he)fe[he]=fe[he].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return hl(fe.join(`\r
`))}function io(Z,fe,se){for(var le="",he="",ge="",Oe,Be=0;Be<10;++Be){var Re=fe[Be];if(!Re||Re.match(/^\s*$/))break;var De=Re.match(/^(.*?):\s*([^\s].*)$/);if(De)switch(De[1].toLowerCase()){case"content-location":le=De[2].trim();break;case"content-type":ge=De[2].trim();break;case"content-transfer-encoding":he=De[2].trim();break}}switch(++Be,he.toLowerCase()){case"base64":Oe=hl(mu(fe.slice(Be).join("")));break;case"quoted-printable":Oe=Wo(fe.slice(Be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var Fe=Ns(Z,le.slice(se.length),Oe,{unsafe:!0});ge&&(Fe.ctype=ge)}function Xt(Z,fe){if(X(Z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var se=fe&&fe.root||"",le=($r&&Buffer.isBuffer(Z)?Z.toString("binary"):X(Z)).split(`\r
`),he=0,ge="";for(he=0;he<le.length;++he)if(ge=le[he],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),se||(se=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,se.length)!=se))for(;se.length>0&&(se=se.slice(0,se.length-1),se=se.slice(0,se.lastIndexOf("/")+1),ge.slice(0,se.length)!=se););var Oe=(le[1]||"").match(/boundary="(.*?)"/);if(!Oe)throw new Error("MAD cannot find boundary");var Be="--"+(Oe[1]||""),Re=[],De=[],Fe={FileIndex:Re,FullPaths:De};j(Fe);var st,ft=0;for(he=0;he<le.length;++he){var St=le[he];St!==Be&&St!==Be+"--"||(ft++&&io(Fe,le.slice(st,he),se),st=he)}return Fe}function Ho(Z,fe){var se=fe||{},le=se.boundary||"SheetJS";le="------="+le;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+le.slice(2)+'"',"","",""],ge=Z.FullPaths[0],Oe=ge,Be=Z.FileIndex[0],Re=1;Re<Z.FullPaths.length;++Re)if(Oe=Z.FullPaths[Re].slice(ge.length),Be=Z.FileIndex[Re],!(!Be.size||!Be.content||Oe=="Sh33tJ5")){Oe=Oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(sr){return"_x"+sr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(sr){return"_u"+sr.charCodeAt(0).toString(16)+"_"});for(var De=Be.content,Fe=$r&&Buffer.isBuffer(De)?De.toString("binary"):X(De),st=0,ft=Math.min(1024,Fe.length),St=0,ct=0;ct<=ft;++ct)(St=Fe.charCodeAt(ct))>=32&&St<128&&++st;var xt=st>=ft*4/5;he.push(le),he.push("Content-Location: "+(se.root||"file:///C:/SheetJS/")+Oe),he.push("Content-Transfer-Encoding: "+(xt?"quoted-printable":"base64")),he.push("Content-Type: "+Er(Be,Oe)),he.push(""),he.push(xt?Ha(Fe):vc(Fe))}return he.push(le+`--\r
`),he.join(`\r
`)}function qo(Z){var fe={};return j(fe,Z),fe}function Ns(Z,fe,se,le){var he=le&&le.unsafe;he||j(Z);var ge=!he&&sn.find(Z,fe);if(!ge){var Oe=Z.FullPaths[0];fe.slice(0,Oe.length)==Oe?Oe=fe:(Oe.slice(-1)!="/"&&(Oe+="/"),Oe=(Oe+fe).replace("//","/")),ge={name:a(fe),type:2},Z.FileIndex.push(ge),Z.FullPaths.push(Oe),he||sn.utils.cfb_gc(Z)}return ge.content=se,ge.size=se?se.length:0,le&&(le.CLSID&&(ge.clsid=le.CLSID),le.mt&&(ge.mt=le.mt),le.ct&&(ge.ct=le.ct)),ge}function ci(Z,fe){j(Z);var se=sn.find(Z,fe);if(se){for(var le=0;le<Z.FileIndex.length;++le)if(Z.FileIndex[le]==se)return Z.FileIndex.splice(le,1),Z.FullPaths.splice(le,1),!0}return!1}function An(Z,fe,se){j(Z);var le=sn.find(Z,fe);if(le){for(var he=0;he<Z.FileIndex.length;++he)if(Z.FileIndex[he]==le)return Z.FileIndex[he].name=a(se),Z.FullPaths[he]=se,!0}return!1}function pa(Z){k(Z,!0)}return t.find=T,t.read=C,t.parse=d,t.write=pe,t.writeFile=q,t.utils={cfb_new:qo,cfb_add:Ns,cfb_del:ci,cfb_mov:An,cfb_gc:pa,ReadShift:Og,CheckField:VJ,prep_blob:Mi,bconcat:vs,use_zlib:D,_deflateRaw:qe,_inflateRaw:jr,consts:U},t}();function $Ie(e){return typeof e=="string"?yj(e):Array.isArray(e)?dIe(e):e}function Ax(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=yj(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Iv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([$Ie(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Cx(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Ss(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function tF(e,t){for(var r=[],n=Ss(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function TP(e){for(var t=[],r=Ss(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function _j(e){for(var t=[],r=Ss(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function BIe(e){for(var t=[],r=Ss(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var r2=new Date(1899,11,30,0,0,0);function wi(e,t){var r=e.getTime(),n=r2.getTime()+(e.getTimezoneOffset()-r2.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var AJ=new Date,UIe=r2.getTime()+(AJ.getTimezoneOffset()-r2.getTimezoneOffset())*6e4,rF=AJ.getTimezoneOffset();function PJ(e){var t=new Date;return t.setTime(e*24*60*60*1e3+UIe),t.getTimezoneOffset()!==rF&&t.setTime(t.getTime()+(t.getTimezoneOffset()-rF)*6e4),t}var nF=new Date("2017-02-19T19:06:09.000Z"),TJ=isNaN(nF.getFullYear())?new Date("2/19/17"):nF,zIe=TJ.getFullYear()==2017;function ei(e,t){var r=new Date(e);if(zIe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(TJ.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function jj(e,t){if($r&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function bi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=bi(e[r]));return t}function ea(e,t){for(var r="";r.length<t;)r+=e;return r}function Zc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var WIe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Rv(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&WIe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function vr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return $r?n=Eu(r):n=fIe(r),sn.utils.cfb_add(e,t,n)}sn.utils.cfb_add(e,t,r)}else e.file(t,r)}function OP(){return sn.utils.cfb_new()}var Ca=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,HIe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},RP=TP(HIe),IP=/[&<>'"]/g,qIe=/[\u0000-\u0008\u000b-\u001f]/g;function en(e){var t=e+"";return t.replace(IP,function(r){return RP[r]}).replace(qIe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function aF(e){return en(e).replace(/ /g,"_x0020_")}var OJ=/[\u0000-\u001f]/g;function VIe(e){var t=e+"";return t.replace(IP,function(r){return RP[r]}).replace(/\n/g,"<br/>").replace(OJ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function GIe(e){var t=e+"";return t.replace(IP,function(r){return RP[r]}).replace(OJ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function KIe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function YIe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function cN(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function sF(e){var t=hh(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function iF(e){return Eu(e,"binary").toString("utf8")}var b1="foo bar baz",Tg=$r&&(iF(b1)==cN(b1)&&iF||sF(b1)==cN(b1)&&sF)||cN,Iv=$r?function(e){return Eu(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},XIe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),RJ=/(^\s|\s$|\n)/;function xs(e,t){return"<"+e+(t.match(RJ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Dv(e){return Ss(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ht(e,t,r){return"<"+e+(r!=null?Dv(r):"")+(t!=null?(t.match(RJ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function mE(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function JIe(e,t){switch(typeof e){case"string":var r=ht("vt:lpwstr",en(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ht((e|0)==e?"vt:i4":"vt:r8",en(String(e)));case"boolean":return ht("vt:bool",e?"true":"false")}if(e instanceof Date)return ht("vt:filetime",mE(e));throw new Error("Unable to serialize "+e)}var Xa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},n0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Bi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function ZIe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function QIe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var oF=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},lF=$r?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Eu(t)})):oF(e)}:oF,cF=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(hg(e,a)));return n.join("").replace(Pg,"")},DP=$r?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Pg,""):cF(e,t,r)}:cF,uF=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},IJ=$r?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):uF(e,t,r)}:uF,dF=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(bm(e,a)));return n.join("")},Px=$r?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):dF(t,r,n)}:dF,DJ=function(e,t){var r=Ui(e,t);return r>0?Px(e,t+4,t+4+r-1):""},LJ=DJ,MJ=function(e,t){var r=Ui(e,t);return r>0?Px(e,t+4,t+4+r-1):""},FJ=MJ,$J=function(e,t){var r=2*Ui(e,t);return r>0?Px(e,t+4,t+4+r-1):""},BJ=$J,UJ=function(t,r){var n=Ui(t,r);return n>0?DP(t,r+4,r+4+n):""},zJ=UJ,WJ=function(e,t){var r=Ui(e,t);return r>0?Px(e,t+4,t+4+r):""},HJ=WJ,qJ=function(e,t){return ZIe(e,t)},n2=qJ,LP=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};$r&&(LJ=function(t,r){if(!Buffer.isBuffer(t))return DJ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},FJ=function(t,r){if(!Buffer.isBuffer(t))return MJ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},BJ=function(t,r){if(!Buffer.isBuffer(t))return $J(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},zJ=function(t,r){if(!Buffer.isBuffer(t))return UJ(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},HJ=function(t,r){if(!Buffer.isBuffer(t))return WJ(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},n2=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):qJ(t,r)},LP=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var bm=function(e,t){return e[t]},hg=function(e,t){return e[t+1]*256+e[t]},eDe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ui=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},kf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},tDe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Og(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,$r&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(hg(this,u)),u+=2;e*=2;break;case"utf8":r=Px(this,this.l,this.l+e);break;case"utf16le":e*=2,r=DP(this,this.l,this.l+e);break;case"wstr":return Og.call(this,e,"dbcs");case"lpstr-ansi":r=LJ(this,this.l),e=4+Ui(this,this.l);break;case"lpstr-cp":r=FJ(this,this.l),e=4+Ui(this,this.l);break;case"lpwstr":r=BJ(this,this.l),e=4+2*Ui(this,this.l);break;case"lpp4":e=4+Ui(this,this.l),r=zJ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ui(this,this.l),r=HJ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=bm(this,this.l+e++))!==0;)s.push(x1(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=hg(this,this.l+e))!==0;)s.push(x1(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=bm(this,u),this.l=u+1,l=Og.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(x1(hg(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=bm(this,u),this.l=u+1,l=Og.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(x1(bm(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=bm(this,this.l),this.l++,n;case 2:return n=(t==="i"?eDe:hg)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?kf:tDe)(this,this.l),this.l+=4,n):(a=Ui(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=n2(this,this.l):a=n2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=IJ(this,this.l,e);break}}return this.l+=e,r}var rDe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},nDe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},aDe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function sDe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)aDe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,rDe(this,t,this.l);break;case 8:if(n=8,r==="f"){QIe(this,t,this.l);break}case 16:break;case-4:n=4,nDe(this,t,this.l);break}return this.l+=n,this}function VJ(e,t){var r=IJ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Mi(e,t){e.l=t,e.read_shift=Og,e.chk=VJ,e.write_shift=sDe}function dc(e,t){e.l+=t}function Ve(e){var t=hh(e);return Mi(t,0),t}function yi(){var e=[],t=$r?256:2048,r=function(u){var d=Ve(u);return Mi(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),vs(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function Ze(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=Z7e[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&LP(r)&&e.push(r)}}function Rg(e,t,r){var n=bi(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function fF(e,t,r){var n=bi(e);return n.s=Rg(n.s,t.s,r),n.e=Rg(n.e,t.s,r),n}function Ig(e,t){if(e.cRel&&e.c<0)for(e=bi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=bi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=nn(e);return!e.cRel&&e.cRel!=null&&(r=lDe(r)),!e.rRel&&e.rRel!=null&&(r=iDe(r)),r}function uN(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ms(e.s.c)+":"+(e.e.cRel?"":"$")+Ms(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+_s(e.s.r)+":"+(e.e.rRel?"":"$")+_s(e.e.r):Ig(e.s,t.biff)+":"+Ig(e.e,t.biff)}function MP(e){return parseInt(oDe(e),10)-1}function _s(e){return""+(e+1)}function iDe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function oDe(e){return e.replace(/\$(\d+)$/,"$1")}function FP(e){for(var t=cDe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ms(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function lDe(e){return e.replace(/^([A-Z])/,"$$$1")}function cDe(e){return e.replace(/^\$([A-Z])/,"$1")}function uDe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Za(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function nn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ro(e){var t=e.indexOf(":");return t==-1?{s:Za(e),e:Za(e)}:{s:Za(e.slice(0,t)),e:Za(e.slice(t+1))}}function ka(e,t){return typeof t>"u"||typeof t=="number"?ka(e.s,e.e):(typeof e!="string"&&(e=nn(e)),typeof t!="string"&&(t=nn(t)),e==t?e:e+":"+t)}function Cn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function hF(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Md(e.z,r?wi(t):t)}catch{}try{return e.w=Md((e.XF||{}).numFmtId||(r?14:0),r?wi(t):t)}catch{return""+t}}function pu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Tx[e.v]||e.v:t==null?hF(e,e.v):hF(e,t))}function Ph(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function GJ(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Za(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Cn(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var h={v:t[f][m]},v=o+f,g=l+m;if(u.s.r>v&&(u.s.r=v),u.s.c>g&&(u.s.c=g),u.e.r<v&&(u.e.r=v),u.e.c<g&&(u.e.c=g),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))h=t[f][m];else if(Array.isArray(h.v)&&(h.f=t[f][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||na[14],n.cellDates?(h.t="d",h.w=Md(h.z,wi(h.v))):(h.t="n",h.v=wi(h.v),h.w=Md(h.z,h.v))):h.t="s";if(a)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(h.z=s[v][g].z),s[v][g]=h;else{var y=nn({c:g,r:v});s[y]&&s[y].z&&(h.z=s[y].z),s[y]=h}}}return u.s.c<1e7&&(s["!ref"]=ka(u)),s}function a0(e,t){return GJ(null,e,t)}function dDe(e){return e.read_shift(4,"i")}function yl(e,t){return t||(t=Ve(4)),t.write_shift(4,e),t}function Fs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Qa(e,t){var r=!1;return t==null&&(r=!0,t=Ve(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function fDe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function hDe(e,t){return t||(t=Ve(4)),t.write_shift(2,0),t.write_shift(2,0),t}function $P(e,t){var r=e.l,n=e.read_shift(1),a=Fs(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(fDe(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function mDe(e,t){var r=!1;return t==null&&(r=!0,t=Ve(15+4*e.t.length)),t.write_shift(1,0),Qa(e.t,t),r?t.slice(0,t.l):t}var pDe=$P;function gDe(e,t){var r=!1;return t==null&&(r=!0,t=Ve(23+4*e.t.length)),t.write_shift(1,1),Qa(e.t,t),t.write_shift(4,1),hDe({},t),r?t.slice(0,t.l):t}function zo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Th(e,t){return t==null&&(t=Ve(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Oh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Rh(e,t){return t==null&&(t=Ve(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var vDe=Fs,KJ=Qa;function BP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function a2(e,t){var r=!1;return t==null&&(r=!0,t=Ve(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var xDe=Fs,pE=BP,UP=a2;function YJ(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?n2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):kf(t,0)>>2;return r?a/100:a}function XJ(e,t){t==null&&(t=Ve(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function JJ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function yDe(e,t){return t||(t=Ve(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Ih=JJ,s0=yDe;function i0(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function mh(e,t){return(t||Ve(8)).write_shift(8,e,"f")}function wDe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=ADe[a];u&&(t.rgb=SF(u));break;case 2:t.rgb=SF([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function s2(e,t){if(t||(t=Ve(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function bDe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function _De(e,t){t||(t=Ve(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var ZJ=2,Di=3,_1=11,i2=19,j1=64,jDe=65,SDe=71,NDe=4108,kDe=4126,gs=80,mF={1:{n:"CodePage",t:ZJ},2:{n:"Category",t:gs},3:{n:"PresentationFormat",t:gs},4:{n:"ByteCount",t:Di},5:{n:"LineCount",t:Di},6:{n:"ParagraphCount",t:Di},7:{n:"SlideCount",t:Di},8:{n:"NoteCount",t:Di},9:{n:"HiddenCount",t:Di},10:{n:"MultimediaClipCount",t:Di},11:{n:"ScaleCrop",t:_1},12:{n:"HeadingPairs",t:NDe},13:{n:"TitlesOfParts",t:kDe},14:{n:"Manager",t:gs},15:{n:"Company",t:gs},16:{n:"LinksUpToDate",t:_1},17:{n:"CharacterCount",t:Di},19:{n:"SharedDoc",t:_1},22:{n:"HyperlinksChanged",t:_1},23:{n:"AppVersion",t:Di,p:"version"},24:{n:"DigSig",t:jDe},26:{n:"ContentType",t:gs},27:{n:"ContentStatus",t:gs},28:{n:"Language",t:gs},29:{n:"Version",t:gs},255:{},2147483648:{n:"Locale",t:i2},2147483651:{n:"Behavior",t:i2},1919054434:{}},pF={1:{n:"CodePage",t:ZJ},2:{n:"Title",t:gs},3:{n:"Subject",t:gs},4:{n:"Author",t:gs},5:{n:"Keywords",t:gs},6:{n:"Comments",t:gs},7:{n:"Template",t:gs},8:{n:"LastAuthor",t:gs},9:{n:"RevNumber",t:gs},10:{n:"EditTime",t:j1},11:{n:"LastPrinted",t:j1},12:{n:"CreatedDate",t:j1},13:{n:"ModifiedDate",t:j1},14:{n:"PageCount",t:Di},15:{n:"WordCount",t:Di},16:{n:"CharCount",t:Di},17:{n:"Thumbnail",t:SDe},18:{n:"Application",t:gs},19:{n:"DocSecurity",t:Di},255:{},2147483648:{n:"Locale",t:i2},2147483651:{n:"Behavior",t:i2},1919054434:{}};function EDe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var CDe=EDe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ADe=bi(CDe),Tx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},PDe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},S1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function QJ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function eZ(e,t){var r=BIe(PDe),n=[],a;n[n.length]=Ca,n[n.length]=ht("Types",null,{xmlns:Xa.CT,"xmlns:xsd":Xa.xsd,"xmlns:xsi":Xa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ht("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=ht("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:S1[c][t.bookType]||S1[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ht("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:S1[c][t.bookType]||S1[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ht("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Dr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tZ(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function np(e){var t=[Ca,ht("Relationships",null,{xmlns:Xa.RELS})];return Ss(e["!id"]).forEach(function(r){t[t.length]=ht("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Jr(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Dr.HLINK,Dr.XPATH,Dr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function TDe(e){var t=[Ca];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function gF(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function ODe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function RDe(e){var t=[Ca];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(gF(e[r][0],e[r][1])),t.push(ODe("",e[r][0]));return t.push(gF("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function rZ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Jb.version+"</meta:generator></office:meta></office:document-meta>"}var zf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function dN(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=en(t),n[n.length]=r?ht(e,t,r):xs(e,t))}function nZ(e,t){var r=t||{},n=[Ca,ht("cp:coreProperties",null,{"xmlns:cp":Xa.CORE_PROPS,"xmlns:dc":Xa.dc,"xmlns:dcterms":Xa.dcterms,"xmlns:dcmitype":Xa.dcmitype,"xmlns:xsi":Xa.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&dN("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:mE(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&dN("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:mE(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=zf.length;++s){var o=zf[s],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&dN(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var ap=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],aZ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function sZ(e){var t=[],r=ht;return e||(e={}),e.Application="SheetJS",t[t.length]=Ca,t[t.length]=ht("Properties",null,{xmlns:Xa.EXT_PROPS,"xmlns:vt":Xa.vt}),ap.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=en(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+en(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function iZ(e){var t=[Ca,ht("Properties",null,{xmlns:Xa.CUST_PROPS,"xmlns:vt":Xa.vt})];if(!e)return t.join("");var r=1;return Ss(e).forEach(function(a){++r,t[t.length]=ht("property",JIe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:en(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var vF={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function IDe(e,t){var r=[];return Ss(vF).map(function(n){for(var a=0;a<zf.length;++a)if(zf[a][1]==n)return zf[a];for(a=0;a<ap.length;++a)if(ap[a][1]==n)return ap[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(xs(vF[n[1]]||n[1],a))}}),ht("DocumentProperties",r.join(""),{xmlns:Bi.o})}function DDe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ss(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<zf.length;++o)if(s==zf[o][1])return;for(o=0;o<ap.length;++o)if(s==ap[o][1])return;for(o=0;o<r.length;++o)if(s==r[o])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(ht(aF(s),l,{"dt:dt":c}))}}),t&&Ss(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(ht(aF(s),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Bi.o+'">'+a.join("")+"</"+n+">"}function LDe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var o=Ve(8);return o.write_shift(4,n),o.write_shift(4,a),o}function xF(e,t){var r=Ve(4),n=Ve(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ve(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=LDe(t);break;case 31:case 80:for(n=Ve(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return vs([r,n])}var oZ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function MDe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function yF(e,t,r){var n=Ve(8),a=[],s=[],o=8,l=0,c=Ve(8),u=Ve(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),o+=8+c.length,!t){u=Ve(8),u.write_shift(4,0),a.unshift(u);var d=[Ve(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Ve(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=vs(d),s.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(oZ.indexOf(e[l][0])>-1||aZ.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],h=0;if(t){h=+t[e[l][0]];var v=r[h];if(v.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}c=xF(v.t,m)}else{var y=MDe(m);y==-1&&(y=31,m=String(m)),c=xF(y,m)}s.push(c),u=Ve(8),u.write_shift(4,t?h:2+l),a.push(u),o+=8+c.length}var x=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,x),x+=s[l].length;return n.write_shift(4,o),n.write_shift(4,s.length),vs([n].concat(a).concat(s))}function wF(e,t,r,n,a,s){var o=Ve(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,sn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=yF(e,r,n);if(l.push(c),a){var u=yF(a,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),l.push(u)}return vs(l)}function FDe(e,t){t||(t=Ve(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function $De(e,t){return e.read_shift(t)===1}function Gs(e,t){return t||(t=Ve(2)),t.write_shift(2,+!!e),t}function lZ(e){return e.read_shift(2,"u")}function yo(e,t){return t||(t=Ve(2)),t.write_shift(2,e),t}function cZ(e,t,r){return r||(r=Ve(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function uZ(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function BDe(e){var t=e.t||"",r=Ve(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ve(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return vs(a)}function UDe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function zDe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):UDe(e,n,r)}function WDe(e,t,r){if(r.biff>5)return zDe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function dZ(e,t,r){return r||(r=Ve(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function bF(e,t){t||(t=Ve(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function HDe(e){var t=Ve(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(s==28)n=n.slice(1),bF(n,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&bF(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function ph(e,t,r,n){return n||(n=Ve(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function qDe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function VDe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function fZ(e,t){return t||(t=Ve(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function zP(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ve(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function GDe(e,t){var r=!t||t.biff==8,n=Ve(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function KDe(e,t){var r=!t||t.biff>=8?2:1,n=Ve(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function YDe(e,t){var r=Ve(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=BDe(e[a]);var s=vs([r].concat(n));return s.parts=[r.length].concat(n.map(function(o){return o.length})),s}function XDe(){var e=Ve(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function JDe(e){var t=Ve(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function ZDe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=Ve(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function QDe(e,t,r,n){var a=Ve(10);return ph(e,t,n,a),a.write_shift(4,r),a}function e8e(e,t,r,n,a){var s=!a||a.biff==8,o=Ve(8+ +s+(1+s)*r.length);return ph(e,t,n,o),o.write_shift(2,r.length),s&&o.write_shift(1,1),o.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),o}function t8e(e,t,r,n){var a=r&&r.biff==5;n||(n=Ve(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function r8e(e,t){var r=t.biff==8||!t.biff?4:2,n=Ve(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function _F(e,t,r,n){var a=r&&r.biff==5;n||(n=Ve(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function n8e(e){var t=Ve(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function a8e(e,t,r,n,a,s){var o=Ve(8);return ph(e,t,n,o),cZ(r,s,o),o}function s8e(e,t,r,n){var a=Ve(14);return ph(e,t,n,a),mh(r,a),a}function i8e(e,t,r){if(r.biff<8)return o8e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(qDe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function o8e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=uZ(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function l8e(e){var t=Ve(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)fZ(e[r],t);return t}function c8e(e){var t=Ve(24),r=Za(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return vs([t,HDe(e[1])])}function u8e(e){var t=e[1].Tooltip,r=Ve(10+2*(t.length+1));r.write_shift(2,2048);var n=Za(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function d8e(e){return e||(e=Ve(4)),e.write_shift(2,1),e.write_shift(2,1),e}function f8e(e,t,r){if(!r.cellStyles)return dc(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function h8e(e,t){var r=Ve(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function m8e(e){for(var t=Ve(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function p8e(e,t,r){var n=Ve(15);return Rx(n,e,t),n.write_shift(8,r,"f"),n}function g8e(e,t,r){var n=Ve(9);return Rx(n,e,t),n.write_shift(2,r),n}var v8e=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=TP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=hh(1);switch(c.type){case"base64":d=hl(mu(l));break;case"binary":d=hl(l);break;case"buffer":case"array":d=l;break}Mi(d,0);var f=d.read_shift(1),m=!!(f&136),h=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=d.read_shift(2));var x=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var _=[],w={},N=Math.min(d.length,f==2?521:y-10-(h?264:0)),C=v?32:11;d.l<N&&d[d.l]!=13;)switch(w={},w.name=Zb.utils.decode(b,d.slice(d.l,d.l+C)).replace(/[\u0000\r\n].*$/g,""),d.l+=C,w.type=String.fromCharCode(d.read_shift(1)),f!=2&&!v&&(w.offset=d.read_shift(4)),w.len=d.read_shift(1),f==2&&(w.offset=d.read_shift(2)),w.dec=d.read_shift(1),w.name.length&&_.push(w),f!=2&&(d.l+=v?13:14),w.type){case"B":(!h||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var j=0,A=0;for(u[0]=[],A=0;A!=_.length;++A)u[0][A]=_[A].name;for(;g-- >0;){if(d[d.l]===42){d.l+=x;continue}for(++d.l,u[++j]=[],A=0,A=0;A!=_.length;++A){var k=d.slice(d.l,d.l+_[A].len);d.l+=_[A].len,Mi(k,0);var I=Zb.utils.decode(b,k);switch(_[A].type){case"C":I.trim().length&&(u[j][A]=I.replace(/\s+$/,""));break;case"D":I.length===8?u[j][A]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):u[j][A]=I;break;case"F":u[j][A]=parseFloat(I.trim());break;case"+":case"I":u[j][A]=v?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":u[j][A]=!0;break;case"N":case"F":u[j][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][A]="##MEMO##"+(v?parseInt(I.trim(),10):k.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(u[j][A]=+I||0);break;case"@":u[j][A]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[j][A]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[j][A]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][A]=-k.read_shift(-8,"f");break;case"B":if(h&&_[A].len==8){u[j][A]=k.read_shift(8,"f");break}case"G":case"P":k.l+=_[A].len;break;case"0":if(_[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[A].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=_,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=a0(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Ph(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Tv(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=yi(),f=d2(l,{header:1,raw:!0,cellDates:!0}),m=f[0],h=f.slice(1),v=l["!cols"]||[],g=0,y=0,x=0,b=1;for(g=0;g<m.length;++g){if(((v[g]||{}).DBF||{}).name){m[g]=v[g].DBF.name,++x;continue}if(m[g]!=null){if(++x,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(y=0;y<1024;++y)if(m.indexOf(m[g]+"_"+y)==-1){m[g]+="_"+y;break}}}}var _=Cn(l["!ref"]),w=[],N=[],C=[];for(g=0;g<=_.e.c-_.s.c;++g){var j="",A="",k=0,I=[];for(y=0;y<h.length;++y)h[y][g]!=null&&I.push(h[y][g]);if(I.length==0||m[g]==null){w[g]="?";continue}for(y=0;y<I.length;++y){switch(typeof I[y]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=I[y]instanceof Date?"D":"C";break;default:A="C"}k=Math.max(k,String(I[y]).length),j=j&&j!=A?"C":A}k>250&&(k=250),A=((v[g]||{}).DBF||{}).type,A=="C"&&v[g].DBF.len>k&&(k=v[g].DBF.len),j=="B"&&A=="N"&&(j="N",C[g]=v[g].DBF.dec,k=v[g].DBF.len),N[g]=j=="C"||A=="N"?k:s[j]||0,b+=N[g],w[g]=j}var T=d.next(32);for(T.write_shift(4,318902576),T.write_shift(4,h.length),T.write_shift(2,296+32*x),T.write_shift(2,b),g=0;g<4;++g)T.write_shift(4,0);for(T.write_shift(4,0|(+t[mJ]||3)<<8),g=0,y=0;g<m.length;++g)if(m[g]!=null){var P=d.next(32),V=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,V,"sbcs"),P.write_shift(1,w[g]=="?"?"C":w[g],"sbcs"),P.write_shift(4,y),P.write_shift(1,N[g]||s[w[g]]||0),P.write_shift(1,C[g]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),y+=N[g]||s[w[g]]||0}var F=d.next(264);for(F.write_shift(4,13),g=0;g<65;++g)F.write_shift(4,0);for(g=0;g<h.length;++g){var Y=d.next(b);for(Y.write_shift(1,0),y=0;y<m.length;++y)if(m[y]!=null)switch(w[y]){case"L":Y.write_shift(1,h[g][y]==null?63:h[g][y]?84:70);break;case"B":Y.write_shift(8,h[g][y]||0,"f");break;case"N":var re="0";for(typeof h[g][y]=="number"&&(re=h[g][y].toFixed(C[y]||0)),x=0;x<N[y]-re.length;++x)Y.write_shift(1,32);Y.write_shift(1,re,"sbcs");break;case"D":h[g][y]?(Y.write_shift(4,("0000"+h[g][y].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(h[g][y].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+h[g][y].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var U=String(h[g][y]!=null?h[g][y]:"").slice(0,N[y]);for(Y.write_shift(1,U,"sbcs"),x=0;x<N[y]-U.length;++x)Y.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),x8e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ss(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var v=e[h];return typeof v=="number"?VM(v):v},n=function(m,h,v){var g=h.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?m:VM(g)};e["|"]=254;function a(m,h){switch(h.type){case"base64":return s(mu(m),h);case"binary":return s(m,h);case"buffer":return s($r&&Buffer.isBuffer(m)?m.toString("binary"):Cx(m),h);case"array":return s(jj(m),h)}throw new Error("Unrecognized type "+h.type)}function s(m,h){var v=m.split(/[\n\r]+/),g=-1,y=-1,x=0,b=0,_=[],w=[],N=null,C={},j=[],A=[],k=[],I=0,T;for(+h.codepage>=0&&Tv(+h.codepage);x!==v.length;++x){I=0;var P=v[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),V=P.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),F=V[0],Y;if(P.length>0)switch(F){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&w.push(P.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,U=!1,q=!1,X=!1,pe=-1,xe=-1;for(b=1;b<V.length;++b)switch(V[b].charAt(0)){case"A":break;case"X":y=parseInt(V[b].slice(1))-1,U=!0;break;case"Y":for(g=parseInt(V[b].slice(1))-1,U||(y=0),T=_.length;T<=g;++T)_[T]=[];break;case"K":Y=V[b].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(Zc(Y))?isNaN(Rv(Y).getDate())||(Y=ei(Y)):(Y=Zc(Y),N!==null&&kJ(N)&&(Y=PJ(Y))),re=!0;break;case"E":X=!0;var D=gLe(V[b].slice(1),{r:g,c:y});_[g][y]=[_[g][y],D];break;case"S":q=!0,_[g][y]=[_[g][y],"S5S"];break;case"G":break;case"R":pe=parseInt(V[b].slice(1))-1;break;case"C":xe=parseInt(V[b].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}if(re&&(_[g][y]&&_[g][y].length==2?_[g][y][0]=Y:_[g][y]=Y,N=null),q){if(X)throw new Error("SYLK shared formula cannot have own formula");var M=pe>-1&&_[pe][xe];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");_[g][y][1]=vLe(M[1],{r:g-pe,c:y-xe})}break;case"F":var R=0;for(b=1;b<V.length;++b)switch(V[b].charAt(0)){case"X":y=parseInt(V[b].slice(1))-1,++R;break;case"Y":for(g=parseInt(V[b].slice(1))-1,T=_.length;T<=g;++T)_[T]=[];break;case"M":I=parseInt(V[b].slice(1))/20;break;case"F":break;case"G":break;case"P":N=w[parseInt(V[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=V[b].slice(1).split(" "),T=parseInt(k[0],10);T<=parseInt(k[1],10);++T)I=parseInt(k[2],10),A[T-1]=I===0?{hidden:!0}:{wch:I},WP(A[T-1]);break;case"C":y=parseInt(V[b].slice(1))-1,A[y]||(A[y]={});break;case"R":g=parseInt(V[b].slice(1))-1,j[g]||(j[g]={}),I>0?(j[g].hpt=I,j[g].hpx=vZ(I)):I===0&&(j[g].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}R<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}}return j.length>0&&(C["!rows"]=j),A.length>0&&(C["!cols"]=A),h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),[_,C]}function o(m,h){var v=a(m,h),g=v[0],y=v[1],x=a0(g,h);return Ss(y).forEach(function(b){x[b]=y[b]}),x}function l(m,h){return Ph(o(m,h),h)}function c(m,h,v,g){var y="C;Y"+(v+1)+";X"+(g+1)+";K";switch(m.t){case"n":y+=m.v||0,m.f&&!m.F&&(y+=";E"+qP(m.f,{r:v,c:g}));break;case"b":y+=m.v?"TRUE":"FALSE";break;case"e":y+=m.w||m.v;break;case"d":y+='"'+(m.w||m.v)+'"';break;case"s":y+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(m,h){h.forEach(function(v,g){var y="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=o2(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=l2(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&m.push(y)})}function d(m,h){h.forEach(function(v,g){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*c2(v.hpx)+";"),y.length>2&&m.push(y+"R"+(g+1))})}function f(m,h){var v=["ID;PWXL;N;E"],g=[],y=Cn(m["!ref"]),x,b=Array.isArray(m),_=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),m["!cols"]&&u(v,m["!cols"]),m["!rows"]&&d(v,m["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var w=y.s.r;w<=y.e.r;++w)for(var N=y.s.c;N<=y.e.c;++N){var C=nn({r:w,c:N});x=b?(m[w]||[])[N]:m[C],!(!x||x.v==null&&(!x.f||x.F))&&g.push(c(x,m,w,N))}return v.join(_)+_+g.join(_)+_+"E"+_}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),y8e=function(){function e(s,o){switch(o.type){case"base64":return t(mu(s),o);case"binary":return t(s,o);case"buffer":return t($r&&Buffer.isBuffer(s)?s.toString("binary"):Cx(s),o);case"array":return t(jj(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),h=m[0],v=m[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+h){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(Zc(v))?isNaN(Rv(v).getDate())?f[c][u]=v:f[c][u]=ei(v):f[c][u]=Zc(v),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return a0(e(s,o),o)}function n(s,o){return Ph(r(s,o),o)}var a=function(){var s=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Cn(c["!ref"]),f,m=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var h=d.s.r;h<=d.e.r;++h){o(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var g=nn({r:h,c:v});if(f=m?(c[h]||[])[v]:c[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,y,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Md(f.z||na[14],wi(ei(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var x=`\r
`,b=u.join(x);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),hZ=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var h=f.split(`
`),v=-1,g=-1,y=0,x=[];y!==h.length;++y){var b=h[y].trim().split(":");if(b[0]==="cell"){var _=Za(b[1]);if(x.length<=_.r)for(v=x.length;v<=_.r;++v)x[v]||(x[v]=[]);switch(v=_.r,g=_.c,b[2]){case"t":x[v][g]=e(b[3]);break;case"v":x[v][g]=+b[3];break;case"vtf":var w=b[b.length-1];case"vtc":switch(b[3]){case"nl":x[v][g]=!!+b[4];break;default:x[v][g]=+b[4];break}b[2]=="vtf"&&(x[v][g]=[x[v][g],w])}}}return m&&m.sheetRows&&(x=x.slice(0,m.sheetRows)),x}function n(f,m){return a0(r(f,m),m)}function a(f,m){return Ph(n(f,m),m)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],h=[],v,g="",y=ro(f["!ref"]),x=Array.isArray(f),b=y.s.r;b<=y.e.r;++b)for(var _=y.s.c;_<=y.e.c;++_)if(g=nn({r:b,c:_}),v=x?(f[b]||[])[_]:f[g],!(!v||v.v==null||v.t==="z")){switch(h=["cell",g,"t"],v.t){case"s":case"str":h.push(t(v.v));break;case"n":v.f?(h[2]="vtf",h[3]="n",h[4]=v.v,h[5]=t(v.f)):(h[2]="v",h[3]=v.v);break;case"b":h[2]="vt"+(v.f?"f":"c"),h[3]="nl",h[4]=v.v?"1":"0",h[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var w=wi(ei(v.v));h[2]="vtc",h[3]="nd",h[4]=""+w,h[5]=v.w||Md(v.z||na[14],w);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),w8e=function(){function e(d,f,m,h,v){v.raw?f[m][h]=d:d===""||(d==="TRUE"?f[m][h]=!0:d==="FALSE"?f[m][h]=!1:isNaN(Zc(d))?isNaN(Rv(d).getDate())?f[m][h]=d:f[m][h]=ei(d):f[m][h]=Zc(d))}function t(d,f){var m=f||{},h=[];if(!d||d.length===0)return h;for(var v=d.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var y=10,x=0,b=0;b<=g;++b)x=v[b].indexOf(" "),x==-1?x=v[b].length:x++,y=Math.max(y,x);for(b=0;b<=g;++b){h[b]=[];var _=0;for(e(v[b].slice(0,y).trim(),h,b,_,m),_=1;_<=(v[b].length-y)/10+1;++_)e(v[b].slice(y+(_-1)*10,y+_*10).trim(),h,b,_,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},m=!1,h=0,v=0;h<d.length;++h)(v=d.charCodeAt(h))==34?m=!m:!m&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h]);if(!v.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h])}return v.sort(function(g,y){return g[0]-y[0]||n[g[1]]-n[y[1]]}),r[v.pop()[1]]||44}function s(d,f){var m=f||{},h="",v=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(h=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(h=d.charAt(4),d=d.slice(6)):h=a(d.slice(0,1024)):m&&m.FS?h=m.FS:h=a(d.slice(0,1024));var y=0,x=0,b=0,_=0,w=0,N=h.charCodeAt(0),C=!1,j=0,A=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=m.dateNF!=null?LIe(m.dateNF):null;function I(){var T=d.slice(_,w),P={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)P.t="z";else if(m.raw)P.t="s",P.v=T;else if(T.trim().length===0)P.t="s",P.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(P.t="s",P.v=T.slice(2,-1).replace(/""/g,'"')):xLe(T)?(P.t="n",P.f=T.slice(1)):(P.t="s",P.v=T);else if(T=="TRUE")P.t="b",P.v=!0;else if(T=="FALSE")P.t="b",P.v=!1;else if(!isNaN(b=Zc(T)))P.t="n",m.cellText!==!1&&(P.w=T),P.v=b;else if(!isNaN(Rv(T).getDate())||k&&T.match(k)){P.z=m.dateNF||na[14];var V=0;k&&T.match(k)&&(T=MIe(T,m.dateNF,T.match(k)||[]),V=1),m.cellDates?(P.t="d",P.v=ei(T,V)):(P.t="n",P.v=wi(ei(T,V))),m.cellText!==!1&&(P.w=Md(P.z,P.v instanceof Date?wi(P.v):P.v)),m.cellNF||delete P.z}else P.t="s",P.v=T;if(P.t=="z"||(m.dense?(v[y]||(v[y]=[]),v[y][x]=P):v[nn({c:x,r:y})]=P),_=w+1,A=d.charCodeAt(_),g.e.c<x&&(g.e.c=x),g.e.r<y&&(g.e.r=y),j==N)++x;else if(x=0,++y,m.sheetRows&&m.sheetRows<=y)return!0}e:for(;w<d.length;++w)switch(j=d.charCodeAt(w)){case 34:A===34&&(C=!C);break;case N:case 10:case 13:if(!C&&I())break e;break}return w-_>0&&I(),v["!ref"]=ka(g),v}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):a0(t(d,f),f)}function l(d,f){var m="",h=f.type=="string"?[0,0,0,0]:O9e(d,f);switch(f.type){case"base64":m=mu(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof Zb<"u"||(m=$r&&Buffer.isBuffer(d)?d.toString("binary"):Cx(d));break;case"array":m=jj(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=Tg(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=Tg(m):f.type=="binary"&&typeof Zb<"u",m.slice(0,19)=="socialcalc:version:"?hZ.to_sheet(f.type=="string"?m:Tg(m),f):o(m,f)}function c(d,f){return Ph(l(d,f),f)}function u(d){for(var f=[],m=Cn(d["!ref"]),h,v=Array.isArray(d),g=m.s.r;g<=m.e.r;++g){for(var y=[],x=m.s.c;x<=m.e.c;++x){var b=nn({r:g,c:x});if(h=v?(d[g]||[])[x]:d[b],!h||h.v==null){y.push("          ");continue}for(var _=(h.w||(pu(h),h.w)||"").slice(0,10);_.length<10;)_+=" ";y.push(_+(x===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),jF=function(){function e(D,M,R){if(D){Mi(D,D.l||0);for(var H=R.Enum||pe;D.l<D.length;){var B=D.read_shift(2),W=H[B]||H[65535],te=D.read_shift(2),J=D.l+te,oe=W.f&&W.f(D,te,R);if(D.l=J,M(oe,W,B))return}}}function t(D,M){switch(M.type){case"base64":return r(hl(mu(D)),M);case"binary":return r(hl(D),M);case"buffer":case"array":return r(D,M)}throw"Unsupported type "+M.type}function r(D,M){if(!D)return D;var R=M||{},H=R.dense?[]:{},B="Sheet1",W="",te=0,J={},oe=[],_e=[],ve={s:{r:0,c:0},e:{r:0,c:0}},We=R.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)R.Enum=pe,e(D,function(He,nt,Ke){switch(Ke){case 0:R.vers=He,He>=4096&&(R.qpro=!0);break;case 6:ve=He;break;case 204:He&&(W=He);break;case 222:W=He;break;case 15:case 51:R.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Ke==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=R.dateNF||na[14],R.cellDates&&(He[1].t="d",He[1].v=PJ(He[1].v))),R.qpro&&He[3]>te&&(H["!ref"]=ka(ve),J[B]=H,oe.push(B),H=R.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},te=He[3],B=W||"Sheet"+(te+1),W="");var tt=R.dense?(H[He[0].r]||[])[He[0].c]:H[nn(He[0])];if(tt){tt.t=He[1].t,tt.v=He[1].v,He[1].z!=null&&(tt.z=He[1].z),He[1].f!=null&&(tt.f=He[1].f);break}R.dense?(H[He[0].r]||(H[He[0].r]=[]),H[He[0].r][He[0].c]=He[1]):H[nn(He[0])]=He[1];break}},R);else if(D[2]==26||D[2]==14)R.Enum=xe,D[2]==14&&(R.qpro=!0,D.l=0),e(D,function(He,nt,Ke){switch(Ke){case 204:B=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>te&&(H["!ref"]=ka(ve),J[B]=H,oe.push(B),H=R.dense?[]:{},ve={s:{r:0,c:0},e:{r:0,c:0}},te=He[3],B="Sheet"+(te+1)),We>0&&He[0].r>=We)break;R.dense?(H[He[0].r]||(H[He[0].r]=[]),H[He[0].r][He[0].c]=He[1]):H[nn(He[0])]=He[1],ve.e.c<He[0].c&&(ve.e.c=He[0].c),ve.e.r<He[0].r&&(ve.e.r=He[0].r);break;case 27:He[14e3]&&(_e[He[14e3][0]]=He[14e3][1]);break;case 1537:_e[He[0]]=He[1],He[0]==te&&(B=He[1]);break}},R);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(H["!ref"]=ka(ve),J[W||B]=H,oe.push(W||B),!_e.length)return{SheetNames:oe,Sheets:J};for(var ze={},ae=[],$e=0;$e<_e.length;++$e)J[oe[$e]]?(ae.push(_e[$e]||oe[$e]),ze[_e[$e]]=J[_e[$e]]||J[oe[$e]]):(ae.push(_e[$e]),ze[_e[$e]]={"!ref":"A1"});return{SheetNames:ae,Sheets:ze}}function n(D,M){var R=M||{};if(+R.codepage>=0&&Tv(+R.codepage),R.type=="string")throw new Error("Cannot write WK1 to JS string");var H=yi(),B=Cn(D["!ref"]),W=Array.isArray(D),te=[];mt(H,0,s(1030)),mt(H,6,c(B));for(var J=Math.min(B.e.r,8191),oe=B.s.r;oe<=J;++oe)for(var _e=_s(oe),ve=B.s.c;ve<=B.e.c;++ve){oe===B.s.r&&(te[ve]=Ms(ve));var We=te[ve]+_e,ze=W?(D[oe]||[])[ve]:D[We];if(!(!ze||ze.t=="z"))if(ze.t=="n")(ze.v|0)==ze.v&&ze.v>=-32768&&ze.v<=32767?mt(H,13,h(oe,ve,ze.v)):mt(H,14,g(oe,ve,ze.v));else{var ae=pu(ze);mt(H,15,f(oe,ve,ae.slice(0,239)))}}return mt(H,1),H.end()}function a(D,M){var R=M||{};if(+R.codepage>=0&&Tv(+R.codepage),R.type=="string")throw new Error("Cannot write WK3 to JS string");var H=yi();mt(H,0,o(D));for(var B=0,W=0;B<D.SheetNames.length;++B)(D.Sheets[D.SheetNames[B]]||{})["!ref"]&&mt(H,27,X(D.SheetNames[B],W++));var te=0;for(B=0;B<D.SheetNames.length;++B){var J=D.Sheets[D.SheetNames[B]];if(!(!J||!J["!ref"])){for(var oe=Cn(J["!ref"]),_e=Array.isArray(J),ve=[],We=Math.min(oe.e.r,8191),ze=oe.s.r;ze<=We;++ze)for(var ae=_s(ze),$e=oe.s.c;$e<=oe.e.c;++$e){ze===oe.s.r&&(ve[$e]=Ms($e));var He=ve[$e]+ae,nt=_e?(J[ze]||[])[$e]:J[He];if(!(!nt||nt.t=="z"))if(nt.t=="n")mt(H,23,I(ze,$e,te,nt.v));else{var Ke=pu(nt);mt(H,22,j(ze,$e,te,Ke.slice(0,239)))}}++te}}return mt(H,1),H.end()}function s(D){var M=Ve(2);return M.write_shift(2,D),M}function o(D){var M=Ve(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var R=0,H=0,B=0,W=0;W<D.SheetNames.length;++W){var te=D.SheetNames[W],J=D.Sheets[te];if(!(!J||!J["!ref"])){++B;var oe=ro(J["!ref"]);R<oe.e.r&&(R=oe.e.r),H<oe.e.c&&(H=oe.e.c)}}return R>8191&&(R=8191),M.write_shift(2,R),M.write_shift(1,B),M.write_shift(1,H),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function l(D,M,R){var H={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&R.qpro?(H.s.c=D.read_shift(1),D.l++,H.s.r=D.read_shift(2),H.e.c=D.read_shift(1),D.l++,H.e.r=D.read_shift(2),H):(H.s.c=D.read_shift(2),H.s.r=D.read_shift(2),M==12&&R.qpro&&(D.l+=2),H.e.c=D.read_shift(2),H.e.r=D.read_shift(2),M==12&&R.qpro&&(D.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function c(D){var M=Ve(8);return M.write_shift(2,D.s.c),M.write_shift(2,D.s.r),M.write_shift(2,D.e.c),M.write_shift(2,D.e.r),M}function u(D,M,R){var H=[{c:0,r:0},{t:"n",v:0},0,0];return R.qpro&&R.vers!=20768?(H[0].c=D.read_shift(1),H[3]=D.read_shift(1),H[0].r=D.read_shift(2),D.l+=2):(H[2]=D.read_shift(1),H[0].c=D.read_shift(2),H[0].r=D.read_shift(2)),H}function d(D,M,R){var H=D.l+M,B=u(D,M,R);if(B[1].t="s",R.vers==20768){D.l++;var W=D.read_shift(1);return B[1].v=D.read_shift(W,"utf8"),B}return R.qpro&&D.l++,B[1].v=D.read_shift(H-D.l,"cstr"),B}function f(D,M,R){var H=Ve(7+R.length);H.write_shift(1,255),H.write_shift(2,M),H.write_shift(2,D),H.write_shift(1,39);for(var B=0;B<H.length;++B){var W=R.charCodeAt(B);H.write_shift(1,W>=128?95:W)}return H.write_shift(1,0),H}function m(D,M,R){var H=u(D,M,R);return H[1].v=D.read_shift(2,"i"),H}function h(D,M,R){var H=Ve(7);return H.write_shift(1,255),H.write_shift(2,M),H.write_shift(2,D),H.write_shift(2,R,"i"),H}function v(D,M,R){var H=u(D,M,R);return H[1].v=D.read_shift(8,"f"),H}function g(D,M,R){var H=Ve(13);return H.write_shift(1,255),H.write_shift(2,M),H.write_shift(2,D),H.write_shift(8,R,"f"),H}function y(D,M,R){var H=D.l+M,B=u(D,M,R);if(B[1].v=D.read_shift(8,"f"),R.qpro)D.l=H;else{var W=D.read_shift(2);w(D.slice(D.l,D.l+W),B),D.l+=W}return B}function x(D,M,R){var H=M&32768;return M&=-32769,M=(H?D:0)+(M>=8192?M-16384:M),(H?"":"$")+(R?Ms(M):_s(M))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(D,M){Mi(D,0);for(var R=[],H=0,B="",W="",te="",J="";D.l<D.length;){var oe=D[D.l++];switch(oe){case 0:R.push(D.read_shift(8,"f"));break;case 1:W=x(M[0].c,D.read_shift(2),!0),B=x(M[0].r,D.read_shift(2),!1),R.push(W+B);break;case 2:{var _e=x(M[0].c,D.read_shift(2),!0),ve=x(M[0].r,D.read_shift(2),!1);W=x(M[0].c,D.read_shift(2),!0),B=x(M[0].r,D.read_shift(2),!1),R.push(_e+ve+":"+W+B)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:R.push("("+R.pop()+")");break;case 5:R.push(D.read_shift(2));break;case 6:{for(var We="";oe=D[D.l++];)We+=String.fromCharCode(oe);R.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:R.push("-"+R.pop());break;case 23:R.push("+"+R.pop());break;case 22:R.push("NOT("+R.pop()+")");break;case 20:case 21:J=R.pop(),te=R.pop(),R.push(["AND","OR"][oe-20]+"("+te+","+J+")");break;default:if(oe<32&&_[oe])J=R.pop(),te=R.pop(),R.push(te+_[oe]+J);else if(b[oe]){if(H=b[oe][1],H==69&&(H=D[D.l++]),H>R.length){console.error("WK1 bad formula parse 0x"+oe.toString(16)+":|"+R.join("|")+"|");return}var ze=R.slice(-H);R.length-=H,R.push(b[oe][0]+"("+ze.join(",")+")")}else return oe<=7?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=24?console.error("WK1 unsupported op "+oe.toString(16)):oe<=30?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=115?console.error("WK1 unsupported function opcode "+oe.toString(16)):console.error("WK1 unrecognized opcode "+oe.toString(16))}}R.length==1?M[1].f=""+R[0]:console.error("WK1 bad formula parse |"+R.join("|")+"|")}function N(D){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=D.read_shift(2),M[3]=D[D.l++],M[0].c=D[D.l++],M}function C(D,M){var R=N(D);return R[1].t="s",R[1].v=D.read_shift(M-4,"cstr"),R}function j(D,M,R,H){var B=Ve(6+H.length);B.write_shift(2,D),B.write_shift(1,R),B.write_shift(1,M),B.write_shift(1,39);for(var W=0;W<H.length;++W){var te=H.charCodeAt(W);B.write_shift(1,te>=128?95:te)}return B.write_shift(1,0),B}function A(D,M){var R=N(D);R[1].v=D.read_shift(2);var H=R[1].v>>1;if(R[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return R[1].v=H,R}function k(D,M){var R=N(D),H=D.read_shift(4),B=D.read_shift(4),W=D.read_shift(2);if(W==65535)return H===0&&B===3221225472?(R[1].t="e",R[1].v=15):H===0&&B===3489660928?(R[1].t="e",R[1].v=42):R[1].v=0,R;var te=W&32768;return W=(W&32767)-16446,R[1].v=(1-te*2)*(B*Math.pow(2,W+32)+H*Math.pow(2,W)),R}function I(D,M,R,H){var B=Ve(14);if(B.write_shift(2,D),B.write_shift(1,R),B.write_shift(1,M),H==0)return B.write_shift(4,0),B.write_shift(4,0),B.write_shift(2,65535),B;var W=0,te=0,J=0,oe=0;return H<0&&(W=1,H=-H),te=Math.log2(H)|0,H/=Math.pow(2,te-31),oe=H>>>0,oe&2147483648||(H/=2,++te,oe=H>>>0),H-=oe,oe|=2147483648,oe>>>=0,H*=Math.pow(2,32),J=H>>>0,B.write_shift(4,J),B.write_shift(4,oe),te+=16383+(W?32768:0),B.write_shift(2,te),B}function T(D,M){var R=k(D);return D.l+=M-14,R}function P(D,M){var R=N(D),H=D.read_shift(4);return R[1].v=H>>6,R}function V(D,M){var R=N(D),H=D.read_shift(8,"f");return R[1].v=H,R}function F(D,M){var R=V(D);return D.l+=M-10,R}function Y(D,M){return D[D.l+M-1]==0?D.read_shift(M,"cstr"):""}function re(D,M){var R=D[D.l++];R>M-1&&(R=M-1);for(var H="";H.length<R;)H+=String.fromCharCode(D[D.l++]);return H}function U(D,M,R){if(!(!R.qpro||M<21)){var H=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var B=D.read_shift(M-21,"cstr");return[H,B]}}function q(D,M){for(var R={},H=D.l+M;D.l<H;){var B=D.read_shift(2);if(B==14e3){for(R[B]=[0,""],R[B][0]=D.read_shift(2);D[D.l];)R[B][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return R}function X(D,M){var R=Ve(5+D.length);R.write_shift(2,14e3),R.write_shift(2,M);for(var H=0;H<D.length;++H){var B=D.charCodeAt(H);R[R.l++]=B>127?95:B}return R[R.l++]=0,R}var pe={0:{n:"BOF",f:lZ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},xe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:F},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:U},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),b8e=/^\s|\s$|[\t\n\r]/;function mZ(e,t){if(!t.bookSST)return"";var r=[Ca];r[r.length]=ht("sst",null,{xmlns:n0[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(b8e)&&(s+=' xml:space="preserve"'),s+=">"+en(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function _8e(e){return[e.read_shift(4),e.read_shift(4)]}function j8e(e,t){return t||(t=Ve(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var S8e=mDe;function N8e(e){var t=yi();Ze(t,159,j8e(e));for(var r=0;r<e.length;++r)Ze(t,19,S8e(e[r]));return Ze(t,160),t.end()}function k8e(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function pZ(e){var t=0,r,n=k8e(e),a=n.length+1,s,o,l,c,u;for(r=hh(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var E8e=function(){function e(a,s){switch(s.type){case"base64":return t(mu(a),s);case"binary":return t(a,s);case"buffer":return t($r&&Buffer.isBuffer(a)?a.toString("binary"):Cx(a),s);case"array":return t(jj(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,h=0,v,g=-1;v=m.exec(d);){switch(v[0]){case"\\cell":var y=d.slice(h,m.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var x={v:y,t:"s"};Array.isArray(l)?l[f][g]=x:l[nn({r:f,c:g})]=x}break}h=m.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=ka(u),l}function r(a,s){return Ph(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=Cn(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=nn({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(pu(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function SF(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var C8e=6,Qc=C8e;function o2(e){return Math.floor((e+Math.round(128/Qc)/256)*Qc)}function l2(e){return Math.floor((e-5)/Qc*100+.5)/100}function gE(e){return Math.round((e*Qc+5)/Qc*256)/256}function WP(e){e.width?(e.wpx=o2(e.width),e.wch=l2(e.wpx),e.MDW=Qc):e.wpx?(e.wch=l2(e.wpx),e.width=gE(e.wch),e.MDW=Qc):typeof e.wch=="number"&&(e.width=gE(e.wch),e.wpx=o2(e.width),e.MDW=Qc),e.customWidth&&delete e.customWidth}var A8e=96,gZ=A8e;function c2(e){return e*96/gZ}function vZ(e){return e*gZ/96}function P8e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ht("numFmt",null,{numFmtId:n,formatCode:en(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ht("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function T8e(e){var t=[];return t[t.length]=ht("cellXfs",null),e.forEach(function(r){t[t.length]=ht("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ht("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function xZ(e,t){var r=[Ca,ht("styleSheet",null,{xmlns:n0[0],"xmlns:vt":Xa.vt})],n;return e.SSF&&(n=P8e(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=T8e(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function O8e(e,t){var r=e.read_shift(2),n=Fs(e);return[r,n]}function R8e(e,t,r){r||(r=Ve(6+4*t.length)),r.write_shift(2,e),Qa(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function I8e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=bDe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=wDe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Fs(e),n}function D8e(e,t){t||(t=Ve(25+4*32)),t.write_shift(2,e.sz*20),_De(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),s2(e.color,t);var n=0;return n=2,t.write_shift(1,n),Qa(e.name,t),t.length>t.l?t.slice(0,t.l):t}var L8e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],fN,M8e=dc;function NF(e,t){t||(t=Ve(4*3+8*7+16*1)),fN||(fN=TP(L8e));var r=fN[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(s2({auto:1},t),s2({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function F8e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function yZ(e,t,r){r||(r=Ve(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function rg(e,t){return t||(t=Ve(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var $8e=dc;function B8e(e,t){return t||(t=Ve(51)),t.write_shift(1,0),rg(null,t),rg(null,t),rg(null,t),rg(null,t),rg(null,t),t.length>t.l?t.slice(0,t.l):t}function U8e(e,t){return t||(t=Ve(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),a2(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function z8e(e,t,r){var n=Ve(2052);return n.write_shift(4,e),a2(t,n),a2(r,n),n.length>n.l?n.slice(0,n.l):n}function W8e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Ze(e,615,yl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ze(e,44,R8e(a,t[a]))}),Ze(e,616))}}function H8e(e){var t=1;Ze(e,611,yl(t)),Ze(e,43,D8e({sz:12,color:{theme:1},name:"Calibri",family:2})),Ze(e,612)}function q8e(e){var t=2;Ze(e,603,yl(t)),Ze(e,45,NF({patternType:"none"})),Ze(e,45,NF({patternType:"gray125"})),Ze(e,604)}function V8e(e){var t=1;Ze(e,613,yl(t)),Ze(e,46,B8e()),Ze(e,614)}function G8e(e){var t=1;Ze(e,626,yl(t)),Ze(e,47,yZ({numFmtId:0},65535)),Ze(e,627)}function K8e(e,t){Ze(e,617,yl(t.length)),t.forEach(function(r){Ze(e,47,yZ(r,0))}),Ze(e,618)}function Y8e(e){var t=1;Ze(e,619,yl(t)),Ze(e,48,U8e({xfId:0,name:"Normal"})),Ze(e,620)}function X8e(e){var t=0;Ze(e,505,yl(t)),Ze(e,506)}function J8e(e){var t=0;Ze(e,508,z8e(t,"TableStyleMedium9","PivotStyleMedium4")),Ze(e,509)}function Z8e(e,t){var r=yi();return Ze(r,278),W8e(r,e.SSF),H8e(r),q8e(r),V8e(r),G8e(r),K8e(r,t.cellXfs),Y8e(r),X8e(r),J8e(r),Ze(r,279),r.end()}function wZ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ca];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Q8e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Fs(e)}}function eLe(e){var t=Ve(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Qa(e.name,t),t.slice(0,t.l)}function tLe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function rLe(e){var t=Ve(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function nLe(e,t){var r=Ve(8+2*t.length);return r.write_shift(4,e),Qa(t,r),r.slice(0,r.l)}function aLe(e){return e.l+=4,e.read_shift(4)!=0}function sLe(e,t){var r=Ve(8);return r.write_shift(4,e),r.write_shift(4,1),r}function iLe(){var e=yi();return Ze(e,332),Ze(e,334,yl(1)),Ze(e,335,eLe({name:"XLDAPR",version:12e4,flags:3496657072})),Ze(e,336),Ze(e,339,nLe(1,"XLDAPR")),Ze(e,52),Ze(e,35,yl(514)),Ze(e,4096,yl(0)),Ze(e,4097,yo(1)),Ze(e,36),Ze(e,53),Ze(e,340),Ze(e,337,sLe(1)),Ze(e,51,rLe([[1,0]])),Ze(e,338),Ze(e,333),e.end()}function bZ(){var e=[Ca];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function oLe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=nn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var $m=1024;function _Z(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ht("xml",null,{"xmlns:v":Bi.v,"xmlns:o":Bi.o,"xmlns:x":Bi.x,"xmlns:mv":Bi.mv}).replace(/\/>/,">"),ht("o:shapelayout",ht("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ht("v:shapetype",[ht("v:stroke",null,{joinstyle:"miter"}),ht("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];$m<e*1e3;)$m+=1e3;return t.forEach(function(s){var o=Za(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ht("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ht("v:fill",c,l),d={on:"t",obscured:"t"};++$m,a=a.concat(["<v:shape"+Dv({id:"_x0000_s"+$m,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ht("v:shadow",null,d),ht("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",xs("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),xs("x:AutoFill","False"),xs("x:Row",String(o.r)),xs("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function jZ(e){var t=[Ca,ht("comments",null,{xmlns:n0[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=en(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(en(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(xs("t",en(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)o+=`Reply:
    `+s[l]+`
`;t.push(xs("t",en(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function lLe(e,t,r){var n=[Ca,ht("ThreadedComments",null,{xmlns:Xa.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(ht("threadedComment",xs("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function cLe(e){var t=[Ca,ht("personList",null,{xmlns:Xa.TCMNT,"xmlns:x":n0[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ht("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function uLe(e){var t={};t.iauthor=e.read_shift(4);var r=Ih(e);return t.rfx=r.s,t.ref=nn(r.s),e.l+=16,t}function dLe(e,t){return t==null&&(t=Ve(36)),t.write_shift(4,e[1].iauthor),s0(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var fLe=Fs;function hLe(e){return Qa(e.slice(0,54))}function mLe(e){var t=yi(),r=[];return Ze(t,628),Ze(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Ze(t,632,hLe(a.a)))})}),Ze(t,631),Ze(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:Za(n[0]),e:Za(n[0])};Ze(t,635,dLe([s,a])),a.t&&a.t.length>0&&Ze(t,637,gDe(a)),Ze(t,636),delete a.iauthor})}),Ze(t,634),Ze(t,629),t.end()}function pLe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&sn.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var SZ=["xlsb","xlsm","xlam","biff8","xla"],gLe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Ms(d)+(c?"":"$")+_s(u)}return function(a,s){return t=s,a.replace(e,r)}}(),HP=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,qP=function(){return function(t,r){return t.replace(HP,function(n,a,s,o,l,c){var u=FP(o)-(s?0:r.c),d=MP(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+m})}}();function vLe(e,t){return e.replace(HP,function(r,n,a,s,o,l){return n+(a=="$"?a+s:Ms(FP(s)+t.c))+(o=="$"?o+l:_s(MP(l)+t.r))})}function xLe(e){return e.length!=1}function wa(e){e.l+=1}function Fd(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function NZ(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return kZ(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Fd(e),l=Fd(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function kZ(e){var t=Fd(e),r=Fd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function yLe(e,t,r){if(r.biff<8)return kZ(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Fd(e),o=Fd(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function EZ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return wLe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Fd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function wLe(e){var t=Fd(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function bLe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function _Le(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return jLe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function jLe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function SLe(e,t,r){var n=(e[e.l++]&96)>>5,a=NZ(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function NLe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=NZ(e,s,r);return[n,a,o]}function kLe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function ELe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function CLe(e,t,r){var n=(e[e.l++]&96)>>5,a=yLe(e,t-1,r);return[n,a]}function ALe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function kF(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function PLe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function TLe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function OLe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function RLe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function ILe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function CZ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function DLe(e){return e.read_shift(2),CZ(e)}function LLe(e){return e.read_shift(2),CZ(e)}function MLe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=EZ(e,0,r);return[n,a]}function FLe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=_Le(e,0,r);return[n,a]}function $Le(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=EZ(e,0,r);return[n,a,s]}function BLe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[BMe[a],TZ[a],n]}function ULe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:zLe(e);return[a,(s[0]===0?TZ:$Me)[s[1]]]}function zLe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function WLe(e,t,r){e.l+=r&&r.biff==2?3:4}function HLe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function qLe(e){return e.l++,Tx[e.read_shift(1)]}function VLe(e){return e.l++,e.read_shift(2)}function GLe(e){return e.l++,e.read_shift(1)!==0}function KLe(e){return e.l++,i0(e)}function YLe(e,t,r){return e.l++,uZ(e,t-1,r)}function XLe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=$De(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Tx[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=i0(e);break;case 2:r[1]=WDe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function JLe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Ih:VDe)(e));return a}function ZLe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=XLe(e,r.biff);return o}function QLe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function eMe(e,t,r){if(r.biff==5)return tMe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function tMe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function rMe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function nMe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function aMe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function sMe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var iMe=dc,oMe=dc,lMe=dc;function Ox(e,t,r){return e.l+=2,[bLe(e)]}function VP(e){return e.l+=6,[]}var cMe=Ox,uMe=VP,dMe=VP,fMe=Ox;function AZ(e){return e.l+=2,[lZ(e),e.read_shift(2)&1]}var hMe=Ox,mMe=AZ,pMe=VP,gMe=Ox,vMe=Ox,xMe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function yMe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=xMe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function wMe(e){return e.l+=2,[e.read_shift(4)]}function bMe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function _Me(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function jMe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function SMe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function NMe(e){return e.l+=4,[0,0]}var EF={1:{n:"PtgExp",f:HLe},2:{n:"PtgTbl",f:lMe},3:{n:"PtgAdd",f:wa},4:{n:"PtgSub",f:wa},5:{n:"PtgMul",f:wa},6:{n:"PtgDiv",f:wa},7:{n:"PtgPower",f:wa},8:{n:"PtgConcat",f:wa},9:{n:"PtgLt",f:wa},10:{n:"PtgLe",f:wa},11:{n:"PtgEq",f:wa},12:{n:"PtgGe",f:wa},13:{n:"PtgGt",f:wa},14:{n:"PtgNe",f:wa},15:{n:"PtgIsect",f:wa},16:{n:"PtgUnion",f:wa},17:{n:"PtgRange",f:wa},18:{n:"PtgUplus",f:wa},19:{n:"PtgUminus",f:wa},20:{n:"PtgPercent",f:wa},21:{n:"PtgParen",f:wa},22:{n:"PtgMissArg",f:wa},23:{n:"PtgStr",f:YLe},26:{n:"PtgSheet",f:bMe},27:{n:"PtgEndSheet",f:_Me},28:{n:"PtgErr",f:qLe},29:{n:"PtgBool",f:GLe},30:{n:"PtgInt",f:VLe},31:{n:"PtgNum",f:KLe},32:{n:"PtgArray",f:ALe},33:{n:"PtgFunc",f:BLe},34:{n:"PtgFuncVar",f:ULe},35:{n:"PtgName",f:QLe},36:{n:"PtgRef",f:MLe},37:{n:"PtgArea",f:SLe},38:{n:"PtgMemArea",f:rMe},39:{n:"PtgMemErr",f:iMe},40:{n:"PtgMemNoMem",f:oMe},41:{n:"PtgMemFunc",f:nMe},42:{n:"PtgRefErr",f:aMe},43:{n:"PtgAreaErr",f:kLe},44:{n:"PtgRefN",f:FLe},45:{n:"PtgAreaN",f:CLe},46:{n:"PtgMemAreaN",f:jMe},47:{n:"PtgMemNoMemN",f:SMe},57:{n:"PtgNameX",f:eMe},58:{n:"PtgRef3d",f:$Le},59:{n:"PtgArea3d",f:NLe},60:{n:"PtgRefErr3d",f:sMe},61:{n:"PtgAreaErr3d",f:ELe},255:{}},kMe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},EMe={1:{n:"PtgElfLel",f:AZ},2:{n:"PtgElfRw",f:gMe},3:{n:"PtgElfCol",f:cMe},6:{n:"PtgElfRwV",f:vMe},7:{n:"PtgElfColV",f:fMe},10:{n:"PtgElfRadical",f:hMe},11:{n:"PtgElfRadicalS",f:pMe},13:{n:"PtgElfColS",f:uMe},15:{n:"PtgElfColSV",f:dMe},16:{n:"PtgElfRadicalLel",f:mMe},25:{n:"PtgList",f:yMe},29:{n:"PtgSxName",f:wMe},255:{}},CMe={0:{n:"PtgAttrNoop",f:NMe},1:{n:"PtgAttrSemi",f:ILe},2:{n:"PtgAttrIf",f:OLe},4:{n:"PtgAttrChoose",f:PLe},8:{n:"PtgAttrGoto",f:TLe},16:{n:"PtgAttrSum",f:WLe},32:{n:"PtgAttrBaxcel",f:kF},33:{n:"PtgAttrBaxcel",f:kF},64:{n:"PtgAttrSpace",f:DLe},65:{n:"PtgAttrSpaceSemi",f:LLe},128:{n:"PtgAttrIfError",f:RLe},255:{}};function AMe(e,t,r,n){if(n.biff<8)return dc(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=ZLe(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=JLe(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(dc(e,t)),s}function PMe(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=EF[s]||EF[kMe[s]],(s===24||s===25)&&(a=(s===24?EMe:CMe)[e[e.l+1]]),!a||!a.f?dc(e,t):o.push([a.n,a.f(e,t,r)]);return o}function TMe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var OMe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function RMe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function PZ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function CF(e,t,r){var n=PZ(e,t,r);return n=="#REF"?n:RMe(n,r)}function kp(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,m=0,h,v="";if(!e[0]||!e[0][0])return"";for(var g=-1,y="",x=0,b=e[0].length;x<b;++x){var _=e[0][x];switch(_[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:y=ea(" ",e[0][g][1][1]);break;case 1:y=ea("\r",e[0][g][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+y,g=-1}l.push(u+OMe[_[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Rg(_[1][1],o,a),l.push(Ig(d,s));break;case"PtgRefN":d=r?Rg(_[1][1],r,a):_[1][1],l.push(Ig(d,s));break;case"PtgRef3d":f=_[1][1],d=Rg(_[1][2],o,a),v=CF(n,f,a),l.push(v+"!"+Ig(d,s));break;case"PtgFunc":case"PtgFuncVar":var w=_[1][0],N=_[1][1];w||(w=0),w&=127;var C=w==0?[]:l.slice(-w);l.length-=w,N==="User"&&(N=C.shift()),l.push(N+"("+C.join(",")+")");break;case"PtgBool":l.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(_[1]);break;case"PtgNum":l.push(String(_[1]));break;case"PtgStr":l.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(_[1]);break;case"PtgAreaN":h=fF(_[1][1],r?{s:r}:o,a),l.push(uN(h,a));break;case"PtgArea":h=fF(_[1][1],o,a),l.push(uN(h,a));break;case"PtgArea3d":f=_[1][1],h=_[1][2],v=CF(n,f,a),l.push(v+"!"+uN(h,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=_[1][2];var j=(n.names||[])[m-1]||(n[0]||[])[m],A=j?j.Name:"SH33TJSNAME"+String(m);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var k=_[1][1];m=_[1][2];var I;if(a.biff<=5)k<0&&(k=-k),n[k]&&(I=n[k][m]);else{var T="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][m]&&n[k][m].itab>0&&(T=n.SheetNames[n[k][m].itab-1]+"!"):T=n.SheetNames[m-1]+"!"),n[k]&&n[k][m])T+=n[k][m].Name;else if(n[0]&&n[0][m])T+=n[0][m].Name;else{var P=(PZ(n,k,a)||"").split(";;");P[m-1]?T=P[m-1]:T+="SH33TJSERRX"}l.push(T);break}I||(I={Name:"SH33TJSERRY"}),l.push(I.Name);break;case"PtgParen":var V="(",F=")";if(g>=0){switch(y="",e[0][g][1][0]){case 2:V=ea(" ",e[0][g][1][1])+V;break;case 3:V=ea("\r",e[0][g][1][1])+V;break;case 4:F=ea(" ",e[0][g][1][1])+F;break;case 5:F=ea("\r",e[0][g][1][1])+F;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(V+l.pop()+F);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:_[1][1],r:_[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[nn(d)]){var re=n.sharedf[nn(d)];l.push(kp(re,o,Y,n,a))}else{var U=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(kp(u[1],o,Y,n,a)),U=!0;break}U||l.push(_[1])}break;case"PtgArray":l.push("{"+TMe(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&q.indexOf(e[0][x][0])==-1){_=e[0][g];var X=!0;switch(_[1][0]){case 4:X=!1;case 0:y=ea(" ",_[1][1]);break;case 5:X=!1;case 1:y=ea("\r",_[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}l.push((X?y:"")+l.pop()+(X?"":y)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function IMe(e){if(e==null){var t=Ve(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return mh(e);return mh(0)}function DMe(e,t,r,n,a){var s=ph(t,r,a),o=IMe(e.v),l=Ve(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Ve(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=vs([s,o,l,u]);return f}function Sj(e,t,r){var n=e.read_shift(4),a=PMe(e,n,r),s=e.read_shift(4),o=s>0?AMe(e,s,a,r):null;return[a,o]}var LMe=Sj,Nj=Sj,MMe=Sj,FMe=Sj,$Me={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},TZ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},BMe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function UMe(e){var t="of:="+e.replace(HP,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function zMe(e){return e.replace(/\./,"!")}var Dg=typeof Map<"u";function GP(e,t,r){var n=0,a=e.length;if(r){if(Dg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Dg?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Dg?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function kj(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Qc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=l2(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=gE(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function OZ(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Yd(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){EJ(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function WMe(e,t,r){if(e&&e["!ref"]){var n=Cn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function HMe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ka(e[r])+'"/>';return t+"</mergeCells>"}function qMe(e,t,r,n,a){var s=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,o.codeName=Iv(en(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+ht("outlinePr",null,u)}!s&&!l||(a[a.length]=ht("sheetPr",l,o))}var VMe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],GMe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function KMe(e){var t={sheet:1};return VMe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),GMe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=pZ(e.password).toString(16).toUpperCase()),ht("sheetProtection",null,t)}function YMe(e){return OZ(e),ht("pageMargins",null,e)}function XMe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ht("col",null,kj(a,n)));return r[r.length]="</cols>",r.join("")}function JMe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:ka(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=ro(a);o.s.r==o.e.r&&(o.e.r=ro(t["!ref"]).e.r,a=ka(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ht("autoFilter",null,{ref:a})}function ZMe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ht("sheetViews",ht("sheetView",null,a),{})}function QMe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Tx[e.v];break;case"d":n&&n.cellDates?a=ei(e.v,-1).toISOString():(e=bi(e),e.t="n",a=""+(e.v=wi(ei(e.v)))),typeof e.z>"u"&&(e.z=na[14]);break;default:a=e.v;break}var l=xs("v",en(a)),c={r:t},u=Yd(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=xs("v",""+GP(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ht("f",en(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ht("c",l,c)}function eFe(e,t,r,n){var a=[],s=[],o=Cn(e["!ref"]),l="",c,u="",d=[],f=0,m=0,h=e["!rows"],v=Array.isArray(e),g={r:u},y,x=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=Ms(m);for(f=o.s.r;f<=o.e.r;++f){for(s=[],u=_s(f),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var b=v?(e[f]||[])[m]:e[c];b!==void 0&&(l=QMe(b,c,e,t))!=null&&s.push(l)}(s.length>0||h&&h[f])&&(g={r:u},h&&h[f]&&(y=h[f],y.hidden&&(g.hidden=1),x=-1,y.hpx?x=c2(y.hpx):y.hpt&&(x=y.hpt),x>-1&&(g.ht=x,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),a[a.length]=ht("row",s.join(""),g))}if(h)for(;f<h.length;++f)h&&h[f]&&(g={r:f+1},y=h[f],y.hidden&&(g.hidden=1),x=-1,y.hpx?x=c2(y.hpx):y.hpt&&(x=y.hpt),x>-1&&(g.ht=x,g.customHeight=1),y.level&&(g.outlineLevel=y.level),a[a.length]=ht("row","",g));return a.join("")}function RZ(e,t,r,n){var a=[Ca,ht("worksheet",null,{xmlns:n0[0],"xmlns:r":Xa.r})],s=r.SheetNames[e],o=0,l="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",d=Cn(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=ka(d)}n||(n={}),c["!comments"]=[];var f=[];qMe(c,r,e,t,a),a[a.length]=ht("dimension",null,{ref:u}),a[a.length]=ZMe(c,t,e,r),t.sheetFormat&&(a[a.length]=ht("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=XMe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=eFe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=KMe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=JMe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=HMe(c["!merges"]));var m=-1,h,v=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(h={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=Jr(n,-1,en(g[1].Target).replace(/#.*$/,""),Dr.HLINK),h["r:id"]="rId"+v),(m=g[1].Target.indexOf("#"))>-1&&(h.location=en(g[1].Target.slice(m+1))),g[1].Tooltip&&(h.tooltip=en(g[1].Tooltip)),a[a.length]=ht("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=YMe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=xs("ignoredErrors",ht("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(v=Jr(n,-1,"../drawings/drawing"+(e+1)+".xml",Dr.DRAW),a[a.length]=ht("drawing",null,{"r:id":"rId"+v}),c["!drawing"]=f),c["!comments"].length>0&&(v=Jr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Dr.VML),a[a.length]=ht("legacyDrawing",null,{"r:id":"rId"+v}),c["!legacy"]=v),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function tFe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function rFe(e,t,r){var n=Ve(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=c2(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,m=-1,h=d<<10;h<d+1<<10;++h){u.c=h;var v=Array.isArray(r)?(r[u.r]||[])[u.c]:r[nn(u)];v&&(f<0&&(f=h),m=h)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function nFe(e,t,r,n){var a=rFe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Ze(e,0,a)}var aFe=Ih,sFe=s0;function iFe(){}function oFe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=vDe(e),r}function lFe(e,t,r){r==null&&(r=Ve(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return s2({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),KJ(e,r),r.slice(0,r.l)}function cFe(e){var t=zo(e);return[t]}function uFe(e,t,r){return r==null&&(r=Ve(8)),Th(t,r)}function dFe(e){var t=Oh(e);return[t]}function fFe(e,t,r){return r==null&&(r=Ve(4)),Rh(t,r)}function hFe(e){var t=zo(e),r=e.read_shift(1);return[t,r,"b"]}function mFe(e,t,r){return r==null&&(r=Ve(9)),Th(t,r),r.write_shift(1,e.v?1:0),r}function pFe(e){var t=Oh(e),r=e.read_shift(1);return[t,r,"b"]}function gFe(e,t,r){return r==null&&(r=Ve(5)),Rh(t,r),r.write_shift(1,e.v?1:0),r}function vFe(e){var t=zo(e),r=e.read_shift(1);return[t,r,"e"]}function xFe(e,t,r){return r==null&&(r=Ve(9)),Th(t,r),r.write_shift(1,e.v),r}function yFe(e){var t=Oh(e),r=e.read_shift(1);return[t,r,"e"]}function wFe(e,t,r){return r==null&&(r=Ve(8)),Rh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function bFe(e){var t=zo(e),r=e.read_shift(4);return[t,r,"s"]}function _Fe(e,t,r){return r==null&&(r=Ve(12)),Th(t,r),r.write_shift(4,t.v),r}function jFe(e){var t=Oh(e),r=e.read_shift(4);return[t,r,"s"]}function SFe(e,t,r){return r==null&&(r=Ve(8)),Rh(t,r),r.write_shift(4,t.v),r}function NFe(e){var t=zo(e),r=i0(e);return[t,r,"n"]}function kFe(e,t,r){return r==null&&(r=Ve(16)),Th(t,r),mh(e.v,r),r}function EFe(e){var t=Oh(e),r=i0(e);return[t,r,"n"]}function CFe(e,t,r){return r==null&&(r=Ve(12)),Rh(t,r),mh(e.v,r),r}function AFe(e){var t=zo(e),r=YJ(e);return[t,r,"n"]}function PFe(e,t,r){return r==null&&(r=Ve(12)),Th(t,r),XJ(e.v,r),r}function TFe(e){var t=Oh(e),r=YJ(e);return[t,r,"n"]}function OFe(e,t,r){return r==null&&(r=Ve(8)),Rh(t,r),XJ(e.v,r),r}function RFe(e){var t=zo(e),r=$P(e);return[t,r,"is"]}function IFe(e){var t=zo(e),r=Fs(e);return[t,r,"str"]}function DFe(e,t,r){return r==null&&(r=Ve(12+4*e.v.length)),Th(t,r),Qa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function LFe(e){var t=Oh(e),r=Fs(e);return[t,r,"str"]}function MFe(e,t,r){return r==null&&(r=Ve(8+4*e.v.length)),Rh(t,r),Qa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function FFe(e,t,r){var n=e.l+t,a=zo(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=Nj(e,n-e.l,r);o[3]=kp(l,null,a,r.supbooks,r)}else e.l=n;return o}function $Fe(e,t,r){var n=e.l+t,a=zo(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=Nj(e,n-e.l,r);o[3]=kp(l,null,a,r.supbooks,r)}else e.l=n;return o}function BFe(e,t,r){var n=e.l+t,a=zo(e);a.r=r["!row"];var s=i0(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=Nj(e,n-e.l,r);o[3]=kp(l,null,a,r.supbooks,r)}else e.l=n;return o}function UFe(e,t,r){var n=e.l+t,a=zo(e);a.r=r["!row"];var s=Fs(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=Nj(e,n-e.l,r);o[3]=kp(l,null,a,r.supbooks,r)}else e.l=n;return o}var zFe=Ih,WFe=s0;function HFe(e,t){return t==null&&(t=Ve(4)),t.write_shift(4,e),t}function qFe(e,t){var r=e.l+t,n=Ih(e),a=BP(e),s=Fs(e),o=Fs(e),l=Fs(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function VFe(e,t){var r=Ve(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));s0({s:Za(e[0]),e:Za(e[0])},r),UP("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Qa(a||"",r),Qa(e[1].Tooltip||"",r),Qa("",r),r.slice(0,r.l)}function GFe(){}function KFe(e,t,r){var n=e.l+t,a=JJ(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=LMe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function YFe(e,t,r){var n=e.l+t,a=Ih(e),s=[a];if(r.cellFormula){var o=FMe(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}function XFe(e,t,r){r==null&&(r=Ve(18));var n=kj(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var IZ=["left","right","top","bottom","header","footer"];function JFe(e){var t={};return IZ.forEach(function(r){t[r]=i0(e)}),t}function ZFe(e,t){return t==null&&(t=Ve(6*8)),OZ(e),IZ.forEach(function(r){mh(e[r],t)}),t}function QFe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function e7e(e,t,r){r==null&&(r=Ve(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function t7e(e){var t=Ve(24);return t.write_shift(4,4),t.write_shift(4,1),s0(e,t),t}function r7e(e,t){return t==null&&(t=Ve(16*4+2)),t.write_shift(2,e.password?pZ(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function n7e(){}function a7e(){}function s7e(e,t,r,n,a,s,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=bi(t),t.z=t.z||na[14],t.v=wi(ei(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Yd(a.cellXfs,t,a),t.l&&s["!links"].push([nn(c),t.l]),t.c&&s["!comments"].push([nn(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=GP(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Ze(e,18,SFe(t,c)):Ze(e,7,_Fe(t,c))):(c.t="str",o?Ze(e,17,MFe(t,c)):Ze(e,6,DFe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ze(e,13,OFe(t,c)):Ze(e,2,PFe(t,c)):o?Ze(e,16,CFe(t,c)):Ze(e,5,kFe(t,c)),!0;case"b":return c.t="b",o?Ze(e,15,gFe(t,c)):Ze(e,4,mFe(t,c)),!0;case"e":return c.t="e",o?Ze(e,14,wFe(t,c)):Ze(e,3,xFe(t,c)),!0}return o?Ze(e,12,fFe(t,c)):Ze(e,1,uFe(t,c)),!0}function i7e(e,t,r,n){var a=Cn(t["!ref"]||"A1"),s,o="",l=[];Ze(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=_s(d),nFe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(l[m]=Ms(m)),s=l[m]+o;var h=c?(t[d]||[])[m]:t[s];if(!h){f=!1;continue}f=s7e(e,h,d,m,n,t,f)}}Ze(e,146)}function o7e(e,t){!t||!t["!merges"]||(Ze(e,177,HFe(t["!merges"].length)),t["!merges"].forEach(function(r){Ze(e,176,WFe(r))}),Ze(e,178))}function l7e(e,t){!t||!t["!cols"]||(Ze(e,390),t["!cols"].forEach(function(r,n){r&&Ze(e,60,XFe(n,r))}),Ze(e,391))}function c7e(e,t){!t||!t["!ref"]||(Ze(e,648),Ze(e,649,t7e(Cn(t["!ref"]))),Ze(e,650))}function u7e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Jr(r,-1,n[1].Target.replace(/#.*$/,""),Dr.HLINK);Ze(e,494,VFe(n,a))}}),delete t["!links"]}function d7e(e,t,r,n){if(t["!comments"].length>0){var a=Jr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Dr.VML);Ze(e,551,UP("rId"+a)),t["!legacy"]=a}}function f7e(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:ka(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=ro(s);l.s.r==l.e.r&&(l.e.r=ro(t["!ref"]).e.r,s=ka(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ze(e,161,s0(Cn(s))),Ze(e,162)}}function h7e(e,t,r){Ze(e,133),Ze(e,137,e7e(t,r)),Ze(e,138),Ze(e,134)}function m7e(e,t){t["!protect"]&&Ze(e,535,r7e(t["!protect"]))}function p7e(e,t,r,n){var a=yi(),s=r.SheetNames[e],o=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Cn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ze(a,129),(r.vbaraw||o["!outline"])&&Ze(a,147,lFe(l,o["!outline"])),Ze(a,148,sFe(c)),h7e(a,o,r.Workbook),l7e(a,o),i7e(a,o,e,t),m7e(a,o),f7e(a,o,r,e),o7e(a,o),u7e(a,o,n),o["!margins"]&&Ze(a,476,ZFe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&c7e(a,o),d7e(a,o,e,n),Ze(a,130),a.end()}function g7e(e,t){e.l+=10;var r=Fs(e);return{name:r}}var v7e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function x7e(e){return!e.Workbook||!e.Workbook.WBProps?"false":YIe(e.Workbook.WBProps.date1904)?"true":"false"}var y7e="][*?/\\".split("");function DZ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return y7e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function w7e(e,t,r){e.forEach(function(n,a){DZ(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function b7e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];w7e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)WMe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function LZ(e){var t=[Ca];t[t.length]=ht("workbook",null,{xmlns:n0[0],"xmlns:r":Xa.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(v7e.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ht("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:en(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=ht("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=ht("definedName",en(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function _7e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=pE(e),r.name=Fs(e),r}function j7e(e,t){return t||(t=Ve(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),UP(e.strRelID,t),Qa(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function S7e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Fs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function N7e(e,t){t||(t=Ve(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),KJ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function k7e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=xDe(e),o=MMe(e,0,r),l=BP(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function E7e(e,t){Ze(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ze(e,156,j7e(a))}Ze(e,144)}function C7e(e,t){t||(t=Ve(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Qa("SheetJS",t),Qa(Jb.version,t),Qa(Jb.version,t),Qa("7262",t),t.length>t.l?t.slice(0,t.l):t}function A7e(e,t){t||(t=Ve(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function P7e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(Ze(e,135),Ze(e,158,A7e(a)),Ze(e,136))}}function T7e(e,t){var r=yi();return Ze(r,131),Ze(r,128,C7e()),Ze(r,153,N7e(e.Workbook&&e.Workbook.WBProps||null)),P7e(r,e),E7e(r,e),Ze(r,132),r.end()}function O7e(e,t,r){return(t.slice(-4)===".bin"?T7e:LZ)(e)}function R7e(e,t,r,n,a){return(t.slice(-4)===".bin"?p7e:RZ)(e,r,n,a)}function I7e(e,t,r){return(t.slice(-4)===".bin"?Z8e:xZ)(e,r)}function D7e(e,t,r){return(t.slice(-4)===".bin"?N8e:mZ)(e,r)}function L7e(e,t,r){return(t.slice(-4)===".bin"?mLe:jZ)(e)}function M7e(e){return(e.slice(-4)===".bin"?iLe:bZ)()}function F7e(e,t){var r=[];return e.Props&&r.push(IDe(e.Props,t)),e.Custprops&&r.push(DDe(e.Props,e.Custprops)),r.join("")}function $7e(){return""}function B7e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(ht("NumberFormat",null,{"ss:Format":en(na[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(ht("Style",s.join(""),o))}),ht("Styles",r.join(""))}function MZ(e){return ht("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+qP(e.Ref,{r:0,c:0})})}function U7e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(MZ(a)))}return ht("Names",r.join(""))}function z7e(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(MZ(l)))}return s.join("")}function W7e(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ht("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ht("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ht("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ht("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(xs("ProtectContents","True")),e["!protect"].objects&&a.push(xs("ProtectObjects","True")),e["!protect"].scenarios&&a.push(xs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(xs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(xs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":ht("WorksheetOptions",a.join(""),{xmlns:Bi.x})}function H7e(e){return e.map(function(t){var r=KIe(t.t||""),n=ht("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ht("Comment",n,{"ss:Author":t.a})}).join("")}function q7e(e,t,r,n,a,s,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+en(qP(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Za(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=en(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=en(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=Tx[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||na[14]);break;case"s":f="String",m=GIe(e.v||"");break}var h=Yd(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var v=e.v!=null?m:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(e.c||[]).length>0&&(g+=H7e(e.c)),ht("Cell",g,l)}function V7e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=vZ(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function G7e(e,t,r,n){if(!e["!ref"])return"";var a=Cn(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(y,x){WP(y);var b=!!y.width,_=kj(x,y),w={"ss:Index":x+1};b&&(w["ss:Width"]=o2(_.width)),y.hidden&&(w["ss:Hidden"]="1"),l.push(ht("Column",null,w))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[V7e(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>f)&&!(s[o].s.r>u)&&!(s[o].e.c<f)&&!(s[o].e.r<u)){(s[o].s.c!=f||s[o].s.r!=u)&&(m=!0);break}if(!m){var h={r:u,c:f},v=nn(h),g=c?(e[u]||[])[f]:e[v];d.push(q7e(g,v,e,t,r,n,h))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function K7e(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],o=s?z7e(s,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?G7e(s,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(W7e(s,t,e,r)),n.join("")}function Y7e(e,t){t||(t={}),e.SSF||(e.SSF=bi(na)),e.SSF&&(bj(),wj(e.SSF),t.revssf=_j(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Yd(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(F7e(e,t)),r.push($7e()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ht("Worksheet",K7e(n,t,e),{"ss:Name":en(e.SheetNames[n])}));return r[2]=B7e(e,t),r[3]=U7e(e),Ca+ht("Workbook",r.join(""),{xmlns:Bi.ss,"xmlns:o":Bi.o,"xmlns:x":Bi.x,"xmlns:ss":Bi.ss,"xmlns:dt":Bi.dt,"xmlns:html":Bi.html})}var hN={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function X7e(e,t){var r=[],n=[],a=[],s=0,o,l=tF(mF,"n"),c=tF(pF,"n");if(e.Props)for(o=Ss(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=Ss(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Custprops[o[s]]]);var u=[];for(s=0;s<a.length;++s)oZ.indexOf(a[s][0])>-1||aZ.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&sn.utils.cfb_add(t,"/SummaryInformation",wF(n,hN.SI,c,pF)),(r.length||u.length)&&sn.utils.cfb_add(t,"/DocumentSummaryInformation",wF(r,hN.DSI,l,mF,u.length?u:null,hN.UDI))}function J7e(e,t){var r=t||{},n=sn.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return sn.utils.cfb_add(n,a,FZ(e,r)),r.biff==8&&(e.Props||e.Custprops)&&X7e(e,n),r.biff==8&&e.vbaraw&&pLe(n,sn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Z7e={0:{f:tFe},1:{f:cFe},2:{f:AFe},3:{f:vFe},4:{f:hFe},5:{f:NFe},6:{f:IFe},7:{f:bFe},8:{f:UFe},9:{f:BFe},10:{f:FFe},11:{f:$Fe},12:{f:dFe},13:{f:TFe},14:{f:yFe},15:{f:pFe},16:{f:EFe},17:{f:LFe},18:{f:jFe},19:{f:$P},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:k7e},40:{},42:{},43:{f:I8e},44:{f:O8e},45:{f:M8e},46:{f:$8e},47:{f:F8e},48:{},49:{f:dDe},50:{},51:{f:tLe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:f8e},62:{f:RFe},63:{f:oLe},64:{f:n7e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:dc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:QFe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:oFe},148:{f:aFe,p:16},151:{f:GFe},152:{},153:{f:S7e},154:{},155:{},156:{f:_7e},157:{},158:{},159:{T:1,f:_8e},160:{T:-1},161:{T:1,f:Ih},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:zFe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Q8e},336:{T:-1},337:{f:aLe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:pE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:i8e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:KFe},427:{f:YFe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:JFe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:iFe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:qFe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:pE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:fLe},633:{T:1},634:{T:-1},635:{T:1,f:uLe},636:{T:-1},637:{f:pDe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:g7e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:a7e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function mt(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&LP(r)&&e.push(r)}}function Q7e(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return mt(e,t,r,a);var s=t;if(!isNaN(s)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Rx(e,t,r){return e||(e=Ve(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function e9e(e,t,r,n){var a=Ve(9);return Rx(a,e,t),cZ(r,n||"b",a),a}function t9e(e,t,r){var n=Ve(8+2*r.length);return Rx(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function r9e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?wi(ei(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?mt(e,2,g8e(r,n,a)):mt(e,3,p8e(r,n,a));return;case"b":case"e":mt(e,5,e9e(r,n,t.v,t.t));return;case"s":case"str":mt(e,4,t9e(r,n,(t.v||"").slice(0,255)));return}mt(e,1,Rx(null,r,n))}function n9e(e,t,r,n){var a=Array.isArray(t),s=Cn(t["!ref"]||"A1"),o,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=ka(s)}for(var u=s.s.r;u<=s.e.r;++u){l=_s(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(c[d]=Ms(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&r9e(e,f,u,d)}}}function a9e(e,t){for(var r=t||{},n=yi(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return mt(n,r.biff==4?1033:r.biff==3?521:9,zP(e,16,r)),n9e(n,e.Sheets[e.SheetNames[a]],a,r),mt(n,10),n.end()}function s9e(e,t,r){mt(e,49,ZDe({sz:12,name:"Arial"},r))}function i9e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&mt(e,1054,t8e(a,t[a],r))})}function o9e(e,t){var r=Ve(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),mt(e,2151,r),r=Ve(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),fZ(Cn(t["!ref"]||"A1"),r),r.write_shift(4,4),mt(e,2152,r)}function l9e(e,t){for(var r=0;r<16;++r)mt(e,224,_F({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){mt(e,224,_F(n,0,t))})}function c9e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];mt(e,440,c8e(n)),n[1].Tooltip&&mt(e,2048,u8e(n))}delete t["!links"]}function u9e(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&mt(e,125,h8e(kj(a,n),a))})}}function d9e(e,t,r,n,a){var s=16+Yd(a.cellXfs,t,a);if(t.v==null&&!t.bf){mt(e,513,ph(r,n,s));return}if(t.bf)mt(e,6,DMe(t,r,n,a,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?wi(ei(t.v)):t.v;mt(e,515,s8e(r,n,o,s));break;case"b":case"e":mt(e,517,a8e(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var l=GP(a.Strings,t.v,a.revStrings);mt(e,253,QDe(r,n,l,s))}else mt(e,516,e8e(r,n,(t.v||"").slice(0,255),s,a));break;default:mt(e,513,ph(r,n,s))}}function f9e(e,t,r){var n=yi(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,d,f="",m=[],h=Cn(s["!ref"]||"A1"),v=u?65536:16384;if(h.e.c>255||h.e.r>=v){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,v-1)}mt(n,2057,zP(r,16,t)),mt(n,13,yo(1)),mt(n,12,yo(100)),mt(n,15,Gs(!0)),mt(n,17,Gs(!1)),mt(n,16,mh(.001)),mt(n,95,Gs(!0)),mt(n,42,Gs(!1)),mt(n,43,Gs(!1)),mt(n,130,yo(1)),mt(n,128,n8e()),mt(n,131,Gs(!1)),mt(n,132,Gs(!1)),u&&u9e(n,s["!cols"]),mt(n,512,r8e(h,t)),u&&(s["!links"]=[]);for(var g=h.s.r;g<=h.e.r;++g){f=_s(g);for(var y=h.s.c;y<=h.e.c;++y){g===h.s.r&&(m[y]=Ms(y)),d=m[y]+f;var x=c?(s[g]||[])[y]:s[d];x&&(d9e(n,x,g,y,t),u&&x.l&&s["!links"].push([d,x.l]))}}var b=l.CodeName||l.name||a;return u&&mt(n,574,JDe((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&mt(n,229,l8e(s["!merges"])),u&&c9e(n,s),mt(n,442,dZ(b)),u&&o9e(n,s),mt(n,10),n.end()}function h9e(e,t,r){var n=yi(),a=(e||{}).Workbook||{},s=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(mt(n,2057,zP(e,5,r)),r.bookType=="xla"&&mt(n,135),mt(n,225,l?yo(1200):null),mt(n,193,FDe(2)),c&&mt(n,191),c&&mt(n,192),mt(n,226),mt(n,92,GDe("SheetJS",r)),mt(n,66,yo(l?1200:1252)),l&&mt(n,353,yo(0)),l&&mt(n,448),mt(n,317,m8e(e.SheetNames.length)),l&&e.vbaraw&&mt(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";mt(n,442,dZ(u))}mt(n,156,yo(17)),mt(n,25,Gs(!1)),mt(n,18,Gs(!1)),mt(n,19,yo(0)),l&&mt(n,431,Gs(!1)),l&&mt(n,444,yo(0)),mt(n,61,XDe()),mt(n,64,Gs(!1)),mt(n,141,yo(0)),mt(n,34,Gs(x7e(e)=="true")),mt(n,14,Gs(!0)),l&&mt(n,439,Gs(!1)),mt(n,218,yo(0)),s9e(n,e,r),i9e(n,e.SSF,r),l9e(n,r),l&&mt(n,352,Gs(!1));var d=n.end(),f=yi();l&&mt(f,140,d8e()),l&&r.Strings&&Q7e(f,252,YDe(r.Strings)),mt(f,10);var m=f.end(),h=yi(),v=0,g=0;for(g=0;g<e.SheetNames.length;++g)v+=(l?12:11)+(l?2:1)*e.SheetNames[g].length;var y=d.length+v+m.length;for(g=0;g<e.SheetNames.length;++g){var x=s[g]||{};mt(h,133,KDe({pos:y,hs:x.Hidden||0,dt:0,name:e.SheetNames[g]},r)),y+=t[g].length}var b=h.end();if(v!=b.length)throw new Error("BS8 "+v+" != "+b.length);var _=[];return d.length&&_.push(d),b.length&&_.push(b),m.length&&_.push(m),vs(_)}function m9e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=bi(na)),e&&e.SSF&&(bj(),wj(e.SSF),r.revssf=_j(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,KP(r),r.cellXfs=[],Yd(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=f9e(a,r,e);return n.unshift(h9e(e,n,r)),vs(n)}function FZ(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=ro(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return m9e(e,t);case 4:case 3:case 2:return a9e(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function p9e(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=nn({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],m=f&&f.v!=null&&(f.h||VIe(f.w||(pu(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),h.id=(n.id||"sjs")+"-"+d,s.push(ht("td",m,h))}}var v="<tr>";return v+s.join("")+"</tr>"}var g9e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',v9e="</body></html>";function x9e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function $Z(e,t){var r=t||{},n=r.header!=null?r.header:g9e,a=r.footer!=null?r.footer:v9e,s=[n],o=ro(e["!ref"]);r.dense=Array.isArray(e),s.push(x9e(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(p9e(e,o,l,r));return s.push("</table>"+a),s.join("")}function BZ(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Za(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=ro(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],m=0,h=e["!rows"]||(e["!rows"]=[]),v=0,g=0,y=0,x=0,b=0,_=0;for(e["!cols"]||(e["!cols"]=[]);v<l.length&&g<c;++v){var w=l[v];if(AF(w)){if(n.display)continue;h[g]={hidden:!0}}var N=w.children;for(y=x=0;y<N.length;++y){var C=N[y];if(!(n.display&&AF(C))){var j=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):XIe(C.innerHTML),A=C.getAttribute("data-z")||C.getAttribute("z");for(m=0;m<f.length;++m){var k=f[m];k.s.c==x+s&&k.s.r<g+a&&g+a<=k.e.r&&(x=k.e.c+1-s,m=-1)}_=+C.getAttribute("colspan")||1,((b=+C.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:g+a,c:x+s},e:{r:g+a+(b||1)-1,c:x+s+(_||1)-1}});var I={t:"s",v:j},T=C.getAttribute("data-t")||C.getAttribute("t")||"";j!=null&&(j.length==0?I.t=T||"z":n.raw||j.trim().length==0||T=="s"||(j==="TRUE"?I={t:"b",v:!0}:j==="FALSE"?I={t:"b",v:!1}:isNaN(Zc(j))?isNaN(Rv(j).getDate())||(I={t:"d",v:ei(j)},n.cellDates||(I={t:"n",v:wi(I.v)}),I.z=n.dateNF||na[14]):I={t:"n",v:Zc(j)})),I.z===void 0&&A!=null&&(I.z=A);var P="",V=C.getElementsByTagName("A");if(V&&V.length)for(var F=0;F<V.length&&!(V[F].hasAttribute("href")&&(P=V[F].getAttribute("href"),P.charAt(0)!="#"));++F);P&&P.charAt(0)!="#"&&(I.l={Target:P}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][x+s]=I):e[nn({c:x+s,r:g+a})]=I,u.e.c<x+s&&(u.e.c=x+s),x+=_}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=ka(u),g>=c&&(e["!fullref"]=ka((u.e.r=l.length-v+g-1+a,u))),e}function UZ(e,t){var r=t||{},n=r.dense?[]:{};return BZ(n,e,t)}function y9e(e,t){return Ph(UZ(e,t),t)}function AF(e){var t="",r=w9e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function w9e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var b9e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Dv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ca+t}}(),PF=function(){var e=function(s){return en(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,o,l){var c=[];c.push('      <table:table table:name="'+en(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=ro(s["!ref"]||"A1"),m=s["!merges"]||[],h=0,v=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(u=0;u<f.s.r;++u)g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var x=!1,b={},_="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>d)&&!(m[h].s.r>u)&&!(m[h].e.c<d)&&!(m[h].e.r<u)){(m[h].s.c!=d||m[h].s.r!=u)&&(x=!0),b["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,b["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(x){c.push(r);continue}var w=nn({r:u,c:d}),N=v?(s[u]||[])[d]:s[w];if(N&&N.f&&(b["table:formula"]=en(UMe(N.f)),N.F&&N.F.slice(0,w.length)==w)){var C=ro(N.F);b["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,b["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":_=N.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=N.v?"true":"false";break;case"n":_=N.w||String(N.v||0),b["office:value-type"]="float",b["office:value"]=N.v||0;break;case"s":case"str":_=N.v==null?"":N.v,b["office:value-type"]="string";break;case"d":_=N.w||ei(N.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=ei(N.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var j=e(_);if(N.l&&N.l.Target){var A=N.l.Target;A=A.charAt(0)=="#"?"#"+zMe(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),j=ht("text:a",j,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+ht("table:table-cell",ht("text:p",j,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;WP(f),f.ods=l;var m=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Ca],u=Dv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Dv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(rZ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function zZ(e,t){if(t.bookType=="fods")return PF(e,t);var r=OP(),n="",a=[],s=[];return n="mimetype",vr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",vr(r,n,PF(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",vr(r,n,b9e(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",vr(r,n,Ca+rZ()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",vr(r,n,RDe(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",vr(r,n,TDe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function u2(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function _9e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):hl(Iv(e))}function j9e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function $d(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function S9e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function Lv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Yr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function sp(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ma(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Lv(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Lv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function fs(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Yr(n*8+a.type)),a.type==2&&t.push(Yr(a.data.length)),t.push(a.data))})}),$d(t)}function tl(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Lv(e,n),s=Ma(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:sp(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ma(l.data),u=sp(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=sp(s[3][0].data)>>>0>0),r.push(o)}return r}function hm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Yr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Yr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Yr(o.data.length)}],n[2].push({data:fs(o.meta),type:2})});var s=fs(n);t.push(Yr(s.length)),t.push(s),a.forEach(function(o){return t.push(o)})}),$d(t)}function N9e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Lv(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[$d(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=$d(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function rl(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(N9e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return $d(t)}function mm(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=Yr(n),o=s.length;t.push(s),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return $d(t)}function mN(e,t){var r=new Uint8Array(32),n=u2(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,S9e(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function pN(e,t){var r=new Uint8Array(32),n=u2(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Yu(e){var t=Ma(e);return Lv(t[1][0].data)}function k9e(e,t,r){var n,a,s,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&sp(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=u2(e[7][0].data),d=0,f=[],m=u2(e[4][0].data),h=0,v=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),m.setUint16(g*2,h,!0);var y,x;switch(typeof t[g]){case"string":y=mN({t:"s",v:t[g]},r),x=pN({t:"s",v:t[g]},r);break;case"number":y=mN({t:"n",v:t[g]},r),x=pN({t:"n",v:t[g]},r);break;case"boolean":y=mN({t:"b",v:t[g]},r),x=pN({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(y),d+=y.length,v.push(x),h+=x.length,++c}for(e[2][0].data=Yr(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return e[6][0].data=$d(f),e[3][0].data=$d(v),c}function E9e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ro(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ka(n)));var s=d2(r,{range:n,header:1}),o=["~Sh33tJ5~"];s.forEach(function(M){return M.forEach(function(R){typeof R=="string"&&o.push(R)})});var l={},c=[],u=sn.read(t.numbers,{type:"base64"});u.FileIndex.map(function(M,R){return[M,u.FullPaths[R]]}).forEach(function(M){var R=M[0],H=M[1];if(R.type==2&&R.name.match(/\.iwa/)){var B=R.content,W=rl(B),te=tl(W);te.forEach(function(J){c.push(J.id),l[J.id]={deps:[],location:H,type:sp(J.messages[0].meta[1][0].data)}})}}),c.sort(function(M,R){return M-R});var d=c.filter(function(M){return M>1}).map(function(M){return[M,Yr(M)]});u.FileIndex.map(function(M,R){return[M,u.FullPaths[R]]}).forEach(function(M){var R=M[0];if(M[1],!!R.name.match(/\.iwa/)){var H=tl(rl(R.content));H.forEach(function(B){B.messages.forEach(function(W){d.forEach(function(te){B.messages.some(function(J){return sp(J.meta[1][0].data)!=11006&&j9e(J.data,te[1])})&&l[te[0]].deps.push(B.id)})})})}});for(var f=sn.find(u,l[1].location),m=tl(rl(f.content)),h,v=0;v<m.length;++v){var g=m[v];g.id==1&&(h=g)}var y=Yu(Ma(h.messages[0].data)[1][0].data);for(f=sn.find(u,l[y].location),m=tl(rl(f.content)),v=0;v<m.length;++v)g=m[v],g.id==y&&(h=g);for(y=Yu(Ma(h.messages[0].data)[2][0].data),f=sn.find(u,l[y].location),m=tl(rl(f.content)),v=0;v<m.length;++v)g=m[v],g.id==y&&(h=g);for(y=Yu(Ma(h.messages[0].data)[2][0].data),f=sn.find(u,l[y].location),m=tl(rl(f.content)),v=0;v<m.length;++v)g=m[v],g.id==y&&(h=g);var x=Ma(h.messages[0].data);{x[6][0].data=Yr(n.e.r+1),x[7][0].data=Yr(n.e.c+1);var b=Yu(x[46][0].data),_=sn.find(u,l[b].location),w=tl(rl(_.content));{for(var N=0;N<w.length&&w[N].id!=b;++N);if(w[N].id!=b)throw"Bad ColumnRowUIDMapArchive";var C=Ma(w[N].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var j=0;j<=n.e.c;++j){var A=[];A[1]=A[2]=[{type:0,data:Yr(j+420690)}],C[1].push({type:2,data:fs(A)}),C[2].push({type:0,data:Yr(j)}),C[3].push({type:0,data:Yr(j)})}C[4]=[],C[5]=[],C[6]=[];for(var k=0;k<=n.e.r;++k)A=[],A[1]=A[2]=[{type:0,data:Yr(k+726270)}],C[4].push({type:2,data:fs(A)}),C[5].push({type:0,data:Yr(k)}),C[6].push({type:0,data:Yr(k)});w[N].messages[0].data=fs(C)}_.content=mm(hm(w)),_.size=_.content.length,delete x[46];var I=Ma(x[4][0].data);{I[7][0].data=Yr(n.e.r+1);var T=Ma(I[1][0].data),P=Yu(T[2][0].data);_=sn.find(u,l[P].location),w=tl(rl(_.content));{if(w[0].id!=P)throw"Bad HeaderStorageBucket";var V=Ma(w[0].messages[0].data);for(k=0;k<s.length;++k){var F=Ma(V[2][0].data);F[1][0].data=Yr(k),F[4][0].data=Yr(s[k].length),V[2][k]={type:V[2][0].type,data:fs(F)}}w[0].messages[0].data=fs(V)}_.content=mm(hm(w)),_.size=_.content.length;var Y=Yu(I[2][0].data);_=sn.find(u,l[Y].location),w=tl(rl(_.content));{if(w[0].id!=Y)throw"Bad HeaderStorageBucket";for(V=Ma(w[0].messages[0].data),j=0;j<=n.e.c;++j)F=Ma(V[2][0].data),F[1][0].data=Yr(j),F[4][0].data=Yr(n.e.r+1),V[2][j]={type:V[2][0].type,data:fs(F)};w[0].messages[0].data=fs(V)}_.content=mm(hm(w)),_.size=_.content.length;var re=Yu(I[4][0].data);(function(){for(var M=sn.find(u,l[re].location),R=tl(rl(M.content)),H,B=0;B<R.length;++B){var W=R[B];W.id==re&&(H=W)}var te=Ma(H.messages[0].data);{te[3]=[];var J=[];o.forEach(function(ve,We){J[1]=[{type:0,data:Yr(We)}],J[2]=[{type:0,data:Yr(1)}],J[3]=[{type:2,data:_9e(ve)}],te[3].push({type:2,data:fs(J)})})}H.messages[0].data=fs(te);var oe=hm(R),_e=mm(oe);M.content=_e,M.size=M.content.length})();var U=Ma(I[3][0].data);{var q=U[1][0];delete U[2];var X=Ma(q.data);{var pe=Yu(X[2][0].data);(function(){for(var M=sn.find(u,l[pe].location),R=tl(rl(M.content)),H,B=0;B<R.length;++B){var W=R[B];W.id==pe&&(H=W)}var te=Ma(H.messages[0].data);{delete te[6],delete U[7];var J=new Uint8Array(te[5][0].data);te[5]=[];for(var oe=0,_e=0;_e<=n.e.r;++_e){var ve=Ma(J);oe+=k9e(ve,s[_e],o),ve[1][0].data=Yr(_e),te[5].push({data:fs(ve),type:2})}te[1]=[{type:0,data:Yr(n.e.c+1)}],te[2]=[{type:0,data:Yr(n.e.r+1)}],te[3]=[{type:0,data:Yr(oe)}],te[4]=[{type:0,data:Yr(n.e.r+1)}]}H.messages[0].data=fs(te);var We=hm(R),ze=mm(We);M.content=ze,M.size=M.content.length})()}q.data=fs(X)}I[3][0].data=fs(U)}x[4][0].data=fs(I)}h.messages[0].data=fs(x);var xe=hm(m),D=mm(xe);return f.content=D,f.size=f.content.length,u}function C9e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function KP(e){C9e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function A9e(e,t){return t.bookType=="ods"?zZ(e,t):t.bookType=="numbers"?E9e(e,t):t.bookType=="xlsb"?P9e(e,t):T9e(e,t)}function P9e(e,t){$m=1024,e&&!e.SSF&&(e.SSF=bi(na)),e&&e.SSF&&(bj(),wj(e.SSF),t.revssf=_j(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Dg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=SZ.indexOf(t.bookType)>-1,a=QJ();KP(t=t||{});var s=OP(),o="",l=0;if(t.cellXfs=[],Yd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",vr(s,o,nZ(e.Props,t)),a.coreprops.push(o),Jr(t.rels,2,o,Dr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,vr(s,o,sZ(e.Props)),a.extprops.push(o),Jr(t.rels,3,o,Dr.EXT_PROPS),e.Custprops!==e.Props&&Ss(e.Custprops||{}).length>0&&(o="docProps/custom.xml",vr(s,o,iZ(e.Custprops)),a.custprops.push(o),Jr(t.rels,4,o,Dr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,vr(s,o,R7e(l-1,o,t,e,d)),a.sheets.push(o),Jr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Dr.WS[0])}if(f){var h=f["!comments"],v=!1,g="";h&&h.length>0&&(g="xl/comments"+l+"."+r,vr(s,g,L7e(h,g)),a.comments.push(g),Jr(d,-1,"../comments"+l+"."+r,Dr.CMNT),v=!0),f["!legacy"]&&v&&vr(s,"xl/drawings/vmlDrawing"+l+".vml",_Z(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&vr(s,tZ(o),np(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,vr(s,o,D7e(t.Strings,o,t)),a.strs.push(o),Jr(t.wbrels,-1,"sharedStrings."+r,Dr.SST)),o="xl/workbook."+r,vr(s,o,O7e(e,o)),a.workbooks.push(o),Jr(t.rels,1,o,Dr.WB),o="xl/theme/theme1.xml",vr(s,o,wZ(e.Themes,t)),a.themes.push(o),Jr(t.wbrels,-1,"theme/theme1.xml",Dr.THEME),o="xl/styles."+r,vr(s,o,I7e(e,o,t)),a.styles.push(o),Jr(t.wbrels,-1,"styles."+r,Dr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",vr(s,o,e.vbaraw),a.vba.push(o),Jr(t.wbrels,-1,"vbaProject.bin",Dr.VBA)),o="xl/metadata."+r,vr(s,o,M7e(o)),a.metadata.push(o),Jr(t.wbrels,-1,"metadata."+r,Dr.XLMETA),vr(s,"[Content_Types].xml",eZ(a,t)),vr(s,"_rels/.rels",np(t.rels)),vr(s,"xl/_rels/workbook."+r+".rels",np(t.wbrels)),delete t.revssf,delete t.ssf,s}function T9e(e,t){$m=1024,e&&!e.SSF&&(e.SSF=bi(na)),e&&e.SSF&&(bj(),wj(e.SSF),t.revssf=_j(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Dg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=SZ.indexOf(t.bookType)>-1,a=QJ();KP(t=t||{});var s=OP(),o="",l=0;if(t.cellXfs=[],Yd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",vr(s,o,nZ(e.Props,t)),a.coreprops.push(o),Jr(t.rels,2,o,Dr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,vr(s,o,sZ(e.Props)),a.extprops.push(o),Jr(t.rels,3,o,Dr.EXT_PROPS),e.Custprops!==e.Props&&Ss(e.Custprops||{}).length>0&&(o="docProps/custom.xml",vr(s,o,iZ(e.Custprops)),a.custprops.push(o),Jr(t.rels,4,o,Dr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,vr(s,o,RZ(l-1,t,e,f)),a.sheets.push(o),Jr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Dr.WS[0])}if(m){var v=m["!comments"],g=!1,y="";if(v&&v.length>0){var x=!1;v.forEach(function(b){b[1].forEach(function(_){_.T==!0&&(x=!0)})}),x&&(y="xl/threadedComments/threadedComment"+l+"."+r,vr(s,y,lLe(v,d,t)),a.threadedcomments.push(y),Jr(f,-1,"../threadedComments/threadedComment"+l+"."+r,Dr.TCMNT)),y="xl/comments"+l+"."+r,vr(s,y,jZ(v)),a.comments.push(y),Jr(f,-1,"../comments"+l+"."+r,Dr.CMNT),g=!0}m["!legacy"]&&g&&vr(s,"xl/drawings/vmlDrawing"+l+".vml",_Z(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&vr(s,tZ(o),np(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,vr(s,o,mZ(t.Strings,t)),a.strs.push(o),Jr(t.wbrels,-1,"sharedStrings."+r,Dr.SST)),o="xl/workbook."+r,vr(s,o,LZ(e)),a.workbooks.push(o),Jr(t.rels,1,o,Dr.WB),o="xl/theme/theme1.xml",vr(s,o,wZ(e.Themes,t)),a.themes.push(o),Jr(t.wbrels,-1,"theme/theme1.xml",Dr.THEME),o="xl/styles."+r,vr(s,o,xZ(e,t)),a.styles.push(o),Jr(t.wbrels,-1,"styles."+r,Dr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",vr(s,o,e.vbaraw),a.vba.push(o),Jr(t.wbrels,-1,"vbaProject.bin",Dr.VBA)),o="xl/metadata."+r,vr(s,o,bZ()),a.metadata.push(o),Jr(t.wbrels,-1,"metadata."+r,Dr.XLMETA),d.length>1&&(o="xl/persons/person.xml",vr(s,o,cLe(d)),a.people.push(o),Jr(t.wbrels,-1,"persons/person.xml",Dr.PEOPLE)),vr(s,"[Content_Types].xml",eZ(a,t)),vr(s,"_rels/.rels",np(t.rels)),vr(s,"xl/_rels/workbook."+r+".rels",np(t.wbrels)),delete t.revssf,delete t.ssf,s}function O9e(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=mu(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function WZ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Ax(t.file,sn.write(e,{type:$r?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return sn.write(e,t)}function R9e(e,t){var r=bi(t||{}),n=A9e(e,r);return I9e(n,r)}function I9e(e,t){var r={},n=$r?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?sn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(yj(a))}return t.password&&typeof encrypt_agile<"u"?WZ(encrypt_agile(a,t.password),t):t.type==="file"?Ax(t.file,a):t.type=="string"?Tg(a):a}function D9e(e,t){var r=t||{},n=J7e(e,r);return WZ(n,r)}function ql(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Ov(Iv(n));case"binary":return Iv(n);case"string":return e;case"file":return Ax(t.file,n,"utf8");case"buffer":return $r?Eu(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ql(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function L9e(e,t){switch(t.type){case"base64":return Ov(e);case"binary":return e;case"string":return e;case"file":return Ax(t.file,e,"binary");case"buffer":return $r?Eu(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function N1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Ov(r):t.type=="string"?Tg(r):r;case"file":return Ax(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function HZ(e,t){uIe(),b7e(e);var r=bi(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=HZ(e,r);return r.type="array",yj(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ql(Y7e(e,r),r);case"slk":case"sylk":return ql(x8e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return ql($Z(e.Sheets[e.SheetNames[a]],r),r);case"txt":return L9e(qZ(e.Sheets[e.SheetNames[a]],r),r);case"csv":return ql(YP(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return ql(y8e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return N1(v8e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return ql(w8e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return ql(E8e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return ql(hZ.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return ql(zZ(e,r),r);case"wk1":return N1(jF.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return N1(jF.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),N1(FZ(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),D9e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return R9e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function M9e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function F9e(e,t,r){var n={};return n.type="file",n.file=t,M9e(n),HZ(e,n)}function $9e(e,t,r,n,a,s,o,l){var c=_s(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var v=o?e[r][h]:e[n[h]+c];if(v===void 0||v.t===void 0){if(u===void 0)continue;s[h]!=null&&(m[s[h]]=u);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[h]!=null){if(g==null)if(v.t=="e"&&g===null)m[s[h]]=null;else if(u!==void 0)m[s[h]]=u;else if(d&&g===null)m[s[h]]=null;else continue;else m[s[h]]=d&&(v.t!=="n"||v.t==="n"&&l.rawNumbers!==!1)?g:pu(v,g,l);g!=null&&(f=!1)}}return{row:m,isempty:f}}function d2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Cn(d);break;case"number":c=Cn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=_s(c.s.r),m=[],h=[],v=0,g=0,y=Array.isArray(e),x=c.s.r,b=0,_={};y&&!e[x]&&(e[x]=[]);var w=u.skipHidden&&e["!cols"]||[],N=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(w[b]||{}).hidden)switch(m[b]=Ms(b),r=y?e[x][b]:e[m[b]+f],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=m[b];break;case 3:s[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=pu(r,null,u),g=_[o]||0,!g)_[o]=1;else{do l=o+"_"+g++;while(_[l]);_[o]=g,_[l]=1}s[b]=l}for(x=c.s.r+a;x<=c.e.r;++x)if(!(N[x]||{}).hidden){var C=$9e(e,c,x,m,n,s,y,u);(C.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[v++]=C.row)}return h.length=v,h}var TF=/"/g;function B9e(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",f=_s(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var h=l.dense?(e[r]||[])[m]:e[n[m]+f];if(h==null)d="";else if(h.v!=null){c=!1,d=""+(l.rawNumbers&&h.t=="n"?h.v:pu(h,null,l));for(var v=0,g=0;v!==d.length;++v)if((g=d.charCodeAt(v))===a||g===s||g===34||l.forceQuotes){d='"'+d.replace(TF,'""')+'"';break}d=="ID"&&(d='"ID"')}else h.f!=null&&!h.F?(c=!1,d="="+h.f,d.indexOf(",")>=0&&(d='"'+d.replace(TF,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function YP(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Cn(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(m[v]||{}).hidden||(f[v]=Ms(v));for(var g=0,y=a.s.r;y<=a.e.r;++y)(h[y]||{}).hidden||(d=B9e(e,a,y,f,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function qZ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=YP(e,t);return r}function U9e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Cn(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=Ms(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=_s(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function VZ(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Za(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=Cn(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var m=n.header||[],h=0;t.forEach(function(g,y){Ss(g).forEach(function(x){(h=m.indexOf(x))==-1&&(m[h=m.length]=x);var b=g[x],_="z",w="",N=nn({c:l+h,r:o+y+a});u=Mv(s,N),b&&typeof b=="object"&&!(b instanceof Date)?s[N]=b:(typeof b=="number"?_="n":typeof b=="boolean"?_="b":typeof b=="string"?_="s":b instanceof Date?(_="d",n.cellDates||(_="n",b=wi(b)),w=n.dateNF||na[14]):b===null&&n.nullError&&(_="e",b=0),u?(u.t=_,u.v=b,delete u.w,delete u.R,w&&(u.z=w)):s[N]=u={t:_,v:b},w&&(u.z=w))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var v=_s(o);if(a)for(h=0;h<m.length;++h)s[Ms(h+l)+v]={t:"s",v:m[h]};return s["!ref"]=ka(d),s}function z9e(e,t){return VZ(null,e,t)}function Mv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Za(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Mv(e,nn(t)):Mv(e,nn({r:t,c:r||0}))}function W9e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function H9e(){return{SheetNames:[],Sheets:{}}}function q9e(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(DZ(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function V9e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=W9e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function G9e(e,t){return e.z=t,e}function GZ(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function K9e(e,t,r){return GZ(e,"#"+t,r)}function Y9e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function X9e(e,t,r,n){for(var a=typeof t!="string"?t:Cn(t),s=typeof t=="string"?t:ka(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Mv(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var gN={encode_col:Ms,encode_row:_s,encode_cell:nn,encode_range:ka,decode_col:FP,decode_row:MP,split_cell:uDe,decode_cell:Za,decode_range:ro,format_cell:pu,sheet_add_aoa:GJ,sheet_add_json:VZ,sheet_add_dom:BZ,aoa_to_sheet:a0,json_to_sheet:z9e,table_to_sheet:UZ,table_to_book:y9e,sheet_to_csv:YP,sheet_to_txt:qZ,sheet_to_json:d2,sheet_to_html:$Z,sheet_to_formulae:U9e,sheet_to_row_object_array:d2,sheet_get_cell:Mv,book_new:H9e,book_append_sheet:q9e,book_set_sheet_visibility:V9e,cell_set_number_format:G9e,cell_set_hyperlink:GZ,cell_set_internal_link:K9e,cell_add_comment:Y9e,sheet_set_array_formula:X9e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const J9e=e=>{const{filename:t,title:r,columns:n,data:a}=e,s=n.map(f=>f.label),o=a.map(f=>n.map(m=>{const h=f[m.key];return m.format?m.format(h):h||""})),l=[s,...o],c=gN.aoa_to_sheet(l),u=n.map(f=>{const m=Math.max(f.label.length,...o.map((h,v)=>String(h[n.indexOf(f)]).length));return{wch:Math.min(m+2,50)}});c["!cols"]=u;const d=gN.book_new();gN.book_append_sheet(d,c,r||"Data"),F9e(d,`${t}.xlsx`)},Z9e=e=>{const{filename:t,title:r,columns:n,data:a}=e,s=new Ht;r&&(s.setFontSize(16),s.text(r,14,15));const o=n.map(c=>c.label),l=a.map(c=>n.map(u=>{const d=c[u.key];return u.format?u.format(d):d!=null?String(d):""}));fE(s,{head:[o],body:l,startY:r?25:15,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:[255,255,255],fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},columnStyles:n.reduce((c,u,d)=>(c[d]={cellWidth:"auto"},c),{})}),s.save(`${t}.pdf`)},Q9e=e=>{const{filename:t,columns:r,data:n}=e,a=r.map(u=>u.label).join(","),s=n.map(u=>r.map(d=>{const f=u[d.key],m=d.format?d.format(f):f||"";return`"${String(m).replace(/"/g,'""')}"`}).join(",")),o=[a,...s].join(`
`),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.href=URL.createObjectURL(l),c.download=`${t}.csv`,c.click()};function e$e({open:e,onOpenChange:t,title:r,data:n,columns:a,filename:s,onDateRangeFilter:o}){const[l,c]=p.useState("csv"),[u,d]=p.useState(""),[f,m]=p.useState(""),v=u&&f&&o?o(u,f):n,g=v.length,y=()=>{const x={filename:s,title:r,columns:a,data:v};switch(l){case"xlsx":J9e(x);break;case"pdf":Z9e(x);break;case"csv":default:Q9e(x);break}t(!1)};return i.jsx(Ur,{open:e,onOpenChange:t,children:i.jsxs(Lr,{className:"sm:max-w-md",children:[i.jsxs(zr,{children:[i.jsx(Wr,{children:"Export Data"}),i.jsx(sc,{children:"Choose a format and optional date range to export your data."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"format-select",children:"Export Format"}),i.jsxs(_t,{value:l,onValueChange:x=>c(x),children:[i.jsx(wt,{id:"format-select","data-testid":"select-format",children:i.jsx(jt,{placeholder:"Select format"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"csv","data-testid":"option-csv",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-4 w-4"}),"CSV"]})}),i.jsx(Ee,{value:"xlsx","data-testid":"option-xlsx",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Jse,{className:"h-4 w-4"}),"Excel (XLSX)"]})}),i.jsx(Ee,{value:"pdf","data-testid":"option-pdf",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-4 w-4"}),"PDF"]})})]})]})]}),o&&i.jsxs("div",{className:"space-y-3",children:[i.jsx(ye,{className:"text-foreground",children:"Date Range (Optional)"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(ye,{htmlFor:"start-date",className:"text-xs text-muted-foreground",children:"From"}),i.jsx(Ue,{id:"start-date",type:"date",value:u,onChange:x=>d(x.target.value),"data-testid":"input-start-date"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ye,{htmlFor:"end-date",className:"text-xs text-muted-foreground",children:"To"}),i.jsx(Ue,{id:"end-date",type:"date",value:f,onChange:x=>m(x.target.value),"data-testid":"input-end-date"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-md bg-secondary/50 p-3",children:[i.jsx("span",{className:"text-sm text-foreground",children:"Items to export:"}),i.jsxs(vt,{variant:"secondary","data-testid":"badge-item-count",children:[g," ",g===1?"item":"items"]})]})]}),i.jsxs(qr,{className:"gap-2 sm:gap-0",children:[i.jsx(be,{variant:"outline",onClick:()=>t(!1),"data-testid":"button-cancel",children:"Cancel"}),i.jsxs(be,{onClick:y,className:"gap-2","data-testid":"button-export",children:[i.jsx(mp,{className:"h-4 w-4"}),"Export"]})]})]})})}function t$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState([]),[s,o]=p.useState(!0),[l,c]=p.useState("_all"),[u,d]=p.useState("_all"),[f,m]=p.useState(!1);p.useEffect(()=>{h()},[]);const h=async()=>{try{const[_,w]=await Promise.all([ce.from("weekly_reports").select(`
          *,
          clients(*),
          profiles(*),
          services(*),
          service_metrics(*)
        `).order("week_start_date",{ascending:!1}),ce.from("clients").select("*").order("name")]);if(_.data){const N=_.data.map(C=>{var j;return{...C,client:C.clients,employee:C.profiles,service:C.services,metrics:((j=C.service_metrics)==null?void 0:j[0])||void 0}});r(N)}w.data&&a(w.data)}catch(_){console.error("Error loading reports:",_)}finally{o(!1)}},v=async(_,w)=>{const N=t.filter(j=>j.client_id===_&&j.week_start_date===w);if(N.length===0){e("error","No reports found for this week");return}const C=N[0];if(C)try{oIe({report:C,client:C.client,employee:C.employee,service:C.service,metrics:C.metrics}),e("success","PDF downloaded successfully")}catch(j){console.error("Error generating PDF:",j),e("error","Failed to generate PDF")}},g=t.filter(_=>!(l!=="_all"&&_.client_id!==l||u!=="_all"&&_.week_start_date!==u)),y=g.reduce((_,w)=>{const N=`${w.client_id}_${w.week_start_date}`;return _[N]||(_[N]={client:w.client,week:w.week_start_date,reports:[]}),_[N].reports.push(w),_},{}),x=Array.from(new Set(t.map(_=>_.week_start_date))).sort().reverse(),b=_=>{switch(_){case"on_track":return"default";case"needs_attention":return"secondary";case"delayed":return"destructive";default:return"outline"}};return s?i.jsxs("div",{"data-testid":"reports-loading",className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{className:"h-8 w-64"}),i.jsx(Ne,{className:"h-4 w-80"})]}),i.jsx(Ne,{className:"h-16 w-full"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ne,{className:"h-48 w-full"}),i.jsx(Ne,{className:"h-48 w-full"}),i.jsx(Ne,{className:"h-48 w-full"})]})]}):i.jsxs("div",{"data-testid":"reports-page",className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-page-title",children:"Reports Overview"}),i.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-page-description",children:"View and download client weekly reports"})]}),i.jsxs(be,{"data-testid":"button-export-reports",variant:"outline",onClick:()=>m(!0),children:[i.jsx(mp,{className:"h-4 w-4 mr-2"}),"Export Reports"]})]}),i.jsx(e$e,{open:f,onOpenChange:m,title:"Export Reports",data:g,columns:[{key:"week_start_date",label:"Week"},{key:"client",label:"Client",format:_=>(_==null?void 0:_.name)||"N/A"},{key:"employee",label:"Employee",format:_=>(_==null?void 0:_.full_name)||"N/A"},{key:"service",label:"Service",format:_=>(_==null?void 0:_.name)||"N/A"},{key:"status",label:"Status"},{key:"work_summary",label:"Summary"}],filename:"reports-export",onDateRangeFilter:(_,w)=>g.filter(N=>{const C=N.week_start_date;return C>=_&&C<=w})}),i.jsx(Ce,{"data-testid":"reports-filter-card",children:i.jsx(Ae,{className:"pt-4 pb-4",children:i.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[i.jsx(E$,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs(_t,{value:l,onValueChange:c,children:[i.jsx(wt,{className:"w-[200px]","data-testid":"select-client-filter",children:i.jsx(jt,{placeholder:"All Clients"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"_all",children:"All Clients"}),n.map(_=>i.jsx(Ee,{value:_.id,children:_.name},_.id))]})]}),i.jsxs(_t,{value:u,onValueChange:d,children:[i.jsx(wt,{className:"w-[220px]","data-testid":"select-week-filter",children:i.jsx(jt,{placeholder:"All Weeks"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"_all",children:"All Weeks"}),x.map(_=>i.jsxs(Ee,{value:_,children:["Week of ",new Date(_).toLocaleDateString()]},_))]})]})]})})}),i.jsx(oA,{children:i.jsxs("div",{className:"space-y-6",children:[Object.values(y).map(({client:_,week:w,reports:N})=>_?i.jsxs(Ce,{"data-testid":`card-report-group-${_.id}`,children:[i.jsxs(wr,{className:"flex flex-row items-center justify-between gap-4 flex-wrap space-y-0 pb-4",children:[i.jsxs("div",{children:[i.jsx(br,{className:"text-lg","data-testid":`text-client-name-${_.id}`,children:_.name}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Week of ",new Date(w).toLocaleDateString()]})]}),i.jsxs(be,{onClick:()=>v(_.id,w),"data-testid":`button-download-pdf-${_.id}`,children:[i.jsx(mp,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]}),i.jsx(ml,{}),i.jsx(Ae,{className:"pt-4",children:i.jsx("div",{className:"space-y-4",children:N.map(C=>{var j,A;return i.jsx(Ce,{className:"bg-muted/50","data-testid":`card-report-${C.id}`,children:i.jsxs(Ae,{className:"pt-4 pb-4",children:[i.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap mb-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-foreground","data-testid":`text-service-name-${C.id}`,children:(j=C.service)==null?void 0:j.name}),i.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-employee-name-${C.id}`,children:(A=C.employee)==null?void 0:A.full_name})]}),i.jsx(vt,{variant:b(C.status),"data-testid":`badge-status-${C.id}`,children:C.status.replace("_"," ")})]}),i.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-work-summary-${C.id}`,children:C.work_summary})]})},C.id)})})})]},`${_.id}_${w}`):null),Object.keys(y).length===0&&i.jsx(Ce,{"data-testid":"reports-empty-state",children:i.jsxs(Ae,{className:"py-12 text-center",children:[i.jsx(En,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-empty-message",children:"No reports found for the selected filters."})]})})]})})]})}function r$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(!1),[f,m]=p.useState(null),[h,v]=p.useState({client_id:"",service_id:"",monthly_budget:"",actual_spending:"",currency:"USD",start_date:new Date().toISOString().split("T")[0],end_date:"",notes:""});p.useEffect(()=>{g()},[]);const g=async()=>{try{const[w,N,C]=await Promise.all([ce.from("client_budgets").select(`
          *,
          clients(*),
          services(*)
        `).order("created_at",{ascending:!1}),ce.from("clients").select("*").eq("status","active"),ce.from("services").select("*").eq("is_active",!0)]);if(w.data){const j=w.data.map(A=>({...A,client:A.clients,service:A.services}));r(j)}N.data&&a(N.data),C.data&&o(C.data)}catch(w){console.error("Error loading data:",w)}finally{c(!1)}},y=w=>{var N;w?(m(w),v({client_id:w.client_id,service_id:w.service_id,monthly_budget:w.monthly_budget.toString(),actual_spending:((N=w.actual_spending)==null?void 0:N.toString())||"0",currency:w.currency,start_date:w.start_date,end_date:w.end_date||"",notes:w.notes||""})):(m(null),v({client_id:"",service_id:"",monthly_budget:"",actual_spending:"0",currency:"USD",start_date:new Date().toISOString().split("T")[0],end_date:"",notes:""})),d(!0)},x=async w=>{w.preventDefault();try{const N={client_id:h.client_id,service_id:h.service_id,monthly_budget:parseFloat(h.monthly_budget),actual_spending:parseFloat(h.actual_spending)||0,currency:h.currency,start_date:h.start_date,end_date:h.end_date||null,notes:h.notes||null};if(f){const{error:C}=await ce.from("client_budgets").update({...N,updated_at:new Date().toISOString()}).eq("id",f.id);if(C)throw C}else{const{error:C}=await ce.from("client_budgets").insert(N);if(C)throw C}d(!1),g()}catch(N){console.error("Error saving budget:",N),e("Failed to save budget","error")}},b=async w=>{if(confirm("Are you sure you want to delete this budget?"))try{const{error:N}=await ce.from("client_budgets").delete().eq("id",w);if(N)throw N;g()}catch(N){console.error("Error deleting budget:",N)}},_=t.reduce((w,N)=>w+Number(N.monthly_budget),0);return l?i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ne,{className:"h-8 w-48"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(Ne,{className:"h-28"}),i.jsx(Ne,{className:"h-28"}),i.jsx(Ne,{className:"h-28"})]}),i.jsx(Ne,{className:"h-64 w-full"})]}):i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Budget Tracking"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage client budgets and spending"})]}),i.jsxs(be,{onClick:()=>y(),"data-testid":"button-add-budget",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Add Budget"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Monthly Budget"}),i.jsxs("p",{className:"text-3xl font-bold text-foreground mt-2","data-testid":"text-total-budget",children:["$",_.toLocaleString()]})]}),i.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-md",children:i.jsx(_d,{className:"h-8 w-8 text-green-600"})})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Budgets"}),i.jsx("p",{className:"text-3xl font-bold text-foreground mt-2","data-testid":"text-active-budgets",children:t.length})]}),i.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-md",children:i.jsx(_d,{className:"h-8 w-8 text-blue-600"})})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg per Client"}),i.jsxs("p",{className:"text-3xl font-bold text-foreground mt-2","data-testid":"text-avg-budget",children:["$",n.length>0?(_/n.length).toFixed(0):0]})]}),i.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-md",children:i.jsx(_d,{className:"h-8 w-8 text-purple-600"})})]})})})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsxs(Ro,{children:[i.jsx(Io,{children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Client"}),i.jsx(Et,{children:"Service"}),i.jsx(Et,{children:"Monthly Budget"}),i.jsx(Et,{children:"Actual Spending"}),i.jsx(Et,{children:"Utilization"}),i.jsx(Et,{children:"Period"}),i.jsx(Et,{className:"text-right",children:"Actions"})]})}),i.jsxs(Do,{children:[t.map(w=>{var N,C;return i.jsxs(Br,{"data-testid":`row-budget-${w.id}`,children:[i.jsx(yt,{className:"font-medium text-foreground",children:(N=w.client)==null?void 0:N.name}),i.jsx(yt,{className:"text-muted-foreground",children:(C=w.service)==null?void 0:C.name}),i.jsxs(yt,{className:"font-semibold text-foreground",children:[w.currency," ",Number(w.monthly_budget).toLocaleString()]}),i.jsxs(yt,{className:"text-foreground",children:[w.currency," ",Number(w.actual_spending).toLocaleString()]}),i.jsx(yt,{children:i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsxs("span",{className:`text-sm font-medium ${w.budget_utilization>=100?"text-red-600":w.budget_utilization>=75?"text-orange-600":w.budget_utilization>=50?"text-yellow-600":"text-green-600"}`,children:[Number(w.budget_utilization).toFixed(0),"%"]})}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${w.budget_utilization>=100?"bg-red-600":w.budget_utilization>=75?"bg-orange-500":w.budget_utilization>=50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(w.budget_utilization,100)}%`}})})]})}),i.jsxs(yt,{className:"text-sm text-muted-foreground",children:[new Date(w.start_date).toLocaleDateString()," -"," ",w.end_date?new Date(w.end_date).toLocaleDateString():"Ongoing"]}),i.jsx(yt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-1",children:[i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>y(w),"data-testid":`button-edit-budget-${w.id}`,children:i.jsx(xu,{className:"h-4 w-4"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>b(w.id),"data-testid":`button-delete-budget-${w.id}`,children:i.jsx(Fo,{className:"h-4 w-4"})})]})})]},w.id)}),t.length===0&&i.jsx(Br,{children:i.jsx(yt,{colSpan:7,className:"text-center py-12 text-muted-foreground",children:"No budgets configured yet. Add your first budget to get started."})})]})]})})}),i.jsx(Ur,{open:u,onOpenChange:d,children:i.jsxs(Lr,{className:"max-w-lg",children:[i.jsx(zr,{children:i.jsx(Wr,{children:f?"Edit Budget":"Add New Budget"})}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Client"}),i.jsxs(_t,{value:h.client_id,onValueChange:w=>v({...h,client_id:w}),children:[i.jsx(wt,{"data-testid":"select-budget-client",children:i.jsx(jt,{placeholder:"Select a client"})}),i.jsx(bt,{children:n.map(w=>i.jsx(Ee,{value:w.id,children:w.name},w.id))})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Service"}),i.jsxs(_t,{value:h.service_id,onValueChange:w=>v({...h,service_id:w}),children:[i.jsx(wt,{"data-testid":"select-budget-service",children:i.jsx(jt,{placeholder:"Select a service"})}),i.jsx(bt,{children:s.map(w=>i.jsx(Ee,{value:w.id,children:w.name},w.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Monthly Budget"}),i.jsx(Ue,{type:"number",step:"0.01",value:h.monthly_budget,onChange:w=>v({...h,monthly_budget:w.target.value}),required:!0,"data-testid":"input-monthly-budget"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Actual Spending"}),i.jsx(Ue,{type:"number",step:"0.01",value:h.actual_spending,onChange:w=>v({...h,actual_spending:w.target.value}),required:!0,"data-testid":"input-actual-spending"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Currency"}),i.jsxs(_t,{value:h.currency,onValueChange:w=>v({...h,currency:w}),children:[i.jsx(wt,{"data-testid":"select-budget-currency",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"USD",children:"USD"}),i.jsx(Ee,{value:"EUR",children:"EUR"}),i.jsx(Ee,{value:"GBP",children:"GBP"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Start Date"}),i.jsx(Ue,{type:"date",value:h.start_date,onChange:w=>v({...h,start_date:w.target.value}),required:!0,"data-testid":"input-budget-start-date"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"End Date (Optional)"}),i.jsx(Ue,{type:"date",value:h.end_date,onChange:w=>v({...h,end_date:w.target.value}),"data-testid":"input-budget-end-date"})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Notes"}),i.jsx("textarea",{value:h.notes,onChange:w=>v({...h,notes:w.target.value}),rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","data-testid":"input-budget-notes"})]}),i.jsxs(qr,{children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-budget",children:"Cancel"}),i.jsx(be,{type:"submit","data-testid":"button-save-budget",children:f?"Update Budget":"Create Budget"})]})]})]})})]})}function n$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState([]),[s,o]=p.useState(new Set),[l,c]=p.useState(new Set),[u,d]=p.useState(""),[f,m]=p.useState(!0),[h,v]=p.useState(!1);p.useEffect(()=>{g()},[]);const g=async()=>{try{const[N,C]=await Promise.all([ce.from("clients").select("*").order("name"),ce.from("profiles").select("*").eq("role","employee").eq("status","active")]);N.data&&r(N.data),C.data&&a(C.data)}catch(N){console.error("Error loading data:",N)}finally{m(!1)}},y=N=>{const C=new Set(s);C.has(N)?C.delete(N):C.add(N),o(C)},x=N=>{const C=new Set(l);C.has(N)?C.delete(N):C.add(N),c(C)},b=()=>{s.size===t.length?o(new Set):o(new Set(t.map(N=>N.id)))},_=()=>{l.size===n.length?c(new Set):c(new Set(n.map(N=>N.id)))},w=async()=>{if(!u){e("Please select an operation","warning");return}if(s.size===0&&u!=="assign_employees"){e("Please select at least one client","warning");return}v(!0);try{switch(u){case"archive_clients":await Promise.all(Array.from(s).map(N=>ce.from("clients").update({status:"completed",updated_at:new Date().toISOString()}).eq("id",N))),e(`${s.size} clients archived successfully`,"success");break;case"activate_clients":await Promise.all(Array.from(s).map(N=>ce.from("clients").update({status:"active",updated_at:new Date().toISOString()}).eq("id",N))),e(`${s.size} clients activated successfully`,"success");break;case"pause_clients":await Promise.all(Array.from(s).map(N=>ce.from("clients").update({status:"paused",updated_at:new Date().toISOString()}).eq("id",N))),e(`${s.size} clients paused successfully`,"success");break;case"delete_clients":if(!confirm(`Are you sure you want to delete ${s.size} clients? This cannot be undone.`))break;await Promise.all(Array.from(s).map(N=>ce.from("clients").delete().eq("id",N))),e(`${s.size} clients deleted successfully`,"success");break;case"deactivate_employees":await Promise.all(Array.from(l).map(N=>ce.from("profiles").update({status:"inactive",updated_at:new Date().toISOString()}).eq("id",N))),e(`${l.size} employees deactivated successfully`,"success");break;default:e("Invalid operation","error")}o(new Set),c(new Set),g()}catch(N){console.error("Error performing bulk operation:",N),e("Failed to complete bulk operation","error")}finally{v(!1)}};return f?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ne,{className:"h-24 w-full"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(Ne,{className:"h-96 w-full"}),i.jsx(Ne,{className:"h-96 w-full"})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Bulk Operations"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Perform actions on multiple items at once"})]})}),i.jsxs(Ce,{children:[i.jsx(wr,{children:i.jsx(br,{children:"Select Operation"})}),i.jsx(Ae,{children:i.jsxs(_t,{value:u,onValueChange:N=>d(N),children:[i.jsx(wt,{"data-testid":"select-operation",children:i.jsx(jt,{placeholder:"Choose an operation..."})}),i.jsxs(bt,{children:[i.jsxs(vL,{children:[i.jsx(X4,{children:"Client Operations"}),i.jsx(Ee,{value:"activate_clients",children:"Activate Selected Clients"}),i.jsx(Ee,{value:"pause_clients",children:"Pause Selected Clients"}),i.jsx(Ee,{value:"archive_clients",children:"Archive Selected Clients"}),i.jsx(Ee,{value:"delete_clients",children:"Delete Selected Clients"})]}),i.jsxs(vL,{children:[i.jsx(X4,{children:"Employee Operations"}),i.jsx(Ee,{value:"deactivate_employees",children:"Deactivate Selected Employees"})]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ce,{children:[i.jsxs(wr,{className:"flex flex-row items-center justify-between gap-2 flex-wrap space-y-0",children:[i.jsx(br,{children:"Clients"}),i.jsxs(be,{variant:"ghost",size:"sm",onClick:b,"data-testid":"button-select-all-clients",children:[i.jsx(iv,{className:"h-4 w-4 mr-1"}),s.size===t.length?"Deselect All":"Select All"]})]}),i.jsx(Ae,{className:"max-h-96 overflow-y-auto",children:i.jsxs("div",{className:"space-y-2",children:[t.map(N=>i.jsxs("label",{className:"flex items-center gap-3 p-3 hover-elevate rounded-md cursor-pointer","data-testid":`checkbox-client-${N.id}`,children:[i.jsx(Dd,{checked:s.has(N.id),onCheckedChange:()=>y(N.id)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:N.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.industry,"  ",N.status]})]})]},N.id)),t.length===0&&i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No clients available"})]})}),i.jsx("div",{className:"p-4 border-t border-border bg-muted/50",children:i.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-clients-selected",children:[s.size," of ",t.length," selected"]})})]}),i.jsxs(Ce,{children:[i.jsxs(wr,{className:"flex flex-row items-center justify-between gap-2 flex-wrap space-y-0",children:[i.jsx(br,{children:"Employees"}),i.jsxs(be,{variant:"ghost",size:"sm",onClick:_,"data-testid":"button-select-all-employees",children:[i.jsx(iv,{className:"h-4 w-4 mr-1"}),l.size===n.length?"Deselect All":"Select All"]})]}),i.jsx(Ae,{className:"max-h-96 overflow-y-auto",children:i.jsxs("div",{className:"space-y-2",children:[n.map(N=>i.jsxs("label",{className:"flex items-center gap-3 p-3 hover-elevate rounded-md cursor-pointer","data-testid":`checkbox-employee-${N.id}`,children:[i.jsx(Dd,{checked:l.has(N.id),onCheckedChange:()=>x(N.id)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:N.full_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:N.email})]})]},N.id)),n.length===0&&i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No employees available"})]})}),i.jsx("div",{className:"p-4 border-t border-border bg-muted/50",children:i.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-employees-selected",children:[l.size," of ",n.length," selected"]})})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 flex-wrap",children:[i.jsx(be,{variant:"outline",onClick:()=>{o(new Set),c(new Set),d("")},"data-testid":"button-clear-selection",children:"Clear Selection"}),i.jsxs(be,{onClick:w,disabled:h||!u,"data-testid":"button-execute-operation",children:[h&&i.jsx(Zs,{className:"h-4 w-4 mr-2 animate-spin"}),h?"Processing...":"Execute Operation"]})]}),u&&i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Dn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Warning:"})," This operation will affect"," ",u.includes("client")?s.size:l.size," items. Please review your selection carefully."]})]})})})]})}function a$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState([]),[s,o]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState({client_id:"",email:"",full_name:"",password:""});p.useEffect(()=>{f()},[]);const f=async()=>{try{const[g,y]=await Promise.all([ce.from("client_portal_users").select("*").order("created_at",{ascending:!1}),ce.from("clients").select("*").order("name")]);if(g.data){const x=await Promise.all(g.data.map(async b=>{const{data:_}=await ce.from("clients").select("*").eq("id",b.client_id).single();return{...b,client:_||void 0}}));r(x)}y.data&&a(y.data)}catch(g){console.error("Error loading data:",g)}finally{o(!1)}},m=async g=>{g.preventDefault();try{const{data:y,error:x}=await ce.auth.signUp({email:u.email,password:u.password});if(x)throw x;if(y.user){const{error:b}=await ce.from("client_portal_users").insert({client_id:u.client_id,email:u.email,full_name:u.full_name,auth_user_id:y.user.id,is_active:!0});if(b)throw b}c(!1),d({client_id:"",email:"",full_name:"",password:""}),f(),e("Portal user created successfully","success")}catch(y){console.error("Error creating portal user:",y),e(y.message||"Failed to create portal user","error")}},h=async g=>{try{const{error:y}=await ce.from("client_portal_users").update({is_active:!g.is_active,updated_at:new Date().toISOString()}).eq("id",g.id);if(y)throw y;f()}catch(y){console.error("Error updating user status:",y)}},v=async g=>{if(confirm("Are you sure you want to delete this portal user?"))try{const{error:y}=await ce.from("client_portal_users").delete().eq("id",g);if(y)throw y;f()}catch(y){console.error("Error deleting user:",y)}};return s?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-40 mb-2"}),i.jsx(Ne,{className:"h-4 w-64"})]}),i.jsx(Ne,{className:"h-9 w-36"})]}),i.jsx(Ne,{className:"h-24 w-full"}),i.jsx(Ne,{className:"h-64 w-full"})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Client Portal"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage client-side user access"})]}),i.jsxs(be,{onClick:()=>c(!0),"data-testid":"button-add-portal-user",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Add Portal User"]})]}),i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-6",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"About Client Portal"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Client portal users have read-only access to view their reports and performance data. They cannot edit anything or view other clients' information."})]})}),i.jsx(Ce,{children:i.jsxs(Ro,{children:[i.jsx(Io,{children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Name"}),i.jsx(Et,{children:"Email"}),i.jsx(Et,{children:"Client"}),i.jsx(Et,{children:"Status"}),i.jsx(Et,{className:"text-right",children:"Actions"})]})}),i.jsxs(Do,{children:[t.map(g=>{var y;return i.jsxs(Br,{"data-testid":`row-user-${g.id}`,children:[i.jsx(yt,{className:"font-medium text-foreground","data-testid":`text-name-${g.id}`,children:g.full_name}),i.jsx(yt,{className:"text-muted-foreground","data-testid":`text-email-${g.id}`,children:g.email}),i.jsx(yt,{className:"text-foreground","data-testid":`text-client-${g.id}`,children:(y=g.client)==null?void 0:y.name}),i.jsx(yt,{children:i.jsx(be,{variant:"ghost",size:"sm",onClick:()=>h(g),className:"p-0 h-auto","data-testid":`button-toggle-status-${g.id}`,children:g.is_active?i.jsxs(vt,{variant:"secondary",className:"no-default-active-elevate",children:[i.jsx(Cd,{className:"h-3 w-3 mr-1"}),"Active"]}):i.jsxs(vt,{variant:"outline",className:"no-default-active-elevate",children:[i.jsx(pp,{className:"h-3 w-3 mr-1"}),"Inactive"]})})}),i.jsx(yt,{className:"text-right",children:i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>v(g.id),"data-testid":`button-delete-user-${g.id}`,children:i.jsx(Fo,{className:"h-4 w-4 text-destructive"})})})]},g.id)}),t.length===0&&i.jsx(Br,{children:i.jsx(yt,{colSpan:5,className:"text-center text-muted-foreground py-12",children:"No portal users yet. Add your first portal user to get started."})})]})]})}),i.jsx(Ur,{open:l,onOpenChange:c,children:i.jsxs(Lr,{children:[i.jsxs(zr,{children:[i.jsx(Wr,{children:"Add Portal User"}),i.jsx(sc,{children:"Create a new portal user with client access."})]}),i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"portal-client",children:"Client"}),i.jsxs(_t,{value:u.client_id,onValueChange:g=>d({...u,client_id:g}),children:[i.jsx(wt,{"data-testid":"select-portal-client",children:i.jsx(jt,{placeholder:"Select a client"})}),i.jsx(bt,{children:n.map(g=>i.jsx(Ee,{value:g.id,children:g.name},g.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"portal-full-name",children:"Full Name"}),i.jsx(Ue,{id:"portal-full-name",type:"text",value:u.full_name,onChange:g=>d({...u,full_name:g.target.value}),required:!0,"data-testid":"input-portal-full-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"portal-email",children:"Email"}),i.jsx(Ue,{id:"portal-email",type:"email",value:u.email,onChange:g=>d({...u,email:g.target.value}),required:!0,"data-testid":"input-portal-email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"portal-password",children:"Password"}),i.jsx(Ue,{id:"portal-password",type:"password",value:u.password,onChange:g=>d({...u,password:g.target.value}),required:!0,minLength:6,"data-testid":"input-portal-password"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel-portal-user",children:"Cancel"}),i.jsx(be,{type:"submit","data-testid":"button-create-portal-user",children:"Create User"})]})]})]})})]})}function s$e(e,t){if(e.length===0)return;const r=Object.keys(e[0]),n=[r.join(","),...e.map(l=>r.map(c=>{const u=l[c];if(u==null)return"";const d=String(u);return d.includes(",")||d.includes('"')||d.includes(`
`)?`"${d.replace(/"/g,'""')}"`:d}).join(","))].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),o=URL.createObjectURL(a);s.setAttribute("href",o),s.setAttribute("download",`${t}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function i$e(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,s]=p.useState("all"),[o,l]=p.useState("all"),[c,u]=p.useState("");p.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:v,error:g}=await ce.from("activity_logs").select(`
          *,
          profiles(*)
        `).order("created_at",{ascending:!1}).limit(500);if(g)throw g;if(v){const y=v.map(x=>({...x,user:x.profiles||void 0}));t(y)}}catch(v){console.error("Error loading logs:",v)}finally{n(!1)}},f=e.filter(v=>!(a!=="all"&&v.action!==a||o!=="all"&&v.entity_type!==o||c&&!JSON.stringify(v).toLowerCase().includes(c.toLowerCase()))),m=()=>{const v=f.map(g=>{var y;return{timestamp:new Date(g.created_at).toLocaleString(),user:((y=g.user)==null?void 0:y.full_name)||"System",action:g.action,entity_type:g.entity_type,entity_id:g.entity_id,ip_address:g.ip_address}});s$e(v,`activity_logs_${new Date().toISOString().split("T")[0]}`)},h=v=>{switch(v){case"INSERT":return"default";case"UPDATE":return"secondary";case"DELETE":return"destructive";default:return"outline"}};return r?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ne,{className:"h-9 w-full"}),i.jsx(Ne,{className:"h-9 w-full"}),i.jsx(Ne,{className:"h-9 w-full"})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsx("div",{className:"space-y-2 p-4",children:Array.from({length:8}).map((v,g)=>i.jsx(Ne,{className:"h-12 w-full"},g))})})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Activity Logs"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Audit trail of all system activities"})]}),i.jsxs(be,{"data-testid":"button-export-logs",onClick:m,children:[i.jsx(mp,{className:"h-4 w-4"}),"Export Logs"]})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Search"}),i.jsx(Ue,{"data-testid":"input-search-logs",type:"text",value:c,onChange:v=>u(v.target.value),placeholder:"Search logs..."})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Action"}),i.jsxs(_t,{value:a,onValueChange:s,children:[i.jsx(wt,{"data-testid":"select-filter-action",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"all",children:"All Actions"}),i.jsx(Ee,{value:"INSERT",children:"Create"}),i.jsx(Ee,{value:"UPDATE",children:"Update"}),i.jsx(Ee,{value:"DELETE",children:"Delete"})]})]})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Entity Type"}),i.jsxs(_t,{value:o,onValueChange:l,children:[i.jsx(wt,{"data-testid":"select-filter-entity",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"all",children:"All Types"}),i.jsx(Ee,{value:"clients",children:"Clients"}),i.jsx(Ee,{value:"profiles",children:"Employees"}),i.jsx(Ee,{value:"client_assignments",children:"Assignments"}),i.jsx(Ee,{value:"weekly_reports",children:"Reports"})]})]})]})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:i.jsxs(Ro,{children:[i.jsx(Io,{className:"sticky top-0 bg-muted z-10",children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Timestamp"}),i.jsx(Et,{children:"User"}),i.jsx(Et,{children:"Action"}),i.jsx(Et,{children:"Entity"}),i.jsx(Et,{children:"IP Address"})]})}),i.jsxs(Do,{children:[f.map(v=>{var g;return i.jsxs(Br,{"data-testid":`row-log-${v.id}`,children:[i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[i.jsx(ln,{className:"h-4 w-4 text-muted-foreground"}),new Date(v.created_at).toLocaleString()]})}),i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[i.jsx(Po,{className:"h-4 w-4 text-muted-foreground"}),((g=v.user)==null?void 0:g.full_name)||"System"]})}),i.jsx(yt,{children:i.jsx(vt,{variant:h(v.action),className:"no-default-hover-elevate no-default-active-elevate",children:v.action})}),i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[i.jsx(En,{className:"h-4 w-4 text-muted-foreground"}),v.entity_type]})}),i.jsx(yt,{className:"text-sm text-muted-foreground",children:v.ip_address||"-"})]},v.id)}),f.length===0&&i.jsx(Br,{children:i.jsx(yt,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:"No activity logs found"})})]})]})})})}),i.jsxs("p",{className:"text-sm text-muted-foreground text-center","data-testid":"text-log-count",children:["Showing ",f.length," of ",e.length," logs"]})]})}function o$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState(new Date),[s,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState([]),[h,v]=p.useState({title:"",description:"",event_type:"meeting",start_time:"",end_time:"",client_id:"",location:""});p.useEffect(()=>{g(),y()},[n]);const g=async()=>{const j=wR(n),A=yR(n),{data:k,error:I}=await ce.from("calendar_events").select("*, clients(name)").gte("start_time",j.toISOString()).lte("start_time",A.toISOString()).order("start_time");I?(console.error("Error loading events:",I),e("Failed to load events","error")):r(k||[])},y=async()=>{const{data:j}=await ce.from("clients").select("id, name").eq("status","active").order("name");j&&m(j)},x=(j,A)=>{if(j)d(j),v({title:j.title,description:j.description||"",event_type:j.event_type,start_time:Bt(new Date(j.start_time),"yyyy-MM-dd'T'HH:mm"),end_time:j.end_time?Bt(new Date(j.end_time),"yyyy-MM-dd'T'HH:mm"):"",client_id:j.client_id||"",location:j.location||""});else{d(null);const k=A||new Date;k.setHours(9,0),v({title:"",description:"",event_type:"meeting",start_time:Bt(k,"yyyy-MM-dd'T'HH:mm"),end_time:"",client_id:"",location:""})}c(!0)},b=async j=>{j.preventDefault();const{data:{user:A}}=await ce.auth.getUser();if(!A)return;const k={...h,client_id:h.client_id||null,end_time:h.end_time||null,location:h.location||null,created_by:A.id,attendees:[]};try{if(u){const{error:I}=await ce.from("calendar_events").update(k).eq("id",u.id);if(I)throw I;e("Event updated successfully","success")}else{const{error:I}=await ce.from("calendar_events").insert(k);if(I)throw I;e("Event created successfully","success")}c(!1),g()}catch(I){console.error("Error saving event:",I),e("Failed to save event","error")}},_=async j=>{if(!confirm("Are you sure you want to delete this event?"))return;const{error:A}=await ce.from("calendar_events").delete().eq("id",j);A?e("Failed to delete event","error"):(e("Event deleted successfully","success"),g())},w=j=>{switch(j){case"deadline":return"destructive";case"meeting":return"default";case"milestone":return"secondary";case"reminder":return"outline";default:return"secondary"}},N=Ahe({start:wR(n),end:yR(n)}),C=j=>t.filter(A=>yz(new Date(A.start_time),j));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Calendar"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage deadlines, meetings, and milestones"})]}),i.jsxs(be,{onClick:()=>x(),"data-testid":"button-add-event",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Add Event"]})]}),i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap mb-6",children:[i.jsx(be,{variant:"outline",onClick:()=>a(new Date(n.getFullYear(),n.getMonth()-1)),"data-testid":"button-previous-month",children:"Previous"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground","data-testid":"text-current-month",children:Bt(n,"MMMM yyyy")}),i.jsx(be,{variant:"outline",onClick:()=>a(new Date(n.getFullYear(),n.getMonth()+1)),"data-testid":"button-next-month",children:"Next"})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>i.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:j},j)),N.map(j=>{const A=C(j),k=Tme(j,n),I=Dm(j);return i.jsxs("div",{onClick:()=>x(void 0,j),className:`min-h-32 p-2 border rounded-md cursor-pointer transition ${k?"hover-elevate":"bg-muted"} ${I?"border-primary border-2":"border-border"}`,children:[i.jsx("div",{className:`text-sm font-medium mb-1 ${I?"text-primary":"text-foreground"}`,children:Bt(j,"d")}),i.jsxs("div",{className:"space-y-1",children:[A.slice(0,3).map(T=>i.jsx("div",{onClick:P=>{P.stopPropagation(),x(T)},"data-testid":`card-event-${T.id}`,children:i.jsx(vt,{variant:w(T.event_type),className:"text-xs w-full justify-start truncate",children:T.title})},T.id)),A.length>3&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",A.length-3," more"]})]})]},j.toISOString())})]})]})}),i.jsx(Ur,{open:l,onOpenChange:c,children:i.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(zr,{children:i.jsx(Wr,{children:u?"Edit Event":"Add Event"})}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Title"}),i.jsx(Ue,{type:"text",value:h.title,onChange:j=>v({...h,title:j.target.value}),required:!0,"data-testid":"input-title"})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Event Type"}),i.jsxs(_t,{value:h.event_type,onValueChange:j=>v({...h,event_type:j}),children:[i.jsx(wt,{"data-testid":"select-event-type",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"meeting",children:"Meeting"}),i.jsx(Ee,{value:"deadline",children:"Deadline"}),i.jsx(Ee,{value:"milestone",children:"Milestone"}),i.jsx(Ee,{value:"reminder",children:"Reminder"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Start Time"}),i.jsx(Ue,{type:"datetime-local",value:h.start_time,onChange:j=>v({...h,start_time:j.target.value}),required:!0,"data-testid":"input-start-time"})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"End Time"}),i.jsx(Ue,{type:"datetime-local",value:h.end_time,onChange:j=>v({...h,end_time:j.target.value}),"data-testid":"input-end-time"})]})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Client (Optional)"}),i.jsxs(_t,{value:h.client_id||"none",onValueChange:j=>v({...h,client_id:j==="none"?"":j}),children:[i.jsx(wt,{"data-testid":"select-client",children:i.jsx(jt,{placeholder:"No client"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"none",children:"No client"}),f.map(j=>i.jsx(Ee,{value:j.id,children:j.name},j.id))]})]})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Location"}),i.jsx(Ue,{type:"text",value:h.location,onChange:j=>v({...h,location:j.target.value}),placeholder:"Office, Zoom, etc.","data-testid":"input-location"})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Description"}),i.jsx("textarea",{value:h.description,onChange:j=>v({...h,description:j.target.value}),rows:3,className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring md:text-sm","data-testid":"input-description"})]}),i.jsxs(qr,{className:"gap-2 flex-wrap pt-4 border-t border-border",children:[u&&i.jsx(be,{type:"button",variant:"destructive",onClick:()=>_(u.id),className:"mr-auto","data-testid":"button-delete-event",children:"Delete Event"}),i.jsx(be,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),i.jsxs(be,{type:"submit","data-testid":"button-submit-event",children:[u?"Update":"Create"," Event"]})]})]})]})})]})}const $n=p.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:lt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));$n.displayName="Textarea";function l$e({goal:e,onClose:t,onSuccess:r}){const{profile:n}=Ln(),{showToast:a}=yr(),[s,o]=p.useState(!1),[l,c]=p.useState({value:e.current_value.toString(),notes:""});async function u(f){if(f.preventDefault(),!!n){o(!0);try{const m=parseFloat(l.value);if(isNaN(m))throw new Error("Please enter a valid number");if(m<0)throw new Error("Value cannot be negative");const{error:h}=await ce.from("goal_progress").insert({goal_id:e.id,value:m,notes:l.notes||null,recorded_by:n.id});if(h)throw h;const{error:v}=await ce.from("goals").update({current_value:m,updated_at:new Date().toISOString()}).eq("id",e.id);if(v)throw v;a("Progress recorded successfully","success"),r(),t()}catch(m){a(m.message||"Failed to record progress","error")}finally{o(!1)}}}const d=e.target_value>0?Math.min(100,parseFloat(l.value||"0")/e.target_value*100):0;return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-card rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(ri,{className:"w-5 h-5 text-primary"})}),i.jsx("h2",{className:"text-lg font-semibold",children:"Record Progress"})]}),i.jsx("button",{onClick:t,className:"p-1 hover:bg-muted rounded transition",children:i.jsx(oi,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-sm mb-2",children:e.title}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Current: ",e.current_value," ",e.unit]}),i.jsxs("span",{children:["Target: ",e.target_value," ",e.unit]})]}),i.jsx("div",{className:"mt-2 h-2 bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${Math.min(100,e.current_value/e.target_value*100)}%`}})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"value",children:["New Value ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ue,{id:"value",type:"number",step:"0.01",value:l.value,onChange:f=>c({...l,value:f.target.value}),className:"pr-16",required:!0,min:"0"}),e.unit&&i.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:e.unit})]}),l.value&&!isNaN(parseFloat(l.value))&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Progress: ",d.toFixed(1),"% of target"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"notes",children:"Notes (Optional)"}),i.jsx($n,{id:"notes",value:l.notes,onChange:f=>c({...l,notes:f.target.value}),placeholder:"Add any relevant notes about this progress update...",rows:4})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(be,{type:"button",variant:"outline",onClick:t,disabled:s,children:"Cancel"}),i.jsx(be,{type:"submit",disabled:s,children:s?"Recording...":"Record Progress"})]})]})]})})}function c$e({goalId:e,unit:t}){const[r,n]=p.useState([]),[a,s]=p.useState(!0);p.useEffect(()=>{o()},[e]);async function o(){try{const{data:l,error:c}=await ce.from("goal_progress").select(`
          *,
          recorder:profiles!recorded_by(full_name)
        `).eq("goal_id",e).order("recorded_at",{ascending:!1});if(c)throw c;n(l||[])}catch(l){console.error("Error loading progress history:",l)}finally{s(!1)}}return a?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(ri,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No progress recorded yet"}),i.jsx("p",{className:"text-xs mt-1",children:"Record your first update to start tracking progress"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[i.jsx(ln,{className:"w-4 h-4"}),"Progress History"]}),i.jsx("div",{className:"space-y-3",children:r.map((l,c)=>{var m,h;const u=(m=r[c+1])==null?void 0:m.value,d=u?l.value-u:null,f=u&&u>0?d/u*100:null;return i.jsx("div",{className:"border rounded-lg p-4 bg-card hover:bg-muted/50 transition",children:i.jsx("div",{className:"flex items-start justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("div",{className:"font-semibold text-lg",children:[l.value," ",t]}),d!==null&&i.jsxs("div",{className:`text-xs px-2 py-0.5 rounded-full ${d>0?"bg-green-100 text-green-700":d<0?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:[d>0&&"+",d.toFixed(2)," ",t,f!==null&&` (${f>0?"+":""}${f.toFixed(1)}%)`]})]}),l.notes&&i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.notes}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Po,{className:"w-3 h-3"}),((h=l.recorder)==null?void 0:h.full_name)||"Unknown"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ln,{className:"w-3 h-3"}),Bt(new Date(l.recorded_at),"MMM d, yyyy h:mm a")]})]})]})})},l.id)})})]})}function u$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState("all"),[h,v]=p.useState(null),[g,y]=p.useState(null),[x,b]=p.useState({client_id:"",service_id:"",title:"",description:"",target_value:"",current_value:"0",unit:"",start_date:new Date().toISOString().split("T")[0],target_date:"",status:"active",priority:"medium"});p.useEffect(()=>{_(),w(),N()},[]);const _=async()=>{const{data:P,error:V}=await ce.from("goals").select("*, clients(name), services(name)").order("created_at",{ascending:!1});V?(console.error("Error loading goals:",V),e("Failed to load goals","error")):r(P||[])},w=async()=>{const{data:P}=await ce.from("clients").select("id, name").eq("status","active").order("name");P&&a(P)},N=async()=>{const{data:P}=await ce.from("services").select("id, name").eq("is_active",!0).order("name");P&&o(P)},C=P=>{var V;P?(d(P),b({client_id:P.client_id,service_id:P.service_id||"",title:P.title,description:P.description||"",target_value:((V=P.target_value)==null?void 0:V.toString())||"",current_value:P.current_value.toString(),unit:P.unit||"",start_date:P.start_date,target_date:P.target_date,status:P.status,priority:P.priority})):(d(null),b({client_id:"",service_id:"",title:"",description:"",target_value:"",current_value:"0",unit:"",start_date:new Date().toISOString().split("T")[0],target_date:"",status:"active",priority:"medium"})),c(!0)},j=async P=>{P.preventDefault();const{data:{user:V}}=await ce.auth.getUser();if(!V)return;const F={...x,service_id:x.service_id||null,target_value:x.target_value?Number(x.target_value):null,current_value:Number(x.current_value),unit:x.unit||null,created_by:u?void 0:V.id};try{if(u){const{error:Y}=await ce.from("goals").update(F).eq("id",u.id);if(Y)throw Y;e("Goal updated successfully","success")}else{const{error:Y}=await ce.from("goals").insert(F);if(Y)throw Y;e("Goal created successfully","success")}c(!1),_()}catch(Y){console.error("Error saving goal:",Y),e("Failed to save goal","error")}},A=P=>{switch(P){case"completed":return i.jsx(kn,{className:"h-5 w-5 text-green-600 dark:text-green-400"});case"active":return i.jsx(ri,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"on_hold":return i.jsx(ln,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"cancelled":return i.jsx(Dn,{className:"h-5 w-5 text-red-600 dark:text-red-400"});default:return null}},k=P=>{switch(P){case"critical":return"destructive";case"high":return"default";case"medium":return"secondary";default:return"outline"}},I=P=>P.target_value?Math.min(P.current_value/P.target_value*100,100):0,T=f==="all"?t:t.filter(P=>P.status===f);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Goals"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Track client objectives and milestones"})]}),i.jsxs(be,{onClick:()=>C(),"data-testid":"button-add-goal",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Add Goal"]})]}),i.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","active","completed","on_hold","cancelled"].map(P=>i.jsx(be,{variant:f===P?"default":"outline",onClick:()=>m(P),className:f===P?"toggle-elevate toggle-elevated":"","data-testid":`button-filter-${P}`,children:P.replace("_"," ")},P))}),i.jsxs("div",{className:"grid gap-6 max-h-[600px] overflow-y-auto",children:[T.map(P=>{var V;return i.jsx(Ce,{"data-testid":`card-goal-${P.id}`,children:i.jsxs(Ae,{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[A(P.status),i.jsx("h3",{className:"text-lg font-semibold text-foreground","data-testid":`text-goal-title-${P.id}`,children:P.title}),i.jsx(vt,{variant:k(P.priority),"data-testid":`text-goal-priority-${P.id}`,children:P.priority})]}),i.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground flex-wrap",children:[i.jsx("span",{children:(V=P.clients)==null?void 0:V.name}),P.services&&i.jsxs("span",{children:["- ",P.services.name]}),i.jsxs("span",{children:["- ",Bt(new Date(P.start_date),"MMM d")," - ",Bt(new Date(P.target_date),"MMM d, yyyy")]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[P.status==="active"&&P.target_value&&i.jsxs(be,{variant:"outline",size:"sm",onClick:()=>v(P),"data-testid":`button-record-progress-${P.id}`,children:[i.jsx(ri,{className:"h-4 w-4 mr-2"}),"Record Progress"]}),i.jsx(be,{variant:"ghost",size:"sm",onClick:()=>C(P),"data-testid":`button-edit-goal-${P.id}`,children:"Edit"})]})]}),P.description&&i.jsx("p",{className:"text-muted-foreground mb-4",children:P.description}),P.target_value&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between gap-4 flex-wrap text-sm mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progress"}),i.jsxs("span",{className:"font-medium text-foreground",children:[P.current_value," / ",P.target_value," ",P.unit]})]}),i.jsx(Wd,{value:I(P),className:"h-3"}),i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[i.jsx(be,{variant:"ghost",size:"sm",onClick:()=>y(g===P.id?null:P.id),className:"text-xs h-auto p-1",children:g===P.id?i.jsxs(i.Fragment,{children:[i.jsx(cd,{className:"w-3 h-3 mr-1"}),"Hide History"]}):i.jsxs(i.Fragment,{children:[i.jsx(Hc,{className:"w-3 h-3 mr-1"}),"View History"]})}),i.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":`text-goal-progress-${P.id}`,children:[I(P).toFixed(0),"% complete"]})]})]}),g===P.id&&P.target_value&&i.jsx("div",{className:"mt-6 pt-6 border-t",children:i.jsx(c$e,{goalId:P.id,unit:P.unit||""})})]})},P.id)}),T.length===0&&i.jsx(Ce,{children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(R2,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No goals found"}),i.jsx("p",{className:"text-muted-foreground",children:"Create your first goal to start tracking progress"})]})})]}),i.jsx(Ur,{open:l,onOpenChange:c,children:i.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(zr,{children:i.jsx(Wr,{children:u?"Edit Goal":"Add Goal"})}),i.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Title"}),i.jsx(Ue,{type:"text",value:x.title,onChange:P=>b({...x,title:P.target.value}),required:!0,"data-testid":"input-title"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Client"}),i.jsxs(_t,{value:x.client_id||"none",onValueChange:P=>b({...x,client_id:P==="none"?"":P}),children:[i.jsx(wt,{"data-testid":"select-client",children:i.jsx(jt,{placeholder:"Select client"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"none",children:"Select client"}),n.map(P=>i.jsx(Ee,{value:P.id,children:P.name},P.id))]})]})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Service"}),i.jsxs(_t,{value:x.service_id||"none",onValueChange:P=>b({...x,service_id:P==="none"?"":P}),children:[i.jsx(wt,{"data-testid":"select-service",children:i.jsx(jt,{placeholder:"All services"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"none",children:"All services"}),s.map(P=>i.jsx(Ee,{value:P.id,children:P.name},P.id))]})]})]})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Description"}),i.jsx("textarea",{value:x.description,onChange:P=>b({...x,description:P.target.value}),rows:3,className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring md:text-sm","data-testid":"input-description"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Target Value"}),i.jsx(Ue,{type:"number",value:x.target_value,onChange:P=>b({...x,target_value:P.target.value}),step:"0.01","data-testid":"input-target-value"})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Current Value"}),i.jsx(Ue,{type:"number",value:x.current_value,onChange:P=>b({...x,current_value:P.target.value}),step:"0.01","data-testid":"input-current-value"})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Unit"}),i.jsx(Ue,{type:"text",value:x.unit,onChange:P=>b({...x,unit:P.target.value}),placeholder:"leads, $, %","data-testid":"input-unit"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Start Date"}),i.jsx(Ue,{type:"date",value:x.start_date,onChange:P=>b({...x,start_date:P.target.value}),required:!0,"data-testid":"input-start-date"})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Target Date"}),i.jsx(Ue,{type:"date",value:x.target_date,onChange:P=>b({...x,target_date:P.target.value}),required:!0,"data-testid":"input-target-date"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Status"}),i.jsxs(_t,{value:x.status,onValueChange:P=>b({...x,status:P}),children:[i.jsx(wt,{"data-testid":"select-status",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"active",children:"Active"}),i.jsx(Ee,{value:"completed",children:"Completed"}),i.jsx(Ee,{value:"on_hold",children:"On Hold"}),i.jsx(Ee,{value:"cancelled",children:"Cancelled"})]})]})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"mb-2 block",children:"Priority"}),i.jsxs(_t,{value:x.priority,onValueChange:P=>b({...x,priority:P}),children:[i.jsx(wt,{"data-testid":"select-priority",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"low",children:"Low"}),i.jsx(Ee,{value:"medium",children:"Medium"}),i.jsx(Ee,{value:"high",children:"High"}),i.jsx(Ee,{value:"critical",children:"Critical"})]})]})]})]}),i.jsxs(qr,{className:"gap-2 flex-wrap pt-4 border-t border-border",children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),i.jsxs(be,{type:"submit","data-testid":"button-submit-goal",children:[u?"Update":"Create"," Goal"]})]})]})]})}),h&&i.jsx(l$e,{goal:h,onClose:()=>v(null),onSuccess:()=>{_(),g===h.id&&(y(null),setTimeout(()=>y(h.id),100))}})]})}function d$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,m]=p.useState(!1),[h,v]=p.useState({employee_id:"",client_id:"",service_id:"",description:"",hours:"",date:new Date().toISOString().split("T")[0],is_billable:!0,hourly_rate:""});p.useEffect(()=>{g(),y(),x(),b()},[]);const g=async()=>{const{data:C,error:j}=await ce.from("time_entries").select("*, profiles(full_name), clients(name), services(name)").order("date",{ascending:!1}).limit(100);j?(console.error("Error loading time entries:",j),e("Failed to load time entries","error")):r(C||[]),d(!1)},y=async()=>{const{data:C}=await ce.from("profiles").select("id, full_name").eq("status","active");C&&a(C)},x=async()=>{const{data:C}=await ce.from("clients").select("id, name").eq("status","active");C&&o(C)},b=async()=>{const{data:C}=await ce.from("services").select("id, name").eq("is_active",!0);C&&c(C)},_=async C=>{C.preventDefault();const j={...h,hours:Number(h.hours),hourly_rate:h.hourly_rate?Number(h.hourly_rate):null};try{const{error:A}=await ce.from("time_entries").insert(j);if(A)throw A;e("Time entry logged successfully","success"),m(!1),g()}catch(A){console.error("Error saving time entry:",A),e("Failed to save time entry","error")}},w=()=>t.reduce((C,j)=>C+j.hours,0),N=()=>t.reduce((C,j)=>j.is_billable&&j.hourly_rate?C+j.hours*j.hourly_rate:C,0);return u?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ne,{className:"h-9 w-28"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ne,{className:"h-24"}),i.jsx(Ne,{className:"h-24"})]}),i.jsx(Ne,{className:"h-64 w-full"})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Time Tracking"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Log and track time spent on client work"})]}),i.jsxs(be,{onClick:()=>m(!0),"data-testid":"button-log-time",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Log Time"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Hours"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-total-hours",children:w().toFixed(1)})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:i.jsx(ln,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Billable Revenue"}),i.jsxs("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-total-revenue",children:["$",N().toLocaleString()]})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:i.jsx(_d,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]})})})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsxs(Ro,{children:[i.jsx(Io,{children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Date"}),i.jsx(Et,{children:"Employee"}),i.jsx(Et,{children:"Client"}),i.jsx(Et,{children:"Service"}),i.jsx(Et,{children:"Hours"}),i.jsx(Et,{children:"Billable"}),i.jsx(Et,{children:"Description"})]})}),i.jsx(Do,{children:t.length===0?i.jsx(Br,{children:i.jsxs(yt,{colSpan:7,className:"text-center py-12",children:[i.jsx(ln,{className:"h-16 w-16 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground text-lg",children:"No time entries yet"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Log your first time entry to get started"})]})}):t.map(C=>{var j,A,k;return i.jsxs(Br,{"data-testid":`row-time-entry-${C.id}`,children:[i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Nn,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-foreground",children:Bt(new Date(C.date),"MMM d, yyyy")})]})}),i.jsx(yt,{children:i.jsx("span",{className:"text-sm font-medium text-foreground",children:(j=C.profiles)==null?void 0:j.full_name})}),i.jsx(yt,{children:i.jsx("span",{className:"text-sm text-foreground",children:(A=C.clients)==null?void 0:A.name})}),i.jsx(yt,{children:i.jsx("span",{className:"text-sm text-foreground",children:(k=C.services)==null?void 0:k.name})}),i.jsx(yt,{children:i.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[C.hours,"h"]})}),i.jsx(yt,{children:i.jsx(vt,{variant:C.is_billable?"default":"secondary",className:"text-xs",children:C.is_billable?"Billable":"Non-billable"})}),i.jsx(yt,{children:i.jsx("span",{className:"text-sm text-muted-foreground",children:C.description||"-"})})]},C.id)})})]})})}),i.jsx(Ur,{open:f,onOpenChange:m,children:i.jsxs(Lr,{className:"max-w-2xl",children:[i.jsx(zr,{children:i.jsx(Wr,{children:"Log Time Entry"})}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Employee"}),i.jsxs(_t,{value:h.employee_id,onValueChange:C=>v({...h,employee_id:C}),children:[i.jsx(wt,{"data-testid":"select-time-employee",children:i.jsx(jt,{placeholder:"Select employee"})}),i.jsx(bt,{children:n.map(C=>i.jsx(Ee,{value:C.id,children:C.full_name},C.id))})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Date"}),i.jsx(Ue,{type:"date",value:h.date,onChange:C=>v({...h,date:C.target.value}),required:!0,"data-testid":"input-time-date"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Client"}),i.jsxs(_t,{value:h.client_id,onValueChange:C=>v({...h,client_id:C}),children:[i.jsx(wt,{"data-testid":"select-time-client",children:i.jsx(jt,{placeholder:"Select client"})}),i.jsx(bt,{children:s.map(C=>i.jsx(Ee,{value:C.id,children:C.name},C.id))})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Service"}),i.jsxs(_t,{value:h.service_id,onValueChange:C=>v({...h,service_id:C}),children:[i.jsx(wt,{"data-testid":"select-time-service",children:i.jsx(jt,{placeholder:"Select service"})}),i.jsx(bt,{children:l.map(C=>i.jsx(Ee,{value:C.id,children:C.name},C.id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Hours"}),i.jsx(Ue,{type:"number",value:h.hours,onChange:C=>v({...h,hours:C.target.value}),step:"0.25",min:"0",required:!0,"data-testid":"input-time-hours"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Hourly Rate"}),i.jsx(Ue,{type:"number",value:h.hourly_rate,onChange:C=>v({...h,hourly_rate:C.target.value}),step:"0.01",min:"0","data-testid":"input-time-rate"})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dd,{id:"billable",checked:h.is_billable,onCheckedChange:C=>v({...h,is_billable:C===!0}),"data-testid":"checkbox-billable"}),i.jsx(ye,{htmlFor:"billable",className:"cursor-pointer",children:"Billable"})]})})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Description"}),i.jsx($n,{value:h.description,onChange:C=>v({...h,description:C.target.value}),rows:3,placeholder:"What did you work on?","data-testid":"input-time-description"})]}),i.jsxs(qr,{children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>m(!1),"data-testid":"button-cancel-time",children:"Cancel"}),i.jsx(be,{type:"submit","data-testid":"button-save-time",children:"Log Time"})]})]})]})})]})}function f$e(){const{showToast:e}=yr(),[t,r]=p.useState("timeline"),[n,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState([]),[f,m]=p.useState(!1),[h,v]=p.useState(!1),[g,y]=p.useState(""),[x,b]=p.useState("all"),[_,w]=p.useState({client_id:"",type:"email",direction:"outbound",subject:"",summary:"",content:""}),[N,C]=p.useState({client_id:"",title:"",date:new Date().toISOString().slice(0,16),attendees:[],agenda:"",notes:"",action_items:[],next_meeting:""});p.useEffect(()=>{j()},[]);const j=async()=>{await Promise.all([A(),k(),I(),T()])},A=async()=>{const{data:U,error:q}=await ce.from("communications").select("*, clients(name), profiles(full_name)").order("created_at",{ascending:!1}).limit(100);q?(console.error("Error loading communications:",q),e("Failed to load communications","error")):a(U||[])},k=async()=>{const{data:U,error:q}=await ce.from("meeting_notes").select("*, clients(name), profiles(full_name)").order("date",{ascending:!1}).limit(50);q?(console.error("Error loading meetings:",q),e("Failed to load meetings","error")):o(U||[])},I=async()=>{const{data:U}=await ce.from("clients").select("id, name").eq("status","active");U&&c(U)},T=async()=>{const{data:U}=await ce.from("profiles").select("id, full_name").eq("status","active");U&&d(U)},P=async U=>{U.preventDefault();const{data:{user:q}}=await ce.auth.getUser();if(q)try{const{error:X}=await ce.from("communications").insert({..._,created_by:q.id});if(X)throw X;e("Communication logged successfully","success"),m(!1),A()}catch(X){console.error("Error saving communication:",X),e("Failed to log communication","error")}},V=async U=>{U.preventDefault();const{data:{user:q}}=await ce.auth.getUser();if(q)try{const{error:X}=await ce.from("meeting_notes").insert({...N,attendees:N.attendees,action_items:N.action_items,next_meeting:N.next_meeting||null,created_by:q.id});if(X)throw X;e("Meeting notes saved successfully","success"),v(!1),k()}catch(X){console.error("Error saving meeting notes:",X),e("Failed to save meeting notes","error")}},F=U=>{switch(U){case"email":return i.jsx(Yf,{className:"h-5 w-5"});case"call":return i.jsx(P$,{className:"h-5 w-5"});case"meeting":return i.jsx(mie,{className:"h-5 w-5"});case"message":return i.jsx(Qs,{className:"h-5 w-5"});default:return i.jsx(Qs,{className:"h-5 w-5"})}},Y=U=>{switch(U){case"email":return"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40 text-blue-600 dark:text-blue-400";case"call":return"rounded-lg p-2.5 bg-green-50 dark:bg-green-950/40 text-green-600 dark:text-green-400";case"meeting":return"rounded-lg p-2.5 bg-purple-50 dark:bg-purple-950/40 text-purple-600 dark:text-purple-400";case"message":return"rounded-lg p-2.5 bg-yellow-50 dark:bg-yellow-950/40 text-yellow-600 dark:text-yellow-400";default:return"rounded-lg p-2.5 bg-muted text-muted-foreground"}},re=n.filter(U=>{var pe;const q=U.summary.toLowerCase().includes(g.toLowerCase())||((pe=U.clients)==null?void 0:pe.name.toLowerCase().includes(g.toLowerCase())),X=x==="all"||U.type===x;return q&&X});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Communication Hub"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Track all client interactions and meetings"})]}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsxs(be,{"data-testid":"button-log-communication",onClick:()=>m(!0),children:[i.jsx(rn,{className:"h-4 w-4"}),"Log Communication"]}),i.jsxs(be,{"data-testid":"button-meeting-notes",variant:"outline",onClick:()=>v(!0),children:[i.jsx(rn,{className:"h-4 w-4"}),"Meeting Notes"]})]})]}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx(be,{"data-testid":"tab-timeline",variant:t==="timeline"?"default":"outline",onClick:()=>r("timeline"),children:"Timeline"}),i.jsx(be,{"data-testid":"tab-meetings",variant:t==="meetings"?"default":"outline",onClick:()=>r("meetings"),children:"Meeting Notes"})]}),t==="timeline"&&i.jsxs(i.Fragment,{children:[i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex-1 relative min-w-[200px]",children:[i.jsx(Vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ue,{"data-testid":"input-search-communications",type:"text",placeholder:"Search communications...",value:g,onChange:U=>y(U.target.value),className:"pl-10"})]}),i.jsxs(_t,{value:x,onValueChange:b,children:[i.jsx(wt,{"data-testid":"select-filter-type",className:"w-[160px]",children:i.jsx(jt,{placeholder:"All Types"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"all",children:"All Types"}),i.jsx(Ee,{value:"email",children:"Email"}),i.jsx(Ee,{value:"call",children:"Call"}),i.jsx(Ee,{value:"meeting",children:"Meeting"}),i.jsx(Ee,{value:"message",children:"Message"})]})]})]})})}),i.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[re.map(U=>{var q,X;return i.jsx(Ce,{"data-testid":`card-communication-${U.id}`,children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:Y(U.type),children:F(U.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:(q=U.clients)==null?void 0:q.name}),U.subject&&i.jsx("p",{className:"text-sm text-muted-foreground",children:U.subject})]}),i.jsxs("div",{className:"text-right",children:[i.jsx(vt,{variant:U.direction==="inbound"?"secondary":"outline",className:"no-default-active-elevate no-default-hover-elevate",children:U.direction==="inbound"?"Inbound":"Outbound"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Bt(new Date(U.created_at),"MMM d, yyyy h:mm a")})]})]}),i.jsx("p",{className:"text-foreground mb-2",children:U.summary}),U.content&&i.jsxs("details",{className:"text-sm text-muted-foreground mt-2",children:[i.jsx("summary",{className:"cursor-pointer text-primary",children:"View details"}),i.jsx("p",{className:"mt-2 whitespace-pre-wrap",children:U.content})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Logged by ",(X=U.profiles)==null?void 0:X.full_name]})]})]})})},U.id)}),re.length===0&&i.jsx(Ce,{children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(Qs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No communications found"}),i.jsx("p",{className:"text-muted-foreground",children:"Log your first client interaction to get started"})]})})]})]}),t==="meetings"&&i.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[s.map(U=>{var q,X;return i.jsx(Ce,{"data-testid":`card-meeting-${U.id}`,children:i.jsxs(Ae,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-foreground",children:U.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(q=U.clients)==null?void 0:q.name})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:Bt(new Date(U.date),"MMM d, yyyy h:mm a")}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",(X=U.profiles)==null?void 0:X.full_name]})]})]}),U.attendees&&Array.isArray(U.attendees)&&U.attendees.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm font-medium text-foreground mb-2",children:"Attendees:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:U.attendees.map((pe,xe)=>i.jsx(vt,{variant:"secondary",className:"no-default-active-elevate no-default-hover-elevate",children:pe},xe))})]}),U.agenda&&i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Agenda:"}),i.jsx("p",{className:"text-muted-foreground",children:U.agenda})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Notes:"}),i.jsx("p",{className:"text-foreground whitespace-pre-wrap",children:U.notes})]}),U.action_items&&Array.isArray(U.action_items)&&U.action_items.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm font-medium text-foreground mb-2",children:"Action Items:"}),i.jsx("ul",{className:"space-y-2",children:U.action_items.map((pe,xe)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx("span",{className:"text-primary mt-0.5",children:i.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-foreground",children:pe.task}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[pe.assignee," - Due: ",Bt(new Date(pe.due_date),"MMM d, yyyy")]})]})]},xe))})]}),U.next_meeting&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Next meeting: ",Bt(new Date(U.next_meeting),"MMM d, yyyy h:mm a")]})]})},U.id)}),s.length===0&&i.jsx(Ce,{children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(Nn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No meeting notes yet"}),i.jsx("p",{className:"text-muted-foreground",children:"Create your first meeting note to track discussions"})]})})]}),i.jsx(Ur,{open:f,onOpenChange:m,children:i.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(zr,{children:i.jsx(Wr,{children:"Log Communication"})}),i.jsxs("form",{onSubmit:P,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Client"}),i.jsxs(_t,{value:_.client_id,onValueChange:U=>w({..._,client_id:U}),children:[i.jsx(wt,{"data-testid":"select-comm-client",children:i.jsx(jt,{placeholder:"Select client"})}),i.jsx(bt,{children:l.map(U=>i.jsx(Ee,{value:U.id,children:U.name},U.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Type"}),i.jsxs(_t,{value:_.type,onValueChange:U=>w({..._,type:U}),children:[i.jsx(wt,{"data-testid":"select-comm-type",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"email",children:"Email"}),i.jsx(Ee,{value:"call",children:"Call"}),i.jsx(Ee,{value:"meeting",children:"Meeting"}),i.jsx(Ee,{value:"message",children:"Message"}),i.jsx(Ee,{value:"other",children:"Other"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Direction"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",value:"outbound",checked:_.direction==="outbound",onChange:U=>w({..._,direction:U.target.value}),className:"h-4 w-4","data-testid":"radio-direction-outbound"}),i.jsx("span",{className:"text-sm",children:"Outbound (We contacted them)"})]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",value:"inbound",checked:_.direction==="inbound",onChange:U=>w({..._,direction:U.target.value}),className:"h-4 w-4","data-testid":"radio-direction-inbound"}),i.jsx("span",{className:"text-sm",children:"Inbound (They contacted us)"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Subject"}),i.jsx(Ue,{"data-testid":"input-comm-subject",type:"text",value:_.subject,onChange:U=>w({..._,subject:U.target.value}),placeholder:"Optional"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Summary"}),i.jsx(Ue,{"data-testid":"input-comm-summary",type:"text",value:_.summary,onChange:U=>w({..._,summary:U.target.value}),placeholder:"Brief summary of the communication",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Details"}),i.jsx($n,{"data-testid":"textarea-comm-content",value:_.content,onChange:U=>w({..._,content:U.target.value}),rows:4,placeholder:"Full details of the communication..."})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{"data-testid":"button-cancel-comm",type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),i.jsx(be,{"data-testid":"button-submit-comm",type:"submit",children:"Log Communication"})]})]})]})}),i.jsx(Ur,{open:h,onOpenChange:v,children:i.jsxs(Lr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsx(zr,{children:i.jsx(Wr,{children:"Meeting Notes"})}),i.jsxs("form",{onSubmit:V,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Client"}),i.jsxs(_t,{value:N.client_id,onValueChange:U=>C({...N,client_id:U}),children:[i.jsx(wt,{"data-testid":"select-meeting-client",children:i.jsx(jt,{placeholder:"Select client"})}),i.jsx(bt,{children:l.map(U=>i.jsx(Ee,{value:U.id,children:U.name},U.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Meeting Date & Time"}),i.jsx(Ue,{"data-testid":"input-meeting-date",type:"datetime-local",value:N.date,onChange:U=>C({...N,date:U.target.value}),required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Meeting Title"}),i.jsx(Ue,{"data-testid":"input-meeting-title",type:"text",value:N.title,onChange:U=>C({...N,title:U.target.value}),placeholder:"e.g., Q1 Strategy Review",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Attendees"}),i.jsx("select",{multiple:!0,value:N.attendees,onChange:U=>{const q=Array.from(U.target.selectedOptions,X=>X.value);C({...N,attendees:q})},className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring h-32","data-testid":"select-meeting-attendees",children:u.map(U=>i.jsx("option",{value:U.full_name,children:U.full_name},U.id))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold Ctrl/Cmd to select multiple"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Agenda"}),i.jsx($n,{"data-testid":"textarea-meeting-agenda",value:N.agenda,onChange:U=>C({...N,agenda:U.target.value}),rows:2,placeholder:"Meeting agenda..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Notes"}),i.jsx($n,{"data-testid":"textarea-meeting-notes",value:N.notes,onChange:U=>C({...N,notes:U.target.value}),rows:6,placeholder:"Meeting notes, key discussion points...",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Next Meeting"}),i.jsx(Ue,{"data-testid":"input-next-meeting",type:"datetime-local",value:N.next_meeting,onChange:U=>C({...N,next_meeting:U.target.value})})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{"data-testid":"button-cancel-meeting",type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),i.jsx(be,{"data-testid":"button-submit-meeting",type:"submit",children:"Save Meeting Notes"})]})]})]})})]})}function h$e(){const{showToast:e}=yr(),[t,r]=p.useState("capacity"),[n,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState([]),[f,m]=p.useState([]),[h,v]=p.useState([]),[g,y]=p.useState(Qf(new Date)),[x,b]=p.useState(!1),[_,w]=p.useState(!1),[N,C]=p.useState(!1),[j,A]=p.useState({employee_id:"",client_id:"",service_id:"",allocated_hours:"",week_start:Bt(g,"yyyy-MM-dd")}),[k,I]=p.useState({employee_id:"",type:"vacation",start_date:"",end_date:"",reason:""}),[T,P]=p.useState({employee_id:"",skill:"",proficiency:"intermediate",years_experience:""});p.useEffect(()=>{V()},[g]);const V=async()=>{await Promise.all([F(),Y(),re(),U(),q(),X()])},F=async()=>{const W=Bt(g,"yyyy-MM-dd"),{data:te,error:J}=await ce.from("resource_allocations").select("*, profiles(full_name, max_capacity), clients(name), services(name)").eq("week_start",W);J?console.error("Error loading allocations:",J):a(te||[])},Y=async()=>{const{data:W,error:te}=await ce.from("time_off_requests").select("*, profiles(full_name)").order("start_date",{ascending:!1}).limit(50);te?console.error("Error loading time off:",te):o(W||[])},re=async()=>{const{data:W,error:te}=await ce.from("skill_matrix").select("*, profiles(full_name)").order("skill");te?console.error("Error loading skills:",te):c(W||[])},U=async()=>{const{data:W}=await ce.from("profiles").select("*").eq("status","active");W&&d(W)},q=async()=>{const{data:W}=await ce.from("clients").select("id, name").eq("status","active");W&&m(W)},X=async()=>{const{data:W}=await ce.from("services").select("id, name").eq("is_active",!0);W&&v(W)},pe=async W=>{W.preventDefault();try{const{error:te}=await ce.from("resource_allocations").insert({...j,allocated_hours:Number(j.allocated_hours)});if(te)throw te;e("Allocation saved successfully","success"),b(!1),F()}catch(te){console.error("Error saving allocation:",te),te.code==="23505"?e("Allocation already exists for this employee/client/service/week","error"):e("Failed to save allocation","error")}},xe=async W=>{W.preventDefault();try{const{error:te}=await ce.from("time_off_requests").insert(k);if(te)throw te;e("Time off request submitted","success"),w(!1),Y()}catch(te){console.error("Error submitting time off:",te),e("Failed to submit time off request","error")}},D=async(W,te)=>{const{data:{user:J}}=await ce.auth.getUser();if(J)try{const{error:oe}=await ce.from("time_off_requests").update({status:te,approved_by:J.id,approved_at:new Date().toISOString()}).eq("id",W);if(oe)throw oe;e(`Time off request ${te}`,"success"),Y()}catch(oe){console.error("Error updating time off:",oe),e("Failed to update time off request","error")}},M=async W=>{W.preventDefault();try{const{error:te}=await ce.from("skill_matrix").insert({...T,years_experience:T.years_experience?Number(T.years_experience):null});if(te)throw te;e("Skill added successfully","success"),C(!1),re()}catch(te){console.error("Error saving skill:",te),te.code==="23505"?e("This skill already exists for this employee","error"):e("Failed to save skill","error")}},R=W=>{const te=u.find(_e=>_e.id===W),J=n.filter(_e=>_e.employee_id===W).reduce((_e,ve)=>_e+ve.allocated_hours,0),oe=(te==null?void 0:te.max_capacity)||40;return{allocated:J,capacity:oe,percentage:J/oe*100}},H=W=>{switch(W){case"expert":return"default";case"advanced":return"secondary";case"intermediate":return"outline";case"beginner":return"outline";default:return"outline"}},B=W=>{switch(W){case"approved":return"default";case"rejected":return"destructive";case"pending":return"secondary";default:return"outline"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Resource Management"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage capacity, time off, and skills"})]})}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx(be,{"data-testid":"tab-capacity",variant:t==="capacity"?"default":"outline",onClick:()=>r("capacity"),children:"Capacity Planning"}),i.jsx(be,{"data-testid":"tab-timeoff",variant:t==="timeoff"?"default":"outline",onClick:()=>r("timeoff"),children:"Time Off"}),i.jsx(be,{"data-testid":"tab-skills",variant:t==="skills"?"default":"outline",onClick:()=>r("skills"),children:"Skills Matrix"})]}),t==="capacity"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[i.jsxs(be,{"data-testid":"button-prev-week",variant:"outline",onClick:()=>y(gR(g,-1)),children:[i.jsx(O2,{className:"h-4 w-4"}),"Previous Week"]}),i.jsx("div",{className:"flex-1 text-center",children:i.jsxs("h2",{className:"text-lg font-semibold text-foreground",children:["Week of ",Bt(g,"MMM d, yyyy")]})}),i.jsxs(be,{"data-testid":"button-next-week",variant:"outline",onClick:()=>y(gR(g,1)),children:["Next Week",i.jsx(xh,{className:"h-4 w-4"})]}),i.jsxs(be,{"data-testid":"button-allocate",onClick:()=>b(!0),children:[i.jsx(rn,{className:"h-4 w-4"}),"Allocate"]})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:i.jsxs(Ro,{children:[i.jsx(Io,{children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Employee"}),i.jsx(Et,{children:"Client"}),i.jsx(Et,{children:"Service"}),i.jsx(Et,{children:"Hours"}),i.jsx(Et,{children:"Utilization"})]})}),i.jsxs(Do,{children:[n.map(W=>{var J,oe,_e;const te=R(W.employee_id);return i.jsxs(Br,{"data-testid":`row-allocation-${W.id}`,children:[i.jsx(yt,{className:"font-medium",children:(J=W.profiles)==null?void 0:J.full_name}),i.jsx(yt,{children:(oe=W.clients)==null?void 0:oe.name}),i.jsx(yt,{children:(_e=W.services)==null?void 0:_e.name}),i.jsxs(yt,{children:[W.allocated_hours,"h"]}),i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wd,{value:Math.min(te.percentage,100),className:"w-32"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[te.allocated,"/",te.capacity,"h"]})]})})]},W.id)}),n.length===0&&i.jsx(Br,{children:i.jsx(yt,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No allocations for this week"})})]})]})})})})]}),t==="timeoff"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex justify-end",children:i.jsxs(be,{"data-testid":"button-request-timeoff",onClick:()=>w(!0),children:[i.jsx(rn,{className:"h-4 w-4"}),"Request Time Off"]})}),i.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[s.map(W=>{var te;return i.jsx(Ce,{"data-testid":`card-timeoff-${W.id}`,children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:(te=W.profiles)==null?void 0:te.full_name}),i.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:W.type}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[Bt(new Date(W.start_date),"MMM d, yyyy")," - ",Bt(new Date(W.end_date),"MMM d, yyyy")]}),W.reason&&i.jsx("p",{className:"text-sm text-foreground mt-2",children:W.reason})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsx(vt,{variant:B(W.status),className:"no-default-active-elevate no-default-hover-elevate capitalize",children:W.status}),W.status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(be,{"data-testid":`button-approve-${W.id}`,size:"sm",onClick:()=>D(W.id,"approved"),children:"Approve"}),i.jsx(be,{"data-testid":`button-reject-${W.id}`,size:"sm",variant:"destructive",onClick:()=>D(W.id,"rejected"),children:"Reject"})]})]})]})})},W.id)}),s.length===0&&i.jsx(Ce,{children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(Nn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No time off requests"}),i.jsx("p",{className:"text-muted-foreground",children:"Time off requests will appear here"})]})})]})]}),t==="skills"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex justify-end",children:i.jsxs(be,{"data-testid":"button-add-skill",onClick:()=>C(!0),children:[i.jsx(rn,{className:"h-4 w-4"}),"Add Skill"]})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:i.jsxs(Ro,{children:[i.jsx(Io,{children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Employee"}),i.jsx(Et,{children:"Skill"}),i.jsx(Et,{children:"Proficiency"}),i.jsx(Et,{children:"Experience"})]})}),i.jsxs(Do,{children:[l.map(W=>{var te;return i.jsxs(Br,{"data-testid":`row-skill-${W.id}`,children:[i.jsx(yt,{className:"font-medium",children:(te=W.profiles)==null?void 0:te.full_name}),i.jsx(yt,{children:W.skill}),i.jsx(yt,{children:i.jsx(vt,{variant:H(W.proficiency),className:"no-default-active-elevate no-default-hover-elevate capitalize",children:W.proficiency})}),i.jsx(yt,{children:W.years_experience?`${W.years_experience} years`:"-"})]},W.id)}),l.length===0&&i.jsx(Br,{children:i.jsx(yt,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No skills recorded yet"})})]})]})})})})]}),i.jsx(Ur,{open:x,onOpenChange:b,children:i.jsxs(Lr,{className:"max-w-2xl",children:[i.jsx(zr,{children:i.jsx(Wr,{children:"Allocate Resources"})}),i.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Employee"}),i.jsxs(_t,{value:j.employee_id,onValueChange:W=>A({...j,employee_id:W}),children:[i.jsx(wt,{"data-testid":"select-allocation-employee",children:i.jsx(jt,{placeholder:"Select employee"})}),i.jsx(bt,{children:u.map(W=>i.jsx(Ee,{value:W.id,children:W.full_name},W.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Client"}),i.jsxs(_t,{value:j.client_id,onValueChange:W=>A({...j,client_id:W}),children:[i.jsx(wt,{"data-testid":"select-allocation-client",children:i.jsx(jt,{placeholder:"Select client"})}),i.jsx(bt,{children:f.map(W=>i.jsx(Ee,{value:W.id,children:W.name},W.id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Service"}),i.jsxs(_t,{value:j.service_id,onValueChange:W=>A({...j,service_id:W}),children:[i.jsx(wt,{"data-testid":"select-allocation-service",children:i.jsx(jt,{placeholder:"Select service"})}),i.jsx(bt,{children:h.map(W=>i.jsx(Ee,{value:W.id,children:W.name},W.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Hours"}),i.jsx(Ue,{"data-testid":"input-allocation-hours",type:"number",value:j.allocated_hours,onChange:W=>A({...j,allocated_hours:W.target.value}),min:"0",step:"0.5",required:!0})]})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{"data-testid":"button-cancel-allocation",type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),i.jsx(be,{"data-testid":"button-submit-allocation",type:"submit",children:"Allocate"})]})]})]})}),i.jsx(Ur,{open:_,onOpenChange:w,children:i.jsxs(Lr,{className:"max-w-2xl",children:[i.jsx(zr,{children:i.jsx(Wr,{children:"Request Time Off"})}),i.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Employee"}),i.jsxs(_t,{value:k.employee_id,onValueChange:W=>I({...k,employee_id:W}),children:[i.jsx(wt,{"data-testid":"select-timeoff-employee",children:i.jsx(jt,{placeholder:"Select employee"})}),i.jsx(bt,{children:u.map(W=>i.jsx(Ee,{value:W.id,children:W.full_name},W.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Type"}),i.jsxs(_t,{value:k.type,onValueChange:W=>I({...k,type:W}),children:[i.jsx(wt,{"data-testid":"select-timeoff-type",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"vacation",children:"Vacation"}),i.jsx(Ee,{value:"sick",children:"Sick"}),i.jsx(Ee,{value:"personal",children:"Personal"}),i.jsx(Ee,{value:"other",children:"Other"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Start Date"}),i.jsx(Ue,{"data-testid":"input-timeoff-start",type:"date",value:k.start_date,onChange:W=>I({...k,start_date:W.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"End Date"}),i.jsx(Ue,{"data-testid":"input-timeoff-end",type:"date",value:k.end_date,onChange:W=>I({...k,end_date:W.target.value}),required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Reason (Optional)"}),i.jsx($n,{"data-testid":"textarea-timeoff-reason",value:k.reason,onChange:W=>I({...k,reason:W.target.value}),rows:3})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{"data-testid":"button-cancel-timeoff",type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),i.jsx(be,{"data-testid":"button-submit-timeoff",type:"submit",children:"Submit Request"})]})]})]})}),i.jsx(Ur,{open:N,onOpenChange:C,children:i.jsxs(Lr,{className:"max-w-2xl",children:[i.jsx(zr,{children:i.jsx(Wr,{children:"Add Skill"})}),i.jsxs("form",{onSubmit:M,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Employee"}),i.jsxs(_t,{value:T.employee_id,onValueChange:W=>P({...T,employee_id:W}),children:[i.jsx(wt,{"data-testid":"select-skill-employee",children:i.jsx(jt,{placeholder:"Select employee"})}),i.jsx(bt,{children:u.map(W=>i.jsx(Ee,{value:W.id,children:W.full_name},W.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Skill"}),i.jsx(Ue,{"data-testid":"input-skill-name",type:"text",value:T.skill,onChange:W=>P({...T,skill:W.target.value}),placeholder:"e.g., Google Ads, SEO, Content Writing",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Proficiency"}),i.jsxs(_t,{value:T.proficiency,onValueChange:W=>P({...T,proficiency:W}),children:[i.jsx(wt,{"data-testid":"select-skill-proficiency",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"beginner",children:"Beginner"}),i.jsx(Ee,{value:"intermediate",children:"Intermediate"}),i.jsx(Ee,{value:"advanced",children:"Advanced"}),i.jsx(Ee,{value:"expert",children:"Expert"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Years of Experience"}),i.jsx(Ue,{"data-testid":"input-skill-experience",type:"number",value:T.years_experience,onChange:W=>P({...T,years_experience:W.target.value}),min:"0",step:"0.5"})]})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{"data-testid":"button-cancel-skill",type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancel"}),i.jsx(be,{"data-testid":"button-submit-skill",type:"submit",children:"Add Skill"})]})]})]})})]})}function KZ({reportId:e,canUpload:t=!0,canDelete:r=!1}){const[n,a]=p.useState([]),[s,o]=p.useState(!1),[l,c]=p.useState(!0),{showToast:u}=yr(),{user:d}=Ln();p.useEffect(()=>{f()},[e]);async function f(){try{const{data:y,error:x}=await ce.from("report_attachments").select(`
          *,
          profile:profiles!uploaded_by(full_name)
        `).eq("report_id",e).order("created_at",{ascending:!1});if(x)throw x;a(y||[])}catch(y){u(y.message,"error")}finally{c(!1)}}async function m(y){const x=y.target.files;if(!x||x.length===0)return;const b=x[0],_=10*1024*1024;if(b.size>_){u("File size must be less than 10MB","error");return}o(!0);try{const w=b.name.split(".").pop(),N=`${e}/${Date.now()}-${Math.random().toString(36).substring(7)}.${w}`,{error:C}=await ce.storage.from("report-attachments").upload(N,b,{cacheControl:"3600",upsert:!1});if(C)throw C;const{data:{publicUrl:j}}=ce.storage.from("report-attachments").getPublicUrl(N),{error:A}=await ce.from("report_attachments").insert([{report_id:e,file_name:b.name,file_url:j,file_type:b.type,file_size:b.size,uploaded_by:d==null?void 0:d.id}]);if(A)throw await ce.storage.from("report-attachments").remove([N]),A;u("File uploaded successfully","success"),f(),y.target.value=""}catch(w){u(w.message,"error")}finally{o(!1)}}async function h(y){if(confirm("Are you sure you want to delete this attachment?"))try{const x=y.file_url.split("/").slice(-2).join("/"),{error:b}=await ce.from("report_attachments").delete().eq("id",y.id);if(b)throw b;await ce.storage.from("report-attachments").remove([x]),u("Attachment deleted successfully","success"),f()}catch(x){u(x.message,"error")}}function v(y){return y?y<1024?y+" B":y<1024*1024?(y/1024).toFixed(1)+" KB":(y/(1024*1024)).toFixed(1)+" MB":"Unknown size"}function g(y){return y?y.startsWith("image/")?i.jsx(Zh,{className:"w-5 h-5 text-blue-500"}):y.includes("pdf")?i.jsx(Zh,{className:"w-5 h-5 text-red-500"}):y.includes("word")||y.includes("document")?i.jsx(Zh,{className:"w-5 h-5 text-blue-600"}):y.includes("excel")||y.includes("spreadsheet")?i.jsx(Zh,{className:"w-5 h-5 text-green-600"}):i.jsx(Zh,{className:"w-5 h-5 text-gray-400"}):i.jsx(Zh,{className:"w-5 h-5 text-gray-400"})}return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(C6,{className:"w-5 h-5 text-gray-600"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attachments"}),i.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:n.length})]}),t&&i.jsxs("label",{className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors cursor-pointer ${s?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[i.jsx(_C,{className:"w-4 h-4"}),s?"Uploading...":"Upload File",i.jsx("input",{type:"file",onChange:m,disabled:s,className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.gif"})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2",children:[i.jsx(Dn,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-800",children:[i.jsx("p",{className:"font-medium",children:"Supported file types:"}),i.jsx("p",{children:"PDF, Word documents, Excel spreadsheets, images (PNG, JPG, GIF)"}),i.jsx("p",{className:"mt-1",children:"Maximum file size: 10MB"})]})]}),l?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-gray-500 mt-2",children:"Loading attachments..."})]}):n.length===0?i.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[i.jsx(C6,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500",children:"No attachments yet"}),t&&i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Upload files to attach them to this report"})]}):i.jsx("div",{className:"space-y-2",children:n.map(y=>{var x;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[g(y.file_type),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:y.file_name}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:v(y.file_size)}),i.jsx("span",{children:""}),i.jsxs("span",{children:["Uploaded by ",((x=y.profile)==null?void 0:x.full_name)||"Unknown"]}),i.jsx("span",{children:""}),i.jsx("span",{children:new Date(y.created_at).toLocaleDateString()})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx("a",{href:y.file_url,download:y.file_name,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Download file",children:i.jsx(mp,{className:"w-4 h-4 text-gray-600"})}),r&&i.jsx("button",{onClick:()=>h(y),className:"p-2 hover:bg-red-100 rounded-lg transition-colors","aria-label":"Delete attachment",children:i.jsx(Fo,{className:"w-4 h-4 text-red-600"})})]})]},y.id)})})]})}function m$e({reportId:e,canComment:t=!0,canDelete:r=!1,showInternal:n=!1}){const[a,s]=p.useState([]),[o,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(!0),[m,h]=p.useState(!1),[v,g]=p.useState(null),[y,x]=p.useState(""),{showToast:b}=yr(),{user:_,profile:w}=Ln();p.useEffect(()=>{N()},[e]);async function N(){try{let V=ce.from("report_comments").select(`
          *,
          profile:profiles!user_id(full_name, role)
        `).eq("report_id",e).order("created_at",{ascending:!0});n||(V=V.eq("is_internal",!1));const{data:F,error:Y}=await V;if(Y)throw Y;s(F||[])}catch(V){b(V.message,"error")}finally{f(!1)}}async function C(V){if(V.preventDefault(),!(!o.trim()||!_)){h(!0);try{const{error:F}=await ce.from("report_comments").insert([{report_id:e,user_id:_.id,comment:o.trim(),is_internal:c}]);if(F)throw F;b("Comment added successfully","success"),l(""),u(!1),N()}catch(F){b(F.message,"error")}finally{h(!1)}}}async function j(V){if(y.trim())try{const{error:F}=await ce.from("report_comments").update({comment:y.trim(),updated_at:new Date().toISOString()}).eq("id",V);if(F)throw F;b("Comment updated successfully","success"),g(null),x(""),N()}catch(F){b(F.message,"error")}}async function A(V){if(confirm("Are you sure you want to delete this comment?"))try{const{error:F}=await ce.from("report_comments").delete().eq("id",V);if(F)throw F;b("Comment deleted successfully","success"),N()}catch(F){b(F.message,"error")}}function k(V){g(V.id),x(V.comment)}function I(){g(null),x("")}function T(V){const F=new Date(V),re=new Date().getTime()-F.getTime(),U=Math.floor(re/6e4),q=Math.floor(re/36e5),X=Math.floor(re/864e5);return U<1?"Just now":U<60?`${U} minute${U>1?"s":""} ago`:q<24?`${q} hour${q>1?"s":""} ago`:X<7?`${X} day${X>1?"s":""} ago`:F.toLocaleDateString()}const P=(w==null?void 0:w.role)==="admin";return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qs,{className:"w-5 h-5 text-gray-600"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Comments"}),i.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded",children:a.length})]})}),t&&i.jsxs("form",{onSubmit:C,className:"space-y-3",children:[i.jsx("textarea",{value:o,onChange:V=>l(V.target.value),placeholder:"Add a comment...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:m}),i.jsxs("div",{className:"flex items-center justify-between",children:[P&&i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:V=>u(V.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:m}),i.jsx("span",{className:"text-gray-700",children:"Internal comment (visible only to staff)"})]}),i.jsxs("button",{type:"submit",disabled:!o.trim()||m,className:`ml-auto flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${!o.trim()||m?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[i.jsx(lv,{className:"w-4 h-4"}),m?"Posting...":"Post Comment"]})]})]}),d?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-gray-500 mt-2",children:"Loading comments..."})]}):a.length===0?i.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[i.jsx(Qs,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500",children:"No comments yet"}),t&&i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Be the first to comment on this report"})]}):i.jsx("div",{className:"space-y-3",children:a.map(V=>{var q;const F=(_==null?void 0:_.id)===V.user_id,Y=F,re=F||r,U=v===V.id;return i.jsx("div",{className:`p-4 border rounded-lg ${V.is_internal?"bg-yellow-50 border-yellow-200":"bg-white border-gray-200"}`,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"font-medium text-gray-900",children:((q=V.profile)==null?void 0:q.full_name)||"Unknown User"}),V.is_internal&&i.jsx("span",{className:"px-2 py-0.5 bg-yellow-200 text-yellow-800 text-xs font-medium rounded",children:"Internal"}),i.jsxs("span",{className:"text-xs text-gray-500",children:[T(V.created_at),V.updated_at&&V.updated_at!==V.created_at&&i.jsx("span",{className:"ml-1",children:"(edited)"})]})]}),U?i.jsxs("div",{className:"space-y-2",children:[i.jsx("textarea",{value:y,onChange:X=>x(X.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>j(V.id),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[i.jsx(Rp,{className:"w-3 h-3"}),"Save"]}),i.jsxs("button",{onClick:I,className:"flex items-center gap-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:[i.jsx(oi,{className:"w-3 h-3"}),"Cancel"]})]})]}):i.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:V.comment})]}),!U&&i.jsxs("div",{className:"flex items-center gap-1",children:[Y&&i.jsx("button",{onClick:()=>k(V),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Edit comment",children:i.jsx(xu,{className:"w-4 h-4 text-gray-600"})}),re&&i.jsx("button",{onClick:()=>A(V.id),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors","aria-label":"Delete comment",children:i.jsx(Fo,{className:"w-4 h-4 text-red-600"})})]})]})},V.id)})}),n&&P&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2",children:[i.jsx(Dn,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-800",children:[i.jsx("p",{className:"font-medium",children:"Internal Comments"}),i.jsx("p",{children:"Comments marked as internal are only visible to admin and employee users."})]})]})]})}function p$e({reportId:e,onClose:t,onRestore:r}){const[n,a]=p.useState([]),[s,o]=p.useState(!0),[l,c]=p.useState(null),{showToast:u}=yr();p.useEffect(()=>{d()},[e]);async function d(){try{const{data:h,error:v}=await ce.from("report_revisions").select(`
          *,
          profile:profiles!changed_by(full_name, email)
        `).eq("report_id",e).order("version",{ascending:!1});if(v)throw v;a(h||[])}catch(h){u(h.message,"error")}finally{o(!1)}}async function f(h,v){if(confirm("Are you sure you want to restore this version? This will create a new version with this data."))try{const{data:g,error:y}=await ce.from("weekly_reports").select("*").eq("id",e).single();if(y)throw y;const{error:x}=await ce.from("weekly_reports").update({status:v.status||g.status,work_summary:v.work_summary||g.work_summary,wins:v.wins||g.wins,challenges:v.challenges||g.challenges,next_week_plan:v.next_week_plan||g.next_week_plan,updated_at:new Date().toISOString()}).eq("id",e);if(x)throw x;u("Version restored successfully","success"),r&&r(),t()}catch(g){u(g.message,"error")}}function m(h){c(l===h?null:h)}return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(S6,{className:"w-5 h-5 text-blue-600"}),i.jsx("h2",{className:"text-xl font-semibold",children:"Version History"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close version history",children:i.jsx(oi,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-gray-500 mt-2",children:"Loading versions..."})]}):n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(S6,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500",children:"No version history available"})]}):i.jsx("div",{className:"space-y-4",children:n.map((h,v)=>{var g;return i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded",children:["Version ",h.version]}),v===0&&i.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"Current"})]}),i.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Modified by:"})," ",((g=h.profile)==null?void 0:g.full_name)||"Unknown"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Date:"})," ",Bt(new Date(h.created_at),"MMM d, yyyy h:mm a")]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>m(h.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":l===h.id?"Collapse details":"Expand details",children:l===h.id?i.jsx(cd,{className:"w-5 h-5 text-gray-600"}):i.jsx(Hc,{className:"w-5 h-5 text-gray-600"})}),v!==0&&i.jsxs("button",{onClick:()=>f(h.id,h.data),className:"flex items-center gap-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[i.jsx(aie,{className:"w-4 h-4"}),"Restore"]})]})]}),l===h.id&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-3",children:[h.data.status&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Status:"}),i.jsx("p",{className:"text-sm text-gray-600 px-3 py-2 bg-gray-50 rounded",children:h.data.status})]}),h.data.work_summary&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Work Summary:"}),i.jsx("p",{className:"text-sm text-gray-600 px-3 py-2 bg-gray-50 rounded whitespace-pre-wrap",children:h.data.work_summary})]}),h.data.wins&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Wins:"}),i.jsx("p",{className:"text-sm text-gray-600 px-3 py-2 bg-gray-50 rounded whitespace-pre-wrap",children:h.data.wins})]}),h.data.challenges&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Challenges:"}),i.jsx("p",{className:"text-sm text-gray-600 px-3 py-2 bg-gray-50 rounded whitespace-pre-wrap",children:h.data.challenges})]}),h.data.next_week_plan&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Next Week Plan:"}),i.jsx("p",{className:"text-sm text-gray-600 px-3 py-2 bg-gray-50 rounded whitespace-pre-wrap",children:h.data.next_week_plan})]}),h.data.metrics&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Metrics:"}),i.jsx("pre",{className:"text-xs text-gray-600 px-3 py-2 bg-gray-50 rounded overflow-x-auto",children:JSON.stringify(h.data.metrics,null,2)})]})]})]},h.id)})})})]})})}function g$e({reportId:e,onClose:t,canApprove:r=!1,onApprove:n,onRequestRevision:a}){var g,y,x,b;const{showToast:s}=yr(),[o,l]=p.useState(null),[c,u]=p.useState(!0),[d,f]=p.useState("details");p.useEffect(()=>{m()},[e]);const m=async()=>{try{const{data:_,error:w}=await ce.from("weekly_reports").select(`
          *,
          clients(name, industry),
          profiles(full_name, email),
          services(name),
          service_metrics(metric_data)
        `).eq("id",e).single();if(w)throw w;l(_)}catch(_){s(_.message,"error")}finally{u(!1)}},h=_=>{const w={on_track:"bg-green-100 text-green-800",needs_attention:"bg-yellow-100 text-yellow-800",delayed:"bg-red-100 text-red-800"},N={on_track:i.jsx(kn,{className:"h-4 w-4"}),needs_attention:i.jsx(Dn,{className:"h-4 w-4"}),delayed:i.jsx(ln,{className:"h-4 w-4"})};return i.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${w[_]||"bg-gray-100 text-gray-800"}`,children:[N[_],_.replace("_"," ")]})},v=_=>{const w={draft:"bg-gray-100 text-gray-800",submitted:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",revision_requested:"bg-red-100 text-red-800"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${w[_]||"bg-gray-100 text-gray-800"}`,children:_.replace("_"," ")})};return c?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):o?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Weekly Report Details"}),v(o.approval_status)]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(Js,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:(g=o.clients)==null?void 0:g.name}),((y=o.clients)==null?void 0:y.industry)&&i.jsxs("span",{className:"text-gray-400",children:[" ",o.clients.industry]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(ti,{className:"h-4 w-4"}),i.jsx("span",{children:(x=o.services)==null?void 0:x.name})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(Po,{className:"h-4 w-4"}),i.jsx("span",{children:(b=o.profiles)==null?void 0:b.full_name})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(Nn,{className:"h-4 w-4"}),i.jsxs("span",{children:["Week of ",Bt(new Date(o.week_start_date),"MMM d, yyyy")]})]})]})]}),i.jsx("button",{onClick:t,className:"ml-4 p-2 hover:bg-gray-100 rounded-lg transition",children:i.jsx(oi,{className:"h-6 w-6 text-gray-500"})})]})}),i.jsx("div",{className:"border-b",children:i.jsx("div",{className:"flex gap-1 px-6",children:[{id:"details",label:"Report Details",icon:En},{id:"attachments",label:"Attachments",icon:ri},{id:"comments",label:"Comments",icon:Qs},{id:"history",label:"Version History",icon:ln}].map(_=>i.jsxs("button",{onClick:()=>f(_.id),className:`flex items-center gap-2 px-4 py-3 font-medium border-b-2 transition ${d===_.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[i.jsx(_.icon,{className:"h-4 w-4"}),_.label]},_.id))})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[d==="details"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),h(o.status)]}),o.service_metrics&&o.service_metrics.length>0&&i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(ri,{className:"h-5 w-5 text-blue-600"}),"Performance Metrics"]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(o.service_metrics[0].metric_data||{}).map(([_,w])=>i.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:_.replace(/_/g," ")}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:String(w)})]},_))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Work Summary"}),i.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:o.work_summary||"No summary provided"})]}),o.key_wins&&i.jsxs("div",{className:"bg-green-50 rounded-xl border border-green-200 p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-green-900 mb-3 flex items-center gap-2",children:[i.jsx(kn,{className:"h-5 w-5"}),"Key Wins"]}),i.jsx("p",{className:"text-green-800 whitespace-pre-wrap",children:o.key_wins})]}),o.challenges&&i.jsxs("div",{className:"bg-yellow-50 rounded-xl border border-yellow-200 p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-yellow-900 mb-3 flex items-center gap-2",children:[i.jsx(Dn,{className:"h-5 w-5"}),"Challenges"]}),i.jsx("p",{className:"text-yellow-800 whitespace-pre-wrap",children:o.challenges})]}),o.next_week_plan&&i.jsxs("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[i.jsx(Nn,{className:"h-5 w-5"}),"Next Week's Plan"]}),i.jsx("p",{className:"text-blue-800 whitespace-pre-wrap",children:o.next_week_plan})]})]})]}),d==="attachments"&&i.jsx(KZ,{reportId:e,canUpload:!1,canDelete:!1}),d==="comments"&&i.jsx(m$e,{reportId:e}),d==="history"&&i.jsx(p$e,{reportId:e})]}),r&&o.approval_status==="submitted"&&i.jsxs("div",{className:"border-t p-6 bg-gray-50 flex justify-end gap-3",children:[i.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 rounded-lg hover:bg-white transition font-medium",children:"Close"}),i.jsxs("button",{onClick:a,className:"px-6 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium flex items-center gap-2",children:[i.jsx(Dn,{className:"h-4 w-4"}),"Request Revision"]}),i.jsxs("button",{onClick:n,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center gap-2",children:[i.jsx(kn,{className:"h-4 w-4"}),"Approve Report"]})]}),!r&&i.jsx("div",{className:"border-t p-6 bg-gray-50 flex justify-end",children:i.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition font-medium",children:"Close"})})]})}):null}function v$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState("submitted"),[s,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(""),[f,m]=p.useState("approve"),[h,v]=p.useState(!0),[g,y]=p.useState(null);p.useEffect(()=>{x()},[n]);const x=async()=>{try{let j=ce.from("report_approvals").select(`
          *,
          weekly_reports(
            id,
            week_start_date,
            work_summary,
            clients(name),
            profiles(full_name),
            services(name)
          ),
          approver:profiles!report_approvals_approver_id_fkey(full_name)
        `).order("created_at",{ascending:!1});n!=="all"&&(j=j.eq("status",n));const{data:A,error:k}=await j;if(k)throw k;r(A||[])}catch(j){console.error("Error loading approvals:",j),e("Failed to load approvals","error")}finally{v(!1)}},b=async j=>{try{const{data:{user:A}}=await ce.auth.getUser();if(!A)throw new Error("Not authenticated");const{error:k}=await ce.from("report_approvals").update({status:"approved",approver_id:A.id,approved_at:new Date().toISOString(),feedback:u}).eq("id",j.id);if(k)throw k;await ce.from("weekly_reports").update({approval_status:"approved"}).eq("id",j.report_id),e("Report approved successfully","success"),c(!1),d(""),o(null),x()}catch(A){console.error("Error approving report:",A),e("Failed to approve report","error")}},_=async j=>{if(!u.trim()){e("Please provide feedback for revision","error");return}try{const{data:{user:A}}=await ce.auth.getUser();if(!A)throw new Error("Not authenticated");const{error:k}=await ce.from("report_approvals").update({status:"revision_requested",approver_id:A.id,feedback:u}).eq("id",j.id);if(k)throw k;await ce.from("weekly_reports").update({approval_status:"revision_requested"}).eq("id",j.report_id),e("Revision requested successfully","success"),c(!1),d(""),o(null),x()}catch(A){console.error("Error requesting revision:",A),e("Failed to request revision","error")}},w=(j,A)=>{o(j),m(A),c(!0),d("")},N=j=>{switch(j){case"approved":return"default";case"submitted":return"secondary";case"revision_requested":return"destructive";default:return"outline"}},C=j=>{switch(j){case"draft":return i.jsx(ln,{className:"h-3.5 w-3.5"});case"submitted":return i.jsx(Dn,{className:"h-3.5 w-3.5"});case"approved":return i.jsx(kn,{className:"h-3.5 w-3.5"});case"revision_requested":return i.jsx(Ow,{className:"h-3.5 w-3.5"})}};return h?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-7 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(j=>i.jsx(Ne,{className:"h-9 w-24"},j))}),i.jsx("div",{className:"space-y-4",children:[1,2,3].map(j=>i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ne,{className:"h-5 w-32"}),i.jsx(Ne,{className:"h-6 w-48"}),i.jsx(Ne,{className:"h-4 w-64"}),i.jsx(Ne,{className:"h-4 w-40"})]})})},j))})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Report Approvals"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Review and approve submitted weekly reports"})]})}),i.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","submitted","approved","revision_requested"].map(j=>i.jsx(be,{variant:n===j?"default":"outline",onClick:()=>a(j),"data-testid":`button-filter-${j}`,className:"capitalize",children:j==="all"?"All":j.replace("_"," ")},j))}),i.jsxs("div",{className:"space-y-4 max-h-[700px] overflow-y-auto",children:[t.map(j=>{var A,k,I,T,P,V,F,Y;return i.jsx(Ce,{"data-testid":`card-approval-${j.id}`,children:i.jsxs(Ae,{className:"p-6",children:[i.jsx("div",{className:"flex justify-between items-start gap-4 flex-wrap mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[i.jsxs(vt,{variant:N(j.status),"data-testid":`badge-status-${j.id}`,children:[C(j.status),i.jsx("span",{className:"ml-1",children:j.status.replace("_"," ")})]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:Bt(new Date(j.created_at),"MMM d, yyyy")})]}),i.jsx("h3",{className:"text-xl font-semibold text-foreground",children:((k=(A=j.weekly_reports)==null?void 0:A.clients)==null?void 0:k.name)||"Unknown Client"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Week of ",Bt(new Date(((I=j.weekly_reports)==null?void 0:I.week_start_date)||""),"MMM d, yyyy")]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitted by: ",((P=(T=j.weekly_reports)==null?void 0:T.profiles)==null?void 0:P.full_name)||"Unknown"]}),((F=(V=j.weekly_reports)==null?void 0:V.services)==null?void 0:F.name)&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Service: ",j.weekly_reports.services.name]})]})}),((Y=j.weekly_reports)==null?void 0:Y.work_summary)&&i.jsxs("div",{className:"mb-4 p-4 bg-muted rounded-md",children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Work Summary"}),i.jsxs("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:[j.weekly_reports.work_summary.substring(0,200),j.weekly_reports.work_summary.length>200&&"..."]})]}),j.feedback&&i.jsxs("div",{className:"mb-4 p-4 bg-muted rounded-md border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Qs,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Feedback"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:j.feedback}),j.approver&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["By ",j.approver.full_name," on"," ",j.approved_at&&Bt(new Date(j.approved_at),"MMM d, yyyy h:mm a")]})]}),i.jsxs("div",{className:"flex gap-3 flex-wrap",children:[i.jsxs(be,{variant:"outline",onClick:()=>y(j.report_id),"data-testid":`button-view-report-${j.id}`,children:[i.jsx(Cd,{className:"h-4 w-4 mr-2"}),"View Full Report"]}),j.status==="submitted"&&i.jsxs(i.Fragment,{children:[i.jsxs(be,{onClick:()=>w(j,"approve"),"data-testid":`button-approve-${j.id}`,children:[i.jsx(kn,{className:"h-4 w-4 mr-2"}),"Approve"]}),i.jsxs(be,{variant:"destructive",onClick:()=>w(j,"revise"),"data-testid":`button-revise-${j.id}`,children:[i.jsx(Ow,{className:"h-4 w-4 mr-2"}),"Request Revision"]})]})]})]})},j.id)}),t.length===0&&i.jsx(Ce,{children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(ln,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No reports found for this filter"})]})})]}),i.jsx(Ur,{open:l&&!!s,onOpenChange:j=>{j||(c(!1),d(""),o(null))},children:i.jsxs(Lr,{className:"max-w-2xl",children:[i.jsxs(zr,{children:[i.jsx(Wr,{children:f==="approve"?"Approve Report":"Request Revision"}),i.jsx(sc,{children:f==="approve"?"Optionally provide feedback for the approved report":"Please provide feedback on what needs to be revised"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"feedback",children:["Feedback ",f==="revise"&&i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx($n,{id:"feedback","data-testid":"input-feedback",value:u,onChange:j=>d(j.target.value),rows:6,placeholder:f==="approve"?"Great work! Everything looks good...":"Please revise the following sections..."})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{variant:"outline",onClick:()=>{c(!1),d(""),o(null)},"data-testid":"button-cancel-feedback",children:"Cancel"}),i.jsx(be,{variant:f==="approve"?"default":"destructive",onClick:()=>{s&&(f==="approve"?b(s):_(s))},"data-testid":"button-submit-feedback",children:f==="approve"?"Approve Report":"Request Revision"})]})]})}),g&&i.jsx(g$e,{reportId:g,onClose:()=>y(null),canApprove:!0,onApprove:()=>{const j=t.find(A=>A.report_id===g);j&&(w(j,"approve"),y(null))},onRequestRevision:()=>{const j=t.find(A=>A.report_id===g);j&&(w(j,"revise"),y(null))}})]})}function x$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState(!1),[s,o]=p.useState(null),[l,c]=p.useState(!0),[u,d]=p.useState({name:"",subject:"",body:"",template_type:"custom"});p.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:x,error:b}=await ce.from("email_templates").select("*, profiles(full_name)").order("created_at",{ascending:!1});if(b)throw b;r(x||[])}catch(x){console.error("Error loading templates:",x),e("Failed to load templates","error")}finally{c(!1)}},m=x=>{x?(o(x),d({name:x.name,subject:x.subject,body:x.body,template_type:x.template_type})):(o(null),d({name:"",subject:"",body:"",template_type:"custom"})),a(!0)},h=async x=>{x.preventDefault();try{const{data:{user:b}}=await ce.auth.getUser();if(!b)throw new Error("Not authenticated");if(s){const{error:_}=await ce.from("email_templates").update({...u,updated_at:new Date().toISOString()}).eq("id",s.id);if(_)throw _;e("Template updated successfully","success")}else{const{error:_}=await ce.from("email_templates").insert({...u,created_by:b.id,variables:{}});if(_)throw _;e("Template created successfully","success")}a(!1),f()}catch(b){console.error("Error saving template:",b),e("Failed to save template","error")}},v=async x=>{if(confirm("Are you sure you want to delete this template?"))try{const{error:b}=await ce.from("email_templates").delete().eq("id",x);if(b)throw b;e("Template deleted successfully","success"),f()}catch(b){console.error("Error deleting template:",b),e("Failed to delete template","error")}},g=x=>{d({name:`${x.name} (Copy)`,subject:x.subject,body:x.body,template_type:x.template_type}),o(null),a(!0)},y=x=>{switch(x){case"report_delivery":return"default";case"deadline_reminder":return"secondary";case"welcome":return"default";case"status_update":return"outline";case"custom":return"secondary";default:return"secondary"}};return l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-7 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ne,{className:"h-9 w-36"})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3,4].map(x=>i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ne,{className:"h-5 w-48"}),i.jsx(Ne,{className:"h-5 w-24"}),i.jsx(Ne,{className:"h-4 w-full"}),i.jsx(Ne,{className:"h-16 w-full"})]})})},x))})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Email Templates"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage email templates for automated communications"})]}),i.jsxs(be,{"data-testid":"button-create-template",onClick:()=>m(),children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Create Template"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 max-h-[700px] overflow-y-auto",children:[t.map(x=>{var b;return i.jsx(Ce,{"data-testid":`card-template-${x.id}`,children:i.jsxs(Ae,{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[i.jsx(Yf,{className:"h-5 w-5 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:x.name})]}),i.jsx(vt,{variant:y(x.template_type),"data-testid":`badge-type-${x.id}`,children:x.template_type.replace("_"," ")})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>g(x),"aria-label":"Duplicate","data-testid":`button-duplicate-${x.id}`,children:i.jsx(Xse,{className:"h-4 w-4"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>m(x),"aria-label":"Edit","data-testid":`button-edit-${x.id}`,children:i.jsx(xu,{className:"h-4 w-4"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>v(x.id),"aria-label":"Delete","data-testid":`button-delete-${x.id}`,children:i.jsx(Fo,{className:"h-4 w-4 text-destructive"})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Subject"}),i.jsx("p",{className:"text-sm text-foreground bg-muted p-2 rounded-md",children:x.subject})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Body Preview"}),i.jsx("p",{className:"text-sm text-muted-foreground bg-muted p-2 rounded-md whitespace-pre-wrap line-clamp-3",children:x.body})]}),i.jsxs("div",{className:"pt-3 border-t border-border text-xs text-muted-foreground",children:["Created by ",((b=x.profiles)==null?void 0:b.full_name)||"Unknown"]})]})]})},x.id)}),t.length===0&&i.jsx(Ce,{className:"col-span-2",children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(Yf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No email templates yet"}),i.jsx(be,{variant:"ghost",onClick:()=>m(),className:"mt-4","data-testid":"button-create-first-template",children:"Create your first template"})]})})]}),i.jsx(Ur,{open:n,onOpenChange:a,children:i.jsxs(Lr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsx(zr,{children:i.jsx(Wr,{children:s?"Edit Template":"Create Template"})}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"template-name",children:["Template Name ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Ue,{id:"template-name","data-testid":"input-template-name",value:u.name,onChange:x=>d({...u,name:x.target.value}),placeholder:"e.g., Weekly Report Delivery",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"template-type",children:["Template Type ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs(_t,{value:u.template_type,onValueChange:x=>d({...u,template_type:x}),children:[i.jsx(wt,{"data-testid":"select-template-type",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"report_delivery",children:"Report Delivery"}),i.jsx(Ee,{value:"deadline_reminder",children:"Deadline Reminder"}),i.jsx(Ee,{value:"welcome",children:"Welcome"}),i.jsx(Ee,{value:"status_update",children:"Status Update"}),i.jsx(Ee,{value:"custom",children:"Custom"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"template-subject",children:["Subject Line ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Ue,{id:"template-subject","data-testid":"input-template-subject",value:u.subject,onChange:x=>d({...u,subject:x.target.value}),placeholder:"e.g., Your Weekly Report is Ready",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"template-body",children:["Email Body ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx($n,{id:"template-body","data-testid":"input-template-body",value:u.body,onChange:x=>d({...u,body:x.target.value}),className:"font-mono text-sm",rows:12,placeholder:`Hi {{client_name}},

Your weekly report for {{week_date}} is now available...

Available variables: {{client_name}}, {{week_date}}, {{employee_name}}, {{report_link}}`,required:!0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Use variables like ","{{"," client_name","}}",", ","{{"," week_date","}}",", ","{{"," employee_name","}}",", ","{{"," report_link ","}}"]})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-template",children:"Cancel"}),i.jsx(be,{type:"submit","data-testid":"button-submit-template",children:s?"Update Template":"Create Template"})]})]})]})})]})}const vN=[{type:"active_clients",label:"Active Clients Count",description:"Display total active clients"},{type:"pending_reports",label:"Pending Reports",description:"Reports awaiting submission"},{type:"revenue_chart",label:"Revenue Chart",description:"Monthly revenue visualization"},{type:"team_utilization",label:"Team Utilization",description:"Employee capacity overview"},{type:"recent_activity",label:"Recent Activity",description:"Latest system activities"},{type:"upcoming_deadlines",label:"Upcoming Deadlines",description:"Report due dates"},{type:"client_health",label:"Client Health",description:"Client health status overview"},{type:"goal_progress",label:"Goal Progress",description:"Track goal completion"},{type:"time_tracking",label:"Time Tracking Summary",description:"Billable hours overview"},{type:"budget_alerts",label:"Budget Alerts",description:"Budget utilization warnings"}];function y$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState(!1),[s,o]=p.useState(null),[l,c]=p.useState(!0),[u,d]=p.useState(!1),[f,m]=p.useState({widget_type:"",size:"medium",is_visible:!0});p.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:{user:N}}=await ce.auth.getUser();if(!N)throw new Error("Not authenticated");const{data:C,error:j}=await ce.from("dashboard_widgets").select("*").eq("user_id",N.id).order("position",{ascending:!0});if(j)throw j;r(C||[])}catch(N){console.error("Error loading widgets:",N),e("error","Failed to load widgets")}finally{c(!1)}},v=N=>{N?(o(N),m({widget_type:N.widget_type,size:N.size,is_visible:N.is_visible})):(o(null),m({widget_type:"",size:"medium",is_visible:!0})),a(!0)},g=async N=>{N.preventDefault();try{d(!0);const{data:{user:C}}=await ce.auth.getUser();if(!C)throw new Error("Not authenticated");if(s){const{error:j}=await ce.from("dashboard_widgets").update({widget_type:f.widget_type,size:f.size,is_visible:f.is_visible,updated_at:new Date().toISOString()}).eq("id",s.id);if(j)throw j;e("success","Widget updated successfully")}else{const j=t.length>0?Math.max(...t.map(k=>k.position)):0,{error:A}=await ce.from("dashboard_widgets").insert({user_id:C.id,widget_type:f.widget_type,position:j+1,size:f.size,config:{},is_visible:f.is_visible});if(A)throw A;e("success","Widget added successfully")}a(!1),h()}catch(C){console.error("Error saving widget:",C),e("error","Failed to save widget")}finally{d(!1)}},y=async N=>{if(confirm("Are you sure you want to remove this widget?"))try{const{error:C}=await ce.from("dashboard_widgets").delete().eq("id",N);if(C)throw C;e("success","Widget removed successfully"),h()}catch(C){console.error("Error deleting widget:",C),e("error","Failed to remove widget")}},x=async N=>{try{const{error:C}=await ce.from("dashboard_widgets").update({is_visible:!N.is_visible}).eq("id",N.id);if(C)throw C;e("success",`Widget ${N.is_visible?"hidden":"shown"}`),h()}catch(C){console.error("Error toggling visibility:",C),e("error","Failed to update widget")}},b=async(N,C)=>{const j=t.findIndex(T=>T.id===N);if(C==="up"&&j===0||C==="down"&&j===t.length-1)return;const A=C==="up"?j-1:j+1,k=t[j],I=t[A];try{await Promise.all([ce.from("dashboard_widgets").update({position:I.position}).eq("id",k.id),ce.from("dashboard_widgets").update({position:k.position}).eq("id",I.id)]),e("success","Widget position updated"),h()}catch(T){console.error("Error moving widget:",T),e("error","Failed to move widget")}},_=N=>{var C;return((C=vN.find(j=>j.type===N))==null?void 0:C.label)||N},w=N=>({small:"outline",medium:"secondary",large:"default"})[N]||"secondary";return l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-56 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ne,{className:"h-9 w-32"})]}),i.jsx(Ne,{className:"h-16 w-full"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ne,{className:"h-32 w-full"}),i.jsx(Ne,{className:"h-32 w-full"}),i.jsx(Ne,{className:"h-32 w-full"})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Dashboard Customization"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize your dashboard widgets and layout"})]}),i.jsxs(be,{onClick:()=>v(),"data-testid":"button-add-widget",children:[i.jsx(rn,{className:"h-4 w-4"}),"Add Widget"]})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{className:"text-foreground",children:"Note:"})," Customize which widgets appear on your dashboard. Use the visibility toggle to show/hide widgets, and use the arrows to reorder them."]})})}),i.jsxs("div",{className:"space-y-4",children:[t.map((N,C)=>{var j;return i.jsx(Ce,{className:N.is_visible?"":"opacity-50","data-testid":`card-widget-${N.id}`,children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[i.jsx(E6,{className:"h-6 w-6 text-muted-foreground mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground","data-testid":`text-widget-name-${N.id}`,children:_(N.widget_type)}),i.jsx(vt,{variant:w(N.size),className:"no-default-active-elevate",children:N.size}),!N.is_visible&&i.jsx(vt,{variant:"outline",className:"no-default-active-elevate",children:"Hidden"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:((j=vN.find(A=>A.type===N.widget_type))==null?void 0:j.description)||"Custom widget"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Position: ",N.position]})]})]}),i.jsxs("div",{className:"flex gap-1 items-center",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>b(N.id,"up"),disabled:C===0,"data-testid":`button-move-up-${N.id}`,children:i.jsx(k6,{className:"h-4 w-4 rotate-180"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>b(N.id,"down"),disabled:C===t.length-1,"data-testid":`button-move-down-${N.id}`,children:i.jsx(k6,{className:"h-4 w-4"})})]}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>x(N),"data-testid":`button-toggle-visibility-${N.id}`,children:N.is_visible?i.jsx(Cd,{className:"h-4 w-4"}):i.jsx(pp,{className:"h-4 w-4"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>v(N),"data-testid":`button-edit-widget-${N.id}`,children:i.jsx(xu,{className:"h-4 w-4"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>y(N.id),"data-testid":`button-delete-widget-${N.id}`,children:i.jsx(Fo,{className:"h-4 w-4 text-destructive"})})]})]})})},N.id)}),t.length===0&&i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-12 text-center",children:[i.jsx(E6,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"No widgets configured yet"}),i.jsx(be,{variant:"link",onClick:()=>v(),"data-testid":"button-add-first-widget",children:"Add your first widget"})]})})]}),i.jsx(Ur,{open:n,onOpenChange:N=>{N||a(!1)},children:i.jsxs(Lr,{className:"sm:max-w-lg",children:[i.jsxs(zr,{children:[i.jsx(Wr,{children:s?"Edit Widget":"Add Widget"}),i.jsx(sc,{children:s?"Update the widget settings below.":"Choose a widget type and configure its settings."})]}),i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Widget Type ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs(_t,{value:f.widget_type,onValueChange:N=>m({...f,widget_type:N}),disabled:!!s,children:[i.jsx(wt,{"data-testid":"select-widget-type",children:i.jsx(jt,{placeholder:"Select a widget type"})}),i.jsx(bt,{children:vN.map(N=>i.jsxs(Ee,{value:N.type,children:[N.label," - ",N.description]},N.type))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Size ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs(_t,{value:f.size,onValueChange:N=>m({...f,size:N}),children:[i.jsx(wt,{"data-testid":"select-widget-size",children:i.jsx(jt,{placeholder:"Select a size"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"small",children:"Small (1/3 width)"}),i.jsx(Ee,{value:"medium",children:"Medium (1/2 width)"}),i.jsx(Ee,{value:"large",children:"Large (Full width)"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dd,{id:"is_visible",checked:f.is_visible,onCheckedChange:N=>m({...f,is_visible:N===!0}),"data-testid":"checkbox-widget-visible"}),i.jsx(ye,{htmlFor:"is_visible",children:"Visible on dashboard"})]}),i.jsxs(qr,{children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-widget",children:"Cancel"}),i.jsxs(be,{type:"submit",disabled:u,"data-testid":"button-submit-widget",children:[u&&i.jsx(Zs,{className:"h-4 w-4 animate-spin"}),s?"Update Widget":"Add Widget"]})]})]})]})})]})}function w$e(){const{showToast:e}=yr(),[t,r]=p.useState("clients"),[n,a]=p.useState(null),[s,o]=p.useState(!1),[l,c]=p.useState(null),u={clients:{headers:["name","industry","status","contact_name","contact_email","contact_phone","website","priority"],example:"Acme Corp,Technology,active,John Doe,john@acme.com,555-1234,https://acme.com,high"},employees:{headers:["email","full_name","role","status","max_capacity","phone"],example:"jane@example.com,Jane Smith,employee,active,5,555-5678"},time_entries:{headers:["employee_email","client_name","service_name","hours","date","description"],example:"jane@example.com,Acme Corp,SEO,8,2024-01-15,Monthly SEO optimization"},goals:{headers:["client_name","title","description","target_value","unit","start_date","target_date","priority"],example:"Acme Corp,Increase Traffic,Grow organic traffic by 50%,50,percent,2024-01-01,2024-12-31,high"}},d=()=>{const b=u[t],_=[b.headers.join(","),b.example].join(`
`),w=new Blob([_],{type:"text/csv"}),N=window.URL.createObjectURL(w),C=document.createElement("a");C.href=N,C.download=`${t}_template.csv`,C.click(),window.URL.revokeObjectURL(N)},f=b=>{b.target.files&&b.target.files[0]&&(a(b.target.files[0]),c(null))},m=b=>b.trim().split(`
`).map(w=>{const N=[];let C="",j=!1;for(let A=0;A<w.length;A++){const k=w[A];k==='"'?j=!j:k===","&&!j?(N.push(C.trim()),C=""):C+=k}return N.push(C.trim()),N}),h=async b=>{const _={success:0,failed:0,errors:[]},w=b[0];for(let N=1;N<b.length;N++){const C=b[N];if(!(C.length===0||C[0]===""))try{const j={};w.forEach((k,I)=>{j[k]=C[I]||null});const{error:A}=await ce.from("clients").insert(j);if(A)throw A;_.success++}catch(j){_.failed++,_.errors.push({row:N+1,error:j.message})}}return _},v=async b=>{const _={success:0,failed:0,errors:[]},w=b[0];for(let N=1;N<b.length;N++){const C=b[N];if(!(C.length===0||C[0]===""))try{const j=C[w.indexOf("email")];if(!j||!j.includes("@"))throw new Error("Invalid email address");const{data:A}=await ce.from("profiles").select("id").eq("email",j).maybeSingle();let k=A==null?void 0:A.id;if(!A){const P=`Temp${Math.random().toString(36).slice(-8)}!${Date.now().toString(36)}`,{data:V,error:F}=await ce.auth.signUp({email:j,password:P});if(F)throw F.message.includes("already registered")?new Error(`User ${j} already exists in auth system`):F;if(!V.user)throw new Error("Failed to create user account");k=V.user.id}const I={id:k};if(w.forEach((P,V)=>{P!=="email"&&C[V]?P==="max_capacity"?I[P]=parseInt(C[V])||5:P==="skills"?I[P]=C[V].split(",").map(F=>F.trim()):I[P]=C[V]:P==="email"&&(I.email=j)}),!I.full_name)throw new Error("Full name is required");const{error:T}=await ce.from("profiles").upsert(I,{onConflict:"id"});if(T)throw T;_.success++}catch(j){_.failed++,_.errors.push({row:N+1,error:j.message||"Unknown error"})}}return _},g=async b=>{const _={success:0,failed:0,errors:[]};for(let w=1;w<b.length;w++){const N=b[w];if(!(N.length===0||N[0]===""))try{const[C,j,A,k,I,T]=N,{data:P}=await ce.from("profiles").select("id").eq("email",C).single(),{data:V}=await ce.from("clients").select("id").eq("name",j).single(),{data:F}=await ce.from("services").select("id").eq("name",A).single();if(!P||!V||!F)throw new Error("Employee, client, or service not found");const{error:Y}=await ce.from("time_entries").insert({employee_id:P.id,client_id:V.id,service_id:F.id,hours:parseFloat(k),date:I,description:T||null});if(Y)throw Y;_.success++}catch(C){_.failed++,_.errors.push({row:w+1,error:C.message})}}return _},y=async b=>{const _={success:0,failed:0,errors:[]};for(let w=1;w<b.length;w++){const N=b[w];if(!(N.length===0||N[0]===""))try{const[C,j,A,k,I,T,P,V]=N,{data:F}=await ce.from("clients").select("id").eq("name",C).single(),{data:{user:Y}}=await ce.auth.getUser();if(!F||!Y)throw new Error("Client not found or user not authenticated");const{error:re}=await ce.from("goals").insert({client_id:F.id,title:j,description:A||null,target_value:parseFloat(k),unit:I,start_date:T,target_date:P,priority:V||"medium",created_by:Y.id});if(re)throw re;_.success++}catch(C){_.failed++,_.errors.push({row:w+1,error:C.message})}}return _},x=async()=>{if(!n){e("Please select a file","error");return}o(!0),c(null);try{const b=await n.text(),_=m(b);if(_.length<2)throw new Error("CSV file must contain headers and at least one data row");let w;switch(t){case"clients":w=await h(_);break;case"employees":w=await v(_);break;case"time_entries":w=await g(_);break;case"goals":w=await y(_);break;default:throw new Error("Invalid import type")}c(w),w.success>0&&e(`Successfully imported ${w.success} records`,"success"),w.failed>0&&e(`Failed to import ${w.failed} records`,"error")}catch(b){console.error("Import error:",b),e(b.message||"Failed to import data","error")}finally{o(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Bulk Import"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Import multiple records from CSV files"})]})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Dn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx("p",{className:"font-medium mb-1 text-foreground",children:"Important Notes:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Download the template CSV file for the correct format"}),i.jsx("li",{children:"Ensure all required fields are filled"}),i.jsx("li",{children:"For employees, accounts will be created automatically"}),i.jsx("li",{children:"For time entries and goals, referenced entities must exist"})]})]})]})})}),i.jsxs(Ce,{children:[i.jsx(wr,{children:i.jsx(br,{children:"Import Configuration"})}),i.jsxs(Ae,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"import-type",children:["Import Type ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs(_t,{value:t,onValueChange:b=>r(b),children:[i.jsx(wt,{"data-testid":"select-import-type",children:i.jsx(jt,{placeholder:"Select import type"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"clients",children:"Clients"}),i.jsx(Ee,{value:"employees",children:"Employees"}),i.jsx(Ee,{value:"time_entries",children:"Time Entries"}),i.jsx(Ee,{value:"goals",children:"Goals"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(be,{variant:"outline",onClick:d,"data-testid":"button-download-template",children:[i.jsx(mp,{className:"h-4 w-4 mr-2"}),"Download CSV Template"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Download a template with the correct headers and example data"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Select CSV File ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs("div",{className:"border-2 border-dashed border-border rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",accept:".csv",onChange:f,className:"hidden",id:"csv-upload","data-testid":"input-csv-upload"}),i.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[i.jsx(En,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n?i.jsx("p",{className:"text-sm text-foreground font-medium","data-testid":"text-file-name",children:n.name}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-foreground font-medium",children:"Click to upload CSV file"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop"})]})]})]})]}),i.jsxs(be,{onClick:x,disabled:!n||s,className:"w-full","data-testid":"button-import-data",children:[s?i.jsx(Zs,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(_C,{className:"h-4 w-4 mr-2"}),s?"Importing...":"Import Data"]})]})]}),l&&i.jsxs(Ce,{children:[i.jsx(wr,{children:i.jsx(br,{children:"Import Results"})}),i.jsxs(Ae,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-950/30 rounded-md",children:[i.jsx(kn,{className:"h-6 w-6 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground","data-testid":"text-import-success",children:"Successfully Imported"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.success," records"]})]})]}),l.failed>0&&i.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950/30 rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(oi,{className:"h-6 w-6 text-destructive"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground","data-testid":"text-import-failed",children:"Failed to Import"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.failed," records"]})]})]}),l.errors.length>0&&i.jsxs("div",{className:"mt-4 space-y-2 max-h-64 overflow-y-auto",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Errors:"}),l.errors.map((b,_)=>i.jsxs("div",{className:"text-xs text-destructive bg-destructive/10 p-2 rounded-md","data-testid":`text-error-${_}`,children:["Row ",b.row,": ",b.error]},_))]})]})]})]})]})}function b$e(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,s]=p.useState(!0),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(""),[m,h]=p.useState("all"),{showToast:v}=yr(),[g,y]=p.useState({industry:"",service_id:"",metric_name:"",average_value:"",top_quartile_value:"",data_source:"",period:new Date().toISOString().split("T")[0]});p.useEffect(()=>{x()},[]);async function x(){try{const[j,A]=await Promise.all([ce.from("benchmarks").select("*, service:services(name)").order("industry",{ascending:!0}),ce.from("services").select("id, name").order("name",{ascending:!0})]);if(j.error)throw j.error;if(A.error)throw A.error;t(j.data||[]),n(A.data||[])}catch(j){v(j.message,"error")}finally{s(!1)}}function b(j){var A;j?(u(j),y({industry:j.industry,service_id:j.service_id,metric_name:j.metric_name,average_value:j.average_value.toString(),top_quartile_value:((A=j.top_quartile_value)==null?void 0:A.toString())||"",data_source:j.data_source||"",period:j.period})):(u(null),y({industry:"",service_id:"",metric_name:"",average_value:"",top_quartile_value:"",data_source:"",period:new Date().toISOString().split("T")[0]})),l(!0)}async function _(j){j.preventDefault();const A={industry:g.industry,service_id:g.service_id,metric_name:g.metric_name,average_value:parseFloat(g.average_value),top_quartile_value:g.top_quartile_value?parseFloat(g.top_quartile_value):null,data_source:g.data_source||null,period:g.period};try{if(c){const{error:k}=await ce.from("benchmarks").update(A).eq("id",c.id);if(k)throw k;v("Benchmark updated successfully","success")}else{const{error:k}=await ce.from("benchmarks").insert([A]);if(k)throw k;v("Benchmark created successfully","success")}l(!1),x()}catch(k){v(k.message,"error")}}async function w(j){if(confirm("Are you sure you want to delete this benchmark?"))try{const{error:A}=await ce.from("benchmarks").delete().eq("id",j);if(A)throw A;v("Benchmark deleted successfully","success"),x()}catch(A){v(A.message,"error")}}const N=Array.from(new Set(e.map(j=>j.industry))).sort(),C=e.filter(j=>{const A=j.metric_name.toLowerCase().includes(d.toLowerCase())||j.industry.toLowerCase().includes(d.toLowerCase()),k=m==="all"||j.industry===m;return A&&k});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Performance Benchmarks"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Industry benchmarks for performance comparison"})]}),i.jsxs(be,{"data-testid":"button-add-benchmark",onClick:()=>b(),children:[i.jsx(rn,{className:"h-4 w-4"}),"Add Benchmark"]})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Vi,{className:"w-4 h-4 text-muted-foreground absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx(Ue,{"data-testid":"input-search-benchmarks",type:"text",placeholder:"Search benchmarks...",value:d,onChange:j=>f(j.target.value),className:"pl-10"})]}),i.jsxs(_t,{value:m,onValueChange:h,children:[i.jsx(wt,{"data-testid":"select-filter-industry",className:"w-[200px]",children:i.jsx(jt,{placeholder:"All Industries"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"all",children:"All Industries"}),N.map(j=>i.jsx(Ee,{value:j,children:j},j))]})]})]})})}),a?i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-6 space-y-4",children:[i.jsx(Ne,{className:"h-8 w-full"}),i.jsx(Ne,{className:"h-8 w-full"}),i.jsx(Ne,{className:"h-8 w-full"}),i.jsx(Ne,{className:"h-8 w-full"}),i.jsx(Ne,{className:"h-8 w-full"})]})}):C.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(ri,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"No benchmarks found"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first industry benchmark to start tracking"})]})}):i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsxs(Ro,{children:[i.jsx(Io,{children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Industry"}),i.jsx(Et,{children:"Service"}),i.jsx(Et,{children:"Metric"}),i.jsx(Et,{children:"Average"}),i.jsx(Et,{children:"Top Quartile"}),i.jsx(Et,{children:"Source"}),i.jsx(Et,{children:"Period"}),i.jsx(Et,{className:"text-right",children:"Actions"})]})}),i.jsx(Do,{children:C.map(j=>{var A;return i.jsxs(Br,{"data-testid":`row-benchmark-${j.id}`,children:[i.jsx(yt,{className:"font-medium text-foreground",children:j.industry}),i.jsx(yt,{className:"text-muted-foreground",children:(A=j.service)==null?void 0:A.name}),i.jsx(yt,{className:"text-muted-foreground",children:j.metric_name}),i.jsx(yt,{className:"font-medium text-foreground",children:j.average_value}),i.jsx(yt,{className:"text-muted-foreground",children:j.top_quartile_value||"-"}),i.jsx(yt,{className:"text-muted-foreground",children:j.data_source||"-"}),i.jsx(yt,{className:"text-muted-foreground",children:new Date(j.period).toLocaleDateString()}),i.jsx(yt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-1",children:[i.jsx(be,{"data-testid":`button-edit-benchmark-${j.id}`,size:"icon",variant:"ghost",onClick:()=>b(j),"aria-label":"Edit benchmark",children:i.jsx(xu,{className:"w-4 h-4"})}),i.jsx(be,{"data-testid":`button-delete-benchmark-${j.id}`,size:"icon",variant:"ghost",onClick:()=>w(j.id),"aria-label":"Delete benchmark",children:i.jsx(Fo,{className:"w-4 h-4"})})]})})]},j.id)})})]})})}),i.jsx(Ur,{open:o,onOpenChange:l,children:i.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(zr,{children:i.jsx(Wr,{children:c?"Edit Benchmark":"Add Benchmark"})}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Industry *"}),i.jsx(Ue,{"data-testid":"input-benchmark-industry",type:"text",required:!0,value:g.industry,onChange:j=>y({...g,industry:j.target.value}),placeholder:"e.g., Technology, Healthcare, Finance"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Service *"}),i.jsxs(_t,{value:g.service_id,onValueChange:j=>y({...g,service_id:j}),children:[i.jsx(wt,{"data-testid":"select-benchmark-service",children:i.jsx(jt,{placeholder:"Select a service"})}),i.jsx(bt,{children:r.map(j=>i.jsx(Ee,{value:j.id,children:j.name},j.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Metric Name *"}),i.jsx(Ue,{"data-testid":"input-benchmark-metric",type:"text",required:!0,value:g.metric_name,onChange:j=>y({...g,metric_name:j.target.value}),placeholder:"e.g., Click-Through Rate, Conversion Rate"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Average Value *"}),i.jsx(Ue,{"data-testid":"input-benchmark-average",type:"number",step:"0.01",required:!0,value:g.average_value,onChange:j=>y({...g,average_value:j.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Top Quartile Value"}),i.jsx(Ue,{"data-testid":"input-benchmark-top-quartile",type:"number",step:"0.01",value:g.top_quartile_value,onChange:j=>y({...g,top_quartile_value:j.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Data Source"}),i.jsx(Ue,{"data-testid":"input-benchmark-source",type:"text",value:g.data_source,onChange:j=>y({...g,data_source:j.target.value}),placeholder:"e.g., Industry Report 2024, Internal Data"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Period *"}),i.jsx(Ue,{"data-testid":"input-benchmark-period",type:"date",required:!0,value:g.period,onChange:j=>y({...g,period:j.target.value})})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{"data-testid":"button-cancel-benchmark",type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),i.jsxs(be,{"data-testid":"button-submit-benchmark",type:"submit",children:[c?"Update":"Create"," Benchmark"]})]})]})]})})]})}function _$e(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,s]=p.useState(!0),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(""),[m,h]=p.useState(""),{showToast:v}=yr(),[g,y]=p.useState({service_id:"",metric_name:"",metric_type:"number",description:"",is_active:!0});p.useEffect(()=>{x()},[]);async function x(){try{const[k,I]=await Promise.all([ce.from("custom_metrics").select("*, service:services(name)").order("service_id",{ascending:!0}).order("metric_name",{ascending:!0}),ce.from("services").select("id, name").order("name",{ascending:!0})]);if(k.error)throw k.error;if(I.error)throw I.error;t(k.data||[]),n(I.data||[])}catch(k){v(k.message,"error")}finally{s(!1)}}function b(k){k?(u(k),y({service_id:k.service_id,metric_name:k.metric_name,metric_type:k.metric_type,description:k.description||"",is_active:k.is_active})):(u(null),y({service_id:"",metric_name:"",metric_type:"number",description:"",is_active:!0})),l(!0)}async function _(k){k.preventDefault();const I={service_id:g.service_id,metric_name:g.metric_name,metric_type:g.metric_type,description:g.description||null,is_active:g.is_active};try{if(c){const{error:T}=await ce.from("custom_metrics").update(I).eq("id",c.id);if(T)throw T;v("Custom metric updated successfully","success")}else{const{error:T}=await ce.from("custom_metrics").insert([I]);if(T)throw T;v("Custom metric created successfully","success")}l(!1),x()}catch(T){v(T.message,"error")}}async function w(k){try{const{error:I}=await ce.from("custom_metrics").update({is_active:!k.is_active}).eq("id",k.id);if(I)throw I;v(k.is_active?"Metric deactivated":"Metric activated","success"),x()}catch(I){v(I.message,"error")}}async function N(k){if(confirm("Are you sure you want to delete this custom metric?"))try{const{error:I}=await ce.from("custom_metrics").delete().eq("id",k);if(I)throw I;v("Custom metric deleted successfully","success"),x()}catch(I){v(I.message,"error")}}const C=e.filter(k=>{const I=k.metric_name.toLowerCase().includes(d.toLowerCase()),T=!m||k.service_id===m;return I&&T}),j=k=>{switch(k){case"number":return"Number";case"currency":return"Currency";case"percentage":return"Percentage";default:return k}},A=k=>{switch(k){case"number":return"default";case"currency":return"secondary";case"percentage":return"outline";default:return"secondary"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Custom Metrics"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Define custom KPIs for each service"})]}),i.jsxs(be,{"data-testid":"button-add-metric",onClick:()=>b(),children:[i.jsx(rn,{className:"w-4 h-4 mr-2"}),"Add Metric"]})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Vi,{className:"w-4 h-4 text-muted-foreground absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx(Ue,{"data-testid":"input-search-metrics",placeholder:"Search metrics...",value:d,onChange:k=>f(k.target.value),className:"pl-9"})]}),i.jsxs(_t,{value:m,onValueChange:k=>h(k==="all"?"":k),children:[i.jsx(wt,{"data-testid":"select-filter-service",className:"w-full md:w-[200px]",children:i.jsx(jt,{placeholder:"All Services"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"all",children:"All Services"}),r.map(k=>i.jsx(Ee,{value:k.id,children:k.name},k.id))]})]})]})})}),a?i.jsx("div",{className:"space-y-4",children:[1,2,3].map(k=>i.jsx(Ce,{children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ne,{className:"h-5 w-48"}),i.jsx(Ne,{className:"h-4 w-32"}),i.jsx(Ne,{className:"h-4 w-64"})]})})},k))}):C.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-12 text-center",children:[i.jsx(O$,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-muted-foreground text-lg",children:"No custom metrics found"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first custom metric to start tracking"})]})}):i.jsx("div",{className:"grid gap-4",children:C.map(k=>{var I;return i.jsx(Ce,{"data-testid":`card-metric-${k.id}`,children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:k.metric_name}),i.jsx(vt,{variant:A(k.metric_type),"data-testid":`badge-type-${k.id}`,children:j(k.metric_type)}),i.jsx(vt,{variant:k.is_active?"default":"secondary","data-testid":`badge-status-${k.id}`,children:k.is_active?"Active":"Inactive"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[i.jsx("span",{className:"font-medium",children:"Service:"})," ",(I=k.service)==null?void 0:I.name]}),k.description&&i.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>w(k),"aria-label":k.is_active?"Deactivate metric":"Activate metric","data-testid":`button-toggle-${k.id}`,children:k.is_active?i.jsx(die,{className:"w-5 h-5 text-green-600"}):i.jsx(uie,{className:"w-5 h-5 text-muted-foreground"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>b(k),"aria-label":"Edit metric","data-testid":`button-edit-${k.id}`,children:i.jsx(xu,{className:"w-4 h-4"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>N(k.id),"aria-label":"Delete metric","data-testid":`button-delete-${k.id}`,children:i.jsx(Fo,{className:"w-4 h-4 text-destructive"})})]})]})})},k.id)})}),i.jsx(Ur,{open:o,onOpenChange:l,children:i.jsxs(Lr,{className:"max-w-2xl",children:[i.jsx(zr,{children:i.jsx(Wr,{children:c?"Edit Custom Metric":"Add Custom Metric"})}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"service_id",children:"Service *"}),i.jsxs(_t,{value:g.service_id,onValueChange:k=>y({...g,service_id:k}),children:[i.jsx(wt,{"data-testid":"select-service",children:i.jsx(jt,{placeholder:"Select a service"})}),i.jsx(bt,{children:r.map(k=>i.jsx(Ee,{value:k.id,children:k.name},k.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"metric_name",children:"Metric Name *"}),i.jsx(Ue,{id:"metric_name","data-testid":"input-metric-name",required:!0,value:g.metric_name,onChange:k=>y({...g,metric_name:k.target.value}),placeholder:"e.g., Response Rate, Quality Score"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"metric_type",children:"Metric Type *"}),i.jsxs(_t,{value:g.metric_type,onValueChange:k=>y({...g,metric_type:k}),children:[i.jsx(wt,{"data-testid":"select-metric-type",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"number",children:"Number"}),i.jsx(Ee,{value:"currency",children:"Currency"}),i.jsx(Ee,{value:"percentage",children:"Percentage"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This determines how the metric value will be displayed and validated"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"description",children:"Description"}),i.jsx($n,{id:"description","data-testid":"input-description",value:g.description,onChange:k=>y({...g,description:k.target.value}),rows:3,placeholder:"Describe what this metric measures and how it should be calculated"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dd,{id:"is_active","data-testid":"checkbox-is-active",checked:g.is_active,onCheckedChange:k=>y({...g,is_active:k===!0})}),i.jsx(ye,{htmlFor:"is_active",className:"font-normal",children:"Active (show in report submission forms)"})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel",children:"Cancel"}),i.jsxs(be,{type:"submit","data-testid":"button-submit-metric",children:[c?"Update":"Create"," Metric"]})]})]})]})})]})}function j$e(){const{user:e}=Ln(),{showToast:t}=yr(),[r,n]=p.useState([]),[a,s]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState(!0),[d,f]=p.useState(!1),[m,h]=p.useState(null),[v,g]=p.useState({title:"",description:"",assigned_to:"",client_id:"",priority:"medium",due_date:""});p.useEffect(()=>{y()},[]);const y=async()=>{try{const[I,T,P]=await Promise.all([ce.from("tasks").select(`
            *,
            profiles!tasks_assigned_to_fkey(full_name, email),
            clients(name)
          `).order("due_date",{ascending:!0}),ce.from("profiles").select("id, full_name, email").eq("role","employee").eq("status","active").order("full_name"),ce.from("clients").select("id, name").eq("status","active").order("name")]);if(I.error)throw I.error;if(T.error)throw T.error;if(P.error)throw P.error;n(I.data||[]),s(T.data||[]),l(P.data||[])}catch(I){t(I.message,"error")}finally{u(!1)}},x=()=>{h(null),g({title:"",description:"",assigned_to:"",client_id:"",priority:"medium",due_date:""}),f(!0)},b=I=>{h(I),g({title:I.title,description:I.description||"",assigned_to:I.assigned_to,client_id:I.client_id||"",priority:I.priority,due_date:I.due_date}),f(!0)},_=async I=>{I.preventDefault();try{const T={title:v.title,description:v.description||null,assigned_to:v.assigned_to,client_id:v.client_id||null,priority:v.priority,due_date:v.due_date,created_by:e.id};if(m){const{error:P}=await ce.from("tasks").update(T).eq("id",m.id);if(P)throw P;t("Task updated successfully","success")}else{const{error:P}=await ce.from("tasks").insert([T]);if(P)throw P;t("Task created successfully","success")}f(!1),y()}catch(T){t(T.message,"error")}},w=async I=>{if(confirm("Are you sure you want to delete this task?"))try{const{error:T}=await ce.from("tasks").delete().eq("id",I);if(T)throw T;t("Task deleted successfully","success"),y()}catch(T){t(T.message,"error")}},N=I=>I.status==="pending"&&_z(Gl(I.due_date))&&!Dm(Gl(I.due_date)),C=I=>{switch(I){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},j=r.filter(I=>I.status==="pending"),A=r.filter(I=>I.status==="completed"),k=r.filter(N);return c?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ne,{className:"h-9 w-32"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ne,{className:"h-24"}),i.jsx(Ne,{className:"h-24"}),i.jsx(Ne,{className:"h-24"})]}),i.jsx(Ne,{className:"h-64 w-full"})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Task Management"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Assign and manage daily tasks for employees"})]}),i.jsxs(be,{onClick:x,"data-testid":"button-create-task",children:[i.jsx(rn,{className:"h-4 w-4 mr-2"}),"Create Task"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Pending Tasks"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-pending-count",children:j.length})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:i.jsx(Kf,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Overdue Tasks"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-destructive","data-testid":"text-overdue-count",children:k.length})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-red-50 dark:bg-red-950/40",children:i.jsx(qi,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Completed Tasks"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-completed-count",children:A.length})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:i.jsx(Fi,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]})})})]}),r.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-12 text-center",children:[i.jsx(k$,{className:"h-16 w-16 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground text-lg",children:"No tasks yet"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create your first task to get started"})]})}):i.jsx(Ce,{children:i.jsx(Ae,{className:"p-0",children:i.jsxs(Ro,{children:[i.jsx(Io,{children:i.jsxs(Br,{children:[i.jsx(Et,{children:"Task"}),i.jsx(Et,{children:"Assigned To"}),i.jsx(Et,{children:"Client"}),i.jsx(Et,{children:"Priority"}),i.jsx(Et,{children:"Due Date"}),i.jsx(Et,{children:"Status"}),i.jsx(Et,{className:"text-right",children:"Actions"})]})}),i.jsx(Do,{children:r.map(I=>{var P,V;const T=N(I);return i.jsxs(Br,{className:T?"bg-destructive/5":"","data-testid":`row-task-${I.id}`,children:[i.jsx(yt,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:I.title}),I.description&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:I.description}),I.remarks&&i.jsxs("p",{className:"text-xs text-primary mt-1 italic",children:["Remarks: ",I.remarks]})]})}),i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Po,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:(P=I.profiles)==null?void 0:P.full_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:(V=I.profiles)==null?void 0:V.email})]})]})}),i.jsx(yt,{children:I.clients?i.jsxs("div",{className:"flex items-center gap-1 text-sm text-foreground",children:[i.jsx(Js,{className:"h-4 w-4 text-muted-foreground"}),I.clients.name]}):i.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),i.jsx(yt,{children:i.jsx(vt,{variant:C(I.priority),className:"text-xs",children:I.priority.toUpperCase()})}),i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Nn,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{className:`text-sm ${T?"text-destructive font-semibold":"text-foreground"}`,children:[Bt(Gl(I.due_date),"MMM d, yyyy"),T&&i.jsx("span",{className:"block text-xs text-destructive",children:"OVERDUE"})]})]})}),i.jsx(yt,{children:I.status==="completed"?i.jsxs(vt,{variant:"default",className:"text-xs",children:[i.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Completed"]}):i.jsxs(vt,{variant:"secondary",className:"text-xs",children:[i.jsx(Kf,{className:"h-3 w-3 mr-1"}),"Pending"]})}),i.jsx(yt,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1 flex-wrap",children:[i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>b(I),"data-testid":`button-edit-task-${I.id}`,children:i.jsx(xu,{className:"h-4 w-4"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>w(I.id),"data-testid":`button-delete-task-${I.id}`,children:i.jsx(Fo,{className:"h-4 w-4"})})]})})]},I.id)})})]})})}),i.jsx(Ur,{open:d,onOpenChange:f,children:i.jsxs(Lr,{className:"max-w-2xl",children:[i.jsx(zr,{children:i.jsx(Wr,{children:m?"Edit Task":"Create New Task"})}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Task Title *"}),i.jsx(Ue,{type:"text",value:v.title,onChange:I=>g({...v,title:I.target.value}),required:!0,"data-testid":"input-task-title"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Description"}),i.jsx($n,{value:v.description,onChange:I=>g({...v,description:I.target.value}),rows:3,placeholder:"Provide more details about the task...","data-testid":"input-task-description"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Assign To *"}),i.jsxs(_t,{value:v.assigned_to,onValueChange:I=>g({...v,assigned_to:I}),children:[i.jsx(wt,{"data-testid":"select-task-assignee",children:i.jsx(jt,{placeholder:"Select Employee"})}),i.jsx(bt,{children:a.map(I=>i.jsxs(Ee,{value:I.id,children:[I.full_name," (",I.email,")"]},I.id))})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Client (Optional)"}),i.jsxs(_t,{value:v.client_id||"_none",onValueChange:I=>g({...v,client_id:I==="_none"?"":I}),children:[i.jsx(wt,{"data-testid":"select-task-client",children:i.jsx(jt,{placeholder:"No Client"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"_none",children:"No Client"}),o.map(I=>i.jsx(Ee,{value:I.id,children:I.name},I.id))]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Priority *"}),i.jsxs(_t,{value:v.priority,onValueChange:I=>g({...v,priority:I}),children:[i.jsx(wt,{"data-testid":"select-task-priority",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"low",children:"Low"}),i.jsx(Ee,{value:"medium",children:"Medium"}),i.jsx(Ee,{value:"high",children:"High"})]})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Due Date *"}),i.jsx(Ue,{type:"date",value:v.due_date,onChange:I=>g({...v,due_date:I.target.value}),required:!0,"data-testid":"input-task-due-date"})]})]}),i.jsxs(qr,{children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>f(!1),"data-testid":"button-cancel-task",children:"Cancel"}),i.jsx(be,{type:"submit","data-testid":"button-save-task",children:m?"Update Task":"Create Task"})]})]})]})})]})}function S$e(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,N$e(a,...t)]}function N$e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function k$e(e){const t=E$e(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(A$e);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function E$e(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=T$e(a),l=P$e(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var C$e=Symbol("radix.slottable");function A$e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===C$e}function P$e(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function T$e(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var O$e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],YZ=O$e.reduce((e,t)=>{const r=k$e(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Ej="Switch",[R$e]=S$e(Ej),[I$e,D$e]=R$e(Ej),XZ=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,h]=p.useState(null),v=mr(t,_=>h(_)),g=p.useRef(!1),y=m?d||!!m.closest("form"):!0,[x,b]=_l({prop:a,defaultProp:s??!1,onChange:u,caller:Ej});return i.jsxs(I$e,{scope:r,checked:x,disabled:l,children:[i.jsx(YZ.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":eQ(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:dt(e.onClick,_=>{b(w=>!w),y&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),y&&i.jsx(QZ,{control:m,bubbles:!g.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});XZ.displayName=Ej;var JZ="SwitchThumb",ZZ=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=D$e(JZ,r);return i.jsx(YZ.span,{"data-state":eQ(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});ZZ.displayName=JZ;var L$e="SwitchBubbleInput",QZ=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=p.useRef(null),l=mr(o,s),c=yP(r),u=DC(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const v=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(v)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});QZ.displayName=L$e;function eQ(e){return e?"checked":"unchecked"}var tQ=XZ,M$e=ZZ;const vE=p.forwardRef(({className:e,...t},r)=>i.jsx(tQ,{className:lt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(M$e,{className:lt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));vE.displayName=tQ.displayName;function F$e(){const[e,t]=p.useState(!0),[r,n]=p.useState(!1),[a,s]=p.useState({theme:"light",language:"en",timezone:"UTC",date_format:"MM/DD/YYYY",email_notifications:!0,push_notifications:!0}),{showToast:o}=yr(),{user:l,profile:c}=Ln();p.useEffect(()=>{u()},[l]);async function u(){if(l)try{const{data:f,error:m}=await ce.from("user_preferences").select("*").eq("user_id",l.id).maybeSingle();if(m&&m.code!=="PGRST116")throw m;f&&s({theme:f.theme||"light",language:f.language||"en",timezone:f.timezone||"UTC",date_format:f.date_format||"MM/DD/YYYY",email_notifications:f.email_notifications??!0,push_notifications:f.push_notifications??!0})}catch(f){o(f.message,"error")}finally{t(!1)}}async function d(){if(l){n(!0);try{const{error:f}=await ce.from("user_preferences").upsert({user_id:l.id,...a,updated_at:new Date().toISOString()});if(f)throw f;o("Settings saved successfully","success")}catch(f){o(f.message,"error")}finally{n(!1)}}}return e?i.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-6 space-y-6",children:[i.jsx(Ne,{className:"h-6 w-40"}),i.jsxs("div",{className:"space-y-4 pl-7",children:[i.jsx(Ne,{className:"h-9 w-full"}),i.jsx(Ne,{className:"h-9 w-full"})]}),i.jsx(Ne,{className:"h-6 w-40"}),i.jsxs("div",{className:"space-y-4 pl-7",children:[i.jsx(Ne,{className:"h-9 w-full"}),i.jsx(Ne,{className:"h-9 w-full"}),i.jsx(Ne,{className:"h-9 w-full"})]})]})})]}):i.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-semibold tracking-tight text-foreground flex items-center gap-2",children:[i.jsx(bC,{className:"w-6 h-6"}),"Settings"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your account preferences and notifications"})]})}),i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2 mb-4",children:[i.jsx(Po,{className:"w-5 h-5"}),"Profile Information"]}),i.jsxs("div",{className:"space-y-4 pl-7",children:[i.jsxs("div",{children:[i.jsx(ye,{htmlFor:"full-name",children:"Full Name"}),i.jsx(Ue,{id:"full-name","data-testid":"input-full-name",type:"text",value:(c==null?void 0:c.full_name)||"",disabled:!0,className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(ye,{htmlFor:"email",children:"Email"}),i.jsx(Ue,{id:"email","data-testid":"input-email",type:"email",value:(c==null?void 0:c.email)||"",disabled:!0,className:"mt-1"})]})]})]}),i.jsx(ml,{}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2 mb-4",children:[i.jsx(xC,{className:"w-5 h-5"}),"Regional Settings"]}),i.jsxs("div",{className:"space-y-4 pl-7",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Language"}),i.jsxs(_t,{value:a.language,onValueChange:f=>s({...a,language:f}),children:[i.jsx(wt,{"data-testid":"select-language",className:"mt-1",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"en",children:"English"}),i.jsx(Ee,{value:"es",children:"Spanish"}),i.jsx(Ee,{value:"fr",children:"French"}),i.jsx(Ee,{value:"de",children:"German"})]})]})]}),i.jsxs("div",{children:[i.jsxs(ye,{className:"flex items-center gap-1",children:[i.jsx(ln,{className:"w-4 h-4"}),"Timezone"]}),i.jsxs(_t,{value:a.timezone,onValueChange:f=>s({...a,timezone:f}),children:[i.jsx(wt,{"data-testid":"select-timezone",className:"mt-1",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"UTC",children:"UTC"}),i.jsx(Ee,{value:"America/New_York",children:"Eastern Time"}),i.jsx(Ee,{value:"America/Chicago",children:"Central Time"}),i.jsx(Ee,{value:"America/Denver",children:"Mountain Time"}),i.jsx(Ee,{value:"America/Los_Angeles",children:"Pacific Time"}),i.jsx(Ee,{value:"Europe/London",children:"London"}),i.jsx(Ee,{value:"Europe/Paris",children:"Paris"}),i.jsx(Ee,{value:"Asia/Tokyo",children:"Tokyo"})]})]})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Date Format"}),i.jsxs(_t,{value:a.date_format,onValueChange:f=>s({...a,date_format:f}),children:[i.jsx(wt,{"data-testid":"select-date-format",className:"mt-1",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),i.jsx(Ee,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),i.jsx(Ee,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]})]}),i.jsx(ml,{}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2 mb-4",children:[i.jsx(F1,{className:"w-5 h-5"}),"Notification Preferences"]}),i.jsxs("div",{className:"space-y-4 pl-7",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"text-sm font-medium text-foreground",children:"Email Notifications"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive notifications via email"})]}),i.jsx(vE,{"data-testid":"switch-email-notifications",checked:a.email_notifications,onCheckedChange:f=>s({...a,email_notifications:f})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"text-sm font-medium text-foreground",children:"Push Notifications"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive push notifications in the app"})]}),i.jsx(vE,{"data-testid":"switch-push-notifications",checked:a.push_notifications,onCheckedChange:f=>s({...a,push_notifications:f})})]})]})]}),i.jsx(ml,{}),i.jsx("div",{className:"flex justify-end gap-4 flex-wrap",children:i.jsxs(be,{"data-testid":"button-save-settings",onClick:d,disabled:r,children:[i.jsx(wC,{className:"w-4 h-4"}),r?"Saving...":"Save Changes"]})})]})})]})}function $$e({score:e,size:t=120,strokeWidth:r=10}){const n=(t-r)/2,a=2*Math.PI*n,s=a-e/100*a,o=t/2,c=(u=>u>=75?{stroke:"#22c55e",bg:"rgba(34,197,94,0.12)"}:u>=50?{stroke:"#f59e0b",bg:"rgba(245,158,11,0.12)"}:{stroke:"#ef4444",bg:"rgba(239,68,68,0.12)"})(e);return i.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[i.jsxs("svg",{width:t,height:t,className:"-rotate-90",children:[i.jsx("circle",{cx:o,cy:o,r:n,fill:"none",stroke:"currentColor",strokeWidth:r,className:"text-muted/40"}),i.jsx("circle",{cx:o,cy:o,r:n,fill:"none",stroke:c.stroke,strokeWidth:r,strokeDasharray:a,strokeDashoffset:s,strokeLinecap:"round",className:"transition-all duration-700 ease-out"})]}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-2xl font-bold text-foreground",children:Math.round(e)}),i.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-medium",children:"/ 100"})]})]})}function B$e({score:e,className:t=""}){const r=n=>n>=75?"bg-green-500 dark:bg-green-400":n>=50?"bg-amber-500 dark:bg-amber-400":"bg-red-500 dark:bg-red-400";return i.jsx("div",{className:`h-1.5 w-full rounded-full bg-muted/60 overflow-hidden ${t}`,children:i.jsx("div",{className:`h-full rounded-full transition-all duration-500 ease-out ${r(e)}`,style:{width:`${Math.min(e,100)}%`}})})}function U$e(e){return e>=75?"Healthy":e>=50?"Needs Attention":"High Risk"}function z$e(e){switch(e){case"healthy":return"bg-green-50 text-green-700 border-green-200 dark:bg-green-950/40 dark:text-green-400 dark:border-green-800";case"needs_attention":return"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-950/40 dark:text-amber-400 dark:border-amber-800";case"at_risk":return"bg-red-50 text-red-700 border-red-200 dark:bg-red-950/40 dark:text-red-400 dark:border-red-800";default:return""}}function W$e(e){switch(e){case"healthy":return i.jsx(kn,{className:"h-3.5 w-3.5"});case"needs_attention":return i.jsx(qi,{className:"h-3.5 w-3.5"});case"at_risk":return i.jsx(Dn,{className:"h-3.5 w-3.5"});default:return null}}function H$e(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState(!0),[s,o]=p.useState(!1),[l,c]=p.useState("all");p.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:x,error:b}=await ce.from("clients").select(`
          id,
          name,
          industry,
          health_status,
          health_score,
          last_activity_date,
          contact_name,
          contact_email
        `).eq("status","active").order("health_score",{ascending:!0});if(b)throw b;const _=await Promise.all((x||[]).map(async w=>{const{count:N}=await ce.from("client_assignments").select("*",{count:"exact",head:!0}).eq("client_id",w.id);return{...w,assignmentCount:N||0}}));r(_)}catch(x){e(x.message,"error")}finally{a(!1)}},d=async()=>{o(!0);try{const{error:x}=await ce.rpc("update_all_client_health_scores");if(x)throw x;e("Health scores updated successfully","success"),await u()}catch(x){e(x.message,"error")}finally{o(!1)}},f=x=>x?Math.floor((Date.now()-new Date(x).getTime())/(1e3*60*60*24)):999,m=t.filter(x=>l==="all"?!0:x.health_status===l),h=t.filter(x=>x.health_status==="healthy").length,v=t.filter(x=>x.health_status==="needs_attention").length,g=t.filter(x=>x.health_status==="at_risk").length,y=p.useMemo(()=>t.length===0?0:t.reduce((x,b)=>x+b.health_score,0)/t.length,[t]);return n?i.jsxs("div",{"data-testid":"health-dashboard-loading",className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ne,{className:"h-8 w-72"}),i.jsx(Ne,{className:"h-4 w-96"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx(Ne,{className:"h-52 w-full"}),i.jsx(Ne,{className:"h-52 w-full lg:col-span-2"})]}),i.jsx(Ne,{className:"h-14 w-full"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[i.jsx(Ne,{className:"h-44 w-full"}),i.jsx(Ne,{className:"h-44 w-full"}),i.jsx(Ne,{className:"h-44 w-full"})]})]}):i.jsxs("div",{"data-testid":"health-dashboard-page",className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-page-title",children:"Client Health Monitoring"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Track client engagement and identify accounts needing attention"})]}),i.jsxs(be,{onClick:d,disabled:s,"data-testid":"button-refresh-scores",children:[i.jsx(Ip,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),s?"Refreshing...":"Refresh Scores"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx(Ce,{"data-testid":"card-stat-total",children:i.jsxs(Ae,{className:"p-6 flex flex-col items-center justify-center text-center",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-4",children:"Overall Health"}),i.jsx($$e,{score:y,size:140,strokeWidth:12}),i.jsxs("p",{className:"mt-4 text-sm text-muted-foreground","data-testid":"text-total-clients",children:["Across ",i.jsx("span",{className:"font-semibold text-foreground",children:t.length})," active ",t.length===1?"client":"clients"]})]})}),i.jsxs(Ce,{className:"lg:col-span-2","data-testid":"card-breakdown",children:[i.jsx(wr,{className:"pb-4",children:i.jsx(br,{className:"text-base font-semibold",children:"Health Breakdown"})}),i.jsxs(Ae,{className:"space-y-5",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"rounded-md p-1.5 bg-green-50 dark:bg-green-950/40",children:i.jsx(kn,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Healthy"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm font-semibold text-foreground","data-testid":"card-stat-healthy",children:h}),i.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[t.length>0?Math.round(h/t.length*100):0,"%"]})]})]}),i.jsx("div",{className:"h-2 w-full rounded-full bg-muted/60 overflow-hidden",children:i.jsx("div",{className:"h-full rounded-full bg-green-500 dark:bg-green-400 transition-all duration-500",style:{width:`${t.length>0?h/t.length*100:0}%`}})})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"rounded-md p-1.5 bg-amber-50 dark:bg-amber-950/40",children:i.jsx(qi,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Needs Attention"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm font-semibold text-foreground","data-testid":"card-stat-needs-attention",children:v}),i.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[t.length>0?Math.round(v/t.length*100):0,"%"]})]})]}),i.jsx("div",{className:"h-2 w-full rounded-full bg-muted/60 overflow-hidden",children:i.jsx("div",{className:"h-full rounded-full bg-amber-500 dark:bg-amber-400 transition-all duration-500",style:{width:`${t.length>0?v/t.length*100:0}%`}})})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"rounded-md p-1.5 bg-red-50 dark:bg-red-950/40",children:i.jsx(Dn,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:"High Risk"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm font-semibold text-foreground","data-testid":"card-stat-at-risk",children:g}),i.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[t.length>0?Math.round(g/t.length*100):0,"%"]})]})]}),i.jsx("div",{className:"h-2 w-full rounded-full bg-muted/60 overflow-hidden",children:i.jsx("div",{className:"h-full rounded-full bg-red-500 dark:bg-red-400 transition-all duration-500",style:{width:`${t.length>0?g/t.length*100:0}%`}})})]})]})]})]}),g>0&&l==="all"&&i.jsx(Ce,{className:"border-red-200 dark:border-red-900/60","data-testid":"card-alert-at-risk",children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("div",{className:"rounded-md p-2 bg-red-50 dark:bg-red-950/40 flex-shrink-0",children:i.jsx(qi,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"text-sm font-medium text-foreground",children:[g," ",g===1?"client needs":"clients need"," immediate attention"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"These accounts show low engagement or haven't had recent activity"})]}),i.jsxs(be,{variant:"outline",size:"sm",onClick:()=>c("at_risk"),"data-testid":"button-view-at-risk",children:["View",i.jsx(N$,{className:"h-3.5 w-3.5 ml-1.5"})]})]})})}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(be,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),"data-testid":"button-filter-all",children:[i.jsx(ra,{className:"h-3.5 w-3.5 mr-1.5"}),"All (",t.length,")"]}),i.jsxs(be,{variant:l==="healthy"?"default":"outline",size:"sm",onClick:()=>c("healthy"),"data-testid":"button-filter-healthy",children:[i.jsx(kn,{className:"h-3.5 w-3.5 mr-1.5"}),"Healthy (",h,")"]}),i.jsxs(be,{variant:l==="needs_attention"?"default":"outline",size:"sm",onClick:()=>c("needs_attention"),"data-testid":"button-filter-needs-attention",children:[i.jsx(qi,{className:"h-3.5 w-3.5 mr-1.5"}),"Needs Attention (",v,")"]}),i.jsxs(be,{variant:l==="at_risk"?"destructive":"outline",size:"sm",onClick:()=>c("at_risk"),"data-testid":"button-filter-at-risk",children:[i.jsx(Dn,{className:"h-3.5 w-3.5 mr-1.5"}),"High Risk (",g,")"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:m.map(x=>{const b=f(x.last_activity_date),_=U$e(x.health_score);return i.jsx(Ce,{"data-testid":`card-client-health-${x.id}`,className:"overflow-visible",children:i.jsxs(Ae,{className:"p-5",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground truncate","data-testid":`text-client-name-${x.id}`,children:x.name}),x.industry&&i.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[i.jsx(Js,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:"text-xs text-muted-foreground truncate",children:x.industry})]})]}),i.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[i.jsx("span",{className:"text-xl font-bold text-foreground leading-none","data-testid":`text-health-score-${x.id}`,children:Math.round(x.health_score)}),i.jsx("span",{className:"text-[10px] text-muted-foreground mt-0.5",children:"/ 100"})]})]}),i.jsx(B$e,{score:x.health_score,className:"mb-3"}),i.jsxs(vt,{variant:"outline",className:`${z$e(x.health_status)} no-default-active-elevate gap-1 mb-4`,"data-testid":`badge-status-${x.id}`,children:[W$e(x.health_status),_]}),i.jsxs("div",{className:"space-y-2.5 pt-3 border-t border-border",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx(Nn,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),x.last_activity_date?i.jsx("span",{"data-testid":`text-activity-${x.id}`,className:`text-xs ${b>=7?"text-red-600 dark:text-red-400 font-medium":b>=3?"text-amber-600 dark:text-amber-400":"text-muted-foreground"}`,children:b===0?"Active today":b===1?"Active yesterday":`${b} days since last activity`}):i.jsx("span",{"data-testid":`text-activity-${x.id}`,className:"text-xs text-muted-foreground",children:"No activity recorded"})]}),x.contact_name&&i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx(Yf,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:"text-xs text-muted-foreground truncate",children:x.contact_name})]}),x.assignmentCount>0&&i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx(ra,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[x.assignmentCount," team ",x.assignmentCount===1?"member":"members"," assigned"]})]})]}),b>=7&&i.jsxs("div",{className:"mt-3 flex items-center gap-2 p-2.5 rounded-md bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-900/50",children:[i.jsx(qi,{className:"h-3.5 w-3.5 text-red-600 dark:text-red-400 flex-shrink-0"}),i.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-400",children:"Overdue for check-in"})]})]})},x.id)})}),m.length===0&&i.jsx(Ce,{"data-testid":"health-dashboard-empty",children:i.jsxs(Ae,{className:"py-16 text-center",children:[i.jsx("div",{className:"rounded-full p-4 bg-muted/50 w-fit mx-auto mb-4",children:i.jsx(wk,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-base font-semibold text-foreground mb-1","data-testid":"text-empty-message",children:"No clients found"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l!=="all"?`No clients are currently in the "${l==="at_risk"?"High Risk":l==="needs_attention"?"Needs Attention":"Healthy"}" category`:"Add active clients to start monitoring their health"}),l!=="all"&&i.jsx(be,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>c("all"),"data-testid":"button-clear-filter",children:"Show all clients"})]})})]})}function q$e(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,V$e(a,...t)]}function V$e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function G$e(e){const t=K$e(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(X$e);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function K$e(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=Z$e(a),l=J$e(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Y$e=Symbol("radix.slottable");function X$e(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Y$e}function J$e(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Z$e(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Q$e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],XP=Q$e.reduce((e,t)=>{const r=G$e(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Cj="Collapsible",[eBe]=q$e(Cj),[tBe,JP]=eBe(Cj),rQ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c,u]=_l({prop:n,defaultProp:a??!1,onChange:o,caller:Cj});return i.jsx(tBe,{scope:r,disabled:s,contentId:No(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:i.jsx(XP.div,{"data-state":QP(c),"data-disabled":s?"":void 0,...l,ref:t})})});rQ.displayName=Cj;var nQ="CollapsibleTrigger",aQ=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=JP(nQ,r);return i.jsx(XP.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":QP(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:dt(e.onClick,a.onOpenToggle)})});aQ.displayName=nQ;var ZP="CollapsibleContent",sQ=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=JP(ZP,e.__scopeCollapsible);return i.jsx(rs,{present:r||a.open,children:({present:s})=>i.jsx(rBe,{...n,ref:t,present:s})})});sQ.displayName=ZP;var rBe=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,o=JP(ZP,r),[l,c]=p.useState(n),u=p.useRef(null),d=mr(t,u),f=p.useRef(0),m=f.current,h=p.useRef(0),v=h.current,g=o.open||l,y=p.useRef(g),x=p.useRef(void 0);return p.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),aa(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const _=b.getBoundingClientRect();f.current=_.height,h.current=_.width,y.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[o.open,n]),i.jsx(XP.div,{"data-state":QP(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...s,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:g&&a})});function QP(e){return e?"open":"closed"}var nBe=rQ;const iQ=nBe,oQ=aQ,lQ=sQ,OF=["bg-blue-600","bg-emerald-600","bg-violet-600","bg-amber-600","bg-rose-600","bg-cyan-600","bg-indigo-600","bg-teal-600","bg-pink-600","bg-orange-600"],cQ={"Account Manager":{bg:"bg-blue-50",text:"text-blue-700",darkBg:"dark:bg-blue-950/40",darkText:"dark:text-blue-300"},"LinkedIn Outreach":{bg:"bg-sky-50",text:"text-sky-700",darkBg:"dark:bg-sky-950/40",darkText:"dark:text-sky-300"},Email:{bg:"bg-violet-50",text:"text-violet-700",darkBg:"dark:bg-violet-950/40",darkText:"dark:text-violet-300"},"Content Creation":{bg:"bg-emerald-50",text:"text-emerald-700",darkBg:"dark:bg-emerald-950/40",darkText:"dark:text-emerald-300"},"Lead Sourcing":{bg:"bg-amber-50",text:"text-amber-700",darkBg:"dark:bg-amber-950/40",darkText:"dark:text-amber-300"},"Social Media":{bg:"bg-pink-50",text:"text-pink-700",darkBg:"dark:bg-pink-950/40",darkText:"dark:text-pink-300"},SEO:{bg:"bg-teal-50",text:"text-teal-700",darkBg:"dark:bg-teal-950/40",darkText:"dark:text-teal-300"},"Paid Ads":{bg:"bg-orange-50",text:"text-orange-700",darkBg:"dark:bg-orange-950/40",darkText:"dark:text-orange-300"},Designer:{bg:"bg-indigo-50",text:"text-indigo-700",darkBg:"dark:bg-indigo-950/40",darkText:"dark:text-indigo-300"},"Lead Filtration":{bg:"bg-rose-50",text:"text-rose-700",darkBg:"dark:bg-rose-950/40",darkText:"dark:text-rose-300"}};function aBe(e){return cQ[e]||{bg:"bg-muted",text:"text-muted-foreground",darkBg:"dark:bg-muted",darkText:"dark:text-muted-foreground"}}function RF(e,t){const r=e/Math.max(t,1);return r>=.7?{label:"High",variant:"destructive",color:"text-red-600 dark:text-red-400"}:r>=.4?{label:"Medium",variant:"default",color:"text-amber-600 dark:text-amber-400"}:{label:"Low",variant:"secondary",color:"text-emerald-600 dark:text-emerald-400"}}function sBe(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function iBe(){const{showToast:e}=yr(),[t,r]=p.useState([]),[n,a]=p.useState(!0),[s,o]=p.useState(""),[l,c]=p.useState(new Set),[u,d]=p.useState("services"),[f,m]=p.useState("desc");p.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0);const[w,N,C,j]=await Promise.all([ce.from("client_assignments").select("employee_id, client_id, service_id"),ce.from("profiles").select("id, full_name, email, role"),ce.from("clients").select("id, name"),ce.from("services").select("id, name")]);if(w.error)throw w.error;if(N.error)throw N.error;if(C.error)throw C.error;if(j.error)throw j.error;const A=w.data||[],k=N.data||[],I=C.data||[],T=j.data||[],P=new Map(I.map(Y=>[Y.id,Y.name])),V=new Map(T.map(Y=>[Y.id,Y.name])),F=new Map;for(const Y of k)F.set(Y.id,{id:Y.id,full_name:Y.full_name,email:Y.email,role:Y.role,clients:[],total_services:0,total_clients:0});for(const Y of A){const re=F.get(Y.employee_id);if(!re)continue;const U=P.get(Y.client_id),q=V.get(Y.service_id);if(!U||!q)continue;let X=re.clients.find(pe=>pe.client_id===Y.client_id);X||(X={client_id:Y.client_id,client_name:U,services:[]},re.clients.push(X)),X.services.includes(q)||X.services.push(q)}for(const Y of F.values())Y.total_clients=Y.clients.length,Y.total_services=Y.clients.reduce((re,U)=>re+U.services.length,0),Y.clients.sort((re,U)=>U.services.length-re.services.length);r(Array.from(F.values()))}catch(w){e(w.message,"error")}finally{a(!1)}},v=p.useMemo(()=>Math.max(...t.map(w=>w.total_services),1),[t]);p.useMemo(()=>Math.max(...t.map(w=>w.total_clients),1),[t]);const g=p.useMemo(()=>{const w=t.length;let N=0,C=0,j=0;for(const I of t){const T=RF(I.total_services,v);T.label==="High"?N++:T.label==="Medium"?C++:j++}const A=t.reduce((I,T)=>I+T.total_services,0),k=new Set(t.flatMap(I=>I.clients.map(T=>T.client_id))).size;return{total:w,high:N,medium:C,low:j,totalAssignments:A,totalClients:k}},[t,v]),y=p.useMemo(()=>{let w=t;if(s){const N=s.toLowerCase();w=t.filter(C=>C.full_name.toLowerCase().includes(N)||C.email.toLowerCase().includes(N)||C.clients.some(j=>j.client_name.toLowerCase().includes(N)))}return[...w].sort((N,C)=>{let j=0;return u==="name"?j=N.full_name.localeCompare(C.full_name):u==="clients"?j=N.total_clients-C.total_clients:j=N.total_services-C.total_services,f==="desc"?-j:j})},[t,s,u,f]);p.useEffect(()=>{c(new Set)},[s]);const x=w=>{c(N=>{const C=new Set(N);return C.has(w)?C.delete(w):C.add(w),C})},b=()=>{l.size===y.length?c(new Set):c(new Set(y.map(w=>w.id)))},_=w=>{u===w?m(N=>N==="asc"?"desc":"asc"):(d(w),m("desc"))};return n?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-72 mb-2"}),i.jsx(Ne,{className:"h-4 w-96"})]}),i.jsx(Ne,{className:"h-9 w-24"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(w=>i.jsx(Ne,{className:"h-28"},w))}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(w=>i.jsx(Ne,{className:"h-48"},w))})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-workload-title",children:"Team Workload"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Overview of each team member's client assignments and service responsibilities"})]}),i.jsxs(be,{variant:"outline",onClick:h,"data-testid":"button-refresh-workload",children:[i.jsx(Ip,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Ce,{"data-testid":"card-stat-team",children:i.jsxs(Ae,{className:"flex items-center gap-3 p-6",children:[i.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:i.jsx(ra,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-semibold",children:g.total}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Team Members"})]})]})}),i.jsx(Ce,{"data-testid":"card-stat-high",children:i.jsxs(Ae,{className:"flex items-center gap-3 p-6",children:[i.jsx("div",{className:"rounded-lg p-2.5 bg-red-50 dark:bg-red-950/40",children:i.jsx(qi,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-semibold",children:g.high}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"High Workload"})]})]})}),i.jsx(Ce,{"data-testid":"card-stat-assignments",children:i.jsxs(Ae,{className:"flex items-center gap-3 p-6",children:[i.jsx("div",{className:"rounded-lg p-2.5 bg-violet-50 dark:bg-violet-950/40",children:i.jsx(C$,{className:"h-4 w-4 text-violet-600 dark:text-violet-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-semibold",children:g.totalAssignments}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Assignments"})]})]})}),i.jsx(Ce,{"data-testid":"card-stat-clients",children:i.jsxs(Ae,{className:"flex items-center gap-3 p-6",children:[i.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:i.jsx(ti,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-semibold",children:g.totalClients}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Clients"})]})]})})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[i.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{placeholder:"Search by name, email, or client...",value:s,onChange:w=>o(w.target.value),className:"pl-9","data-testid":"input-search-workload"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[i.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Sort:"}),i.jsxs(be,{variant:u==="services"?"default":"outline",size:"sm",onClick:()=>_("services"),"data-testid":"button-sort-services",children:["Assignments ",u==="services"&&(f==="desc"?i.jsx(Hc,{className:"h-3 w-3 ml-1"}):i.jsx(cd,{className:"h-3 w-3 ml-1"}))]}),i.jsxs(be,{variant:u==="clients"?"default":"outline",size:"sm",onClick:()=>_("clients"),"data-testid":"button-sort-clients",children:["Clients ",u==="clients"&&(f==="desc"?i.jsx(Hc,{className:"h-3 w-3 ml-1"}):i.jsx(cd,{className:"h-3 w-3 ml-1"}))]}),i.jsxs(be,{variant:u==="name"?"default":"outline",size:"sm",onClick:()=>_("name"),"data-testid":"button-sort-name",children:["Name ",u==="name"&&(f==="desc"?i.jsx(Hc,{className:"h-3 w-3 ml-1"}):i.jsx(cd,{className:"h-3 w-3 ml-1"}))]})]}),i.jsx(be,{variant:"ghost",size:"sm",onClick:b,"data-testid":"button-expand-all",children:l.size===y.length?"Collapse All":"Expand All"})]}),y.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"py-12 text-center",children:[i.jsx(Xf,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-muted-foreground",children:"No team members found matching your search."})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:y.map((w,N)=>{const C=RF(w.total_services,v),j=l.has(w.id),A=OF[N%OF.length],k=Math.round(w.total_services/v*100);return i.jsx(iQ,{open:j,onOpenChange:()=>x(w.id),children:i.jsxs(Ce,{className:"overflow-visible","data-testid":`card-employee-${w.id}`,children:[i.jsx(wr,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start gap-3 flex-wrap",children:[i.jsx(ws,{className:"h-10 w-10",children:i.jsx(bs,{className:`${A} text-white text-sm font-medium`,children:sBe(w.full_name)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(br,{className:"text-sm font-semibold truncate","data-testid":`text-employee-name-${w.id}`,children:w.full_name}),w.role==="admin"&&i.jsx(vt,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:"Admin"})]}),i.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:w.email})]}),i.jsx(vt,{variant:C.variant,className:"text-[11px] shrink-0","data-testid":`badge-workload-${w.id}`,children:C.label})]})}),i.jsxs(Ae,{className:"pt-0 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("p",{className:"text-lg font-semibold","data-testid":`text-client-count-${w.id}`,children:w.total_clients}),i.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Clients"})]}),i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("p",{className:"text-lg font-semibold","data-testid":`text-service-count-${w.id}`,children:w.total_services}),i.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Assignments"})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap mb-1.5",children:[i.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Capacity Usage"}),i.jsxs("span",{className:`text-[11px] font-medium ${C.color}`,children:[k,"%"]})]}),i.jsx(Wd,{value:k,className:"h-1.5"})]}),w.clients.length>0&&i.jsx("div",{children:i.jsxs("div",{className:"flex flex-wrap gap-1 mb-1",children:[w.clients.slice(0,j?void 0:3).map(I=>i.jsxs(vt,{variant:"outline",className:"text-[10px] font-normal",children:[I.client_name,i.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",I.services.length,")"]})]},I.client_id)),!j&&w.clients.length>3&&i.jsxs(vt,{variant:"secondary",className:"text-[10px]",children:["+",w.clients.length-3," more"]})]})}),i.jsx(oQ,{asChild:!0,children:i.jsx(be,{variant:"ghost",size:"sm",className:"w-full","data-testid":`button-expand-${w.id}`,children:j?i.jsxs(i.Fragment,{children:["Hide Details ",i.jsx(cd,{className:"h-3 w-3 ml-1"})]}):i.jsxs(i.Fragment,{children:["View Details ",i.jsx(Hc,{className:"h-3 w-3 ml-1"})]})})}),i.jsx(lQ,{className:"space-y-2",children:i.jsxs("div",{className:"border-t pt-3 space-y-2.5",children:[w.clients.map(I=>i.jsxs("div",{className:"rounded-md border p-3 space-y-2","data-testid":`card-client-${I.client_id}-${w.id}`,children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(ti,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"}),i.jsx("span",{className:"text-sm font-medium truncate","data-testid":`text-client-name-${I.client_id}-${w.id}`,children:I.client_name})]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:I.services.map(T=>{const P=aBe(T);return i.jsx("span",{className:`inline-block text-[10px] font-medium px-2 py-0.5 rounded-md ${P.bg} ${P.text} ${P.darkBg} ${P.darkText}`,children:T},T)})})]},I.client_id)),w.clients.length===0&&i.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"No client assignments yet"})]})})]})]})},w.id)})}),i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-3",children:[i.jsx(T2,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:"Service Legend"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(cQ).map(([w,N])=>i.jsx("span",{className:`inline-block text-[11px] font-medium px-2.5 py-1 rounded-md ${N.bg} ${N.text} ${N.darkBg} ${N.darkText}`,"data-testid":`legend-service-${w.toLowerCase().replace(/\s+/g,"-")}`,children:w},w))})]})})]})}function oBe(e){switch(e){case"available":return{label:"Available",variant:"secondary",icon:kn};case"moderate":return{label:"Moderate",variant:"default",icon:ln};case"busy":return{label:"Busy",variant:"destructive",icon:Dn};default:return{label:"Unknown",variant:"outline",icon:Po}}}function lBe(){const{showToast:e}=yr(),{profile:t}=Ln(),[r,n]=p.useState([]),[a,s]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(""),[m,h]=p.useState([]),[v,g]=p.useState({title:"",description:"",client_id:"",priority:"medium",due_date:""}),[y,x]=p.useState(!1);p.useEffect(()=>{b()},[]);const b=async()=>{try{l(!0);const[{data:k,error:I},{data:T,error:P},{data:V,error:F}]=await Promise.all([ce.rpc("get_account_manager_daily_tasks"),ce.rpc("get_available_team_members_for_assignment"),ce.from("client_assignments").select("client_id, clients(id, name)").eq("employee_id",(t==null?void 0:t.id)||"").then(({data:Y,error:re})=>re?{data:null,error:re}:{data:Y==null?void 0:Y.map(q=>q.clients).filter((q,X,pe)=>q&&pe.findIndex(xe=>(xe==null?void 0:xe.id)===(q==null?void 0:q.id))===X),error:null})]);if(I)throw I;if(P)throw P;if(F)throw F;n(k||[]),s(T||[]),h(V||[])}catch(k){e(k.message,"error")}finally{l(!1)}},_=async()=>{if(!v.title||!v.client_id||!d){e("Please fill in all required fields","error");return}try{x(!0);const{error:k}=await ce.from("tasks").insert({title:v.title,description:v.description,client_id:v.client_id,assigned_to:d,priority:v.priority,due_date:v.due_date||null,status:"pending"});if(k)throw k;e("Task assigned successfully","success"),u(!1),g({title:"",description:"",client_id:"",priority:"medium",due_date:""}),f(""),b()}catch(k){e(k.message,"error")}finally{x(!1)}},w=()=>{u(!1),f(""),g({title:"",description:"",client_id:"",priority:"medium",due_date:""})},N=r.reduce((k,I)=>k+I.tasks_assigned_today,0),C=r.reduce((k,I)=>k+I.tasks_completed_today,0),j=r.reduce((k,I)=>k+I.pending_tasks_count,0);if(o)return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-80 mb-2"}),i.jsx(Ne,{className:"h-4 w-64"})]}),i.jsx(Ne,{className:"h-9 w-24"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(k=>i.jsx(Ne,{className:"h-28"},k))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(Ne,{className:"h-64"}),i.jsx(Ne,{className:"h-64"})]})]});const A=[{label:"Assigned Today",value:N,sub:"Tasks given to team members",icon:Nn,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-950/40"},{label:"Completed Today",value:C,sub:"Tasks finished by team",icon:kn,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-950/40"},{label:"Pending Tasks",value:j,sub:"Active work items",icon:ln,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-950/40"},{label:"Team Members",value:r.length,sub:"Under your management",icon:ra,color:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-950/40"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-daily-view-title",children:"Account Manager Daily View"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Track team progress and balance workload"})]}),i.jsxs(be,{variant:"outline",onClick:b,"data-testid":"button-refresh-daily",children:[i.jsx(Ip,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:A.map(k=>{const I=k.icon;return i.jsx(Ce,{"data-testid":`card-stat-${k.label.toLowerCase().replace(/\s+/g,"-")}`,children:i.jsxs(Ae,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("div",{className:`rounded-lg p-2.5 ${k.bg}`,children:i.jsx(I,{className:`h-5 w-5 ${k.color}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-semibold",children:k.value}),i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:k.label})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:k.sub})]})},k.label)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ce,{children:[i.jsx(wr,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(R2,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),i.jsx(br,{className:"text-base",children:"Team Performance Today"})]})}),i.jsx(Ae,{className:"space-y-4",children:r.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ra,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"No team members found"})]}):r.map(k=>i.jsxs("div",{className:"rounded-md border p-4 space-y-3","data-testid":`card-member-${k.employee_id}`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx(ws,{className:"h-10 w-10",children:i.jsx(bs,{className:"bg-blue-600 text-white text-sm font-medium",children:k.employee_name.charAt(0).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-foreground","data-testid":`text-member-name-${k.employee_id}`,children:k.employee_name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:k.employee_email})]})]}),i.jsxs(be,{size:"sm",onClick:()=>{f(k.employee_id),u(!0)},"data-testid":`button-assign-task-${k.employee_id}`,children:[i.jsx(rn,{className:"h-3 w-3 mr-1"}),"Assign Task"]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("div",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:k.tasks_assigned_today}),i.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Assigned"})]}),i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("div",{className:"text-lg font-semibold text-emerald-600 dark:text-emerald-400",children:k.tasks_completed_today}),i.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Completed"})]}),i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("div",{className:"text-lg font-semibold text-amber-600 dark:text-amber-400",children:k.pending_tasks_count}),i.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Pending"})]}),i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("div",{className:"text-lg font-semibold text-violet-600 dark:text-violet-400",children:k.active_clients_count}),i.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Clients"})]})]})]},k.employee_id))})]}),i.jsxs(Ce,{children:[i.jsx(wr,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(ri,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),i.jsx(br,{className:"text-base",children:"Available for Task Assignment"})]})}),i.jsxs(Ae,{className:"space-y-3",children:[a.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ra,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"No team members available"})]}):a.slice(0,10).map(k=>{const I=oBe(k.availability_status),T=I.icon;return i.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap p-3 rounded-md border","data-testid":`card-available-${k.employee_id}`,children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap flex-1 min-w-0",children:[i.jsx(ws,{className:"h-8 w-8",children:i.jsx(bs,{className:"bg-emerald-600 text-white text-xs font-medium",children:k.employee_name.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm text-foreground truncate",children:k.employee_name}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[k.pending_tasks_count," pending tasks"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(vt,{variant:I.variant,"data-testid":`badge-status-${k.employee_id}`,children:[i.jsx(T,{className:"h-3 w-3 mr-1"}),I.label]}),i.jsx(be,{size:"icon",variant:"ghost",onClick:()=>{f(k.employee_id),u(!0)},"data-testid":`button-assign-available-${k.employee_id}`,children:i.jsx(xh,{className:"h-4 w-4"})})]})]},k.employee_id)}),i.jsx("div",{className:"pt-4 border-t border-border",children:i.jsxs("div",{className:"flex items-center gap-4 flex-wrap text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Available (<6 tasks)"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"h-2 w-2 rounded-full bg-amber-500"}),"Moderate (6-15 tasks)"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"}),"Busy (>15 tasks)"]})]})})]})]})]}),i.jsx(Ur,{open:c,onOpenChange:k=>{k||w()},children:i.jsxs(Lr,{children:[i.jsxs(zr,{children:[i.jsx(Wr,{children:"Assign New Task"}),i.jsx(sc,{children:"Fill in the details below to assign a task to a team member."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Assign To ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs(_t,{value:d,onValueChange:f,"data-testid":"select-assign-to",children:[i.jsx(wt,{"data-testid":"select-trigger-assign-to",children:i.jsx(jt,{placeholder:"Select team member..."})}),i.jsx(bt,{children:a.map(k=>i.jsxs(Ee,{value:k.employee_id,children:[k.employee_name," (",k.pending_tasks_count," pending tasks)"]},k.employee_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Client ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs(_t,{value:v.client_id,onValueChange:k=>g({...v,client_id:k}),"data-testid":"select-client",children:[i.jsx(wt,{"data-testid":"select-trigger-client",children:i.jsx(jt,{placeholder:"Select client..."})}),i.jsx(bt,{children:m.map(k=>i.jsx(Ee,{value:k.id,children:k.name},k.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Task Title ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Ue,{value:v.title,onChange:k=>g({...v,title:k.target.value}),placeholder:"Enter task title","data-testid":"input-task-title"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Description"}),i.jsx("textarea",{value:v.description,onChange:k=>g({...v,description:k.target.value}),className:"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",rows:3,placeholder:"Enter task description","data-testid":"input-task-description"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Priority"}),i.jsxs(_t,{value:v.priority,onValueChange:k=>g({...v,priority:k}),"data-testid":"select-priority",children:[i.jsx(wt,{"data-testid":"select-trigger-priority",children:i.jsx(jt,{placeholder:"Select priority"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"low",children:"Low"}),i.jsx(Ee,{value:"medium",children:"Medium"}),i.jsx(Ee,{value:"high",children:"High"}),i.jsx(Ee,{value:"critical",children:"Critical"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Due Date"}),i.jsx(Ue,{type:"date",value:v.due_date,onChange:k=>g({...v,due_date:k.target.value}),"data-testid":"input-due-date"})]})]})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{variant:"outline",onClick:w,"data-testid":"button-cancel-assign",children:"Cancel"}),i.jsxs(be,{onClick:_,disabled:y,"data-testid":"button-submit-assign",children:[y&&i.jsx(Zs,{className:"h-4 w-4 animate-spin mr-2"}),y?"Assigning...":"Assign Task"]})]})]})})]})}function cBe(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:m,children:h,...v}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:y,children:h})};u.displayName=s+"Provider";function d(f,m){var g;const h=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=p.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,uBe(a,...t)]}function uBe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function dBe(e){const t=fBe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(mBe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function fBe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=gBe(a),l=pBe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?Wn(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hBe=Symbol("radix.slottable");function mBe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hBe}function pBe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function gBe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vBe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Aj=vBe.reduce((e,t)=>{const r=dBe(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Pj="Tabs",[xBe]=cBe(Pj,[Z2]),uQ=Z2(),[yBe,eT]=xBe(Pj),dQ=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Zv(l),[f,m]=_l({prop:n,onChange:a,defaultProp:s??"",caller:Pj});return i.jsx(yBe,{scope:r,baseId:No(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:i.jsx(Aj.div,{dir:d,"data-orientation":o,...u,ref:t})})});dQ.displayName=Pj;var fQ="TabsList",hQ=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=eT(fQ,r),o=uQ(r);return i.jsx(Tz,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(Aj.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});hQ.displayName=fQ;var mQ="TabsTrigger",pQ=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=eT(mQ,r),l=uQ(r),c=xQ(o.baseId,n),u=yQ(o.baseId,n),d=n===o.value;return i.jsx(Oz,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(Aj.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:dt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:dt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:dt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});pQ.displayName=mQ;var gQ="TabsContent",vQ=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=eT(gQ,r),c=xQ(l.baseId,n),u=yQ(l.baseId,n),d=n===l.value,f=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(rs,{present:a||d,children:({present:m})=>i.jsx(Aj.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});vQ.displayName=gQ;function xQ(e,t){return`${e}-trigger-${t}`}function yQ(e,t){return`${e}-content-${t}`}var wBe=dQ,wQ=hQ,bQ=pQ,_Q=vQ;const Tj=wBe,Ix=p.forwardRef(({className:e,...t},r)=>i.jsx(wQ,{ref:r,className:lt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Ix.displayName=wQ.displayName;const Eo=p.forwardRef(({className:e,...t},r)=>i.jsx(bQ,{ref:r,className:lt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Eo.displayName=bQ.displayName;const wl=p.forwardRef(({className:e,...t},r)=>i.jsx(_Q,{ref:r,className:lt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wl.displayName=_Q.displayName;function bBe(){const{showToast:e}=yr(),{profile:t}=Ln(),[r,n]=p.useState(!0),[a,s]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState([]),[m,h]=p.useState(null),[v,g]=p.useState(!1),[y,x]=p.useState(""),[b,_]=p.useState(!1);p.useEffect(()=>{w()},[]);const w=async()=>{try{n(!0);const{data:T,error:P}=await ce.rpc("get_team_members",{manager_user_id:t==null?void 0:t.id});if(P)throw P;if(s(T||[]),T&&T.length>0){const V=T.map(H=>H.id),{data:F,error:Y}=await ce.from("tasks").select("assigned_to, status, due_date").in("assigned_to",V);if(Y)throw Y;const re=new Map;T.forEach(H=>{re.set(H.id,{employee_id:H.id,employee_name:H.full_name,total_tasks:0,completed_tasks:0,pending_tasks:0,overdue_tasks:0,reports_this_week:0,last_report_date:null})});const U=new Date;F==null||F.forEach(H=>{const B=re.get(H.assigned_to);B&&(B.total_tasks++,H.status==="completed"?B.completed_tasks++:(B.pending_tasks++,H.due_date&&new Date(H.due_date)<U&&B.overdue_tasks++))});const q=Qf(new Date),X=The(new Date),{data:pe,error:xe}=await ce.from("weekly_reports").select("*, profiles:employee_id(full_name, email)").in("employee_id",V).gte("week_start",q.toISOString()).lte("week_end",X.toISOString()).order("created_at",{ascending:!1});if(xe)throw xe;u(pe||[]),pe==null||pe.forEach(H=>{const B=re.get(H.employee_id);B&&(B.reports_this_week++,(!B.last_report_date||H.created_at>B.last_report_date)&&(B.last_report_date=H.created_at))});const D=new Date;D.setDate(D.getDate()-7);const{data:M,error:R}=await ce.from("daily_task_logs").select("*, profiles:employee_id(full_name)").in("employee_id",V).gte("log_date",D.toISOString().split("T")[0]).order("log_date",{ascending:!1});if(R)throw R;f(M||[]),l(Array.from(re.values()))}}catch(T){e(T.message||"Failed to load team data","error")}finally{n(!1)}},N=async()=>{if(!y.trim()||!m){e("Please enter a feedback message","error");return}try{_(!0);const{error:T}=await ce.from("feedback").insert({from_user_id:t==null?void 0:t.id,to_user_id:m.id,message:y.trim()});if(T)throw T;e("Feedback sent successfully","success"),g(!1),x(""),h(null)}catch(T){e(T.message||"Failed to send feedback","error")}finally{_(!1)}},C=T=>{if(T.total_tasks===0)return{label:"No Tasks",variant:"outline",color:"text-gray-600"};const P=T.completed_tasks/T.total_tasks*100;return P>=80?{label:"Excellent",variant:"default",color:"text-emerald-600"}:P>=60?{label:"Good",variant:"secondary",color:"text-blue-600"}:P>=40?{label:"Fair",variant:"secondary",color:"text-amber-600"}:{label:"Needs Support",variant:"destructive",color:"text-red-600"}};if(r)return i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ne,{className:"h-10 w-64"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ne,{className:"h-32"}),i.jsx(Ne,{className:"h-32"}),i.jsx(Ne,{className:"h-32"})]}),i.jsx(Ne,{className:"h-96"})]});const j=o.reduce((T,P)=>T+P.total_tasks,0),A=o.reduce((T,P)=>T+P.completed_tasks,0),k=o.reduce((T,P)=>T+P.overdue_tasks,0),I=j>0?Math.round(A/j*100):0;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Team Monitoring"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor and support your team members' work and progress"})]}),i.jsxs(be,{variant:"outline",onClick:w,children:[i.jsx(Ip,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),a.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(ra,{className:"h-16 w-16 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Team Members"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md",children:"You don't have any team members assigned to you yet. Contact your administrator to set up your team."})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:i.jsx(ra,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-semibold",children:a.length}),i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Team Members"})]})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg p-2.5 bg-emerald-50 dark:bg-emerald-950/40",children:i.jsx(ri,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-semibold",children:[I,"%"]}),i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Completion Rate"})]})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:i.jsx(ln,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-semibold",children:j-A}),i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Tasks"})]})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg p-2.5 bg-red-50 dark:bg-red-950/40",children:i.jsx(Dn,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-semibold",children:k}),i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Overdue Tasks"})]})]})})})]}),i.jsxs(Tj,{defaultValue:"overview",className:"space-y-4",children:[i.jsxs(Ix,{children:[i.jsxs(Eo,{value:"overview",children:[i.jsx(T2,{className:"h-4 w-4 mr-2"}),"Overview"]}),i.jsxs(Eo,{value:"reports",children:[i.jsx(En,{className:"h-4 w-4 mr-2"}),"Weekly Reports"]}),i.jsxs(Eo,{value:"daily",children:[i.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Daily Logs"]})]}),i.jsx(wl,{value:"overview",className:"space-y-4",children:i.jsxs(Ce,{children:[i.jsxs(wr,{children:[i.jsx(br,{children:"Team Performance"}),i.jsx(H1,{children:"Individual performance metrics for each team member"})]}),i.jsx(Ae,{className:"space-y-4",children:o.map(T=>{const P=a.find(F=>F.id===T.employee_id),V=C(T);return i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ws,{className:"h-10 w-10",children:i.jsx(bs,{className:"bg-blue-600 text-white font-medium",children:T.employee_name.charAt(0).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-foreground",children:T.employee_name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:(P==null?void 0:P.role)||"Employee"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vt,{variant:V.variant,children:V.label}),i.jsxs(be,{size:"sm",variant:"outline",onClick:()=>{h(P||null),g(!0)},children:[i.jsx(Qs,{className:"h-3 w-3 mr-1"}),"Feedback"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:[i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("div",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:T.total_tasks}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("div",{className:"text-lg font-semibold text-emerald-600 dark:text-emerald-400",children:T.completed_tasks}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("div",{className:"text-lg font-semibold text-amber-600 dark:text-amber-400",children:T.pending_tasks}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Pending"})]}),i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("div",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:T.overdue_tasks}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Overdue"})]}),i.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[i.jsx("div",{className:"text-lg font-semibold text-violet-600 dark:text-violet-400",children:T.reports_this_week}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Reports"})]})]}),T.last_report_date&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last report: ",Bt(new Date(T.last_report_date),"MMM d, yyyy h:mm a")]})]},T.employee_id)})})]})}),i.jsx(wl,{value:"reports",className:"space-y-4",children:i.jsxs(Ce,{children:[i.jsxs(wr,{children:[i.jsx(br,{children:"Weekly Reports"}),i.jsx(H1,{children:"Recent weekly reports submitted by your team"})]}),i.jsx(Ae,{className:"space-y-4",children:c.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(En,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"No weekly reports yet"})]}):c.map(T=>i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ws,{className:"h-8 w-8",children:i.jsx(bs,{className:"bg-emerald-600 text-white text-xs font-medium",children:T.profiles.full_name.charAt(0).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-foreground",children:T.profiles.full_name}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[Bt(new Date(T.week_start),"MMM d")," -"," ",Bt(new Date(T.week_end),"MMM d, yyyy")]})]})]}),i.jsx(vt,{variant:T.status==="submitted"?"secondary":"default",children:T.status})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Work Summary:"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:T.work_summary})]}),T.challenges&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Challenges:"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:T.challenges})]}),T.next_week_plan&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Next Week Plan:"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:T.next_week_plan})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Submitted: ",Bt(new Date(T.created_at),"MMM d, yyyy h:mm a")]})]},T.id))})]})}),i.jsx(wl,{value:"daily",className:"space-y-4",children:i.jsxs(Ce,{children:[i.jsxs(wr,{children:[i.jsx(br,{children:"Daily Activity Logs"}),i.jsx(H1,{children:"Daily work logs from your team (last 7 days)"})]}),i.jsx(Ae,{className:"space-y-4",children:d.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Nn,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"No daily logs yet"})]}):d.map(T=>i.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ws,{className:"h-8 w-8",children:i.jsx(bs,{className:"bg-blue-600 text-white text-xs font-medium",children:T.profiles.full_name.charAt(0).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-foreground",children:T.profiles.full_name}),i.jsx("div",{className:"text-xs text-muted-foreground",children:Bt(new Date(T.log_date),"EEEE, MMM d, yyyy")})]})]}),i.jsxs(vt,{variant:"outline",children:[i.jsx(ln,{className:"h-3 w-3 mr-1"}),T.hours_worked,"h"]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Tasks Completed:"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:T.tasks_completed})]}),T.notes&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Notes:"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:T.notes})]})]})]},T.id))})]})})]})]}),i.jsx(Ur,{open:v,onOpenChange:g,children:i.jsxs(Lr,{children:[i.jsxs(zr,{children:[i.jsx(Wr,{children:"Send Feedback"}),i.jsxs(sc,{children:["Send feedback or encouragement to ",m==null?void 0:m.full_name]})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Message"}),i.jsx($n,{value:y,onChange:T=>x(T.target.value),placeholder:"Write your feedback message...",rows:6})]})}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(be,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),i.jsxs(be,{onClick:N,disabled:b,children:[i.jsx(lv,{className:"h-4 w-4 mr-2"}),b?"Sending...":"Send Feedback"]})]})]})})]})}function jQ(){const{showToast:e}=yr(),{profile:t}=Ln(),[r,n]=p.useState([]),[a,s]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[m,h]=p.useState(!1),[v,g]=p.useState(null),[y,x]=p.useState(new Set),[b,_]=p.useState(!1),[w,N]=p.useState({client_id:"",tool_name:"",username:"",password:"",notes:""}),C=(t==null?void 0:t.role)==="admin",j=C;p.useEffect(()=>{A()},[]);const A=async()=>{try{l(!0);const[{data:U,error:q},{data:X,error:pe}]=await Promise.all([ce.from("client_credentials").select("*, clients(id, name)").order("created_at",{ascending:!1}),C?ce.from("clients").select("id, name").eq("status","active").order("name"):ce.from("client_assignments").select("client_id, clients(id, name)").eq("employee_id",(t==null?void 0:t.id)||"").then(({data:xe,error:D})=>D?{data:null,error:D}:{data:xe==null?void 0:xe.map(R=>R.clients).filter((R,H,B)=>R&&B.findIndex(W=>(W==null?void 0:W.id)===(R==null?void 0:R.id))===H),error:null})]);if(q)throw q;if(pe)throw pe;n(U||[]),s(X||[])}catch(U){e(U.message,"error")}finally{l(!1)}},k=U=>btoa(U),I=U=>{try{return atob(U)}catch{return""}},T=U=>{const q=new Set(y);q.has(U)?q.delete(U):q.add(U),x(q)},P=async()=>{if(!w.client_id||!w.tool_name||!w.username||!w.password){e("Please fill in all required fields","error");return}try{_(!0);const{error:U}=await ce.from("client_credentials").insert({client_id:w.client_id,tool_name:w.tool_name,username:w.username,encrypted_password:k(w.password),notes:w.notes,created_by:t==null?void 0:t.id});if(U)throw U;e("Credential added successfully","success"),u(!1),N({client_id:"",tool_name:"",username:"",password:"",notes:""}),A()}catch(U){e(U.message,"error")}finally{_(!1)}},V=async()=>{if(!v||!w.tool_name||!w.username){e("Please fill in all required fields","error");return}try{_(!0);const U={tool_name:w.tool_name,username:w.username,notes:w.notes};w.password&&(U.encrypted_password=k(w.password));const{error:q}=await ce.from("client_credentials").update(U).eq("id",v.id);if(q)throw q;e("Credential updated successfully","success"),f(!1),g(null),N({client_id:"",tool_name:"",username:"",password:"",notes:""}),A()}catch(U){e(U.message,"error")}finally{_(!1)}},F=async()=>{if(v)try{_(!0);const{error:U}=await ce.from("client_credentials").delete().eq("id",v.id);if(U)throw U;e("Credential deleted successfully","success"),h(!1),g(null),A()}catch(U){e(U.message,"error")}finally{_(!1)}},Y=U=>{g(U),N({client_id:U.client_id,tool_name:U.tool_name,username:U.username,password:"",notes:U.notes}),f(!0)},re=r.reduce((U,q)=>{var D;const X=q.client_id,pe=((D=q.clients)==null?void 0:D.name)||"Unknown Client",xe=U.find(M=>M.clientId===X);return xe?xe.credentials.push(q):U.push({clientId:X,clientName:pe,credentials:[q]}),U},[]);return o?i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Ne,{className:"h-9 w-24"}),i.jsx(Ne,{className:"h-9 w-36"})]})]}),i.jsx(Ne,{className:"h-20 w-full"}),i.jsx(Ne,{className:"h-48 w-full"}),i.jsx(Ne,{className:"h-48 w-full"})]}):i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Client Credentials"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Securely manage client access credentials"})]}),i.jsxs("div",{className:"flex gap-3 flex-wrap",children:[i.jsxs(be,{variant:"outline",onClick:A,"data-testid":"button-refresh-credentials",children:[i.jsx(Ip,{className:"h-4 w-4"}),"Refresh"]}),j&&i.jsxs(be,{onClick:()=>u(!0),"data-testid":"button-add-credential",children:[i.jsx(rn,{className:"h-4 w-4"}),"Add Credential"]})]})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(iie,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-foreground text-sm mb-1",children:"Security Notice"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"You can only view credentials for clients you are assigned to. Access is automatically granted based on your client assignments and revoked when you are removed from a project."})]})]})})}),re.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-12 text-center",children:[i.jsx(Tw,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No credentials found"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:j?"Get started by adding your first client credential.":"No credentials available for your assigned clients."}),j&&i.jsxs(be,{onClick:()=>u(!0),"data-testid":"button-add-first-credential",children:[i.jsx(rn,{className:"h-5 w-5"}),"Add First Credential"]})]})}):i.jsx("div",{className:"space-y-6",children:re.map(U=>i.jsxs(Ce,{"data-testid":`card-client-group-${U.clientId}`,children:[i.jsx(wr,{className:"bg-muted/50 border-b border-border pb-4",children:i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("div",{className:"p-2 bg-muted rounded-md",children:i.jsx(Js,{className:"h-5 w-5 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx(br,{className:"text-lg","data-testid":`text-client-name-${U.clientId}`,children:U.clientName}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[U.credentials.length," credential(s)"]})]})]})}),i.jsx(Ae,{className:"p-0",children:i.jsx("div",{className:"divide-y divide-border",children:U.credentials.map(q=>{const X=y.has(q.id),pe=I(q.encrypted_password);return i.jsxs("div",{className:"p-6","data-testid":`card-credential-${q.id}`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-muted rounded-md",children:i.jsx(Tw,{className:"h-5 w-5 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground text-lg","data-testid":`text-tool-name-${q.id}`,children:q.tool_name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Added ",new Date(q.created_at).toLocaleDateString()]})]})]}),j&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>Y(q),"data-testid":`button-edit-credential-${q.id}`,children:i.jsx(oie,{className:"h-4 w-4"})}),i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>{g(q),h(!0)},"data-testid":`button-delete-credential-${q.id}`,children:i.jsx(Fo,{className:"h-4 w-4 text-destructive"})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"text-xs font-semibold text-muted-foreground uppercase mb-1 block",children:"Username"}),i.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-muted rounded-md",children:i.jsx("span",{className:"font-mono text-sm text-foreground select-none","data-testid":`text-username-${q.id}`,children:q.username})})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"text-xs font-semibold text-muted-foreground uppercase mb-1 block",children:"Password"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 bg-muted rounded-md",children:[i.jsx(A$,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-mono text-sm text-foreground select-none flex-1","data-testid":`text-password-${q.id}`,children:X?pe:""})]}),i.jsx(be,{variant:"outline",size:"icon",onClick:()=>T(q.id),"data-testid":`button-toggle-password-${q.id}`,children:X?i.jsx(pp,{className:"h-4 w-4"}):i.jsx(Cd,{className:"h-4 w-4"})})]})]}),q.notes&&i.jsxs("div",{children:[i.jsx(ye,{className:"text-xs font-semibold text-muted-foreground uppercase mb-1 block",children:"Notes"}),i.jsx("div",{className:"px-4 py-2 bg-muted rounded-md border border-border",children:i.jsx("p",{className:"text-sm text-foreground","data-testid":`text-notes-${q.id}`,children:q.notes})})]})]})]},q.id)})})})]},U.clientId))}),i.jsx(Ur,{open:c,onOpenChange:U=>{U||(u(!1),N({client_id:"",tool_name:"",username:"",password:"",notes:""}))},children:i.jsxs(Lr,{className:"sm:max-w-lg",children:[i.jsxs(zr,{children:[i.jsx(Wr,{children:"Add Client Credential"}),i.jsx(sc,{children:"Add a new credential for a client tool or service."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Client ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs(_t,{value:w.client_id,onValueChange:U=>N({...w,client_id:U}),children:[i.jsx(wt,{"data-testid":"select-client-add",children:i.jsx(jt,{placeholder:"Select client..."})}),i.jsx(bt,{children:a.map(U=>i.jsx(Ee,{value:U.id,children:U.name},U.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Tool/Service Name ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Ue,{value:w.tool_name,onChange:U=>N({...w,tool_name:U.target.value}),placeholder:"e.g., Google Analytics, Facebook Ads","data-testid":"input-tool-name-add"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Username ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Ue,{value:w.username,onChange:U=>N({...w,username:U.target.value}),placeholder:"Enter username or email","data-testid":"input-username-add"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Password ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Ue,{type:"password",value:w.password,onChange:U=>N({...w,password:U.target.value}),placeholder:"Enter password","data-testid":"input-password-add"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Notes"}),i.jsx($n,{value:w.notes,onChange:U=>N({...w,notes:U.target.value}),rows:3,placeholder:"Additional notes or instructions","data-testid":"textarea-notes-add"})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-3",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(qi,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This credential will be automatically accessible to all team members assigned to this client."})]})})})]}),i.jsxs(qr,{children:[i.jsx(be,{variant:"outline",onClick:()=>{u(!1),N({client_id:"",tool_name:"",username:"",password:"",notes:""})},"data-testid":"button-cancel-add",children:"Cancel"}),i.jsxs(be,{onClick:P,disabled:b,"data-testid":"button-submit-add",children:[b&&i.jsx(Zs,{className:"h-4 w-4 animate-spin"}),"Add Credential"]})]})]})}),i.jsx(Ur,{open:d,onOpenChange:U=>{U||(f(!1),g(null),N({client_id:"",tool_name:"",username:"",password:"",notes:""}))},children:i.jsxs(Lr,{className:"sm:max-w-lg",children:[i.jsxs(zr,{children:[i.jsx(Wr,{children:"Edit Credential"}),i.jsx(sc,{children:"Update the credential details below."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Tool/Service Name ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Ue,{value:w.tool_name,onChange:U=>N({...w,tool_name:U.target.value}),"data-testid":"input-tool-name-edit"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{children:["Username ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Ue,{value:w.username,onChange:U=>N({...w,username:U.target.value}),"data-testid":"input-username-edit"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"New Password (leave blank to keep current)"}),i.jsx(Ue,{type:"password",value:w.password,onChange:U=>N({...w,password:U.target.value}),placeholder:"Enter new password","data-testid":"input-password-edit"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{children:"Notes"}),i.jsx($n,{value:w.notes,onChange:U=>N({...w,notes:U.target.value}),rows:3,"data-testid":"textarea-notes-edit"})]})]}),i.jsxs(qr,{children:[i.jsx(be,{variant:"outline",onClick:()=>{f(!1),g(null),N({client_id:"",tool_name:"",username:"",password:"",notes:""})},"data-testid":"button-cancel-edit",children:"Cancel"}),i.jsxs(be,{onClick:V,disabled:b,"data-testid":"button-submit-edit",children:[b&&i.jsx(Zs,{className:"h-4 w-4 animate-spin"}),"Update Credential"]})]})]})}),i.jsx(Ur,{open:m,onOpenChange:U=>{U||(h(!1),g(null))},children:i.jsxs(Lr,{className:"sm:max-w-md",children:[i.jsxs(zr,{children:[i.jsx(Wr,{children:"Delete Credential"}),i.jsxs(sc,{children:['Are you sure you want to delete the credential for "',v==null?void 0:v.tool_name,'"? This action cannot be undone.']})]}),i.jsxs(qr,{children:[i.jsx(be,{variant:"outline",onClick:()=>{h(!1),g(null)},disabled:b,"data-testid":"button-cancel-delete",children:"Cancel"}),i.jsxs(be,{variant:"destructive",onClick:F,disabled:b,"data-testid":"button-confirm-delete",children:[b&&i.jsx(Zs,{className:"h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}function IF(){const{user:e}=Ln(),[t,r]=p.useState([]),[n,a]=p.useState([]),[s,o]=p.useState(!0),[l,c]=p.useState({totalClients:0,reportsDueThisWeek:0,tasksCompleted:0,performance:0});p.useEffect(()=>{e&&u()},[e]);const u=async()=>{var b;try{const[_,w,N]=await Promise.all([ce.from("client_assignments").select("*").eq("employee_id",e.id),ce.from("employee_tasks").select("*").eq("employee_id",e.id).order("due_date",{ascending:!0}),ce.from("weekly_reports").select("*").eq("employee_id",e.id).gte("created_at",d())]);if(_.data){const C=await Promise.all(_.data.map(async I=>{const[T,P]=await Promise.all([ce.from("clients").select("*").eq("id",I.client_id).maybeSingle(),ce.from("services").select("*").eq("id",I.service_id).maybeSingle()]);return{...I,client:T.data||void 0,service:P.data||void 0}}));r(C);const j=N.data||[],A=j.filter(I=>I.status==="on_track").length,k=j.length>0?A/j.length*100:0;c({totalClients:C.length,reportsDueThisWeek:C.length,tasksCompleted:((b=w.data)==null?void 0:b.filter(I=>I.status==="completed").length)||0,performance:Math.round(k)})}w.data&&a(w.data)}catch(_){console.error("Error loading employee data:",_)}finally{o(!1)}},d=()=>{const b=new Date;return new Date(b.getFullYear(),b.getMonth(),1).toISOString()},f=async(b,_)=>{try{const w={status:_,updated_at:new Date().toISOString()};_==="completed"&&(w.completed_at=new Date().toISOString()),await ce.from("employee_tasks").update(w).eq("id",b),u()}catch(w){console.error("Error updating task:",w)}},m=b=>{switch(b){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";default:return"outline"}},h=b=>b?NR(new Date(b),new Date):!1,v=b=>{if(!b)return!1;const _=new Date(b),w=gz(new Date,3);return Pme(_,new Date)&&NR(_,w)},g=t.reduce((b,_)=>{const w=_.client_id;return b[w]||(b[w]={client:_.client,services:[]}),_.service&&b[w].services.push(_.service),b},{}),y=n.filter(b=>b.status!=="completed"),x=n.filter(b=>b.status==="completed");return s?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-64"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(b=>i.jsx(Ne,{className:"h-32"},b))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx(Ne,{className:"h-64 lg:col-span-2"}),i.jsx(Ne,{className:"h-64"})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"My Dashboard"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Welcome back! Here's your overview"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Ce,{"data-testid":"stat-card-clients",children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"My Clients"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground mt-2","data-testid":"stat-total-clients",children:l.totalClients})]}),i.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-md",children:i.jsx(ti,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-card-reports",children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Reports Due"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground mt-2","data-testid":"stat-reports-due",children:l.reportsDueThisWeek}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This week"})]}),i.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-md",children:i.jsx(En,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-card-tasks",children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tasks Completed"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground mt-2","data-testid":"stat-tasks-completed",children:l.tasksCompleted}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This month"})]}),i.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-md",children:i.jsx(kn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-card-performance",children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Performance"}),i.jsxs("p",{className:"text-2xl font-semibold tracking-tight text-foreground mt-2","data-testid":"stat-performance",children:[l.performance,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"On-track rate"})]}),i.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-md",children:i.jsx(ri,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(Ce,{children:[i.jsx(wr,{children:i.jsx(br,{children:"My Tasks"})}),i.jsxs(Ae,{children:[y.length>0?i.jsx("div",{className:"space-y-3",children:y.map(b=>i.jsx("div",{"data-testid":`task-item-${b.id}`,className:`p-4 rounded-md border ${h(b.due_date)?"bg-destructive/10 border-destructive/30":v(b.due_date)?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-muted border-border"}`,children:i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[i.jsx("h3",{className:"font-medium text-foreground",children:b.title}),i.jsx(vt,{variant:m(b.priority),className:"text-xs",children:b.priority})]}),b.description&&i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:b.description}),b.due_date&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Nn,{className:"h-3 w-3"}),i.jsxs("span",{children:["Due: ",Bt(new Date(b.due_date),"MMM d, yyyy")]}),h(b.due_date)&&i.jsx("span",{className:"text-destructive font-medium ml-1",children:"Overdue!"}),v(b.due_date)&&i.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium ml-1",children:"Due soon"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[b.status==="pending"&&i.jsx(be,{size:"sm",onClick:()=>f(b.id,"in_progress"),"data-testid":`button-start-task-${b.id}`,children:"Start"}),b.status==="in_progress"&&i.jsx(be,{size:"sm",variant:"default",onClick:()=>f(b.id,"completed"),"data-testid":`button-complete-task-${b.id}`,children:"Complete"})]})]})},b.id))}):i.jsxs("div",{className:"text-center py-12 bg-muted rounded-md",children:[i.jsx(kn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-muted-foreground",children:"No pending tasks. Great job!"})]}),x.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Completed"}),i.jsx("div",{className:"space-y-2",children:x.slice(0,3).map(b=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-md","data-testid":`completed-task-${b.id}`,children:[i.jsx(kn,{className:"h-5 w-5 text-green-600 dark:text-green-400 flex-shrink-0"}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-sm text-foreground line-through",children:b.title})})]},b.id))})]})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ce,{children:[i.jsx(wr,{children:i.jsx(br,{children:"My Clients"})}),i.jsx(Ae,{children:i.jsxs("div",{className:"space-y-3",children:[Object.values(g).map(({client:b,services:_})=>b?i.jsxs("div",{className:"p-4 bg-muted rounded-md","data-testid":`client-card-${b.id}`,children:[i.jsx("h3",{className:"font-medium text-foreground mb-2",children:b.name}),i.jsx("div",{className:"flex flex-wrap gap-1",children:_.map(w=>i.jsx(vt,{variant:"secondary",className:"text-xs",children:w.name},w.id))})]},b.id):null),Object.keys(g).length===0&&i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No clients assigned yet"})]})})]}),i.jsx(Ce,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(En,{className:"h-6 w-6 text-blue-600 dark:text-blue-400 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Submit Weekly Reports"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Don't forget to submit your weekly reports for all assigned clients."}),i.jsx(be,{variant:"link",className:"p-0 h-auto",onClick:()=>window.location.hash="#reports","data-testid":"link-go-to-reports",children:"Go to Reports"})]})]})})})]})]})]})}function _Be(){var R,H;const{user:e}=Ln(),{showToast:t}=yr(),[r,n]=p.useState([]),[a,s]=p.useState(null),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[m,h]=p.useState(!1),[v,g]=p.useState(null),[y,x]=p.useState([]),[b,_]=p.useState(null),[w,N]=p.useState({week_start_date:C(new Date),work_summary:"",status:"on_track",key_wins:"",challenges:"",next_week_plan:"",connections_sent:0,connections_accepted:0,responses_received:0,positive_responses:0,meetings_booked:0,metrics:{}});p.useEffect(()=>{e&&j()},[e]),p.useEffect(()=>{if(a){A(),k();const B=setInterval(()=>{I()},3e4);return()=>clearInterval(B)}},[a]);function C(B){const W=new Date(B),te=W.getDay(),J=W.getDate()-te+(te===0?-6:1);return new Date(W.setDate(J)).toISOString().split("T")[0]}const j=async()=>{try{const{data:B,error:W}=await ce.from("client_assignments").select(`
          *,
          clients(*),
          services(*)
        `).eq("employee_id",e.id);if(W)throw W;if(B){const te=B.map(J=>({...J,client:J.clients,service:J.services}));n(te)}}catch(B){console.error("Error loading assignments:",B)}finally{l(!1)}},A=async()=>{if(a)try{const{data:B,error:W}=await ce.from("weekly_reports").select("*").eq("employee_id",e.id).eq("client_id",a.client_id).eq("service_id",a.service_id).eq("is_draft",!0).eq("week_start_date",w.week_start_date).maybeSingle();if(W)throw W;B&&(_(B.id),N({week_start_date:B.week_start_date,work_summary:B.work_summary||"",status:B.status||"on_track",key_wins:B.key_wins||"",challenges:B.challenges||"",next_week_plan:B.next_week_plan||"",connections_sent:0,connections_accepted:0,responses_received:0,positive_responses:0,meetings_booked:0,metrics:{}}))}catch(B){console.error("Error loading draft:",B)}},k=async()=>{if(a)try{const{data:B,error:W}=await ce.from("weekly_reports").select("*").eq("client_id",a.client_id).eq("service_id",a.service_id).eq("employee_id",e.id).order("week_start_date",{ascending:!1}).limit(1).maybeSingle();B&&!W&&g(B)}catch(B){console.error("Error loading previous report:",B)}},I=p.useCallback(async()=>{if(a)try{if(b)await ce.from("weekly_reports").update({work_summary:w.work_summary,status:w.status,key_wins:w.key_wins,challenges:w.challenges,next_week_plan:w.next_week_plan}).eq("id",b);else{const{data:B,error:W}=await ce.from("weekly_reports").insert({client_id:a.client_id,employee_id:e.id,service_id:a.service_id,week_start_date:w.week_start_date,work_summary:w.work_summary,status:w.status,key_wins:w.key_wins,challenges:w.challenges,next_week_plan:w.next_week_plan,is_draft:!0}).select().single();if(W)throw W;B&&_(B.id)}}catch(B){console.error("Error auto-saving draft:",B)}},[a,w,e,b]);p.useCallback(async()=>{if(a)try{const B={...w,meetingDates:y};await ce.from("report_drafts").upsert({employee_id:e.id,client_id:a.client_id,service_id:a.service_id,week_start_date:w.week_start_date,draft_data:B,updated_at:new Date().toISOString()})}catch(B){console.error("Error auto-saving draft:",B)}},[a,w,y,e]);const T=async()=>{f(!0);try{await I(),t("Draft saved successfully!","success")}catch{t("Failed to save draft","error")}finally{f(!1)}},P=()=>{x([...y,{date:"",description:""}])},V=B=>{x(y.filter((W,te)=>te!==B))},F=(B,W,te)=>{const J=[...y];J[B][W]=te,x(J)},Y=async B=>{var W,te;if(B.preventDefault(),!!a){u(!0);try{let J,oe;if(b){const _e=await ce.from("weekly_reports").update({work_summary:w.work_summary,status:w.status,key_wins:w.key_wins,challenges:w.challenges,next_week_plan:w.next_week_plan,is_draft:!1,approval_status:"submitted"}).eq("id",b).select().single();J=_e.data,oe=_e.error}else{const _e=await ce.from("weekly_reports").insert({client_id:a.client_id,employee_id:e.id,service_id:a.service_id,week_start_date:w.week_start_date,work_summary:w.work_summary,status:w.status,key_wins:w.key_wins,challenges:w.challenges,next_week_plan:w.next_week_plan,is_draft:!1,approval_status:"submitted"}).select().single();J=_e.data,oe=_e.error}if(oe)throw oe;J&&(((W=a.service)==null?void 0:W.slug)==="linkedin_outreach"?await ce.from("activity_metrics").insert({report_id:J.id,metric_type:"linkedin_outreach",connections_sent:w.connections_sent,connections_accepted:w.connections_accepted,responses_received:w.responses_received,positive_responses:w.positive_responses,meetings_booked:w.meetings_booked,meeting_dates:y}):await ce.from("service_metrics").insert({weekly_report_id:J.id,metric_data:w.metrics}),await ce.from("report_drafts").delete().eq("employee_id",e.id).eq("client_id",a.client_id).eq("service_id",a.service_id).eq("week_start_date",w.week_start_date),await ce.from("notifications").insert({user_id:e.id,title:"Report Submitted",message:`Your weekly report for ${(te=a.client)==null?void 0:te.name} has been submitted successfully.`,type:"success"})),h(!0),setTimeout(()=>{s(null),h(!1),re()},2e3)}catch(J){console.error("Error submitting report:",J),J.code==="23505"?t("You have already submitted a report for this client, service, and week.","error"):t("Failed to submit report. Please try again.","error")}finally{u(!1)}}},re=()=>{N({week_start_date:C(new Date),work_summary:"",status:"on_track",key_wins:"",challenges:"",next_week_plan:"",connections_sent:0,connections_accepted:0,responses_received:0,positive_responses:0,meetings_booked:0,metrics:{}}),x([])},U=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"LinkedIn Outreach Metrics"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Connections Sent"}),i.jsx(Ue,{type:"number",value:w.connections_sent,onChange:B=>N({...w,connections_sent:parseInt(B.target.value)||0}),required:!0,"data-testid":"input-connections-sent"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Connections Accepted"}),i.jsx(Ue,{type:"number",value:w.connections_accepted,onChange:B=>N({...w,connections_accepted:parseInt(B.target.value)||0}),required:!0,"data-testid":"input-connections-accepted"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Responses Received"}),i.jsx(Ue,{type:"number",value:w.responses_received,onChange:B=>N({...w,responses_received:parseInt(B.target.value)||0}),required:!0,"data-testid":"input-responses-received"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Positive Responses"}),i.jsx(Ue,{type:"number",value:w.positive_responses,onChange:B=>N({...w,positive_responses:parseInt(B.target.value)||0}),required:!0,"data-testid":"input-positive-responses"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(ye,{children:"Meetings Booked"}),i.jsx(Ue,{type:"number",value:w.meetings_booked,onChange:B=>N({...w,meetings_booked:parseInt(B.target.value)||0}),required:!0,"data-testid":"input-meetings-booked"})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap mb-3",children:[i.jsx(ye,{children:"Meeting Dates"}),i.jsxs(be,{type:"button",variant:"link",size:"sm",className:"p-0 h-auto",onClick:P,"data-testid":"button-add-meeting",children:[i.jsx(rn,{className:"h-4 w-4 mr-1"}),"Add Meeting"]})]}),i.jsxs("div",{className:"space-y-3",children:[y.map((B,W)=>i.jsxs("div",{className:"flex gap-3 items-start flex-wrap",children:[i.jsx("div",{className:"flex-1",children:i.jsx(Ue,{type:"date",value:B.date,onChange:te=>F(W,"date",te.target.value),required:!0,"data-testid":`input-meeting-date-${W}`})}),i.jsx("div",{className:"flex-[2]",children:i.jsx(Ue,{type:"text",value:B.description,onChange:te=>F(W,"description",te.target.value),placeholder:"Meeting description (e.g., Discovery call with CEO)","data-testid":`input-meeting-desc-${W}`})}),i.jsx(be,{type:"button",variant:"ghost",size:"icon",onClick:()=>V(W),className:"text-destructive","data-testid":`button-remove-meeting-${W}`,children:i.jsx(oi,{className:"h-5 w-5"})})]},W)),y.length===0&&i.jsxs("div",{className:"text-center py-6 bg-muted rounded-md border-2 border-dashed border-border",children:[i.jsx(Nn,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No meetings added yet"})]})]})]})]}),q=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Email Outreach Metrics"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Emails Sent"}),i.jsx(Ue,{type:"number",value:w.metrics.emails_sent||0,onChange:B=>N({...w,metrics:{...w.metrics,emails_sent:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-emails-sent"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Emails Opened"}),i.jsx(Ue,{type:"number",value:w.metrics.emails_opened||0,onChange:B=>N({...w,metrics:{...w.metrics,emails_opened:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-emails-opened"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Click-Through Rate (%)"}),i.jsx(Ue,{type:"number",step:"0.1",value:w.metrics.click_through_rate||0,onChange:B=>N({...w,metrics:{...w.metrics,click_through_rate:parseFloat(B.target.value)||0}}),min:"0",max:"100","data-testid":"input-click-through-rate"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Responses Received"}),i.jsx(Ue,{type:"number",value:w.metrics.responses_received||0,onChange:B=>N({...w,metrics:{...w.metrics,responses_received:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-email-responses"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Positive Responses"}),i.jsx(Ue,{type:"number",value:w.metrics.positive_responses||0,onChange:B=>N({...w,metrics:{...w.metrics,positive_responses:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-email-positive-responses"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Meetings Booked"}),i.jsx(Ue,{type:"number",value:w.metrics.meetings_booked||0,onChange:B=>N({...w,metrics:{...w.metrics,meetings_booked:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-email-meetings-booked"})]})]})]}),X=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Meta Ads Metrics (Facebook/Instagram)"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Ad Spend ($)"}),i.jsx(Ue,{type:"number",step:"0.01",value:w.metrics.ad_spend||0,onChange:B=>N({...w,metrics:{...w.metrics,ad_spend:parseFloat(B.target.value)||0}}),min:"0","data-testid":"input-meta-ad-spend"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Impressions"}),i.jsx(Ue,{type:"number",value:w.metrics.impressions||0,onChange:B=>N({...w,metrics:{...w.metrics,impressions:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-meta-impressions"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Clicks"}),i.jsx(Ue,{type:"number",value:w.metrics.clicks||0,onChange:B=>N({...w,metrics:{...w.metrics,clicks:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-meta-clicks"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"CTR (%)"}),i.jsx(Ue,{type:"number",step:"0.01",value:w.metrics.ctr||0,onChange:B=>N({...w,metrics:{...w.metrics,ctr:parseFloat(B.target.value)||0}}),min:"0","data-testid":"input-meta-ctr"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Conversions"}),i.jsx(Ue,{type:"number",value:w.metrics.conversions||0,onChange:B=>N({...w,metrics:{...w.metrics,conversions:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-meta-conversions"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Cost Per Conversion ($)"}),i.jsx(Ue,{type:"number",step:"0.01",value:w.metrics.cost_per_conversion||0,onChange:B=>N({...w,metrics:{...w.metrics,cost_per_conversion:parseFloat(B.target.value)||0}}),min:"0","data-testid":"input-meta-cost-per-conv"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"ROAS (Return on Ad Spend)"}),i.jsx(Ue,{type:"number",step:"0.01",value:w.metrics.roas||0,onChange:B=>N({...w,metrics:{...w.metrics,roas:parseFloat(B.target.value)||0}}),min:"0","data-testid":"input-meta-roas"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Leads Generated"}),i.jsx(Ue,{type:"number",value:w.metrics.leads_generated||0,onChange:B=>N({...w,metrics:{...w.metrics,leads_generated:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-meta-leads"})]})]})]}),pe=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Google Ads Metrics"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Ad Spend ($)"}),i.jsx(Ue,{type:"number",step:"0.01",value:w.metrics.ad_spend||0,onChange:B=>N({...w,metrics:{...w.metrics,ad_spend:parseFloat(B.target.value)||0}}),min:"0","data-testid":"input-google-ad-spend"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Impressions"}),i.jsx(Ue,{type:"number",value:w.metrics.impressions||0,onChange:B=>N({...w,metrics:{...w.metrics,impressions:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-google-impressions"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Clicks"}),i.jsx(Ue,{type:"number",value:w.metrics.clicks||0,onChange:B=>N({...w,metrics:{...w.metrics,clicks:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-google-clicks"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"CTR (%)"}),i.jsx(Ue,{type:"number",step:"0.01",value:w.metrics.ctr||0,onChange:B=>N({...w,metrics:{...w.metrics,ctr:parseFloat(B.target.value)||0}}),min:"0","data-testid":"input-google-ctr"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Avg. CPC ($)"}),i.jsx(Ue,{type:"number",step:"0.01",value:w.metrics.avg_cpc||0,onChange:B=>N({...w,metrics:{...w.metrics,avg_cpc:parseFloat(B.target.value)||0}}),min:"0","data-testid":"input-google-avg-cpc"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Conversions"}),i.jsx(Ue,{type:"number",value:w.metrics.conversions||0,onChange:B=>N({...w,metrics:{...w.metrics,conversions:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-google-conversions"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Conversion Rate (%)"}),i.jsx(Ue,{type:"number",step:"0.01",value:w.metrics.conversion_rate||0,onChange:B=>N({...w,metrics:{...w.metrics,conversion_rate:parseFloat(B.target.value)||0}}),min:"0","data-testid":"input-google-conv-rate"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Quality Score (1-10)"}),i.jsx(Ue,{type:"number",value:w.metrics.quality_score||0,onChange:B=>N({...w,metrics:{...w.metrics,quality_score:parseInt(B.target.value)||0}}),min:"1",max:"10","data-testid":"input-google-quality-score"})]})]})]}),xe=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"SEO Metrics"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Organic Traffic"}),i.jsx(Ue,{type:"number",value:w.metrics.organic_traffic||0,onChange:B=>N({...w,metrics:{...w.metrics,organic_traffic:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-seo-organic-traffic"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Keywords Ranking"}),i.jsx(Ue,{type:"number",value:w.metrics.keywords_ranking||0,onChange:B=>N({...w,metrics:{...w.metrics,keywords_ranking:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-seo-keywords"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Top 10 Keywords"}),i.jsx(Ue,{type:"number",value:w.metrics.top_10_keywords||0,onChange:B=>N({...w,metrics:{...w.metrics,top_10_keywords:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-seo-top10"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Backlinks Acquired"}),i.jsx(Ue,{type:"number",value:w.metrics.backlinks_acquired||0,onChange:B=>N({...w,metrics:{...w.metrics,backlinks_acquired:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-seo-backlinks"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Domain Authority"}),i.jsx(Ue,{type:"number",value:w.metrics.domain_authority||0,onChange:B=>N({...w,metrics:{...w.metrics,domain_authority:parseInt(B.target.value)||0}}),min:"0",max:"100","data-testid":"input-seo-domain-auth"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Pages Indexed"}),i.jsx(Ue,{type:"number",value:w.metrics.pages_indexed||0,onChange:B=>N({...w,metrics:{...w.metrics,pages_indexed:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-seo-pages-indexed"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Avg. Session Duration (seconds)"}),i.jsx(Ue,{type:"number",value:w.metrics.avg_session_duration||0,onChange:B=>N({...w,metrics:{...w.metrics,avg_session_duration:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-seo-session-duration"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Bounce Rate (%)"}),i.jsx(Ue,{type:"number",step:"0.1",value:w.metrics.bounce_rate||0,onChange:B=>N({...w,metrics:{...w.metrics,bounce_rate:parseFloat(B.target.value)||0}}),min:"0",max:"100","data-testid":"input-seo-bounce-rate"})]})]})]}),D=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Social Media Management Metrics"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Posts Published"}),i.jsx(Ue,{type:"number",value:w.metrics.posts_published||0,onChange:B=>N({...w,metrics:{...w.metrics,posts_published:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-social-posts"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Total Reach"}),i.jsx(Ue,{type:"number",value:w.metrics.total_reach||0,onChange:B=>N({...w,metrics:{...w.metrics,total_reach:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-social-reach"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Total Impressions"}),i.jsx(Ue,{type:"number",value:w.metrics.total_impressions||0,onChange:B=>N({...w,metrics:{...w.metrics,total_impressions:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-social-impressions"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Engagement Rate (%)"}),i.jsx(Ue,{type:"number",step:"0.1",value:w.metrics.engagement_rate||0,onChange:B=>N({...w,metrics:{...w.metrics,engagement_rate:parseFloat(B.target.value)||0}}),min:"0","data-testid":"input-social-engagement"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"New Followers"}),i.jsx(Ue,{type:"number",value:w.metrics.new_followers||0,onChange:B=>N({...w,metrics:{...w.metrics,new_followers:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-social-followers"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Total Likes"}),i.jsx(Ue,{type:"number",value:w.metrics.total_likes||0,onChange:B=>N({...w,metrics:{...w.metrics,total_likes:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-social-likes"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Total Comments"}),i.jsx(Ue,{type:"number",value:w.metrics.total_comments||0,onChange:B=>N({...w,metrics:{...w.metrics,total_comments:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-social-comments"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Total Shares"}),i.jsx(Ue,{type:"number",value:w.metrics.total_shares||0,onChange:B=>N({...w,metrics:{...w.metrics,total_shares:parseInt(B.target.value)||0}}),min:"0","data-testid":"input-social-shares"})]})]})]}),M=()=>{if(!(a!=null&&a.service))return null;const B=a.service.slug;return B==="linkedin_outreach"?U():B==="email_outreach"?q():B==="meta_ads"||B==="facebook_ads"||B==="instagram_ads"?X():B==="google_ads"?pe():B==="seo"?xe():B==="social_media"||B==="social_media_management"?D():i.jsx(Ce,{className:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",children:i.jsx(Ae,{className:"p-6",children:i.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:"Service-specific metrics form is not yet configured for this service. Please add metrics data in the work summary section above."})})})};if(o)return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-64 mb-2"}),i.jsx(Ne,{className:"h-4 w-80"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(B=>i.jsx(Ne,{className:"h-40"},B))})]});if(m)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full mb-4",children:i.jsx(kn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),i.jsx("h2",{className:"text-2xl font-semibold tracking-tight text-foreground mb-2",children:"Report Submitted"}),i.jsx("p",{className:"text-muted-foreground",children:"Your weekly report has been submitted successfully."})]})});if(!a){const B=r.reduce((W,te)=>{const J=te.client_id;return W[J]||(W[J]={client:te.client,services:[]}),W[J].services.push(te),W},{});return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Submit Weekly Report"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a client and service to submit your report"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[Object.values(B).map(W=>{var te,J,oe;return i.jsxs(Ce,{className:"hover-elevate","data-testid":`assignment-card-${(te=W.client)==null?void 0:te.id}`,children:[i.jsx(wr,{children:i.jsx(br,{children:(J=W.client)==null?void 0:J.name})}),i.jsx(Ae,{children:i.jsx("div",{className:"space-y-2",children:W.services.map(_e=>{var ve;return i.jsx(be,{variant:"secondary",className:"w-full justify-start",onClick:()=>s(_e),"data-testid":`button-select-assignment-${_e.id}`,children:(ve=_e.service)==null?void 0:ve.name},_e.id)})})})]},(oe=W.client)==null?void 0:oe.id)}),r.length===0&&i.jsx(Ce,{className:"col-span-full",children:i.jsx(Ae,{className:"p-12 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No assignments yet. Contact your admin."})})})]})]})}return i.jsxs("div",{className:"max-w-6xl space-y-6",children:[i.jsxs(be,{variant:"ghost",onClick:()=>{s(null),re()},"data-testid":"button-back-to-assignments",children:[i.jsx(Pw,{className:"h-5 w-5 mr-2"}),"Back to assignments"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(Ce,{children:[i.jsxs(wr,{children:[i.jsx(br,{className:"text-2xl",children:(R=a.client)==null?void 0:R.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(H=a.service)==null?void 0:H.name})]}),i.jsx(Ae,{children:i.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Week Start Date"}),i.jsx(Ue,{type:"date",value:w.week_start_date,onChange:B=>N({...w,week_start_date:B.target.value}),required:!0,"data-testid":"input-week-start-date"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Work Summary"}),i.jsx($n,{value:w.work_summary,onChange:B=>N({...w,work_summary:B.target.value}),rows:4,placeholder:"Describe what you worked on this week...",required:!0,"data-testid":"textarea-work-summary"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Status"}),i.jsxs(_t,{value:w.status,onValueChange:B=>N({...w,status:B}),children:[i.jsx(wt,{"data-testid":"select-status",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"on_track",children:"On Track"}),i.jsx(Ee,{value:"needs_attention",children:"Needs Attention"}),i.jsx(Ee,{value:"delayed",children:"Delayed"})]})]})]}),i.jsx("div",{className:"bg-muted rounded-md p-6",children:M()}),i.jsxs("div",{children:[i.jsx(ye,{children:"Key Wins"}),i.jsx($n,{value:w.key_wins,onChange:B=>N({...w,key_wins:B.target.value}),rows:3,placeholder:"What went well this week?","data-testid":"textarea-key-wins"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Challenges / Blockers"}),i.jsx($n,{value:w.challenges,onChange:B=>N({...w,challenges:B.target.value}),rows:3,placeholder:"Any issues or blockers?","data-testid":"textarea-challenges"})]}),i.jsxs("div",{children:[i.jsx(ye,{children:"Next Week Plan"}),i.jsx($n,{value:w.next_week_plan,onChange:B=>N({...w,next_week_plan:B.target.value}),rows:3,placeholder:"What are you planning for next week?","data-testid":"textarea-next-week-plan"})]}),b?i.jsx("div",{className:"border-t border-border pt-6",children:i.jsx(KZ,{reportId:b,canUpload:!0,canDelete:!0})}):i.jsx(Ce,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:i.jsx(Ae,{className:"p-4",children:i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Save as draft first to attach files to this report."})})}),i.jsxs("div",{className:"flex justify-end gap-3 flex-wrap pt-4 border-t border-border",children:[i.jsxs(be,{type:"button",variant:"secondary",onClick:T,disabled:d,"data-testid":"button-save-draft",children:[d?i.jsx(Zs,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(wC,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Draft"]}),i.jsxs(be,{type:"submit",disabled:c,"data-testid":"button-submit-report",children:[c&&i.jsx(Zs,{className:"h-4 w-4 mr-2 animate-spin"}),c?"Submitting...":"Submit Report"]})]})]})})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ce,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ln,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Auto-Save Enabled"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Your progress is automatically saved every 30 seconds."})]})]})})}),v&&i.jsxs(Ce,{"data-testid":"card-last-report",children:[i.jsx(wr,{children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(En,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),i.jsxs("div",{children:[i.jsx(br,{className:"text-base",children:"Last Report"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:Bt(new Date(v.week_start_date),"MMM d, yyyy")})]})]})}),i.jsx(Ae,{children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"font-medium text-muted-foreground",children:"Status: "}),i.jsx(vt,{variant:v.status==="on_track"?"default":v.status==="needs_attention"?"secondary":"destructive",className:"text-xs",children:v.status})]}),v.work_summary&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-muted-foreground",children:"Summary: "}),i.jsx("p",{className:"text-muted-foreground mt-1 line-clamp-3",children:v.work_summary})]})]})})]})]})]})]})}function jBe({daysUntilMeeting:e,urgencyLabel:t,meetingDay:r,meetingTime:n,size:a="md",showIcon:s=!0}){const l=(d=>d===0?{bgColor:"bg-red-100 border-red-300",textColor:"text-red-800",iconColor:"text-red-600",icon:Dn,emoji:""}:d===1?{bgColor:"bg-orange-100 border-orange-300",textColor:"text-orange-800",iconColor:"text-orange-600",icon:ln,emoji:""}:d<=3?{bgColor:"bg-yellow-100 border-yellow-300",textColor:"text-yellow-800",iconColor:"text-yellow-600",icon:Nn,emoji:""}:{bgColor:"bg-gray-100 border-gray-300",textColor:"text-gray-600",iconColor:"text-gray-500",icon:Nn,emoji:""})(e),c=l.icon,u={sm:{badge:"px-2 py-0.5 text-xs",icon:"h-3 w-3"},md:{badge:"px-3 py-1 text-sm",icon:"h-4 w-4"},lg:{badge:"px-4 py-2 text-base",icon:"h-5 w-5"}};return e>=999?null:i.jsxs("div",{className:`inline-flex items-center gap-1.5 ${l.bgColor} ${l.textColor} ${u[a].badge} rounded-full border font-medium`,children:[s&&i.jsx(c,{className:`${u[a].icon} ${l.iconColor}`}),i.jsx("span",{children:t}),e<=1&&i.jsx("span",{className:"font-bold",children:l.emoji})]})}function SBe(){const{user:e}=Ln(),[t,r]=p.useState([]),[n,a]=p.useState(!0);p.useEffect(()=>{e&&s()},[e]);const s=async()=>{try{const{data:l,error:c}=await ce.from("client_assignments").select("client_id").eq("employee_id",e.id);if(c)throw c;const u=(l==null?void 0:l.map(v=>v.client_id))||[];if(u.length===0){a(!1);return}const{data:d,error:f}=await ce.from("clients").select("id, name, weekly_meeting_day, meeting_time").in("id",u).not("weekly_meeting_day","is",null);if(f)throw f;const h=(await Promise.all((d||[]).map(async v=>{const{count:g}=await ce.from("tasks").select("*",{count:"exact",head:!0}).eq("client_id",v.id).eq("assigned_to",e.id).neq("status","completed"),y=new Date().getDay();let x=0;return v.weekly_meeting_day>=y?x=v.weekly_meeting_day-y:x=7-y+v.weekly_meeting_day,{id:v.id,name:v.name,weekly_meeting_day:v.weekly_meeting_day,meeting_time:v.meeting_time,days_until_meeting:x,pending_tasks:g||0}}))).filter(v=>v.days_until_meeting<=3).sort((v,g)=>v.days_until_meeting-g.days_until_meeting);r(h)}catch(l){console.error("Error loading meetings:",l)}finally{a(!1)}},o=l=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l];return n||t.length===0?null:i.jsx("div",{className:"mb-6",children:i.jsxs(Ce,{"data-testid":"card-upcoming-meetings",children:[i.jsx(wr,{children:i.jsxs("div",{className:"flex items-start gap-3 flex-wrap",children:[i.jsx(Dn,{className:"h-6 w-6 text-destructive flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx(br,{className:"text-lg",children:"Priority Alert: Upcoming Meetings"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Focus on these clients with meetings in the next few days"})]})]})}),i.jsx(Ae,{className:"space-y-3",children:t.map(l=>i.jsx(Ce,{"data-testid":`card-meeting-${l.id}`,children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-foreground mb-1","data-testid":`text-meeting-client-${l.id}`,children:l.name}),i.jsxs("div",{className:"flex items-center gap-4 flex-wrap text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1 text-foreground",children:[i.jsx(Nn,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:l.days_until_meeting===0?"Meeting Today":l.days_until_meeting===1?"Meeting Tomorrow":`Meeting ${o(l.weekly_meeting_day)}`})]}),i.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[i.jsx(ln,{className:"h-4 w-4"}),i.jsx("span",{children:l.meeting_time})]})]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":`text-pending-tasks-${l.id}`,children:l.pending_tasks}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"pending tasks"})]})]})})},l.id))})]})})}function NBe(e){switch(e){case"linkedin_outreach":return{connection_requests_sent:0,accepted:0,replies:0,messages_sent:0,meetings_booked:0};case"email_outreach":return{emails_sent:0,emails_opened:0,replies:0,positive_replies:0,meetings_booked:0};case"meta_ads":case"facebook_ads":case"instagram_ads":return{ad_spend:0,impressions:0,clicks:0,ctr:0,conversions:0,cost_per_conversion:0,leads:0};case"google_ads":return{ad_spend:0,impressions:0,clicks:0,ctr:0,cpc:0,conversions:0,conversion_rate:0,quality_score:0};case"seo":return{organic_traffic:0,keywords_ranking:0,top_10_keywords:0,backlinks_acquired:0,pages_optimized:0,domain_authority:0};case"social_media":case"social_media_management":return{posts_published:0,total_reach:0,total_impressions:0,engagement_rate:0,new_followers:0,likes:0,comments:0,shares:0};default:return{}}}function kBe(e){switch(e){case"linkedin_outreach":return"bg-blue-50 dark:bg-blue-950/40 text-blue-700 dark:text-blue-300";case"email_outreach":return"bg-emerald-50 dark:bg-emerald-950/40 text-emerald-700 dark:text-emerald-300";case"meta_ads":case"facebook_ads":case"instagram_ads":return"bg-indigo-50 dark:bg-indigo-950/40 text-indigo-700 dark:text-indigo-300";case"google_ads":return"bg-amber-50 dark:bg-amber-950/40 text-amber-700 dark:text-amber-300";case"seo":return"bg-purple-50 dark:bg-purple-950/40 text-purple-700 dark:text-purple-300";case"social_media":case"social_media_management":return"bg-pink-50 dark:bg-pink-950/40 text-pink-700 dark:text-pink-300";default:return"bg-muted text-muted-foreground"}}function EBe(e){switch(e){case"linkedin_outreach":return"bg-blue-100 dark:bg-blue-900/50";case"email_outreach":return"bg-emerald-100 dark:bg-emerald-900/50";case"meta_ads":case"facebook_ads":case"instagram_ads":return"bg-indigo-100 dark:bg-indigo-900/50";case"google_ads":return"bg-amber-100 dark:bg-amber-900/50";case"seo":return"bg-purple-100 dark:bg-purple-900/50";case"social_media":case"social_media_management":return"bg-pink-100 dark:bg-pink-900/50";default:return"bg-muted"}}function CBe(e){switch(e){case"linkedin_outreach":return[{key:"connection_requests_sent",label:"Connection Requests Sent",type:"number"},{key:"accepted",label:"Connections Accepted",type:"number"},{key:"messages_sent",label:"Messages Sent",type:"number"},{key:"replies",label:"Replies Received",type:"number"},{key:"meetings_booked",label:"Meetings Booked",type:"number"}];case"email_outreach":return[{key:"emails_sent",label:"Emails Sent",type:"number"},{key:"emails_opened",label:"Emails Opened",type:"number"},{key:"replies",label:"Replies Received",type:"number"},{key:"positive_replies",label:"Positive Replies",type:"number"},{key:"meetings_booked",label:"Meetings Booked",type:"number"}];case"meta_ads":case"facebook_ads":case"instagram_ads":return[{key:"ad_spend",label:"Ad Spend ($)",type:"decimal",step:"0.01"},{key:"impressions",label:"Impressions",type:"number"},{key:"clicks",label:"Clicks",type:"number"},{key:"ctr",label:"CTR (%)",type:"decimal",step:"0.01"},{key:"conversions",label:"Conversions",type:"number"},{key:"cost_per_conversion",label:"Cost per Conversion ($)",type:"decimal",step:"0.01"},{key:"leads",label:"Leads Generated",type:"number"}];case"google_ads":return[{key:"ad_spend",label:"Ad Spend ($)",type:"decimal",step:"0.01"},{key:"impressions",label:"Impressions",type:"number"},{key:"clicks",label:"Clicks",type:"number"},{key:"ctr",label:"CTR (%)",type:"decimal",step:"0.01"},{key:"cpc",label:"CPC ($)",type:"decimal",step:"0.01"},{key:"conversions",label:"Conversions",type:"number"},{key:"conversion_rate",label:"Conversion Rate (%)",type:"decimal",step:"0.01"},{key:"quality_score",label:"Quality Score",type:"decimal",step:"0.1"}];case"seo":return[{key:"organic_traffic",label:"Organic Traffic",type:"number"},{key:"keywords_ranking",label:"Keywords Ranking",type:"number"},{key:"top_10_keywords",label:"Top 10 Keywords",type:"number"},{key:"backlinks_acquired",label:"Backlinks Acquired",type:"number"},{key:"pages_optimized",label:"Pages Optimized",type:"number"},{key:"domain_authority",label:"Domain Authority",type:"decimal",step:"0.1"}];case"social_media":case"social_media_management":return[{key:"posts_published",label:"Posts Published",type:"number"},{key:"total_reach",label:"Total Reach",type:"number"},{key:"total_impressions",label:"Total Impressions",type:"number"},{key:"engagement_rate",label:"Engagement Rate (%)",type:"decimal",step:"0.01"},{key:"new_followers",label:"New Followers",type:"number"},{key:"likes",label:"Total Likes",type:"number"},{key:"comments",label:"Comments",type:"number"},{key:"shares",label:"Shares",type:"number"}];default:return[]}}function ABe(){const{user:e}=Ln(),{showToast:t}=yr(),[r,n]=p.useState("tasks"),[a,s]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState("all"),[d,f]=p.useState(new Set),[m,h]=p.useState(null),[v,g]=p.useState(""),[y,x]=p.useState(!1),[b,_]=p.useState([]),[w,N]=p.useState([]),[C,j]=p.useState({title:"",description:"",assigned_to:"",client_id:"",priority:"medium",due_date:""}),[A,k]=p.useState(!1),[I,T]=p.useState(Bt(new Date,"yyyy-MM-dd")),[P,V]=p.useState([]),[F,Y]=p.useState({}),[re,U]=p.useState({}),[q,X]=p.useState({}),[pe,xe]=p.useState(!0),[D,M]=p.useState(new Set),[R,H]=p.useState(new Set),B=async()=>{try{const{data:we,error:qe}=await ce.rpc("get_prioritized_tasks_for_employee",{p_employee_id:e.id});if(qe)throw qe;const rt=we||[],tr=[...new Set(rt.filter(Lt=>Lt.created_by&&Lt.created_by!==Lt.assigned_to).map(Lt=>Lt.created_by))];if(tr.length>0){const{data:Lt}=await ce.from("profiles").select("id, full_name").in("id",tr),Gt={};(Lt||[]).forEach(Ut=>{Gt[Ut.id]=Ut.full_name}),rt.forEach(Ut=>{Ut.created_by&&Gt[Ut.created_by]&&(Ut.creator_profile={full_name:Gt[Ut.created_by]})})}s(rt)}catch(we){t("error",we.message)}finally{l(!1)}},W=p.useCallback(async()=>{if(e){xe(!0);try{const{data:we,error:qe}=await ce.from("client_assignments").select("id, client_id, employee_id, service_id, clients(id, name), services(id, name, slug)").eq("employee_id",e.id);if(qe)throw qe;V(we||[]);const rt=(we||[]).map(tr=>tr.id);if(rt.length>0){const{data:tr,error:Lt}=await ce.from("daily_task_logs").select("*").in("assignment_id",rt).eq("log_date",I);if(Lt)throw Lt;const Gt={},Ut={},Tr={};(tr||[]).forEach(Nt=>{Gt[Nt.assignment_id]=Nt,Ut[Nt.assignment_id]=Nt.metrics||{},Tr[Nt.assignment_id]=Nt.notes||""}),(we||[]).forEach(Nt=>{var jr;Ut[Nt.id]||(Ut[Nt.id]=NBe(((jr=Nt.services)==null?void 0:jr.slug)||"")),Tr[Nt.id]===void 0&&(Tr[Nt.id]="")}),Y(Gt),U(Ut),X(Tr)}else Y({}),U({}),X({})}catch(we){t("error",we.message||"Failed to load submissions")}finally{xe(!1)}}},[e,I]),te=async()=>{const[we,qe]=await Promise.all([ce.from("profiles").select("id, full_name, email").eq("role","employee").eq("status","active").order("full_name"),ce.from("clients").select("id, name").eq("status","active").order("name")]);_(we.data||[]),N(qe.data||[])};p.useEffect(()=>{e&&(B(),te())},[e]),p.useEffect(()=>{W()},[W]);const J=async we=>{try{const qe=we.status==="completed"?"pending":"completed",{error:rt}=await ce.from("tasks").update({status:qe,completed_at:qe==="completed"?new Date().toISOString():null}).eq("id",we.id);if(rt)throw rt;t("success",qe==="completed"?"Task marked as completed":"Task marked as pending"),B()}catch(qe){t("error",qe.message)}},oe=async we=>{try{const{error:qe}=await ce.from("tasks").update({remarks:v}).eq("id",we);if(qe)throw qe;t("success","Remarks saved"),h(null),g(""),B()}catch(qe){t("error",qe.message)}},_e=async we=>{if(we.preventDefault(),!C.title||!C.assigned_to||!C.due_date){t("error","Please fill in the task title, assign to, and due date");return}k(!0);try{const{error:qe}=await ce.from("tasks").insert({title:C.title,description:C.description||null,assigned_to:C.assigned_to,created_by:e.id,client_id:C.client_id||null,priority:C.priority,due_date:C.due_date});if(qe)throw qe;t("success","Task request sent successfully"),x(!1),j({title:"",description:"",assigned_to:"",client_id:"",priority:"medium",due_date:""}),B()}catch(qe){t("error",qe.message||"Failed to raise task")}finally{k(!1)}},ve=we=>we.status==="pending"&&_z(Gl(we.due_date))&&!Dm(Gl(we.due_date)),We=we=>{const qe=new Set(d);qe.has(we)?qe.delete(we):qe.add(we),f(qe)},ze=we=>{h(we.id),g(we.remarks||"")},ae=we=>{switch(we){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},$e=a.filter(we=>c==="today"?Dm(Gl(we.due_date)):c==="overdue"?ve(we):!0),He=a.filter(we=>we.status==="pending"),nt=a.filter(we=>we.status==="completed"),Ke=a.filter(ve),tt=a.filter(we=>Dm(Gl(we.due_date))),at=(we,qe,rt)=>{U(tr=>({...tr,[we]:{...tr[we],[qe]:rt}}))},pt=(we,qe)=>{X(rt=>({...rt,[we]:qe}))},kt=async we=>{M(qe=>new Set(qe).add(we.id));try{const qe=F[we.id],rt={assignment_id:we.id,employee_id:e.id,client_id:we.client_id,service_id:we.service_id,log_date:I,metrics:re[we.id]||{},notes:q[we.id]||null,status:"pending"},tr=ce.from("daily_task_logs");if(qe){const{error:Lt}=await tr.update({metrics:rt.metrics,notes:rt.notes,updated_at:new Date().toISOString()}).eq("id",qe.id);if(Lt)throw Lt}else{const{error:Lt}=await tr.insert(rt);if(Lt)throw Lt}t("success","Draft saved"),await W()}catch(qe){t("error",qe.message||"Failed to save draft")}finally{M(qe=>{const rt=new Set(qe);return rt.delete(we.id),rt})}},Jt=async we=>{H(qe=>new Set(qe).add(we.id));try{const qe=F[we.id],rt={assignment_id:we.id,employee_id:e.id,client_id:we.client_id,service_id:we.service_id,log_date:I,metrics:re[we.id]||{},notes:q[we.id]||null,status:"submitted",submitted_at:new Date().toISOString()},tr=ce.from("daily_task_logs");if(qe){const{error:Lt}=await tr.update({metrics:rt.metrics,notes:rt.notes,status:"submitted",submitted_at:rt.submitted_at,updated_at:new Date().toISOString()}).eq("id",qe.id);if(Lt)throw Lt}else{const{error:Lt}=await tr.insert(rt);if(Lt)throw Lt}t("success","Submission completed"),await W()}catch(qe){t("error",qe.message||"Failed to submit")}finally{H(qe=>{const rt=new Set(qe);return rt.delete(we.id),rt})}},Yt=we=>{const qe=new Date(I);qe.setDate(qe.getDate()+we),T(Bt(qe,"yyyy-MM-dd"))},Zt=P.filter(we=>{var qe;return((qe=F[we.id])==null?void 0:qe.status)==="submitted"}).length,fr=P.filter(we=>{var qe;return((qe=F[we.id])==null?void 0:qe.status)==="pending"}).length,ar=P.length-Zt-fr;return o&&pe?i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-48 mb-2"}),i.jsx(Ne,{className:"h-4 w-72"})]}),i.jsx(Ne,{className:"h-12 w-80"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(we=>i.jsx(Ne,{className:"h-28"},we))}),i.jsx("div",{className:"space-y-3",children:[1,2,3].map(we=>i.jsx(Ne,{className:"h-32"},we))})]}):i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-my-tasks-title",children:"My Tasks"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your tasks, raise requests, and log daily submissions"})]}),i.jsxs(be,{onClick:()=>x(!0),"data-testid":"button-raise-task",children:[i.jsx(rn,{className:"h-4 w-4 mr-1.5"}),"Raise Task Request"]})]}),i.jsxs(Tj,{value:r,onValueChange:n,className:"w-full",children:[i.jsxs(Ix,{"data-testid":"tabs-my-tasks",children:[i.jsxs(Eo,{value:"tasks","data-testid":"tab-tasks",children:[i.jsx(Fi,{className:"h-4 w-4 mr-1.5"}),"Assigned Tasks",He.length>0&&i.jsx(vt,{variant:"secondary",className:"ml-2 text-xs",children:He.length})]}),i.jsxs(Eo,{value:"submissions","data-testid":"tab-submissions",children:[i.jsx(ov,{className:"h-4 w-4 mr-1.5"}),"Daily Submissions",ar>0&&i.jsx(vt,{variant:"secondary",className:"ml-2 text-xs",children:ar})]})]}),i.jsxs(wl,{value:"tasks",className:"space-y-6 mt-6",children:[i.jsx(SBe,{}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(Ce,{"data-testid":"stat-card-total",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Total Tasks"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-total-tasks",children:a.length})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:i.jsx(Nn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-card-pending",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Pending"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-pending-tasks",children:He.length})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:i.jsx(Kf,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-card-overdue",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Overdue"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-overdue-tasks",children:Ke.length})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-red-50 dark:bg-red-950/40",children:i.jsx(qi,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-card-completed",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Completed"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-completed-tasks",children:nt.length})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-green-50 dark:bg-green-950/40",children:i.jsx(Fi,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(E$,{className:"h-5 w-5 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filter:"}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsxs(be,{variant:c==="all"?"default":"secondary",size:"sm",onClick:()=>u("all"),"data-testid":"filter-all",children:["All Tasks (",a.length,")"]}),i.jsxs(be,{variant:c==="today"?"default":"secondary",size:"sm",onClick:()=>u("today"),"data-testid":"filter-today",children:["Today (",tt.length,")"]}),i.jsxs(be,{variant:c==="overdue"?"destructive":"secondary",size:"sm",onClick:()=>u("overdue"),"data-testid":"filter-overdue",children:["Overdue (",Ke.length,")"]})]})]})})}),$e.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-12 text-center",children:[i.jsx(Fi,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-foreground text-lg",children:"No tasks found"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:c==="all"?"You don't have any tasks assigned yet":`No ${c} tasks`})]})}):i.jsx("div",{className:"space-y-3",children:$e.map(we=>{var Gt;const qe=ve(we),rt=Dm(Gl(we.due_date)),tr=d.has(we.id),Lt=we.created_by&&we.created_by!==we.assigned_to;return i.jsx(Ce,{"data-testid":`task-card-${we.id}`,className:`border-2 ${qe&&we.status==="pending"?"border-destructive/50 bg-destructive/5":we.status==="completed"?"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 opacity-75":rt?"border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20":"border-border"}`,children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx(be,{variant:"ghost",size:"icon",onClick:()=>J(we),className:`mt-1 flex-shrink-0 ${we.status==="completed"?"text-green-600 dark:text-green-400":"text-muted-foreground"}`,"data-testid":`button-toggle-task-${we.id}`,children:we.status==="completed"?i.jsx(Fi,{className:"h-7 w-7"}):i.jsx(Kf,{className:"h-7 w-7"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`text-lg font-semibold mb-2 ${we.status==="completed"?"text-muted-foreground line-through":"text-foreground"}`,children:we.title}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx(vt,{variant:ae(we.priority),className:"text-xs",children:we.priority.toUpperCase()}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx(Nn,{className:"h-4 w-4"}),i.jsxs("span",{className:qe&&we.status==="pending"?"text-destructive font-semibold":"",children:[Bt(Gl(we.due_date),"MMM d, yyyy"),rt&&" (Today)",qe&&we.status==="pending"&&" - OVERDUE"]})]}),(we.clients||we.client_name)&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx(Js,{className:"h-4 w-4"}),i.jsx("span",{children:((Gt=we.clients)==null?void 0:Gt.name)||we.client_name})]}),Lt&&we.creator_profile&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx(A6,{className:"h-4 w-4"}),i.jsxs("span",{children:["From: ",we.creator_profile.full_name]})]}),we.meeting_urgency_label&&we.days_until_meeting!==void 0&&i.jsx(jBe,{daysUntilMeeting:we.days_until_meeting,urgencyLabel:we.meeting_urgency_label,size:"sm"}),we.status==="completed"&&we.completed_at&&i.jsxs("span",{className:"text-xs text-green-700 dark:text-green-400 font-medium",children:["Completed ",Bt(Gl(we.completed_at),"MMM d, h:mm a")]})]})]}),qe&&we.status==="pending"&&i.jsx("div",{className:"flex-shrink-0",children:i.jsxs(vt,{variant:"destructive",className:"text-xs font-bold",children:[i.jsx(qi,{className:"h-3 w-3 mr-1"}),"OVERDUE"]})})]}),we.description&&i.jsx("p",{className:"text-muted-foreground mb-3 text-sm",children:we.description}),i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx(be,{variant:"link",size:"sm",className:"p-0 h-auto",onClick:()=>We(we.id),"data-testid":`button-toggle-details-${we.id}`,children:tr?i.jsxs(i.Fragment,{children:[i.jsx(cd,{className:"h-4 w-4 mr-1"})," Hide Details"]}):i.jsxs(i.Fragment,{children:[i.jsx(Hc,{className:"h-4 w-4 mr-1"})," Show Details"]})}),we.status==="pending"&&i.jsxs(be,{variant:"link",size:"sm",className:"p-0 h-auto text-muted-foreground",onClick:()=>ze(we),"data-testid":`button-edit-remarks-${we.id}`,children:[i.jsx(Qs,{className:"h-4 w-4 mr-1"}),we.remarks?"Edit Remarks":"Add Remarks"]})]}),tr&&i.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:i.jsxs("div",{className:"bg-muted rounded-md p-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-foreground mb-2 flex items-center gap-2",children:[i.jsx(Qs,{className:"h-4 w-4"}),"Task Remarks"]}),m===we.id?i.jsxs("div",{className:"space-y-3",children:[i.jsx($n,{value:v,onChange:Ut=>g(Ut.target.value),placeholder:"Add your remarks about this task...",rows:4,"data-testid":`textarea-remarks-${we.id}`}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx(be,{size:"sm",onClick:()=>oe(we.id),"data-testid":`button-save-remarks-${we.id}`,children:"Save Remarks"}),i.jsx(be,{size:"sm",variant:"secondary",onClick:()=>{h(null),g("")},"data-testid":`button-cancel-remarks-${we.id}`,children:"Cancel"})]})]}):i.jsx("div",{children:we.remarks?i.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:we.remarks}):i.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No remarks added yet"})})]})})]})]})})},we.id)})})]}),i.jsxs(wl,{value:"submissions",className:"space-y-6 mt-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 flex-1",children:[i.jsx(Ce,{"data-testid":"stat-card-submitted",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Submitted"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-submitted",children:Zt})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-green-50 dark:bg-green-950/40",children:i.jsx(Fi,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-card-drafts",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Drafts"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-drafts",children:fr})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:i.jsx(En,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-card-not-started",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Not Started"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"stat-not-started",children:ar})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-muted",children:i.jsx(ln,{className:"h-5 w-5 text-muted-foreground"})})]})})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(be,{variant:"outline",size:"icon",onClick:()=>Yt(-1),"data-testid":"button-prev-date",children:i.jsx(O2,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-muted text-sm font-medium text-foreground min-w-[140px] justify-center",children:[i.jsx(ln,{className:"h-4 w-4 text-muted-foreground"}),Bt(new Date(I+"T00:00:00"),"EEE, MMM d, yyyy")]}),i.jsx(be,{variant:"outline",size:"icon",onClick:()=>Yt(1),"data-testid":"button-next-date",children:i.jsx(xh,{className:"h-4 w-4"})})]})]}),pe?i.jsx("div",{className:"space-y-4",children:[1,2].map(we=>i.jsx(Ne,{className:"h-64"},we))}):P.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-12 text-center",children:[i.jsx(ov,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-foreground text-lg font-medium",children:"No assignments found"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"You don't have any client-service assignments yet. Contact your admin to get started."})]})}):i.jsx("div",{className:"space-y-4",children:P.map(we=>{var Kt,rr,Vr;const qe=((Kt=we.services)==null?void 0:Kt.slug)||"",rt=F[we.id],tr=(rt==null?void 0:rt.status)==="submitted",Lt=(rt==null?void 0:rt.status)==="pending",Gt=CBe(qe),Ut=re[we.id]||{},Tr=q[we.id]||"",Nt=D.has(we.id),jr=R.has(we.id);return i.jsxs(Ce,{"data-testid":`card-assignment-${we.id}`,children:[i.jsx(wr,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`rounded-lg p-2.5 ${EBe(qe)}`,children:i.jsx(ti,{className:"h-5 w-5 text-foreground"})}),i.jsxs("div",{children:[i.jsx(br,{className:"text-base",children:((rr=we.services)==null?void 0:rr.name)||"Unknown Service"}),i.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[i.jsx(Js,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:((Vr=we.clients)==null?void 0:Vr.name)||"Unknown Client"})]})]})]}),tr?i.jsxs(vt,{variant:"default",className:"bg-green-600 dark:bg-green-700",children:[i.jsx(Fi,{className:"h-3 w-3 mr-1"})," Submitted"]}):Lt?i.jsxs(vt,{variant:"secondary",children:[i.jsx(En,{className:"h-3 w-3 mr-1"})," Draft"]}):i.jsxs(vt,{variant:"outline",children:[i.jsx(ln,{className:"h-3 w-3 mr-1"})," Not Started"]})]})}),i.jsx(Ae,{className:"pt-0",children:Gt.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:`rounded-lg p-4 ${kBe(qe)}`,children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:Gt.map(Qt=>i.jsxs("div",{children:[i.jsx(ye,{className:"text-xs font-medium mb-1 block",children:Qt.label}),i.jsx(Ue,{type:"number",step:Qt.step||"1",min:"0",value:Ut[Qt.key]??0,onChange:qt=>{const Er=Qt.type==="decimal"?parseFloat(qt.target.value)||0:parseInt(qt.target.value)||0;at(we.id,Qt.key,Er)},disabled:tr,className:"bg-background","data-testid":`input-${qe}-${Qt.key}-${we.id}`})]},Qt.key))})}),i.jsxs("div",{children:[i.jsx(ye,{className:"text-sm font-medium mb-1.5 block",children:"Notes"}),i.jsx($n,{placeholder:"Add any notes about today's work...",value:Tr,onChange:Qt=>pt(we.id,Qt.target.value),disabled:tr,rows:2,"data-testid":`textarea-notes-${we.id}`})]}),!tr&&i.jsxs("div",{className:"flex items-center gap-2 justify-end flex-wrap",children:[i.jsxs(be,{variant:"outline",size:"sm",onClick:()=>kt(we),disabled:Nt||jr,"data-testid":`button-save-draft-${we.id}`,children:[Nt?i.jsx(Zs,{className:"h-4 w-4 mr-1.5 animate-spin"}):i.jsx(wC,{className:"h-4 w-4 mr-1.5"}),"Save Draft"]}),i.jsxs(be,{size:"sm",onClick:()=>Jt(we),disabled:Nt||jr,"data-testid":`button-submit-${we.id}`,children:[jr?i.jsx(Zs,{className:"h-4 w-4 mr-1.5 animate-spin"}):i.jsx(lv,{className:"h-4 w-4 mr-1.5"}),"Submit"]})]}),tr&&(rt==null?void 0:rt.submitted_at)&&i.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:["Submitted at ",Bt(new Date(rt.submitted_at),"h:mm a")]})]}):i.jsx("div",{className:"p-6 text-center text-muted-foreground",children:i.jsx("p",{className:"text-sm",children:"No metric fields configured for this service type."})})})]},we.id)})})]})]}),i.jsx(Ur,{open:y,onOpenChange:x,children:i.jsxs(Lr,{className:"sm:max-w-[500px]",children:[i.jsx(zr,{children:i.jsx(Wr,{children:"Raise Task Request"})}),i.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"text-sm font-medium mb-1.5 block",children:"Task Title *"}),i.jsx(Ue,{value:C.title,onChange:we=>j(qe=>({...qe,title:we.target.value})),placeholder:"Enter task title","data-testid":"input-raise-task-title"})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"text-sm font-medium mb-1.5 block",children:"Description"}),i.jsx($n,{value:C.description,onChange:we=>j(qe=>({...qe,description:we.target.value})),placeholder:"Describe the task...",rows:3,"data-testid":"input-raise-task-description"})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"text-sm font-medium mb-1.5 block",children:"Assign To *"}),i.jsxs(_t,{value:C.assigned_to,onValueChange:we=>j(qe=>({...qe,assigned_to:we})),children:[i.jsx(wt,{"data-testid":"select-raise-task-assignee",children:i.jsx(jt,{placeholder:"Select an employee"})}),i.jsx(bt,{children:b.filter(we=>we.id!==(e==null?void 0:e.id)).map(we=>i.jsx(Ee,{value:we.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Po,{className:"h-4 w-4 text-muted-foreground"}),we.full_name]})},we.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ye,{className:"text-sm font-medium mb-1.5 block",children:"Priority"}),i.jsxs(_t,{value:C.priority,onValueChange:we=>j(qe=>({...qe,priority:we})),children:[i.jsx(wt,{"data-testid":"select-raise-task-priority",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"low",children:"Low"}),i.jsx(Ee,{value:"medium",children:"Medium"}),i.jsx(Ee,{value:"high",children:"High"})]})]})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"text-sm font-medium mb-1.5 block",children:"Due Date *"}),i.jsx(Ue,{type:"date",value:C.due_date,onChange:we=>j(qe=>({...qe,due_date:we.target.value})),"data-testid":"input-raise-task-due-date"})]})]}),i.jsxs("div",{children:[i.jsx(ye,{className:"text-sm font-medium mb-1.5 block",children:"Client (Optional)"}),i.jsxs(_t,{value:C.client_id,onValueChange:we=>j(qe=>({...qe,client_id:we})),children:[i.jsx(wt,{"data-testid":"select-raise-task-client",children:i.jsx(jt,{placeholder:"Select a client (optional)"})}),i.jsx(bt,{children:w.map(we=>i.jsx(Ee,{value:we.id,children:we.name},we.id))})]})]}),i.jsxs(qr,{children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>x(!1),"data-testid":"button-cancel-raise-task",children:"Cancel"}),i.jsxs(be,{type:"submit",disabled:A,"data-testid":"button-submit-raise-task",children:[A?i.jsx(Zs,{className:"h-4 w-4 mr-1.5 animate-spin"}):i.jsx(A6,{className:"h-4 w-4 mr-1.5"}),"Send Task"]})]})]})]})})]})}const PBe=(e,t)=>{if(t==="submitted")return i.jsxs(vt,{variant:"default",className:"bg-green-600 dark:bg-green-700",children:[i.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Submitted"]});switch(e){case"completed":return i.jsxs(vt,{variant:"default",className:"bg-green-600 dark:bg-green-700",children:[i.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Completed"]});case"in_progress":return i.jsxs(vt,{variant:"default",className:"bg-blue-600 dark:bg-blue-700",children:[i.jsx(T$,{className:"h-3 w-3 mr-1"}),"In Progress"]});case"on_hold":return i.jsxs(vt,{variant:"secondary",className:"bg-amber-600 dark:bg-amber-700 text-white",children:[i.jsx(nie,{className:"h-3 w-3 mr-1"}),"On Hold"]});case"review":return i.jsxs(vt,{variant:"secondary",className:"bg-violet-600 dark:bg-violet-700 text-white",children:[i.jsx(ln,{className:"h-3 w-3 mr-1"}),"In Review"]});default:return i.jsxs(vt,{variant:"outline",children:[i.jsx(Kf,{className:"h-3 w-3 mr-1"}),"Not Started"]})}};function TBe(){const{user:e}=Ln(),{showToast:t}=yr(),[r,n]=p.useState(Bt(new Date,"yyyy-MM-dd")),[a,s]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState(!0),[d,f]=p.useState(new Set);p.useEffect(()=>{e&&m()},[e,r]);const m=async()=>{u(!0);try{const[w,N]=await Promise.all([ce.rpc("get_managed_clients"),ce.rpc("get_team_daily_progress",{p_log_date:r})]);if(w.error)throw w.error;if(N.error)throw N.error;const C=w.data||[];s(C),l(N.data||[]),C.length>0&&f(new Set(C.map(j=>j.client_id)))}catch(w){t(w.message||"Failed to load team progress","error")}finally{u(!1)}},h=w=>{const N=new Date(r);N.setDate(N.getDate()+w),n(Bt(N,"yyyy-MM-dd"))},v=w=>{const N=new Set(d);N.has(w)?N.delete(w):N.add(w),f(N)},g=o.reduce((w,N)=>(w[N.client_id]||(w[N.client_id]={client_id:N.client_id,client_name:N.client_name,employees:{}}),w[N.client_id].employees[N.employee_id]||(w[N.client_id].employees[N.employee_id]={employee_id:N.employee_id,employee_name:N.employee_name,tasks:[]}),w[N.client_id].employees[N.employee_id].tasks.push(N),w),{}),y=Object.values(g),x=o.filter(w=>w.submission_status==="submitted").length,b=o.filter(w=>w.work_status==="in_progress").length,_=o.filter(w=>!w.work_status||w.work_status==="not_started").length;return c?i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-64 mb-2"}),i.jsx(Ne,{className:"h-4 w-96"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(w=>i.jsx(Ne,{className:"h-28"},w))}),i.jsx(Ne,{className:"h-96"})]}):a.length===0?i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-12 text-center",children:[i.jsx(ra,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-foreground text-lg font-medium",children:"Not an Account Manager"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"You are not set as an account manager for any clients. Contact your admin if this is incorrect."})]})})}):i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Team Progress Tracker"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor your team's daily progress on managed clients"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(be,{variant:"outline",size:"icon",onClick:()=>h(-1),children:i.jsx(O2,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-muted text-sm font-medium text-foreground min-w-[140px] justify-center",children:[i.jsx(ln,{className:"h-4 w-4 text-muted-foreground"}),Bt(new Date(r+"T00:00:00"),"EEE, MMM d, yyyy")]}),i.jsx(be,{variant:"outline",size:"icon",onClick:()=>h(1),children:i.jsx(xh,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(Ce,{children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Submitted"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:x})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-green-50 dark:bg-green-950/40",children:i.jsx(Fi,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"In Progress"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:b})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:i.jsx(T$,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Not Started"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:_})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-muted",children:i.jsx(Kf,{className:"h-5 w-5 text-muted-foreground"})})]})})})]}),i.jsx("div",{className:"space-y-4",children:y.map(w=>{const N=Object.values(w.employees),C=d.has(w.client_id);return i.jsx(Ce,{className:"border-2",children:i.jsxs(iQ,{open:C,onOpenChange:()=>v(w.client_id),children:[i.jsx(wr,{className:"bg-muted/30 pb-4",children:i.jsx(oQ,{className:"w-full",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg p-3 bg-primary/10",children:i.jsx(Js,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{className:"text-left",children:[i.jsx(br,{className:"text-lg",children:w.client_name}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[N.length," ",N.length===1?"team member":"team members"]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(vt,{variant:"secondary",children:[i.jsx(ra,{className:"h-3 w-3 mr-1"}),N.length]})})]})})}),i.jsx(lQ,{children:i.jsx(Ae,{className:"p-6",children:i.jsx("div",{className:"space-y-6",children:N.map(j=>i.jsxs("div",{className:"border rounded-lg bg-card",children:[i.jsx("div",{className:"p-4 border-b bg-muted/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg p-2 bg-blue-50 dark:bg-blue-950/40",children:i.jsx(Po,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-sm",children:j.employee_name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.tasks.length," ",j.tasks.length===1?"service":"services"]})]})]})}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"space-y-3",children:j.tasks.map(A=>i.jsxs("div",{className:"border rounded-lg p-3 bg-muted/5",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(ti,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:"text-sm font-medium",children:A.service_name})]}),PBe(A.work_status,A.submission_status)]}),A.notes&&i.jsxs("div",{className:"mt-2 p-2 bg-muted rounded text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground mb-1",children:[i.jsx(En,{className:"h-3 w-3"}),i.jsx("span",{className:"font-medium",children:"Notes:"})]}),i.jsx("p",{className:"text-foreground whitespace-pre-wrap",children:A.notes})]}),A.submitted_at&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Submitted at ",Bt(new Date(A.submitted_at),"h:mm a")]})]},A.assignment_id))})})]},j.employee_id))})})})]})},w.client_id)})})]})}function OBe(e){switch(e){case"linkedin_outreach":return"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800";case"email_outreach":return"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 border-emerald-200 dark:border-emerald-800";case"meta_ads":return"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 border-indigo-200 dark:border-indigo-800";case"google_ads":return"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300 border-amber-200 dark:border-amber-800";case"seo":return"bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-800";case"social_media":return"bg-pink-100 dark:bg-pink-900/50 text-pink-700 dark:text-pink-300 border-pink-200 dark:border-pink-800";default:return""}}function RBe(e){return e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()).replace("Ctr","CTR").replace("Cpc","CPC").replace("Cpl","CPL")}function IBe(e,t){return typeof t!="number"?String(t):e.includes("spend")||e.includes("cost")||e.includes("cpc")||e.includes("cpl")?`$${t.toFixed(2)}`:e.includes("rate")||e==="ctr"||e.includes("percent")?`${t.toFixed(1)}%`:t.toLocaleString()}function DBe(){const{showToast:e}=yr(),[t,r]=p.useState(Bt(new Date,"yyyy-MM-dd")),[n,a]=p.useState([]),[s,o]=p.useState(!0),[l,c]=p.useState(""),[u,d]=p.useState("all"),[f,m]=p.useState(null),h=p.useCallback(async()=>{o(!0);try{const{data:b,error:_}=await ce.from("daily_task_logs").select("*, profiles!daily_task_logs_employee_id_fkey(full_name, email), clients(name), services(name, slug)").eq("log_date",t).order("submitted_at",{ascending:!1,nullsFirst:!1});if(_)throw _;a(b||[])}catch(b){e("error",b.message||"Failed to load submissions")}finally{o(!1)}},[t]);p.useEffect(()=>{h()},[h]);const v=b=>{const _=new Date(t);_.setDate(_.getDate()+b),r(Bt(_,"yyyy-MM-dd"))},g=n.filter(b=>{var _,w,N,C,j,A;if(u!=="all"&&b.status!==u)return!1;if(l){const k=l.toLowerCase();return((w=(_=b.profiles)==null?void 0:_.full_name)==null?void 0:w.toLowerCase().includes(k))||((C=(N=b.clients)==null?void 0:N.name)==null?void 0:C.toLowerCase().includes(k))||((A=(j=b.services)==null?void 0:j.name)==null?void 0:A.toLowerCase().includes(k))}return!0}),y=n.filter(b=>b.status==="submitted").length,x=n.filter(b=>b.status==="pending").length;return s?i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx(Ne,{className:"h-8 w-56 mb-2"}),i.jsx(Ne,{className:"h-4 w-80"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(b=>i.jsx(Ne,{className:"h-28"},b))}),i.jsx(Ne,{className:"h-12"}),[1,2,3].map(b=>i.jsx(Ne,{className:"h-20"},b))]}):i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-start gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground","data-testid":"text-admin-daily-title",children:"Daily Submissions"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Review employee daily task submissions and metrics"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(be,{variant:"outline",size:"icon",onClick:()=>v(-1),"data-testid":"button-admin-prev-date",children:i.jsx(O2,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-muted text-sm font-medium text-foreground min-w-[140px] justify-center",children:[i.jsx(ln,{className:"h-4 w-4 text-muted-foreground"}),Bt(new Date(t+"T00:00:00"),"EEE, MMM d, yyyy")]}),i.jsx(be,{variant:"outline",size:"icon",onClick:()=>v(1),"data-testid":"button-admin-next-date",children:i.jsx(xh,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(Ce,{"data-testid":"stat-admin-total",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Total Logs"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:n.length})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-blue-50 dark:bg-blue-950/40",children:i.jsx(ov,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-admin-submitted",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Submitted"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:y})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-green-50 dark:bg-green-950/40",children:i.jsx(Fi,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),i.jsx(Ce,{"data-testid":"stat-admin-drafts",children:i.jsx(Ae,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Drafts"}),i.jsx("p",{className:"text-2xl font-semibold tracking-tight text-foreground",children:x})]}),i.jsx("div",{className:"rounded-lg p-2.5 bg-amber-50 dark:bg-amber-950/40",children:i.jsx(En,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})})})]}),i.jsx(Ce,{children:i.jsx(Ae,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[i.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ue,{placeholder:"Search by employee, client, or service...",value:l,onChange:b=>c(b.target.value),className:"pl-9","data-testid":"input-admin-search"})]}),i.jsxs(_t,{value:u,onValueChange:b=>d(b),children:[i.jsx(wt,{className:"w-[160px]","data-testid":"select-admin-status-filter",children:i.jsx(jt,{placeholder:"Status"})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"all",children:"All Status"}),i.jsx(Ee,{value:"submitted",children:"Submitted"}),i.jsx(Ee,{value:"pending",children:"Drafts"})]})]})]})})}),g.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-12 text-center",children:[i.jsx(ov,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-foreground text-lg font-medium",children:"No submissions found"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:n.length===0?"No daily task logs have been submitted for this date":"No results match your current filters"})]})}):i.jsx("div",{className:"space-y-3",children:g.map(b=>{var N,C,j,A;const _=f===b.id,w=Object.entries(b.metrics||{}).filter(([k,I])=>I!==0&&I!==null);return i.jsx(Ce,{"data-testid":`card-daily-log-${b.id}`,className:"hover-elevate cursor-pointer",onClick:()=>m(_?null:b.id),children:i.jsxs(Ae,{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("div",{className:"rounded-full p-2 bg-muted flex-shrink-0",children:i.jsx(Po,{className:"h-4 w-4 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-medium text-foreground truncate",children:((N=b.profiles)==null?void 0:N.full_name)||"Unknown"}),i.jsxs("div",{className:"flex items-center gap-3 flex-wrap mt-0.5",children:[i.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(Js,{className:"h-3.5 w-3.5"}),((C=b.clients)==null?void 0:C.name)||"Unknown"]}),i.jsxs(vt,{variant:"outline",className:`text-xs ${OBe(((j=b.services)==null?void 0:j.slug)||"")}`,children:[i.jsx(ti,{className:"h-3 w-3 mr-1"}),((A=b.services)==null?void 0:A.name)||"Unknown"]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[b.status==="submitted"?i.jsxs(vt,{variant:"default",className:"bg-green-600 dark:bg-green-700",children:[i.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Submitted"]}):i.jsxs(vt,{variant:"secondary",children:[i.jsx(En,{className:"h-3 w-3 mr-1"}),"Draft"]}),b.submitted_at&&i.jsx("span",{className:"text-xs text-muted-foreground",children:Bt(new Date(b.submitted_at),"h:mm a")})]})]}),_&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[w.length>0?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 mb-3",children:w.map(([k,I])=>i.jsxs("div",{className:"bg-muted rounded-md p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:RBe(k)}),i.jsx("p",{className:"text-sm font-semibold text-foreground",children:IBe(k,I)})]},k))}):i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No metrics recorded"}),b.notes&&i.jsxs("div",{className:"bg-muted rounded-md p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Notes"}),i.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:b.notes})]})]})]})},b.id)})})]})}function SQ(){const{profile:e}=Ln(),{showToast:t}=yr(),[r,n]=p.useState("send"),[a,s]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!1),[m,h]=p.useState({to_user_id:"",message:""});p.useEffect(()=>{v(),g(),y()},[]);async function v(){try{const{data:w,error:N}=await ce.from("profiles").select("id, full_name, role, email").eq("status","active").neq("id",(e==null?void 0:e.id)||"").order("full_name");if(N)throw N;s(w||[])}catch(w){console.error("Error loading employees:",w)}}async function g(){if(e)try{const{data:w,error:N}=await ce.from("feedback").select(`
          *,
          from_user:profiles!from_user_id(full_name, role)
        `).eq("to_user_id",e.id).order("created_at",{ascending:!1});if(N)throw N;l(w||[])}catch(w){console.error("Error loading received feedback:",w)}}async function y(){if(e)try{const{data:w,error:N}=await ce.from("feedback").select(`
          *,
          to_user:profiles!to_user_id(full_name, role)
        `).eq("from_user_id",e.id).order("created_at",{ascending:!1});if(N)throw N;u(w||[])}catch(w){console.error("Error loading sent feedback:",w)}}async function x(w){if(w.preventDefault(),!!e){if(!m.to_user_id){t("Please select a recipient","error");return}if(!m.message.trim()){t("Please enter a message","error");return}f(!0);try{const{error:N}=await ce.from("feedback").insert({from_user_id:e.id,to_user_id:m.to_user_id,message:m.message.trim(),read:!1});if(N)throw N;t("Feedback sent successfully","success"),h({to_user_id:"",message:""}),y()}catch(N){t(N.message||"Failed to send feedback","error")}finally{f(!1)}}}async function b(w){try{const{error:N}=await ce.from("feedback").update({read:!0}).eq("id",w);if(N)throw N;g()}catch(N){t(N.message||"Failed to mark as read","error")}}const _=o.filter(w=>!w.read).length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Feedback"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Share and receive feedback with your team"})]}),_>0&&i.jsxs(vt,{variant:"destructive",className:"text-sm px-3 py-1",children:[_," unread"]})]}),i.jsxs(Tj,{value:r,onValueChange:n,className:"w-full",children:[i.jsxs(Ix,{className:"grid w-full max-w-md grid-cols-3",children:[i.jsxs(Eo,{value:"send",className:"flex items-center gap-2",children:[i.jsx(lv,{className:"w-4 h-4"}),"Send"]}),i.jsxs(Eo,{value:"received",className:"flex items-center gap-2",children:[i.jsx(N6,{className:"w-4 h-4"}),"Received",_>0&&i.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs rounded-full bg-destructive text-destructive-foreground",children:_})]}),i.jsxs(Eo,{value:"sent",className:"flex items-center gap-2",children:[i.jsx(Ly,{className:"w-4 h-4"}),"Sent"]})]}),i.jsx(wl,{value:"send",className:"mt-6",children:i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("form",{onSubmit:x,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"recipient",children:["Send Feedback To ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs(_t,{value:m.to_user_id,onValueChange:w=>h({...m,to_user_id:w}),children:[i.jsx(wt,{id:"recipient",children:i.jsx(jt,{placeholder:"Select team member"})}),i.jsx(bt,{children:a.map(w=>i.jsx(Ee,{value:w.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:w.full_name}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",w.role,")"]})]})},w.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"message",children:["Message ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx($n,{id:"message",value:m.message,onChange:w=>h({...m,message:w.target.value}),placeholder:"Share constructive feedback, recognition, or suggestions...",rows:8,required:!0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Be specific, constructive, and professional in your feedback"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(be,{type:"submit",disabled:d,children:[i.jsx(lv,{className:"w-4 h-4 mr-2"}),d?"Sending...":"Send Feedback"]})})]})})})}),i.jsx(wl,{value:"received",className:"mt-6",children:i.jsx("div",{className:"space-y-4",children:o.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(N6,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No feedback received yet"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"When team members send you feedback, it will appear here"})]})}):o.map(w=>{var N,C;return i.jsx(Ce,{className:w.read?"":"border-primary border-2",children:i.jsxs(Ae,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:i.jsx(Po,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-foreground",children:((N=w.from_user)==null?void 0:N.full_name)||"Unknown"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[((C=w.from_user)==null?void 0:C.role)||"Employee"," "," ",Bt(new Date(w.created_at),"MMM d, yyyy h:mm a")]})]})]}),!w.read&&i.jsxs(be,{size:"sm",variant:"outline",onClick:()=>b(w.id),children:[i.jsx(Ly,{className:"w-4 h-4 mr-2"}),"Mark Read"]})]}),i.jsx("div",{className:"prose prose-sm max-w-none",children:i.jsx("p",{className:"text-foreground whitespace-pre-wrap",children:w.message})})]})},w.id)})})}),i.jsx(wl,{value:"sent",className:"mt-6",children:i.jsx("div",{className:"space-y-4",children:c.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(Ly,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No feedback sent yet"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Send your first feedback using the Send tab"})]})}):c.map(w=>{var N,C;return i.jsx(Ce,{children:i.jsxs(Ae,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:i.jsx(Po,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"font-semibold text-foreground",children:["To: ",((N=w.to_user)==null?void 0:N.full_name)||"Unknown"]}),w.read&&i.jsxs(vt,{variant:"outline",className:"text-xs",children:[i.jsx(Ly,{className:"w-3 h-3 mr-1"}),"Read"]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[((C=w.to_user)==null?void 0:C.role)||"Employee"," "," ",Bt(new Date(w.created_at),"MMM d, yyyy h:mm a")]})]})]}),i.jsx("div",{className:"prose prose-sm max-w-none ml-14",children:i.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:w.message})})]})},w.id)})})})]})]})}function NQ(){const{profile:e}=Ln(),{showToast:t}=yr(),[r,n]=p.useState((e==null?void 0:e.role)==="admin"?"pending":"my-requests"),[a,s]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[m,h]=p.useState({type:"vacation",start_date:"",end_date:"",reason:""}),v=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="account_manager";p.useEffect(()=>{v&&g(),y()},[]);async function g(){try{const{data:j,error:A}=await ce.from("time_off_requests").select(`
          *,
          employee:profiles!employee_id(full_name, email, role)
        `).eq("status","pending").order("created_at",{ascending:!1});if(A)throw A;s(j||[])}catch(j){console.error("Error loading time off requests:",j)}}async function y(){if(e)try{const{data:j,error:A}=await ce.from("time_off_requests").select(`
          *,
          approver:profiles!approved_by(full_name)
        `).eq("employee_id",e.id).order("created_at",{ascending:!1});if(A)throw A;l(j||[])}catch(j){console.error("Error loading my requests:",j)}}async function x(j){if(j.preventDefault(),!!e){if(!m.start_date||!m.end_date){t("Please select both start and end dates","error");return}if(new Date(m.start_date)>new Date(m.end_date)){t("End date must be after start date","error");return}f(!0);try{const{error:A}=await ce.from("time_off_requests").insert({employee_id:e.id,type:m.type,start_date:m.start_date,end_date:m.end_date,reason:m.reason||null,status:"pending"});if(A)throw A;t("Time off request submitted successfully","success"),u(!1),h({type:"vacation",start_date:"",end_date:"",reason:""}),y()}catch(A){t(A.message||"Failed to submit request","error")}finally{f(!1)}}}async function b(j){if(e)try{const{error:A}=await ce.from("time_off_requests").update({status:"approved",approved_by:e.id,approved_at:new Date().toISOString()}).eq("id",j);if(A)throw A;t("Request approved","success"),g()}catch(A){t(A.message||"Failed to approve request","error")}}async function _(j){if(e)try{const{error:A}=await ce.from("time_off_requests").update({status:"rejected",approved_by:e.id,approved_at:new Date().toISOString()}).eq("id",j);if(A)throw A;t("Request rejected","success"),g()}catch(A){t(A.message||"Failed to reject request","error")}}const w=j=>{switch(j){case"approved":return i.jsx(vt,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Approved"});case"rejected":return i.jsx(vt,{variant:"destructive",children:"Rejected"});case"pending":return i.jsx(vt,{variant:"secondary",children:"Pending"})}},N=j=>({vacation:"Vacation",sick:"Sick Leave",personal:"Personal",other:"Other"})[j],C=j=>vR(new Date(j.end_date),new Date(j.start_date))+1;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-foreground",children:"Time Off"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:v?"Manage team time off requests":"Request and manage your time off"})]}),i.jsxs(be,{onClick:()=>u(!0),children:[i.jsx(rn,{className:"w-4 h-4 mr-2"}),"Request Time Off"]})]}),i.jsxs(Tj,{value:r,onValueChange:n,className:"w-full",children:[i.jsxs(Ix,{className:`grid w-full max-w-md ${v?"grid-cols-3":"grid-cols-1"}`,children:[v&&i.jsxs(Eo,{value:"pending",className:"flex items-center gap-2",children:[i.jsx(ln,{className:"w-4 h-4"}),"Pending",a.length>0&&i.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs rounded-full bg-primary text-primary-foreground",children:a.length})]}),v&&i.jsxs(Eo,{value:"all",className:"flex items-center gap-2",children:[i.jsx(Nn,{className:"w-4 h-4"}),"All Requests"]}),i.jsxs(Eo,{value:"my-requests",className:"flex items-center gap-2",children:[i.jsx(Nn,{className:"w-4 h-4"}),"My Requests"]})]}),v&&i.jsx(wl,{value:"pending",className:"mt-6",children:i.jsx("div",{className:"space-y-4",children:a.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(ln,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No pending requests"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"All time off requests have been reviewed"})]})}):a.map(j=>{var A,k,I;return i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"font-semibold text-lg text-foreground",children:(A=j.employee)==null?void 0:A.full_name}),w(j.status),i.jsx(vt,{variant:"outline",children:N(j.type)})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:[(k=j.employee)==null?void 0:k.role,"  ",(I=j.employee)==null?void 0:I.email]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Start Date"}),i.jsx("div",{className:"text-sm font-medium",children:Bt(new Date(j.start_date),"MMM d, yyyy")})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"End Date"}),i.jsx("div",{className:"text-sm font-medium",children:Bt(new Date(j.end_date),"MMM d, yyyy")})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Duration: ",C(j)," day",C(j)>1?"s":""]}),j.reason&&i.jsxs("div",{className:"mt-3 p-3 bg-muted rounded-md",children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Reason"}),i.jsx("p",{className:"text-sm",children:j.reason})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(be,{size:"sm",variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-50",onClick:()=>b(j.id),children:[i.jsx(Rp,{className:"w-4 h-4 mr-1"}),"Approve"]}),i.jsxs(be,{size:"sm",variant:"outline",className:"border-red-200 text-red-700 hover:bg-red-50",onClick:()=>_(j.id),children:[i.jsx(oi,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})})},j.id)})})}),i.jsx(wl,{value:"my-requests",className:"mt-6",children:i.jsx("div",{className:"space-y-4",children:o.length===0?i.jsx(Ce,{children:i.jsxs(Ae,{className:"text-center py-12",children:[i.jsx(Nn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No time off requests"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:'Click "Request Time Off" to submit your first request'})]})}):o.map(j=>i.jsx(Ce,{children:i.jsx(Ae,{className:"p-6",children:i.jsx("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w(j.status),i.jsx(vt,{variant:"outline",children:N(j.type)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Start Date"}),i.jsx("div",{className:"text-sm font-medium",children:Bt(new Date(j.start_date),"MMM d, yyyy")})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"End Date"}),i.jsx("div",{className:"text-sm font-medium",children:Bt(new Date(j.end_date),"MMM d, yyyy")})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Duration: ",C(j)," day",C(j)>1?"s":""]}),j.reason&&i.jsxs("div",{className:"p-3 bg-muted rounded-md mb-2",children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Reason"}),i.jsx("p",{className:"text-sm",children:j.reason})]}),j.status!=="pending"&&j.approver&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.status==="approved"?"Approved":"Rejected"," by"," ",j.approver.full_name," on"," ",Bt(new Date(j.approved_at),"MMM d, yyyy")]})]})})})},j.id))})})]}),i.jsx(Ur,{open:c,onOpenChange:u,children:i.jsxs(Lr,{className:"max-w-md",children:[i.jsx(zr,{children:i.jsx(Wr,{children:"Request Time Off"})}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"type",children:["Type ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsxs(_t,{value:m.type,onValueChange:j=>h({...m,type:j}),children:[i.jsx(wt,{id:"type",children:i.jsx(jt,{})}),i.jsxs(bt,{children:[i.jsx(Ee,{value:"vacation",children:"Vacation"}),i.jsx(Ee,{value:"sick",children:"Sick Leave"}),i.jsx(Ee,{value:"personal",children:"Personal"}),i.jsx(Ee,{value:"other",children:"Other"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"start_date",children:["Start Date ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Ue,{id:"start_date",type:"date",value:m.start_date,onChange:j=>h({...m,start_date:j.target.value}),required:!0,min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{htmlFor:"end_date",children:["End Date ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(Ue,{id:"end_date",type:"date",value:m.end_date,onChange:j=>h({...m,end_date:j.target.value}),required:!0,min:m.start_date||new Date().toISOString().split("T")[0]})]})]}),m.start_date&&m.end_date&&i.jsx("div",{className:"p-3 bg-primary/10 rounded-md text-sm",children:i.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[i.jsx(Dn,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-medium",children:[vR(new Date(m.end_date),new Date(m.start_date))+1," day(s) requested"]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ye,{htmlFor:"reason",children:"Reason (Optional)"}),i.jsx($n,{id:"reason",value:m.reason,onChange:j=>h({...m,reason:j.target.value}),placeholder:"Add any additional details...",rows:4})]}),i.jsxs(qr,{className:"gap-2",children:[i.jsx(be,{type:"button",variant:"outline",onClick:()=>u(!1),disabled:d,children:"Cancel"}),i.jsx(be,{type:"submit",disabled:d,children:d?"Submitting...":"Submit Request"})]})]})]})})]})}function LBe(){const[e,t]=p.useState(!1),[r,n]=p.useState(""),[a,s]=p.useState({clients:[],profiles:[],reports:[],tasks:[]}),[o,l]=p.useState(!1),[,c]=hc();p.useEffect(()=>{if(!r.trim()){s({clients:[],profiles:[],reports:[],tasks:[]});return}const h=setTimeout(()=>{u()},300);return()=>clearTimeout(h)},[r]);const u=async()=>{l(!0);try{const h=`%${r}%`,[v,g,y,x]=await Promise.all([ce.from("clients").select("id, name, industry").ilike("name",h).limit(5),ce.from("profiles").select("id, full_name, email, role").ilike("full_name",h).limit(5),ce.from("weekly_reports").select("id, week_start_date, status, client:clients(name)").or(`status.ilike.${h},week_start_date.ilike.${h}`).limit(5),ce.from("tasks").select("id, title, status").ilike("title",h).limit(5)]);s({clients:v.data||[],profiles:g.data||[],reports:y.data||[],tasks:x.data||[]})}catch(h){console.error("Search error:",h),s({clients:[],profiles:[],reports:[],tasks:[]})}finally{l(!1)}};p.useEffect(()=>{const h=v=>{(v.metaKey||v.ctrlKey)&&v.key==="k"&&(v.preventDefault(),t(!0)),v.key==="Escape"&&t(!1)};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[]);const d=h=>{t(!1),n(""),c(h)},f=a.clients.length>0||a.profiles.length>0||a.reports.length>0||a.tasks.length>0,m=!o&&r.trim()&&!f;return i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>t(!0),"data-testid":"button-global-search-open",className:"hidden md:flex items-center gap-2 rounded-md border border-border bg-muted px-3 py-1.5 text-sm text-muted-foreground hover-elevate",title:"Open global search (Cmd+K)",children:[i.jsx(Vi,{className:"h-4 w-4"}),i.jsx("span",{children:"Search..."}),i.jsxs("kbd",{className:"ml-auto rounded border border-border bg-background px-1.5 py-0.5 text-xs font-semibold",children:[i.jsx(Yse,{className:"inline h-3 w-3 mr-1"}),"K"]})]}),i.jsx("button",{onClick:()=>t(!0),"data-testid":"button-global-search-mobile",className:"md:hidden p-1 hover-elevate",children:i.jsx(Vi,{className:"h-5 w-5 text-foreground"})}),i.jsx(Ur,{open:e,onOpenChange:t,children:i.jsx(Lr,{className:"max-h-[80vh] overflow-hidden p-0 shadow-2xl sm:rounded-lg",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"border-b border-border p-4 sticky top-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Vi,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),i.jsx(Ue,{autoFocus:!0,placeholder:"Search clients, employees, reports, tasks...",value:r,onChange:h=>n(h.target.value),"data-testid":"input-global-search",className:"border-0 bg-transparent px-0 focus-visible:ring-0 text-base"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Use arrow keys to navigate, Enter to select, Esc to close"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o&&!r.trim()&&i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsx(Ne,{className:"h-10 w-full rounded"}),i.jsx(Ne,{className:"h-10 w-full rounded"}),i.jsx(Ne,{className:"h-10 w-full rounded"})]}),m&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[i.jsx(Vi,{className:"h-12 w-12 text-muted-foreground mb-3 opacity-50"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['No results found for "',r,'"']})]}),!o&&r.trim()&&f&&i.jsxs("div",{className:"divide-y divide-border",children:[a.clients.length>0&&i.jsxs("div",{"data-testid":"section-clients",children:[i.jsx("div",{className:"sticky top-0 bg-muted/30 px-4 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ra,{className:"h-3.5 w-3.5"}),"Clients"]})}),i.jsx("div",{className:"space-y-1",children:a.clients.map(h=>i.jsxs("button",{onClick:()=>d(`/clients/${h.id}`),"data-testid":`result-client-${h.id}`,className:"w-full text-left px-4 py-2.5 hover-elevate active-elevate-2 transition-colors rounded-none flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:h.name}),h.industry&&i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:h.industry})]}),i.jsx(vt,{variant:"secondary",className:"flex-shrink-0",children:"Client"})]},h.id))})]}),a.profiles.length>0&&i.jsxs("div",{"data-testid":"section-employees",children:[i.jsx("div",{className:"sticky top-0 bg-muted/30 px-4 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xf,{className:"h-3.5 w-3.5"}),"Employees"]})}),i.jsx("div",{className:"space-y-1",children:a.profiles.map(h=>i.jsxs("button",{onClick:()=>d("/employees"),"data-testid":`result-employee-${h.id}`,className:"w-full text-left px-4 py-2.5 hover-elevate active-elevate-2 transition-colors rounded-none flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:h.full_name}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:h.email})]}),i.jsx(vt,{variant:"secondary",className:"flex-shrink-0",children:h.role})]},h.id))})]}),a.reports.length>0&&i.jsxs("div",{"data-testid":"section-reports",children:[i.jsx("div",{className:"sticky top-0 bg-muted/30 px-4 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(En,{className:"h-3.5 w-3.5"}),"Reports"]})}),i.jsx("div",{className:"space-y-1",children:a.reports.map(h=>{var v;return i.jsxs("button",{onClick:()=>d("/reports"),"data-testid":`result-report-${h.id}`,className:"w-full text-left px-4 py-2.5 hover-elevate active-elevate-2 transition-colors rounded-none flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"text-sm font-medium text-foreground truncate",children:[((v=h.client)==null?void 0:v.name)||"Unnamed Client"," Report"]}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:new Date(h.week_start_date).toLocaleDateString()})]}),i.jsx(vt,{variant:"secondary",className:"flex-shrink-0",children:h.status})]},h.id)})})]}),a.tasks.length>0&&i.jsxs("div",{"data-testid":"section-tasks",children:[i.jsx("div",{className:"sticky top-0 bg-muted/30 px-4 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(iv,{className:"h-3.5 w-3.5"}),"Tasks"]})}),i.jsx("div",{className:"space-y-1",children:a.tasks.map(h=>i.jsxs("button",{onClick:()=>d("/tasks"),"data-testid":`result-task-${h.id}`,className:"w-full text-left px-4 py-2.5 hover-elevate active-elevate-2 transition-colors rounded-none flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:h.title}),h.status&&i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:h.status})]}),i.jsx(vt,{variant:"secondary",className:"flex-shrink-0",children:"Task"})]},h.id))})]})]})]})]})})})]})}function MBe(){const[e,t]=p.useState(null),[,r]=hc(),n=s=>{t(s),r("/clients/"+s)},a=()=>{t(null),r("/clients")};return i.jsxs(s$,{children:[i.jsx(dr,{path:"/",component:CR}),i.jsx(dr,{path:"/dashboard",component:CR}),i.jsx(dr,{path:"/analytics",component:rTe}),i.jsx(dr,{path:"/clients",children:i.jsx(lTe,{onViewClient:n})}),i.jsx(dr,{path:"/clients/:id",children:s=>i.jsx(mTe,{clientId:s.id,onBack:a})}),i.jsx(dr,{path:"/client-health",component:H$e}),i.jsx(dr,{path:"/employees",component:PTe}),i.jsx(dr,{path:"/workload",component:iBe}),i.jsx(dr,{path:"/daily-view",component:lBe}),i.jsx(dr,{path:"/team-monitoring",component:bBe}),i.jsx(dr,{path:"/daily-submissions",component:DBe}),i.jsx(dr,{path:"/assignments",component:TTe}),i.jsx(dr,{path:"/reports",component:t$e}),i.jsx(dr,{path:"/calendar",component:o$e}),i.jsx(dr,{path:"/goals",component:u$e}),i.jsx(dr,{path:"/tasks",component:j$e}),i.jsx(dr,{path:"/feedback",component:SQ}),i.jsx(dr,{path:"/time-off",component:NQ}),i.jsx(dr,{path:"/time-tracking",component:d$e}),i.jsx(dr,{path:"/communications",component:f$e}),i.jsx(dr,{path:"/resources",component:h$e}),i.jsx(dr,{path:"/budget",component:r$e}),i.jsx(dr,{path:"/benchmarks",component:b$e}),i.jsx(dr,{path:"/metrics",component:_$e}),i.jsx(dr,{path:"/approvals",component:v$e}),i.jsx(dr,{path:"/templates",component:x$e}),i.jsx(dr,{path:"/customize",component:y$e}),i.jsx(dr,{path:"/import",component:w$e}),i.jsx(dr,{path:"/bulk",component:n$e}),i.jsx(dr,{path:"/portal",component:a$e}),i.jsx(dr,{path:"/credentials",component:jQ}),i.jsx(dr,{path:"/logs",component:i$e}),i.jsx(dr,{path:"/settings",component:F$e}),i.jsx(dr,{children:i.jsx(i$,{to:"/dashboard"})})]})}function FBe(){return i.jsxs(s$,{children:[i.jsx(dr,{path:"/",component:IF}),i.jsx(dr,{path:"/dashboard",component:IF}),i.jsx(dr,{path:"/reports",component:_Be}),i.jsx(dr,{path:"/tasks",component:ABe}),i.jsx(dr,{path:"/team-progress",component:TBe}),i.jsx(dr,{path:"/feedback",component:SQ}),i.jsx(dr,{path:"/time-off",component:NQ}),i.jsx(dr,{path:"/credentials",component:jQ}),i.jsx(dr,{children:i.jsx(i$,{to:"/dashboard"})})]})}function $Be(){const{profile:e,signOut:t}=Ln(),[,r]=hc(),n=e!=null&&e.full_name?e.full_name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2):"U";return i.jsxs(G0e,{children:[i.jsx(K0e,{asChild:!0,children:i.jsx("button",{"data-testid":"button-user-menu",className:"flex items-center gap-2 rounded-md p-1 hover-elevate",children:i.jsx(ws,{className:"h-8 w-8",children:i.jsx(bs,{className:"text-xs bg-primary/10 text-primary",children:n})})})}),i.jsxs(kW,{align:"end",className:"w-48",children:[i.jsxs("div",{className:"px-2 py-1.5",children:[i.jsx("p",{className:"text-sm font-medium","data-testid":"text-user-name",children:(e==null?void 0:e.full_name)||"User"}),i.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-user-role",children:(e==null?void 0:e.role)||"employee"})]}),i.jsx(Lk,{}),i.jsxs(Dk,{onClick:()=>r("/settings"),children:[i.jsx(bC,{className:"mr-2 h-4 w-4"}),"Settings"]}),i.jsx(Lk,{}),i.jsxs(Dk,{onClick:t,children:[i.jsx(yC,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})}function BBe(){const{user:e,profile:t,loading:r,isPortalUser:n}=Ln(),[a]=hc();if(a==="/forgot-password")return i.jsx(whe,{});if(a==="/reset-password")return i.jsx(bhe,{});if(r)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-3",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})});if(!e)return i.jsx(yhe,{});if(n)return i.jsx(Kme,{});if(!t)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Setting up your workspace..."}),i.jsx(be,{variant:"outline",size:"sm","data-testid":"button-retry-profile",onClick:()=>window.location.reload(),children:"Taking too long? Refresh"})]})});const s=t.role==="admin",o={"--sidebar-width":"15rem","--sidebar-width-icon":"3rem"};return i.jsx(hU,{style:o,children:i.jsxs("div",{className:"flex h-screen w-full",children:[i.jsx(xfe,{isAdmin:s}),i.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[i.jsxs("header",{className:"sticky top-0 z-50 flex items-center justify-between gap-4 border-b bg-card/80 backdrop-blur-sm px-6 h-14",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pU,{"data-testid":"button-sidebar-toggle"}),i.jsx(LBe,{})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Jme,{}),i.jsx(Yme,{}),i.jsx($Be,{})]})]}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsx("div",{className:"px-6 py-6 lg:px-8",children:s?i.jsx(MBe,{}):i.jsx(FBe,{})})})]})]})})}function UBe(){return i.jsx(vie,{children:i.jsx(Hse,{children:i.jsx(gie,{children:i.jsx(Wse,{children:i.jsxs(uU,{children:[i.jsx(Zme,{}),i.jsx(BBe,{}),i.jsx(che,{})]})})})})})}G9(document.getElementById("root")).render(i.jsx(p.StrictMode,{children:i.jsx(UBe,{})}));export{Qr as _,WBe as c,fc as g};
